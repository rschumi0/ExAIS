import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo84937 = tf.keras.layers.Input(shape=([2, 1, 2]))

Glo84937 = keras.layers.GlobalMaxPool2D(name = 'Glo84937', )(in0Glo84937)
Res11454 = keras.layers.Reshape((2, 1), name = 'Res11454', )(Glo84937)
Up_84014 = keras.layers.UpSampling1D(size=(1), name = 'Up_84014', )(Res11454)
Res95805 = keras.layers.Reshape((2, 1, 1), name = 'Res95805', )(Up_84014)
PRe87442 = keras.layers.PReLU(name = 'PRe87442', )(Res95805)
model = tf.keras.models.Model(inputs=[in0Glo84937], outputs=PRe87442)
w = model.get_layer('PRe87442').get_weights() 
w[0] = np.array([[[0.6852]], [[0.1591]]])
model.get_layer('PRe87442').set_weights(w) 
in0Glo84937 = tf.constant([[[[1.6367, 1.0582]], [[1.2875, 1.6075]]]])
print (np.array2string(model.predict([in0Glo84937],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='PRe87442.png')

LGlo84937 = global_max_pool2D_layer([[[[1.6367, 1.0582]], [[1.2875, 1.6075]]]], Glo84937), 
LRes11454 = reshape_layer(Glo84937, [2, 1], Res11454), 
LUp_84014 = up_sampling1D_layer(Res11454, 1, Up_84014), 
LRes95805 = reshape_layer(Up_84014, [2, 1, 1], Res95805), 
LPRe87442 = prelu_layer(Res95805, [[[0.6852]], [[0.1591]]], PRe87442), 
exec_layers([LGlo84937,LRes11454,LUp_84014,LRes95805,LPRe87442],["Glo84937","Res11454","Up_84014","Res95805","PRe87442"],PRe87442,"PRe87442")

Actual (Unparsed): [[[[1.6367000]], [[1.6075000]]]]

Expected (Unparsed): [[[[1.6367]],[[1.6075]]]]

Actual:   [[[[1.6367]], [[1.6075]]]]

Expected: [[[[1.6367]], [[1.6075]]]]