import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub79119 = tf.keras.layers.Input(shape=([2, 2, 2]))
in1Sub79119 = tf.keras.layers.Input(shape=([2, 2, 2]))

Sub79119 = keras.layers.Subtract(name = 'Sub79119', )([in0Sub79119,in1Sub79119])
Res26301 = keras.layers.Reshape((2, 2, 2, 1), name = 'Res26301', )(Sub79119)
Glo85523 = keras.layers.GlobalAveragePooling3D(name = 'Glo85523', )(Res26301)
Lay21142 = keras.layers.LayerNormalization(axis=1, epsilon=2.279846452095052, name = 'Lay21142', )(Glo85523)
model = tf.keras.models.Model(inputs=[in0Sub79119,in1Sub79119], outputs=Lay21142)
in0Sub79119 = tf.constant([[[[0.2682, 0.5677], [0.4402, 0.4998]], [[0.3112, 0.4769], [0.9387, 0.9741]]]])
in1Sub79119 = tf.constant([[[[0.0435, 0.0017], [0.2433, 0.9266]], [[0.0579, 0.1592], [0.2116, 0.7224]]]])
print (np.array2string(model.predict([in0Sub79119,in1Sub79119],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Lay21142.png')

LSub79119 = subtract_layer([[[[0.2682, 0.5677], [0.4402, 0.4998]], [[0.3112, 0.4769], [0.9387, 0.9741]]]], [[[[0.0435, 0.0017], [0.2433, 0.9266]], [[0.0579, 0.1592], [0.2116, 0.7224]]]], Sub79119), 
LRes26301 = reshape_layer(Sub79119, [2, 2, 2, 1], Res26301), 
LGlo85523 = global_average_pooling3D_layer(Res26301, Glo85523), 
LLay21142 = layer_normalization_layer(Glo85523, 1, 2.279846452095052, Lay21142), 
exec_layers([LSub79119,LRes26301,LGlo85523,LLay21142],["Sub79119","Res26301","Glo85523","Lay21142"],Lay21142,"Lay21142")

Actual (Unparsed): [[0.0000000]]

Expected (Unparsed): [[0.0]]

Actual:   [[0]]

Expected: [[0]]