import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot26490 = tf.keras.layers.Input(shape=([3, 3]))
in1Dot26490 = tf.keras.layers.Input(shape=([3, 3]))

Dot26490 = keras.layers.Dot(axes=(1, 1), name = 'Dot26490', )([in0Dot26490,in1Dot26490])
Per87790 = keras.layers.Permute((2,1), name = 'Per87790',)(Dot26490)
model = tf.keras.models.Model(inputs=[in0Dot26490,in1Dot26490], outputs=Per87790)
in0Dot26490 = tf.constant([[[0.2935, 0.9392, 0.065], [0.8208, 0.4259, 0.9381], [0.2289, 0.387, 0.3144]]])
in1Dot26490 = tf.constant([[[0.9807, 0.2263, 0.9597], [0.3731, 0.4627, 0.6412], [0.6712, 0.3466, 0.5724]]])
print (np.array2string(model.predict([in0Dot26490,in1Dot26490],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Per87790.png')

LDot26490 = dot_layer([[[0.2935, 0.9392, 0.065], [0.8208, 0.4259, 0.9381], [0.2289, 0.387, 0.3144]]], [[[0.9807, 0.2263, 0.9597], [0.3731, 0.4627, 0.6412], [0.6712, 0.3466, 0.5724]]], 1, 1, Dot26490), 
LPer87790 = permute_layer(Dot26490, 2,1, Per87790), 
exec_layers([LDot26490,LPer87790],["Dot26490","Per87790"],Per87790,"Per87790")

Actual (Unparsed): [[[0.7477136, 1.3397311, 0.6247759], [0.5255400, 0.5437391, 0.5577394], [0.9389913, 1.3959561, 0.8438528]]]

Expected (Unparsed): [[[0.74771361,1.33973113,0.62477589],[0.52553995,0.54373909,0.55773941],[0.9389912699999999,1.3959561200000001,0.8438527800000001]]]

Actual:   [[[0.7478, 1.3398, 0.6248], [0.5256, 0.5438, 0.5578], [0.939, 1.396, 0.8439]]]

Expected: [[[0.7478, 1.3398, 0.6248], [0.5256, 0.5438, 0.5578], [0.939, 1.396, 0.8439]]]