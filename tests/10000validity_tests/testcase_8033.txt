import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add21495 = tf.keras.layers.Input(shape=([2, 2, 1, 2]))
in1Add21495 = tf.keras.layers.Input(shape=([2, 2, 1, 2]))
in0ELU31369 = tf.keras.layers.Input(shape=([1, 2]))
in0Con93239 = tf.keras.layers.Input(shape=([2, 2]))
in0Mul32493 = tf.keras.layers.Input(shape=([1, 1, 1]))
in1Mul32493 = tf.keras.layers.Input(shape=([1, 1, 1]))

Add21495 = keras.layers.Add(name = 'Add21495', )([in0Add21495,in1Add21495])
Res34418 = keras.layers.Reshape((2, 2, 2), name = 'Res34418', )(Add21495)
Res83454 = keras.layers.Reshape((2, 4), name = 'Res83454', )(Res34418)
ELU31369 = keras.layers.ELU(alpha=8.748170742719644, name = 'ELU31369', input_shape=(1, 2))(in0ELU31369)
Zer92554 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer92554', )(ELU31369)
Con93239 = keras.layers.Concatenate(axis=2, name = 'Con93239', )([Zer92554,in0Con93239])
Ave280 = keras.layers.Average(name = 'Ave280', )([Res83454,Con93239])
Res65507 = keras.layers.Reshape((2, 4, 1), name = 'Res65507', )(Ave280)
Mul32493 = keras.layers.Multiply(name = 'Mul32493', )([in0Mul32493,in1Mul32493])
Zer1663 = keras.layers.ZeroPadding2D(padding=((1, 0), (3, 0)), name = 'Zer1663', )(Mul32493)
Sub71613 = keras.layers.Subtract(name = 'Sub71613', )([Res65507,Zer1663])
model = tf.keras.models.Model(inputs=[in0Add21495,in1Add21495,in0ELU31369,in0Con93239,in0Mul32493,in1Mul32493], outputs=Sub71613)
in0Add21495 = tf.constant([[[[[0.3216, 0.3183]], [[0.679, 0.4457]]], [[[0.1906, 0.7124]], [[0.2782, 0.7204]]]]])
in1Add21495 = tf.constant([[[[[0.0623, 0.7271]], [[0.2028, 0.8319]]], [[[0.802, 0.9964]], [[0.7734, 0.5704]]]]])
in0ELU31369 = tf.constant([[[0.5583, 0.7622]]])
in0Con93239 = tf.constant([[[0.2419, 0.3654], [0.4823, 0.4549]]])
in0Mul32493 = tf.constant([[[[0.2189]]]])
in1Mul32493 = tf.constant([[[[0.5358]]]])
print (np.array2string(model.predict([in0Add21495,in1Add21495,in0ELU31369,in0Con93239,in0Mul32493,in1Mul32493],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sub71613.png')

LAdd21495 = add_layer([[[[[[0.3216, 0.3183]], [[0.679, 0.4457]]], [[[0.1906, 0.7124]], [[0.2782, 0.7204]]]]], [[[[[0.0623, 0.7271]], [[0.2028, 0.8319]]], [[[0.802, 0.9964]], [[0.7734, 0.5704]]]]]], Add21495), 
LRes34418 = reshape_layer(Add21495, [2, 2, 2], Res34418), 
LRes83454 = reshape_layer(Res34418, [2, 4], Res83454), 
LELU31369 = elu_layer([[[0.5583, 0.7622]]], 8.748170742719644, ELU31369), 
LZer92554 = zero_padding1D_layer(ELU31369, 1, 0, Zer92554), 
LCon93239 = concatenate_layer([Zer92554,[[[0.2419, 0.3654], [0.4823, 0.4549]]]], 2, Con93239), 
LAve280 = average_layer([Res83454,Con93239], Ave280), 
LRes65507 = reshape_layer(Ave280, [2, 4, 1], Res65507), 
LMul32493 = multiply_layer([[[[[0.2189]]]], [[[[0.5358]]]]], Mul32493), 
LZer1663 = zero_padding2D_layer(Mul32493, 1, 0, 3, 0, Zer1663), 
LSub71613 = subtract_layer(Res65507,Zer1663, Sub71613), 
exec_layers([LAdd21495,LRes34418,LRes83454,LELU31369,LZer92554,LCon93239,LAve280,LRes65507,LMul32493,LZer1663,LSub71613],["Add21495","Res34418","Res83454","ELU31369","Zer92554","Con93239","Ave280","Res65507","Mul32493","Zer1663","Sub71613"],Sub71613,"Sub71613")

Actual (Unparsed): [[[[0.1919500], [0.5227000], [0.5618500], [0.8215000]], [[0.7754500], [1.2355000], [0.7669500], [0.7555634]]]]

Expected (Unparsed): [[[[0.19195],[0.5226999999999999],[0.56185],[0.8215]],[[0.77545],[1.2355],[0.76695],[0.75556338]]]]

Actual:   [[[[0.192], [0.5227], [0.5619], [0.8215]], [[0.7755], [1.2355], [0.767], [0.7556]]]]

Expected: [[[[0.192], [0.5227], [0.5619], [0.8215]], [[0.7755], [1.2355], [0.767], [0.7556]]]]