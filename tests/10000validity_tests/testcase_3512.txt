import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min48337 = tf.keras.layers.Input(shape=([2, 2, 1, 1]))
in1Min48337 = tf.keras.layers.Input(shape=([2, 2, 1, 1]))

Min48337 = keras.layers.Minimum(name = 'Min48337', )([in0Min48337,in1Min48337])
Res97422 = keras.layers.Reshape((2, 2, 1), name = 'Res97422', )(Min48337)
Res92450 = keras.layers.Reshape((2, 2), name = 'Res92450', )(Res97422)
Per97384 = keras.layers.Permute((1,2), name = 'Per97384',)(Res92450)
model = tf.keras.models.Model(inputs=[in0Min48337,in1Min48337], outputs=Per97384)
in0Min48337 = tf.constant([[[[[0.0249]], [[0.4375]]], [[[0.0783]], [[0.9448]]]]])
in1Min48337 = tf.constant([[[[[0.502]], [[0.2595]]], [[[0.0554]], [[0.0503]]]]])
print (np.array2string(model.predict([in0Min48337,in1Min48337],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Per97384.png')

LMin48337 = minimum_layer([[[[[[0.0249]], [[0.4375]]], [[[0.0783]], [[0.9448]]]]], [[[[[0.502]], [[0.2595]]], [[[0.0554]], [[0.0503]]]]]], Min48337), 
LRes97422 = reshape_layer(Min48337, [2, 2, 1], Res97422), 
LRes92450 = reshape_layer(Res97422, [2, 2], Res92450), 
LPer97384 = permute_layer(Res92450, 1,2, Per97384), 
exec_layers([LMin48337,LRes97422,LRes92450,LPer97384],["Min48337","Res97422","Res92450","Per97384"],Per97384,"Per97384")

Actual (Unparsed): [[[0.0249000, 0.2595000], [0.0554000, 0.0503000]]]

Expected (Unparsed): [[[0.0249,0.2595],[0.0554,0.0503]]]

Actual:   [[[0.0249, 0.2595], [0.0554, 0.0503]]]

Expected: [[[0.0249, 0.2595], [0.0554, 0.0503]]]