import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave92255 = tf.keras.layers.Input(shape=([1, 2, 2]))

Ave92255 = keras.layers.AveragePooling2D(pool_size=(1, 2), name = 'Ave92255', )(in0Ave92255)
Res8588 = keras.layers.Reshape((1, 1, 2, 1), name = 'Res8588', )(Ave92255)
Con18913 = keras.layers.Conv3D(4, (1, 1, 1),strides=(5, 1, 2), padding='valid', dilation_rate=(1, 1, 1), name = 'Con18913', )(Res8588)
model = tf.keras.models.Model(inputs=[in0Ave92255], outputs=Con18913)
w = model.get_layer('Con18913').get_weights() 
w[0] = np.array([[[[[0.8726, 0.8435, 0.9618, 0.7283]]]]])
w[1] = np.array([0, 0, 0, 0])
model.get_layer('Con18913').set_weights(w) 
in0Ave92255 = tf.constant([[[[1.3151, 1.6029], [1.4746, 1.967]]]])
print (np.array2string(model.predict([in0Ave92255],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Con18913.png')

LAve92255 = average_pooling2D_layer([[[[1.3151, 1.6029], [1.4746, 1.967]]]], 1, 2, Ave92255), 
LRes8588 = reshape_layer(Ave92255, [1, 1, 2, 1], Res8588), 
LCon18913 = conv3D_layer(Res8588, 1, 1, 1,[[[[[0.8726, 0.8435, 0.9618, 0.7283]]]]],[0, 0, 0, 0], 5, 1, 2, false, 1, 1, 1, Con18913), 
exec_layers([LAve92255,LRes8588,LCon18913],["Ave92255","Res8588","Con18913"],Con18913,"Con18913")

Actual (Unparsed): [[[[[1.2171461, 1.1765559, 1.3415667, 1.0158692]]]]]

Expected (Unparsed): [[[[[1.21714611,1.1765559749999999,1.3415667299999998,1.015869255]]]]]

Actual:   [[[[[1.2172, 1.1766, 1.3416, 1.0159]]]]]

Expected: [[[[[1.2172, 1.1766, 1.3416, 1.0159]]]]]