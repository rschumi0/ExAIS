import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add31609 = tf.keras.layers.Input(shape=([2, 2, 1, 1]))
in1Add31609 = tf.keras.layers.Input(shape=([2, 2, 1, 1]))

Add31609 = keras.layers.Add(name = 'Add31609', )([in0Add31609,in1Add31609])
Res16944 = keras.layers.Reshape((2, 2, 1), name = 'Res16944', )(Add31609)
Res10377 = keras.layers.Reshape((2, 2), name = 'Res10377', )(Res16944)
Max24003 = keras.layers.MaxPool1D(pool_size=(1), strides=(1), padding='valid', name = 'Max24003', )(Res10377)
model = tf.keras.models.Model(inputs=[in0Add31609,in1Add31609], outputs=Max24003)
in0Add31609 = tf.constant([[[[[0.9998]], [[0.2511]]], [[[0.7819]], [[0.4845]]]]])
in1Add31609 = tf.constant([[[[[0.8914]], [[0.4905]]], [[[0.1675]], [[0.1476]]]]])
print (np.array2string(model.predict([in0Add31609,in1Add31609],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max24003.png')

LAdd31609 = add_layer([[[[[[0.9998]], [[0.2511]]], [[[0.7819]], [[0.4845]]]]], [[[[[0.8914]], [[0.4905]]], [[[0.1675]], [[0.1476]]]]]], Add31609), 
LRes16944 = reshape_layer(Add31609, [2, 2, 1], Res16944), 
LRes10377 = reshape_layer(Res16944, [2, 2], Res10377), 
LMax24003 = max_pool1D_layer(Res10377, 1, 1, false, Max24003), 
exec_layers([LAdd31609,LRes16944,LRes10377,LMax24003],["Add31609","Res16944","Res10377","Max24003"],Max24003,"Max24003")

Actual (Unparsed): [[[1.8912000, 0.7416000], [0.9494000, 0.6321000]]]

Expected (Unparsed): [[[1.8912,0.7416],[0.9494,0.6321]]]

Actual:   [[[1.8912, 0.7416], [0.9494, 0.6321]]]

Expected: [[[1.8912, 0.7416], [0.9494, 0.6321]]]