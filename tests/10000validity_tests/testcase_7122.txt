import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo13685 = tf.keras.layers.Input(shape=([2, 1, 2, 1]))

Glo13685 = keras.layers.GlobalAveragePooling3D(name = 'Glo13685', )(in0Glo13685)
Sof92097 = keras.layers.Softmax(axis=1, name = 'Sof92097', )(Glo13685)
Res64324 = keras.layers.Reshape((1, 1), name = 'Res64324', )(Sof92097)
Res98134 = keras.layers.Reshape((1, 1, 1), name = 'Res98134', )(Res64324)
Res16973 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res16973', )(Res98134)
Glo42513 = keras.layers.GlobalMaxPool3D(name = 'Glo42513', )(Res16973)
model = tf.keras.models.Model(inputs=[in0Glo13685], outputs=Glo42513)
in0Glo13685 = tf.constant([[[[[1.041], [1.6234]]], [[[1.9486], [1.8881]]]]])
print (np.array2string(model.predict([in0Glo13685],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo42513.png')

LGlo13685 = global_average_pooling3D_layer([[[[[1.041], [1.6234]]], [[[1.9486], [1.8881]]]]], Glo13685), 
LSof92097 = softmax_layer(Glo13685, 1, Sof92097), 
LRes64324 = reshape_layer(Sof92097, [1, 1], Res64324), 
LRes98134 = reshape_layer(Res64324, [1, 1, 1], Res98134), 
LRes16973 = reshape_layer(Res98134, [1, 1, 1, 1], Res16973), 
LGlo42513 = global_max_pool3D_layer(Res16973, Glo42513), 
exec_layers([LGlo13685,LSof92097,LRes64324,LRes98134,LRes16973,LGlo42513],["Glo13685","Sof92097","Res64324","Res98134","Res16973","Glo42513"],Glo42513,"Glo42513")

Actual (Unparsed): [[1.0000000]]

Expected (Unparsed): [[1.0]]

Actual:   [[1]]

Expected: [[1]]