import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add60714 = tf.keras.layers.Input(shape=([1, 1, 1]))
in1Add60714 = tf.keras.layers.Input(shape=([1, 1, 1]))
in0Dot87480 = tf.keras.layers.Input(shape=([2]))
in1Dot87480 = tf.keras.layers.Input(shape=([2]))

Add60714 = keras.layers.Add(name = 'Add60714', )([in0Add60714,in1Add60714])
ReL99836 = keras.layers.ReLU(max_value=0.039610790442557615, negative_slope=8.411528524376386, threshold=0.5097226274994437, name = 'ReL99836', )(Add60714)
Res94924 = keras.layers.Reshape((1, 1), name = 'Res94924', )(ReL99836)
Fla29775 = keras.layers.Flatten(name = 'Fla29775', )(Res94924)
Dot87480 = keras.layers.Dot(axes=(1, 1), name = 'Dot87480', )([in0Dot87480,in1Dot87480])
Min265 = keras.layers.Minimum(name = 'Min265', )([Fla29775,Dot87480])
Res36286 = keras.layers.Reshape((1, 1), name = 'Res36286', )(Min265)
Res20540 = keras.layers.Reshape((1, 1, 1), name = 'Res20540', )(Res36286)
Res9603 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res9603', )(Res20540)
Glo17394 = keras.layers.GlobalMaxPool3D(name = 'Glo17394', )(Res9603)
model = tf.keras.models.Model(inputs=[in0Add60714,in1Add60714,in0Dot87480,in1Dot87480], outputs=Glo17394)
in0Add60714 = tf.constant([[[[0.5385]]]])
in1Add60714 = tf.constant([[[[0.1205]]]])
in0Dot87480 = tf.constant([[0.2478, 0.4226]])
in1Dot87480 = tf.constant([[0.2359, 0.6982]])
print (np.array2string(model.predict([in0Add60714,in1Add60714,in0Dot87480,in1Dot87480],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo17394.png')

LAdd60714 = add_layer([[[[[0.5385]]]], [[[[0.1205]]]]], Add60714), 
LReL99836 = relu_layer(Add60714, 0.039610790442557615, 8.411528524376386, 0.5097226274994437, ReL99836), 
LRes94924 = reshape_layer(ReL99836, [1, 1], Res94924), 
LFla29775 = flatten_layer(Res94924, Fla29775), 
LDot87480 = dot_layer([[0.2478, 0.4226]], [[0.2359, 0.6982]], 1, 1, Dot87480), 
LMin265 = minimum_layer([Fla29775,Dot87480], Min265), 
LRes36286 = reshape_layer(Min265, [1, 1], Res36286), 
LRes20540 = reshape_layer(Res36286, [1, 1, 1], Res20540), 
LRes9603 = reshape_layer(Res20540, [1, 1, 1, 1], Res9603), 
LGlo17394 = global_max_pool3D_layer(Res9603, Glo17394), 
exec_layers([LAdd60714,LReL99836,LRes94924,LFla29775,LDot87480,LMin265,LRes36286,LRes20540,LRes9603,LGlo17394],["Add60714","ReL99836","Res94924","Fla29775","Dot87480","Min265","Res36286","Res20540","Res9603","Glo17394"],Glo17394,"Glo17394")

Actual (Unparsed): [[0.0396108]]

Expected (Unparsed): [[0.039610790442557615]]

Actual:   [[0.0397]]

Expected: [[0.0397]]