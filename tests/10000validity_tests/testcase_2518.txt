import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul69911 = tf.keras.layers.Input(shape=([2, 1, 1]))
in1Mul69911 = tf.keras.layers.Input(shape=([2, 1, 1]))
in0Con47343 = tf.keras.layers.Input(shape=([1, 1]))
in0Up_6357 = tf.keras.layers.Input(shape=([1, 1]))

Mul69911 = keras.layers.Multiply(name = 'Mul69911', )([in0Mul69911,in1Mul69911])
Res10187 = keras.layers.Reshape((2, 1, 1, 1), name = 'Res10187', )(Mul69911)
Cro1073 = keras.layers.Cropping3D(cropping=((1, 0), (0, 0), (0, 0)), name = 'Cro1073', )(Res10187)
Res32940 = keras.layers.Reshape((1, 1, 1), name = 'Res32940', )(Cro1073)
Res21296 = keras.layers.Reshape((1, 1), name = 'Res21296', )(Res32940)
Con47343 = keras.layers.Concatenate(axis=2, name = 'Con47343', )([Res21296,in0Con47343])
Up_6357 = keras.layers.UpSampling1D(size=(2), name = 'Up_6357', )(in0Up_6357)
Lea62936 = keras.layers.LeakyReLU(alpha=8.1666633036697, name = 'Lea62936', )(Up_6357)
Per56486 = keras.layers.Permute((2,1), name = 'Per56486',)(Lea62936)
Mul63696 = keras.layers.Multiply(name = 'Mul63696', )([Con47343,Per56486])
model = tf.keras.models.Model(inputs=[in0Mul69911,in1Mul69911,in0Con47343,in0Up_6357], outputs=Mul63696)
in0Mul69911 = tf.constant([[[[0.9807]], [[0.2368]]]])
in1Mul69911 = tf.constant([[[[0.0295]], [[0.219]]]])
in0Con47343 = tf.constant([[[0.3644]]])
in0Up_6357 = tf.constant([[[1.4936]]])
print (np.array2string(model.predict([in0Mul69911,in1Mul69911,in0Con47343,in0Up_6357],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Mul63696.png')

LMul69911 = multiply_layer([[[[[0.9807]], [[0.2368]]]], [[[[0.0295]], [[0.219]]]]], Mul69911), 
LRes10187 = reshape_layer(Mul69911, [2, 1, 1, 1], Res10187), 
LCro1073 = cropping3D_layer(Res10187, 1, 0, 0, 0, 0, 0, Cro1073), 
LRes32940 = reshape_layer(Cro1073, [1, 1, 1], Res32940), 
LRes21296 = reshape_layer(Res32940, [1, 1], Res21296), 
LCon47343 = concatenate_layer([Res21296,[[[0.3644]]]], 2, Con47343), 
LUp_6357 = up_sampling1D_layer([[[1.4936]]], 2, Up_6357), 
LLea62936 = leaky_relu_layer(Up_6357, 8.1666633036697, Lea62936), 
LPer56486 = permute_layer(Lea62936, 2,1, Per56486), 
LMul63696 = multiply_layer([Con47343,Per56486], Mul63696), 
exec_layers([LMul69911,LRes10187,LCro1073,LRes32940,LRes21296,LCon47343,LUp_6357,LLea62936,LPer56486,LMul63696],["Mul69911","Res10187","Cro1073","Res32940","Res21296","Con47343","Up_6357","Lea62936","Per56486","Mul63696"],Mul63696,"Mul63696")

Actual (Unparsed): [[[0.0774569, 0.5442678]]]

Expected (Unparsed): [[[0.07745690112,0.5442678400000001]]]

Actual:   [[[0.0775, 0.5443]]]

Expected: [[[0.0775, 0.5443]]]