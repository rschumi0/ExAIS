import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo13151 = tf.keras.layers.Input(shape=([1, 1, 2, 2]))

Glo13151 = keras.layers.GlobalAveragePooling3D(name = 'Glo13151', )(in0Glo13151)
Res22268 = keras.layers.Reshape((2, 1), name = 'Res22268', )(Glo13151)
Glo92747 = keras.layers.GlobalAveragePooling1D(name = 'Glo92747', )(Res22268)
Res22322 = keras.layers.Reshape((1, 1), name = 'Res22322', )(Glo92747)
Res54459 = keras.layers.Reshape((1, 1, 1), name = 'Res54459', )(Res22322)
Res15759 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res15759', )(Res54459)
Glo78832 = keras.layers.GlobalMaxPool3D(name = 'Glo78832', )(Res15759)
Res83480 = keras.layers.Reshape((1, 1), name = 'Res83480', )(Glo78832)
Glo78920 = keras.layers.GlobalMaxPool1D(name = 'Glo78920', )(Res83480)
model = tf.keras.models.Model(inputs=[in0Glo13151], outputs=Glo78920)
in0Glo13151 = tf.constant([[[[[1.5378, 1.5886], [1.9274, 1.8457]]]]])
print (np.array2string(model.predict([in0Glo13151],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo78920.png')

LGlo13151 = global_average_pooling3D_layer([[[[[1.5378, 1.5886], [1.9274, 1.8457]]]]], Glo13151), 
LRes22268 = reshape_layer(Glo13151, [2, 1], Res22268), 
LGlo92747 = global_average_pooling1D_layer(Res22268, Glo92747), 
LRes22322 = reshape_layer(Glo92747, [1, 1], Res22322), 
LRes54459 = reshape_layer(Res22322, [1, 1, 1], Res54459), 
LRes15759 = reshape_layer(Res54459, [1, 1, 1, 1], Res15759), 
LGlo78832 = global_max_pool3D_layer(Res15759, Glo78832), 
LRes83480 = reshape_layer(Glo78832, [1, 1], Res83480), 
LGlo78920 = global_max_pool1D_layer(Res83480, Glo78920), 
exec_layers([LGlo13151,LRes22268,LGlo92747,LRes22322,LRes54459,LRes15759,LGlo78832,LRes83480,LGlo78920],["Glo13151","Res22268","Glo92747","Res22322","Res54459","Res15759","Glo78832","Res83480","Glo78920"],Glo78920,"Glo78920")

Actual (Unparsed): [[1.7248750]]

Expected (Unparsed): [[1.724875]]

Actual:   [[1.7249]]

Expected: [[1.7249]]