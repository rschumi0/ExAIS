import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul57910 = tf.keras.layers.Input(shape=([1, 2, 2, 1]))
in1Mul57910 = tf.keras.layers.Input(shape=([1, 2, 2, 1]))

Mul57910 = keras.layers.Multiply(name = 'Mul57910', )([in0Mul57910,in1Mul57910])
Sof46909 = keras.layers.Softmax(axis=1, name = 'Sof46909', )(Mul57910)
Con27530 = keras.layers.Conv3D(4, (1, 1, 1),strides=(1, 1, 1), padding='same', dilation_rate=(1, 1, 1), name = 'Con27530', )(Sof46909)
Cro69737 = keras.layers.Cropping3D(cropping=((0, 0), (1, 0), (0, 0)), name = 'Cro69737', )(Con27530)
model = tf.keras.models.Model(inputs=[in0Mul57910,in1Mul57910], outputs=Cro69737)
w = model.get_layer('Con27530').get_weights() 
w[0] = np.array([[[[[0.0596, 0.0308, 0.5619, 0.9663]]]]])
w[1] = np.array([0, 0, 0, 0])
model.get_layer('Con27530').set_weights(w) 
in0Mul57910 = tf.constant([[[[[0.0327], [0.0954]], [[0.3093], [0.5818]]]]])
in1Mul57910 = tf.constant([[[[[0.5489], [0.2174]], [[0.291], [0.0093]]]]])
print (np.array2string(model.predict([in0Mul57910,in1Mul57910],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Cro69737.png')

LMul57910 = multiply_layer([[[[[[0.0327], [0.0954]], [[0.3093], [0.5818]]]]], [[[[[0.5489], [0.2174]], [[0.291], [0.0093]]]]]], Mul57910), 
LSof46909 = softmax_layer(Mul57910, 1, Sof46909), 
LCon27530 = conv3D_layer(Sof46909, 1, 1, 1,[[[[[0.0596, 0.0308, 0.5619, 0.9663]]]]],[0, 0, 0, 0], 1, 1, 1, true, 1, 1, 1, Con27530), 
LCro69737 = cropping3D_layer(Con27530, 0, 0, 1, 0, 0, 0, Cro69737), 
exec_layers([LMul57910,LSof46909,LCon27530,LCro69737],["Mul57910","Sof46909","Con27530","Cro69737"],Cro69737,"Cro69737")

Actual (Unparsed): [[[[[0.0596000, 0.0308000, 0.5619000, 0.9663000], [0.0596000, 0.0308000, 0.5619000, 0.9663000]]]]]

Expected (Unparsed): [[[[[0.0596,0.0308,0.5619,0.9663],[0.0596,0.0308,0.5619,0.9663]]]]]

Actual:   [[[[[0.0596, 0.0308, 0.5619, 0.9663], [0.0596, 0.0308, 0.5619, 0.9663]]]]]

Expected: [[[[[0.0596, 0.0308, 0.5619, 0.9663], [0.0596, 0.0308, 0.5619, 0.9663]]]]]