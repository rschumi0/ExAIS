import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave19658 = tf.keras.layers.Input(shape=([1, 1]))
in0Glo91679 = tf.keras.layers.Input(shape=([2, 1]))

Ave19658 = keras.layers.AveragePooling1D(pool_size=(1), name = 'Ave19658', )(in0Ave19658)
Glo12976 = keras.layers.GlobalAveragePooling1D(name = 'Glo12976', )(Ave19658)
Glo91679 = keras.layers.GlobalAveragePooling1D(name = 'Glo91679', )(in0Glo91679)
Max19709 = keras.layers.Maximum(name = 'Max19709', )([Glo12976,Glo91679])
Res6317 = keras.layers.Reshape((1, 1), name = 'Res6317', )(Max19709)
Res22773 = keras.layers.Reshape((1, 1, 1), name = 'Res22773', )(Res6317)
Res70820 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res70820', )(Res22773)
Glo66478 = keras.layers.GlobalMaxPool3D(name = 'Glo66478', )(Res70820)
model = tf.keras.models.Model(inputs=[in0Ave19658,in0Glo91679], outputs=Glo66478)
in0Ave19658 = tf.constant([[[1.2004]]])
in0Glo91679 = tf.constant([[[1.8104], [1.1746]]])
print (np.array2string(model.predict([in0Ave19658,in0Glo91679],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo66478.png')

LAve19658 = average_pooling1D_layer([[[1.2004]]], 1, Ave19658), 
LGlo12976 = global_average_pooling1D_layer(Ave19658, Glo12976), 
LGlo91679 = global_average_pooling1D_layer([[[1.8104], [1.1746]]], Glo91679), 
LMax19709 = maximum_layer([Glo12976,Glo91679], Max19709), 
LRes6317 = reshape_layer(Max19709, [1, 1], Res6317), 
LRes22773 = reshape_layer(Res6317, [1, 1, 1], Res22773), 
LRes70820 = reshape_layer(Res22773, [1, 1, 1, 1], Res70820), 
LGlo66478 = global_max_pool3D_layer(Res70820, Glo66478), 
exec_layers([LAve19658,LGlo12976,LGlo91679,LMax19709,LRes6317,LRes22773,LRes70820,LGlo66478],["Ave19658","Glo12976","Glo91679","Max19709","Res6317","Res22773","Res70820","Glo66478"],Glo66478,"Glo66478")

Actual (Unparsed): [[1.4925000]]

Expected (Unparsed): [[1.4925000000000002]]

Actual:   [[1.4925]]

Expected: [[1.4926]]