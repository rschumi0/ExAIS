import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Up_80237 = tf.keras.layers.Input(shape=([1, 4]))

Up_80237 = keras.layers.UpSampling1D(size=(1), name = 'Up_80237', )(in0Up_80237)
Res42402 = keras.layers.Reshape((1, 4, 1), name = 'Res42402', )(Up_80237)
Max97986 = keras.layers.MaxPool2D(pool_size=(1, 4), strides=(1, 3), padding='valid', name = 'Max97986', )(Res42402)
Res11428 = keras.layers.Reshape((1, 1), name = 'Res11428', )(Max97986)
Max18617 = keras.layers.MaxPool1D(pool_size=(1), strides=(1), padding='valid', name = 'Max18617', )(Res11428)
model = tf.keras.models.Model(inputs=[in0Up_80237], outputs=Max18617)
in0Up_80237 = tf.constant([[[1.2069, 1.5037, 1.5555, 1.6026]]])
print (np.array2string(model.predict([in0Up_80237],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max18617.png')

LUp_80237 = up_sampling1D_layer([[[1.2069, 1.5037, 1.5555, 1.6026]]], 1, Up_80237), 
LRes42402 = reshape_layer(Up_80237, [1, 4, 1], Res42402), 
LMax97986 = max_pool2D_layer(Res42402, 1, 4, 1, 3, false, Max97986), 
LRes11428 = reshape_layer(Max97986, [1, 1], Res11428), 
LMax18617 = max_pool1D_layer(Res11428, 1, 1, false, Max18617), 
exec_layers([LUp_80237,LRes42402,LMax97986,LRes11428,LMax18617],["Up_80237","Res42402","Max97986","Res11428","Max18617"],Max18617,"Max18617")

Actual (Unparsed): [[[1.6026000]]]

Expected (Unparsed): [[[1.6026]]]

Actual:   [[[1.6026]]]

Expected: [[[1.6026]]]