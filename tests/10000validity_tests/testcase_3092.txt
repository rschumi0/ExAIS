import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add84827 = tf.keras.layers.Input(shape=([1, 1, 2]))
in1Add84827 = tf.keras.layers.Input(shape=([1, 1, 2]))
in0Dot55458 = tf.keras.layers.Input(shape=([2, 3]))
in1Dot55458 = tf.keras.layers.Input(shape=([2, 3]))

Add84827 = keras.layers.Add(name = 'Add84827', )([in0Add84827,in1Add84827])
Res27452 = keras.layers.Reshape((1, 2), name = 'Res27452', )(Add84827)
Zer70890 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer70890', )(Res27452)
Dot55458 = keras.layers.Dot(axes=(2, 2), name = 'Dot55458', )([in0Dot55458,in1Dot55458])
Sub8727 = keras.layers.Subtract(name = 'Sub8727', )([Zer70890,Dot55458])
model = tf.keras.models.Model(inputs=[in0Add84827,in1Add84827,in0Dot55458,in1Dot55458], outputs=Sub8727)
in0Add84827 = tf.constant([[[[0.616, 0.5615]]]])
in1Add84827 = tf.constant([[[[0.7013, 0.7808]]]])
in0Dot55458 = tf.constant([[[0.0622, 0.7482, 0.3707], [0.2815, 0.0737, 0.5871]]])
in1Dot55458 = tf.constant([[[0.6734, 0.9206, 0.1541], [0.3425, 0.3637, 0.548]]])
print (np.array2string(model.predict([in0Add84827,in1Add84827,in0Dot55458,in1Dot55458],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sub8727.png')

LAdd84827 = add_layer([[[[[0.616, 0.5615]]]], [[[[0.7013, 0.7808]]]]], Add84827), 
LRes27452 = reshape_layer(Add84827, [1, 2], Res27452), 
LZer70890 = zero_padding1D_layer(Res27452, 1, 0, Zer70890), 
LDot55458 = dot_layer([[[0.0622, 0.7482, 0.3707], [0.2815, 0.0737, 0.5871]]], [[[0.6734, 0.9206, 0.1541], [0.3425, 0.3637, 0.548]]], 2, 2, Dot55458), 
LSub8727 = subtract_layer(Zer70890,Dot55458, Sub8727), 
exec_layers([LAdd84827,LRes27452,LZer70890,LDot55458,LSub8727],["Add84827","Res27452","Zer70890","Dot55458","Sub8727"],Sub8727,"Sub8727")

Actual (Unparsed): [[[-0.7878033, -0.4965674], [0.9694176, 0.8973507]]]

Expected (Unparsed): [[[-0.7878032699999999,-0.49656743999999997],[0.96941757,0.8973507600000001]]]

Actual:   [[[-0.7878, -0.4965], [0.9695, 0.8974]]]

Expected: [[[-0.7878, -0.4965], [0.9695, 0.8974]]]