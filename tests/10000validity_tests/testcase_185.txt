import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot49076 = tf.keras.layers.Input(shape=([2, 3]))
in1Dot49076 = tf.keras.layers.Input(shape=([2, 3]))

Dot49076 = keras.layers.Dot(axes=(1, 1), name = 'Dot49076', )([in0Dot49076,in1Dot49076])
Con55514 = keras.layers.Conv1D(4, (3),strides=(1), padding='valid', dilation_rate=(1), name = 'Con55514', )(Dot49076)
model = tf.keras.models.Model(inputs=[in0Dot49076,in1Dot49076], outputs=Con55514)
w = model.get_layer('Con55514').get_weights() 
w[0] = np.array([[[0.6713, 0.931, 0.4615, 0.2397], [0.816, 0.6259, 0.0889, 0.4721], [0.2644, 0.4093, 0.0843, 0.3345]], [[0.642, 0.8507, 0.2076, 0.3674], [0.6355, 0.7671, 0.4768, 0.5248], [0.6131, 0.9353, 0.8796, 0.5959]], [[0.4011, 0.1481, 0.6672, 0.0888], [0.2711, 0.0188, 0.584, 0.2434], [0.8883, 0.1337, 0.9029, 0.9991]]])
w[1] = np.array([0, 0, 0, 0])
model.get_layer('Con55514').set_weights(w) 
in0Dot49076 = tf.constant([[[0.5167, 0.4442, 0.1745], [0.8898, 0.6186, 0.3221]]])
in1Dot49076 = tf.constant([[[0.7516, 0.9463, 0.2119], [0.9911, 0.4914, 0.4213]]])
print (np.array2string(model.predict([in0Dot49076,in1Dot49076],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Con55514.png')

LDot49076 = dot_layer([[[0.5167, 0.4442, 0.1745], [0.8898, 0.6186, 0.3221]]], [[[0.7516, 0.9463, 0.2119], [0.9911, 0.4914, 0.4213]]], 1, 1, Dot49076), 
LCon55514 = conv1D_layer(Dot49076, 3,[[[0.6713, 0.931, 0.4615, 0.2397], [0.816, 0.6259, 0.0889, 0.4721], [0.2644, 0.4093, 0.0843, 0.3345]], [[0.642, 0.8507, 0.2076, 0.3674], [0.6355, 0.7671, 0.4768, 0.5248], [0.6131, 0.9353, 0.8796, 0.5959]], [[0.4011, 0.1481, 0.6672, 0.0888], [0.2711, 0.0188, 0.584, 0.2434], [0.8883, 0.1337, 0.9029, 0.9991]]],[0, 0, 0, 0], 1, false, 1, Con55514), 
exec_layers([LDot49076,LCon55514],["Dot49076","Con55514"],Con55514,"Con55514")

Actual (Unparsed): [[[3.4440154, 3.7494103, 2.2086412, 2.1344160]]]

Expected (Unparsed): [[[3.444015260008,3.7494101785010003,2.2086410959960006,2.134415937016]]]

Actual:   [[[3.4441, 3.7495, 2.2087, 2.1345]]]

Expected: [[[3.4441, 3.7495, 2.2087, 2.1345]]]