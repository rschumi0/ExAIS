import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo83678 = tf.keras.layers.Input(shape=([2, 1, 1]))
in0Con52396 = tf.keras.layers.Input(shape=([1, 1, 1]))
in0Min20040 = tf.keras.layers.Input(shape=([1, 1, 2]))
in1Min20040 = tf.keras.layers.Input(shape=([1, 1, 2]))

Glo83678 = keras.layers.GlobalAveragePooling2D(name = 'Glo83678', )(in0Glo83678)
Res90207 = keras.layers.Reshape((1, 1), name = 'Res90207', )(Glo83678)
Glo22227 = keras.layers.GlobalMaxPool1D(name = 'Glo22227', )(Res90207)
Res80827 = keras.layers.Reshape((1, 1), name = 'Res80827', )(Glo22227)
Res28911 = keras.layers.Reshape((1, 1, 1), name = 'Res28911', )(Res80827)
Con52396 = keras.layers.Concatenate(axis=3, name = 'Con52396', )([Res28911,in0Con52396])
Min20040 = keras.layers.Minimum(name = 'Min20040', )([in0Min20040,in1Min20040])
Sub86868 = keras.layers.Subtract(name = 'Sub86868', )([Con52396,Min20040])
Res84472 = keras.layers.Reshape((1, 2), name = 'Res84472', )(Sub86868)
Cro79596 = keras.layers.Cropping1D(cropping=((0, 0)), name = 'Cro79596', )(Res84472)
model = tf.keras.models.Model(inputs=[in0Glo83678,in0Con52396,in0Min20040,in1Min20040], outputs=Cro79596)
in0Glo83678 = tf.constant([[[[1.4308]], [[1.0773]]]])
in0Con52396 = tf.constant([[[[0.2116]]]])
in0Min20040 = tf.constant([[[[0.3144, 0.9923]]]])
in1Min20040 = tf.constant([[[[0.3062, 0.8902]]]])
print (np.array2string(model.predict([in0Glo83678,in0Con52396,in0Min20040,in1Min20040],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Cro79596.png')

LGlo83678 = global_average_pooling2D_layer([[[[1.4308]], [[1.0773]]]], Glo83678), 
LRes90207 = reshape_layer(Glo83678, [1, 1], Res90207), 
LGlo22227 = global_max_pool1D_layer(Res90207, Glo22227), 
LRes80827 = reshape_layer(Glo22227, [1, 1], Res80827), 
LRes28911 = reshape_layer(Res80827, [1, 1, 1], Res28911), 
LCon52396 = concatenate_layer([Res28911,[[[[0.2116]]]]], 3, Con52396), 
LMin20040 = minimum_layer([[[[[0.3144, 0.9923]]]], [[[[0.3062, 0.8902]]]]], Min20040), 
LSub86868 = subtract_layer(Con52396,Min20040, Sub86868), 
LRes84472 = reshape_layer(Sub86868, [1, 2], Res84472), 
LCro79596 = cropping1D_layer(Res84472, 0, 0, Cro79596), 
exec_layers([LGlo83678,LRes90207,LGlo22227,LRes80827,LRes28911,LCon52396,LMin20040,LSub86868,LRes84472,LCro79596],["Glo83678","Res90207","Glo22227","Res80827","Res28911","Con52396","Min20040","Sub86868","Res84472","Cro79596"],Cro79596,"Cro79596")

Actual (Unparsed): [[[0.9478500, -0.6786000]]]

Expected (Unparsed): [[[0.9478499999999999,-0.6786]]]

Actual:   [[[0.9479, -0.6786]]]

Expected: [[[0.9479, -0.6786]]]