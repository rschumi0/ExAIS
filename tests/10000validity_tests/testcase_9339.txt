import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Loc42552 = tf.keras.layers.Input(shape=([2, 2]))
in0Dot93574 = tf.keras.layers.Input(shape=([3]))
in1Dot93574 = tf.keras.layers.Input(shape=([3]))
in0Con47787 = tf.keras.layers.Input(shape=([5]))

Loc42552 = keras.layers.LocallyConnected1D(3, (1),strides=(1), name = 'Loc42552', )(in0Loc42552)
ReL60529 = keras.layers.ReLU(max_value=8.003968315365501, negative_slope=4.309114037787582, threshold=9.656361305783062, name = 'ReL60529', )(Loc42552)
Fla4399 = keras.layers.Flatten(name = 'Fla4399', )(ReL60529)
Dot93574 = keras.layers.Dot(axes=(1, 1), name = 'Dot93574', )([in0Dot93574,in1Dot93574])
Con47787 = keras.layers.Concatenate(axis=1, name = 'Con47787', )([Dot93574,in0Con47787])
Min95076 = keras.layers.Minimum(name = 'Min95076', )([Fla4399,Con47787])
model = tf.keras.models.Model(inputs=[in0Loc42552,in0Dot93574,in1Dot93574,in0Con47787], outputs=Min95076)
w = model.get_layer('Loc42552').get_weights() 
w[0] = np.array([[[0.6606, 0.6902, 0.8598], [0.1355, 0.647, 0.0481]], [[0.3099, 0.9807, 0.3909], [0.9592, 0.0314, 0.9378]]])
w[1] = np.array([[0, 0, 0], [0, 0, 0]])
model.get_layer('Loc42552').set_weights(w) 
in0Loc42552 = tf.constant([[[0.0533, 0.6647], [0.7765, 0.2414]]])
in0Dot93574 = tf.constant([[0.3626, 0.9236, 0.6586]])
in1Dot93574 = tf.constant([[0.1662, 0.7074, 0.9475]])
in0Con47787 = tf.constant([[0.849, 0.7789, 0.4552, 0.2707, 0.5747]])
print (np.array2string(model.predict([in0Loc42552,in0Dot93574,in1Dot93574,in0Con47787],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min95076.png')

LLoc42552 = locally_connected1D_layer([[[0.0533, 0.6647], [0.7765, 0.2414]]], 1,[[[0.6606, 0.6902, 0.8598], [0.1355, 0.647, 0.0481]], [[0.3099, 0.9807, 0.3909], [0.9592, 0.0314, 0.9378]]],[[0, 0, 0], [0, 0, 0]], 1, Loc42552), 
LReL60529 = relu_layer(Loc42552, 8.003968315365501, 4.309114037787582, 9.656361305783062, ReL60529), 
LFla4399 = flatten_layer(ReL60529, Fla4399), 
LDot93574 = dot_layer([[0.3626, 0.9236, 0.6586]], [[0.1662, 0.7074, 0.9475]], 1, 1, Dot93574), 
LCon47787 = concatenate_layer([Dot93574,[[0.849, 0.7789, 0.4552, 0.2707, 0.5747]]], 1, Con47787), 
LMin95076 = minimum_layer([Fla4399,Con47787], Min95076), 
exec_layers([LLoc42552,LReL60529,LFla4399,LDot93574,LCon47787,LMin95076],["Loc42552","ReL60529","Fla4399","Dot93574","Con47787","Min95076"],Min95076,"Min95076")

Actual (Unparsed): [[-41.0705299, -39.5986585, -41.2751155, -39.5756491, -38.2962505, -39.3268817]]

Expected (Unparsed): [[-41.07052990993609,-39.5986583732817,-41.27511552693603,-39.57564912632755,-38.29625041638629,-39.32688164600449]]

Actual:   [[-41.0705, -39.5986, -41.2751, -39.5756, -38.2962, -39.3268]]

Expected: [[-41.0705, -39.5986, -41.2751, -39.5756, -38.2962, -39.3268]]