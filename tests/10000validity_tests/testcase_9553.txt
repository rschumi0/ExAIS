import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub25603 = tf.keras.layers.Input(shape=([2, 3]))
in1Sub25603 = tf.keras.layers.Input(shape=([2, 3]))
in0Sub89503 = tf.keras.layers.Input(shape=([2, 3]))
in1Sub89503 = tf.keras.layers.Input(shape=([2, 3]))

Sub25603 = keras.layers.Subtract(name = 'Sub25603', )([in0Sub25603,in1Sub25603])
Sub89503 = keras.layers.Subtract(name = 'Sub89503', )([in0Sub89503,in1Sub89503])
Ave42390 = keras.layers.Average(name = 'Ave42390', )([Sub25603,Sub89503])
Zer86843 = keras.layers.ZeroPadding1D(padding=((1, 1)), name = 'Zer86843', )(Ave42390)
model = tf.keras.models.Model(inputs=[in0Sub25603,in1Sub25603,in0Sub89503,in1Sub89503], outputs=Zer86843)
in0Sub25603 = tf.constant([[[0.8729, 0.641, 0.4467], [0.0793, 0.2727, 0.8314]]])
in1Sub25603 = tf.constant([[[0.472, 0.9144, 0.1629], [0.5743, 0.3029, 0.4639]]])
in0Sub89503 = tf.constant([[[0.6538, 0.1655, 0.2942], [0.9139, 0.5862, 0.9152]]])
in1Sub89503 = tf.constant([[[0.8606, 0.4365, 0.5028], [0.1318, 0.5494, 0.5648]]])
print (np.array2string(model.predict([in0Sub25603,in1Sub25603,in0Sub89503,in1Sub89503],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Zer86843.png')

LSub25603 = subtract_layer([[[0.8729, 0.641, 0.4467], [0.0793, 0.2727, 0.8314]]], [[[0.472, 0.9144, 0.1629], [0.5743, 0.3029, 0.4639]]], Sub25603), 
LSub89503 = subtract_layer([[[0.6538, 0.1655, 0.2942], [0.9139, 0.5862, 0.9152]]], [[[0.8606, 0.4365, 0.5028], [0.1318, 0.5494, 0.5648]]], Sub89503), 
LAve42390 = average_layer([Sub25603,Sub89503], Ave42390), 
LZer86843 = zero_padding1D_layer(Ave42390, 1, 1, Zer86843), 
exec_layers([LSub25603,LSub89503,LAve42390,LZer86843],["Sub25603","Sub89503","Ave42390","Zer86843"],Zer86843,"Zer86843")

Actual (Unparsed): [[[0.0000000, 0.0000000, 0.0000000], [0.0970500, -0.2722000, 0.0376000], [0.1435500, 0.0033000, 0.3589500], [0.0000000, 0.0000000, 0.0000000]]]

Expected (Unparsed): [[[0,0,0],[0.09705000000000003,-0.2722,0.037599999999999995],[0.14354999999999998,0.003300000000000025,0.35895000000000005],[0,0,0]]]

Actual:   [[[0, 0, 0], [0.0971, -0.2722, 0.0376], [0.1436, 0.0033, 0.359], [0, 0, 0]]]

Expected: [[[0, 0, 0], [0.0971, -0.2722, 0.0376], [0.1436, 0.0034, 0.359], [0, 0, 0]]]