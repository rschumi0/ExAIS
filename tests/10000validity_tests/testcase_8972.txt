import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add36477 = tf.keras.layers.Input(shape=([1, 2]))
in1Add36477 = tf.keras.layers.Input(shape=([1, 2]))
in0Up_43703 = tf.keras.layers.Input(shape=([3, 1]))
in0Con2442 = tf.keras.layers.Input(shape=([3, 1]))

Add36477 = keras.layers.Add(name = 'Add36477', )([in0Add36477,in1Add36477])
Thr4036 = keras.layers.ThresholdedReLU(theta=8.503255315641747, name = 'Thr4036', )(Add36477)
Zer90048 = keras.layers.ZeroPadding1D(padding=((2, 0)), name = 'Zer90048', )(Thr4036)
Up_43703 = keras.layers.UpSampling1D(size=(1), name = 'Up_43703', )(in0Up_43703)
Con2442 = keras.layers.Concatenate(axis=2, name = 'Con2442', )([Up_43703,in0Con2442])
Mul42517 = keras.layers.Multiply(name = 'Mul42517', )([Zer90048,Con2442])
Res14808 = keras.layers.Reshape((3, 2, 1), name = 'Res14808', )(Mul42517)
Zer33199 = keras.layers.ZeroPadding2D(padding=((1, 1), (1, 1)), name = 'Zer33199', )(Res14808)
model = tf.keras.models.Model(inputs=[in0Add36477,in1Add36477,in0Up_43703,in0Con2442], outputs=Zer33199)
in0Add36477 = tf.constant([[[0.77, 0.0572]]])
in1Add36477 = tf.constant([[[0.1225, 0.3694]]])
in0Up_43703 = tf.constant([[[1.5462], [1.194], [1.5342]]])
in0Con2442 = tf.constant([[[0.993], [0.1845], [0.8719]]])
print (np.array2string(model.predict([in0Add36477,in1Add36477,in0Up_43703,in0Con2442],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Zer33199.png')

LAdd36477 = add_layer([[[[0.77, 0.0572]]], [[[0.1225, 0.3694]]]], Add36477), 
LThr4036 = thresholded_relu_layer(Add36477, 8.503255315641747, Thr4036), 
LZer90048 = zero_padding1D_layer(Thr4036, 2, 0, Zer90048), 
LUp_43703 = up_sampling1D_layer([[[1.5462], [1.194], [1.5342]]], 1, Up_43703), 
LCon2442 = concatenate_layer([Up_43703,[[[0.993], [0.1845], [0.8719]]]], 2, Con2442), 
LMul42517 = multiply_layer([Zer90048,Con2442], Mul42517), 
LRes14808 = reshape_layer(Mul42517, [3, 2, 1], Res14808), 
LZer33199 = zero_padding2D_layer(Res14808, 1, 1, 1, 1, Zer33199), 
exec_layers([LAdd36477,LThr4036,LZer90048,LUp_43703,LCon2442,LMul42517,LRes14808,LZer33199],["Add36477","Thr4036","Zer90048","Up_43703","Con2442","Mul42517","Res14808","Zer33199"],Zer33199,"Zer33199")

Actual (Unparsed): [[[[0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000]]]]

Expected (Unparsed): [[[[0],[0],[0],[0]],[[0],[0.0],[0.0],[0]],[[0],[0.0],[0.0],[0]],[[0],[0.0],[0.0],[0]],[[0],[0],[0],[0]]]]

Actual:   [[[[0], [0], [0], [0]], [[0], [0], [0], [0]], [[0], [0], [0], [0]], [[0], [0], [0], [0]], [[0], [0], [0], [0]]]]

Expected: [[[[0], [0], [0], [0]], [[0], [0], [0], [0]], [[0], [0], [0], [0]], [[0], [0], [0], [0]], [[0], [0], [0], [0]]]]