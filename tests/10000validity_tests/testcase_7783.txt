import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Lea3719 = tf.keras.layers.Input(shape=([2, 1, 1, 2]))
in0Sim22562 = tf.keras.layers.Input(shape=([3, 1]))
in0Con14679 = tf.keras.layers.Input(shape=([3]))

Lea3719 = keras.layers.LeakyReLU(alpha=7.551719514927021, name = 'Lea3719', input_shape=(2, 1, 1, 2))(in0Lea3719)
Res66090 = keras.layers.Reshape((2, 1, 2), name = 'Res66090', )(Lea3719)
Res11 = keras.layers.Reshape((2, 2), name = 'Res11', )(Res66090)
Fla6390 = keras.layers.Flatten(name = 'Fla6390', )(Res11)
Sim22562 = keras.layers.SimpleRNN(1,name = 'Sim22562', )(in0Sim22562)
Con14679 = keras.layers.Concatenate(axis=1, name = 'Con14679', )([Sim22562,in0Con14679])
Mul11229 = keras.layers.Multiply(name = 'Mul11229', )([Fla6390,Con14679])
model = tf.keras.models.Model(inputs=[in0Lea3719,in0Sim22562,in0Con14679], outputs=Mul11229)
w = model.get_layer('Sim22562').get_weights() 
w[0] = np.array([[2]])
w[1] = np.array([[10]])
w[2] = np.array([1])
model.get_layer('Sim22562').set_weights(w) 
in0Lea3719 = tf.constant([[[[[0.4153, 0.9688]]], [[[0.8411, 0.0275]]]]])
in0Sim22562 = tf.constant([[[4], [2], [9]]])
in0Con14679 = tf.constant([[0.3838, 0.5828, 0.6379]])
print (np.array2string(model.predict([in0Lea3719,in0Sim22562,in0Con14679],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Mul11229.png')

LLea3719 = leaky_relu_layer([[[[[0.4153, 0.9688]]], [[[0.8411, 0.0275]]]]], 7.551719514927021, Lea3719), 
LRes66090 = reshape_layer(Lea3719, [2, 1, 2], Res66090), 
LRes11 = reshape_layer(Res66090, [2, 2], Res11), 
LFla6390 = flatten_layer(Res11, Fla6390), 
LSim22562 = simple_rnn_layer([[[4], [2], [9]]],[[2]],[[10]],[1], Sim22562), 
LCon14679 = concatenate_layer([Sim22562,[[0.3838, 0.5828, 0.6379]]], 1, Con14679), 
LMul11229 = multiply_layer([Fla6390,Con14679], Mul11229), 
exec_layers([LLea3719,LRes66090,LRes11,LFla6390,LSim22562,LCon14679,LMul11229],["Lea3719","Res66090","Res11","Fla6390","Sim22562","Con14679","Mul11229"],Mul11229,"Mul11229")

Actual (Unparsed): [[0.4153000, 0.3718254, 0.4901930, 0.0175422]]

Expected (Unparsed): [[0.4153,0.37182543999999995,0.49019307999999995,0.017542250000000002]]

Actual:   [[0.4153, 0.3719, 0.4902, 0.0176]]

Expected: [[0.4153, 0.3719, 0.4902, 0.0176]]