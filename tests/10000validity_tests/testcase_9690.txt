import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot42039 = tf.keras.layers.Input(shape=([3]))
in1Dot42039 = tf.keras.layers.Input(shape=([3]))

Dot42039 = keras.layers.Dot(axes=(1, 1), name = 'Dot42039', )([in0Dot42039,in1Dot42039])
Res73314 = keras.layers.Reshape((1, 1), name = 'Res73314', )(Dot42039)
Res55159 = keras.layers.Reshape((1, 1, 1), name = 'Res55159', )(Res73314)
Res63678 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res63678', )(Res55159)
Zer41901 = keras.layers.ZeroPadding3D(padding=((1, 1), (1, 1), (1, 1)), name = 'Zer41901', )(Res63678)
Res44495 = keras.layers.Reshape((3, 3, 3), name = 'Res44495', )(Zer41901)
Res18601 = keras.layers.Reshape((3, 9), name = 'Res18601', )(Res44495)
Con97942 = keras.layers.Conv1D(4, (1),strides=(12), padding='same', dilation_rate=(1), name = 'Con97942', )(Res18601)
model = tf.keras.models.Model(inputs=[in0Dot42039,in1Dot42039], outputs=Con97942)
w = model.get_layer('Con97942').get_weights() 
w[0] = np.array([[[0.1009, 0.0663, 0.6569, 0.4228], [0.7998, 0.4197, 0.9849, 0.6176], [0.6618, 0.9672, 0.6777, 0.5882], [0.3176, 0.7276, 0.4549, 0.4985], [0.2275, 0.9998, 0.0208, 0.4637], [0.3333, 0.7974, 0.0798, 0.2631], [0.8424, 0.7021, 0.5548, 0.1964], [0.6652, 0.0222, 0.2922, 0.2507], [0.6226, 0.0864, 0.396, 0.5832]]])
w[1] = np.array([0, 0, 0, 0])
model.get_layer('Con97942').set_weights(w) 
in0Dot42039 = tf.constant([[0.3826, 0.5971, 0.5271]])
in1Dot42039 = tf.constant([[0.1022, 0.5241, 0.2065]])
print (np.array2string(model.predict([in0Dot42039,in1Dot42039],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Con97942.png')

LDot42039 = dot_layer([[0.3826, 0.5971, 0.5271]], [[0.1022, 0.5241, 0.2065]], 1, 1, Dot42039), 
LRes73314 = reshape_layer(Dot42039, [1, 1], Res73314), 
LRes55159 = reshape_layer(Res73314, [1, 1, 1], Res55159), 
LRes63678 = reshape_layer(Res55159, [1, 1, 1, 1], Res63678), 
LZer41901 = zero_padding3D_layer(Res63678, 1, 1, 1, 1, 1, 1, Zer41901), 
LRes44495 = reshape_layer(Zer41901, [3, 3, 3], Res44495), 
LRes18601 = reshape_layer(Res44495, [3, 9], Res18601), 
LCon97942 = conv1D_layer(Res18601, 1,[[[0.1009, 0.0663, 0.6569, 0.4228], [0.7998, 0.4197, 0.9849, 0.6176], [0.6618, 0.9672, 0.6777, 0.5882], [0.3176, 0.7276, 0.4549, 0.4985], [0.2275, 0.9998, 0.0208, 0.4637], [0.3333, 0.7974, 0.0798, 0.2631], [0.8424, 0.7021, 0.5548, 0.1964], [0.6652, 0.0222, 0.2922, 0.2507], [0.6226, 0.0864, 0.396, 0.5832]]],[0, 0, 0, 0], 12, true, 1, Con97942), 
exec_layers([LDot42039,LRes73314,LRes55159,LRes63678,LZer41901,LRes44495,LRes18601,LCon97942],["Dot42039","Res73314","Res55159","Res63678","Zer41901","Res44495","Res18601","Con97942"],Con97942,"Con97942")

Actual (Unparsed): [[[0.0000000, 0.0000000, 0.0000000, 0.0000000]]]

Expected (Unparsed): [[[0.0,0.0,0.0,0.0]]]

Actual:   [[[0, 0, 0, 0]]]

Expected: [[[0, 0, 0, 0]]]