import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave53367 = tf.keras.layers.Input(shape=([1, 2, 1, 1]))
in1Ave53367 = tf.keras.layers.Input(shape=([1, 2, 1, 1]))

Ave53367 = keras.layers.Average(name = 'Ave53367', )([in0Ave53367,in1Ave53367])
Res23719 = keras.layers.Reshape((1, 2, 1), name = 'Res23719', )(Ave53367)
Res72119 = keras.layers.Reshape((1, 2), name = 'Res72119', )(Res23719)
Glo85285 = keras.layers.GlobalMaxPool1D(name = 'Glo85285', )(Res72119)
model = tf.keras.models.Model(inputs=[in0Ave53367,in1Ave53367], outputs=Glo85285)
in0Ave53367 = tf.constant([[[[[0.9419]], [[0.8497]]]]])
in1Ave53367 = tf.constant([[[[[0.277]], [[0.261]]]]])
print (np.array2string(model.predict([in0Ave53367,in1Ave53367],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo85285.png')

LAve53367 = average_layer([[[[[[0.9419]], [[0.8497]]]]], [[[[[0.277]], [[0.261]]]]]], Ave53367), 
LRes23719 = reshape_layer(Ave53367, [1, 2, 1], Res23719), 
LRes72119 = reshape_layer(Res23719, [1, 2], Res72119), 
LGlo85285 = global_max_pool1D_layer(Res72119, Glo85285), 
exec_layers([LAve53367,LRes23719,LRes72119,LGlo85285],["Ave53367","Res23719","Res72119","Glo85285"],Glo85285,"Glo85285")

Actual (Unparsed): [[0.6094500, 0.5553500]]

Expected (Unparsed): [[0.60945,0.55535]]

Actual:   [[0.6095, 0.5554]]

Expected: [[0.6095, 0.5554]]