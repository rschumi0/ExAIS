import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave22328 = tf.keras.layers.Input(shape=([1, 1]))

Ave22328 = keras.layers.AveragePooling1D(pool_size=(1), name = 'Ave22328', )(in0Ave22328)
Mas60922 = keras.layers.Masking(mask_value=1, name = 'Mas60922', )(Ave22328)
Res44972 = keras.layers.Reshape((1, 1, 1), name = 'Res44972', )(Mas60922)
Ave75439 = keras.layers.AveragePooling2D(pool_size=(1, 1), name = 'Ave75439', )(Res44972)
model = tf.keras.models.Model(inputs=[in0Ave22328], outputs=Ave75439)
in0Ave22328 = tf.constant([[[1.2688]]])
print (np.array2string(model.predict([in0Ave22328],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Ave75439.png')

LAve22328 = average_pooling1D_layer([[[1.2688]]], 1, Ave22328), 
LMas60922 = masking_layer(Ave22328, 1, Mas60922), 
LRes44972 = reshape_layer(Mas60922, [1, 1, 1], Res44972), 
LAve75439 = average_pooling2D_layer(Res44972, 1, 1, Ave75439), 
exec_layers([LAve22328,LMas60922,LRes44972,LAve75439],["Ave22328","Mas60922","Res44972","Ave75439"],Ave75439,"Ave75439")

Actual (Unparsed): [[[[1.2688000]]]]

Expected (Unparsed): [[[[1.2688]]]]

Actual:   [[[[1.2688]]]]

Expected: [[[[1.2688]]]]