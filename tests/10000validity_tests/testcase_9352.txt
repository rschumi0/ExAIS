import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Zer19921 = tf.keras.layers.Input(shape=([1, 3, 2]))
in0Con23964 = tf.keras.layers.Input(shape=([6]))
in0Sub56424 = tf.keras.layers.Input(shape=([2, 3, 3, 2]))
in1Sub56424 = tf.keras.layers.Input(shape=([2, 3, 3, 2]))
in0Dot7221 = tf.keras.layers.Input(shape=([3]))
in1Dot7221 = tf.keras.layers.Input(shape=([3]))
in0Con897 = tf.keras.layers.Input(shape=([35]))

Zer19921 = keras.layers.ZeroPadding2D(padding=((1, 1), (1, 1)), name = 'Zer19921', )(in0Zer19921)
Res8052 = keras.layers.Reshape((3, 10), name = 'Res8052', )(Zer19921)
Fla49377 = keras.layers.Flatten(name = 'Fla49377', )(Res8052)
Con23964 = keras.layers.Concatenate(axis=1, name = 'Con23964', )([Fla49377,in0Con23964])
Sub56424 = keras.layers.Subtract(name = 'Sub56424', )([in0Sub56424,in1Sub56424])
Res89671 = keras.layers.Reshape((2, 3, 6), name = 'Res89671', )(Sub56424)
Res98060 = keras.layers.Reshape((2, 18), name = 'Res98060', )(Res89671)
Fla19541 = keras.layers.Flatten(name = 'Fla19541', )(Res98060)
Dot7221 = keras.layers.Dot(axes=(1, 1), name = 'Dot7221', )([in0Dot7221,in1Dot7221])
Con897 = keras.layers.Concatenate(axis=1, name = 'Con897', )([Dot7221,in0Con897])
Sub53299 = keras.layers.Subtract(name = 'Sub53299', )([Fla19541,Con897])
ReL16597 = keras.layers.ReLU(max_value=9.333258998200833, negative_slope=3.7838025012065266, threshold=5.843969743841772, name = 'ReL16597', )(Sub53299)
Mul88396 = keras.layers.Multiply(name = 'Mul88396', )([Con23964,ReL16597])
model = tf.keras.models.Model(inputs=[in0Zer19921,in0Con23964,in0Sub56424,in1Sub56424,in0Dot7221,in1Dot7221,in0Con897], outputs=Mul88396)
in0Zer19921 = tf.constant([[[[1.9647, 1.0472], [1.7475, 1.8296], [1.01, 1.3336]]]])
in0Con23964 = tf.constant([[0.262, 0.5985, 0.28, 0.4028, 0.0766, 0.4103]])
in0Sub56424 = tf.constant([[[[[0.3074, 0.7163], [0.1415, 0.0287], [0.4816, 0.9655]], [[0.0836, 0.6241], [0.9224, 0.7782], [0.3769, 0.6748]], [[0.8529, 0.137], [0.3808, 0.6548], [0.822, 0.4785]]], [[[0.6564, 0.5141], [0.7399, 0.0155], [0.8254, 0.8476]], [[0.2762, 0.0774], [0.074, 0.168], [0.5994, 0.3671]], [[0.44, 0.501], [0.7345, 0.2159], [0.9047, 0.4114]]]]])
in1Sub56424 = tf.constant([[[[[0.5285, 0.7607], [0.0941, 0.6127], [0.3232, 0.4617]], [[0.0882, 0.511], [0.9589, 0.5356], [0.4372, 0.3941]], [[0.6565, 0.6865], [0.9835, 0.4846], [0.6604, 0.9833]]], [[[0.5053, 0.7488], [0.2634, 0.8554], [0.5109, 0.1771]], [[0.979, 0.9535], [0.7379, 0.2318], [0.181, 0.0625]], [[0.0424, 0.2974], [0.4854, 0.3384], [0.3958, 0.2622]]]]])
in0Dot7221 = tf.constant([[0.5151, 0.8922, 0.6555]])
in1Dot7221 = tf.constant([[0.81, 0.46, 0.145]])
in0Con897 = tf.constant([[0.1536, 0.151, 0.9997, 0.1454, 0.2209, 0.0374, 0.4948, 0.228, 0.1203, 0.8432, 0.821, 0.0543, 0.0178, 0.9456, 0.2764, 0.5204, 0.9901, 0.5152, 0.4659, 0.8344, 0.4411, 0.4462, 0.6541, 0.4129, 0.575, 0.5985, 0.4078, 0.3257, 0.3208, 0.4883, 0.8309, 0.0827, 0.8337, 0.8591, 0.8814]])
print (np.array2string(model.predict([in0Zer19921,in0Con23964,in0Sub56424,in1Sub56424,in0Dot7221,in1Dot7221,in0Con897],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Mul88396.png')

LZer19921 = zero_padding2D_layer([[[[1.9647, 1.0472], [1.7475, 1.8296], [1.01, 1.3336]]]], 1, 1, 1, 1, Zer19921), 
LRes8052 = reshape_layer(Zer19921, [3, 10], Res8052), 
LFla49377 = flatten_layer(Res8052, Fla49377), 
LCon23964 = concatenate_layer([Fla49377,[[0.262, 0.5985, 0.28, 0.4028, 0.0766, 0.4103]]], 1, Con23964), 
LSub56424 = subtract_layer([[[[[0.3074, 0.7163], [0.1415, 0.0287], [0.4816, 0.9655]], [[0.0836, 0.6241], [0.9224, 0.7782], [0.3769, 0.6748]], [[0.8529, 0.137], [0.3808, 0.6548], [0.822, 0.4785]]], [[[0.6564, 0.5141], [0.7399, 0.0155], [0.8254, 0.8476]], [[0.2762, 0.0774], [0.074, 0.168], [0.5994, 0.3671]], [[0.44, 0.501], [0.7345, 0.2159], [0.9047, 0.4114]]]]], [[[[[0.5285, 0.7607], [0.0941, 0.6127], [0.3232, 0.4617]], [[0.0882, 0.511], [0.9589, 0.5356], [0.4372, 0.3941]], [[0.6565, 0.6865], [0.9835, 0.4846], [0.6604, 0.9833]]], [[[0.5053, 0.7488], [0.2634, 0.8554], [0.5109, 0.1771]], [[0.979, 0.9535], [0.7379, 0.2318], [0.181, 0.0625]], [[0.0424, 0.2974], [0.4854, 0.3384], [0.3958, 0.2622]]]]], Sub56424), 
LRes89671 = reshape_layer(Sub56424, [2, 3, 6], Res89671), 
LRes98060 = reshape_layer(Res89671, [2, 18], Res98060), 
LFla19541 = flatten_layer(Res98060, Fla19541), 
LDot7221 = dot_layer([[0.5151, 0.8922, 0.6555]], [[0.81, 0.46, 0.145]], 1, 1, Dot7221), 
LCon897 = concatenate_layer([Dot7221,[[0.1536, 0.151, 0.9997, 0.1454, 0.2209, 0.0374, 0.4948, 0.228, 0.1203, 0.8432, 0.821, 0.0543, 0.0178, 0.9456, 0.2764, 0.5204, 0.9901, 0.5152, 0.4659, 0.8344, 0.4411, 0.4462, 0.6541, 0.4129, 0.575, 0.5985, 0.4078, 0.3257, 0.3208, 0.4883, 0.8309, 0.0827, 0.8337, 0.8591, 0.8814]]], 1, Con897), 
LSub53299 = subtract_layer(Fla19541,Con897, Sub53299), 
LReL16597 = relu_layer(Sub53299, 9.333258998200833, 3.7838025012065266, 5.843969743841772, ReL16597), 
LMul88396 = multiply_layer([Con23964,ReL16597], Mul88396), 
exec_layers([LZer19921,LRes8052,LFla49377,LCon23964,LSub56424,LRes89671,LRes98060,LFla19541,LDot7221,LCon897,LSub53299,LReL16597,LMul88396],["Zer19921","Res8052","Fla49377","Con23964","Sub56424","Res89671","Res98060","Fla19541","Dot7221","Con897","Sub53299","ReL16597","Mul88396"],Mul88396,"Mul88396")

Actual (Unparsed): [[-0.0000000, -0.0000000, -0.0000000, -0.0000000, -0.0000000, -0.0000000, -0.0000000, -0.0000000, -0.0000000, -0.0000000, -0.0000000, -0.0000000, -42.3879087, -25.4040015, -48.8791263, -41.1921027, -23.7047558, -37.0325178, -0.0000000, -0.0000000, -0.0000000, -0.0000000, -0.0000000, -0.0000000, -0.0000000, -0.0000000, -0.0000000, -0.0000000, -0.0000000, -0.0000000, -5.8833718, -14.6548754, -6.0151848, -10.3642450, -1.7953137, -10.2094648]]

Expected (Unparsed): [[-0.0,-0.0,-0.0,-0.0,-0.0,-0.0,-0.0,-0.0,-0.0,-0.0,-0.0,-0.0,-42.387909356964556,-25.404002277511687,-48.87912808423235,-41.192103194750224,-23.70475622786823,-37.032516612687935,-0.0,-0.0,-0.0,-0.0,-0.0,-0.0,-0.0,-0.0,-0.0,-0.0,-0.0,-0.0,-5.883371973792797,-14.654874975674273,-6.015184727306439,-10.364245112150034,-1.7953136466749056,-10.209465163551476]]

Actual:   [[-0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -42.3879, -25.404, -48.8791, -41.1921, -23.7047, -37.0325, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -5.8833, -14.6548, -6.0151, -10.3642, -1.7953, -10.2094]]

Expected: [[-0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -42.3879, -25.404, -48.8791, -41.1921, -23.7047, -37.0325, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -5.8833, -14.6548, -6.0151, -10.3642, -1.7953, -10.2094]]