import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave13177 = tf.keras.layers.Input(shape=([1, 1, 2]))
in1Ave13177 = tf.keras.layers.Input(shape=([1, 1, 2]))
in0Add76843 = tf.keras.layers.Input(shape=([1, 1, 2, 2]))
in1Add76843 = tf.keras.layers.Input(shape=([1, 1, 2, 2]))
in0Con39413 = tf.keras.layers.Input(shape=([1]))

Ave13177 = keras.layers.Average(name = 'Ave13177', )([in0Ave13177,in1Ave13177])
ELU62118 = keras.layers.ELU(alpha=-3.5453412054525852, name = 'ELU62118', )(Ave13177)
Res12843 = keras.layers.Reshape((1, 2), name = 'Res12843', )(ELU62118)
Fla82722 = keras.layers.Flatten(name = 'Fla82722', )(Res12843)
Add76843 = keras.layers.Add(name = 'Add76843', )([in0Add76843,in1Add76843])
Res72470 = keras.layers.Reshape((1, 1, 4), name = 'Res72470', )(Add76843)
Res67792 = keras.layers.Reshape((1, 4), name = 'Res67792', )(Res72470)
Ave98045 = keras.layers.AveragePooling1D(pool_size=(1), name = 'Ave98045', )(Res67792)
Res79160 = keras.layers.Reshape((1, 4, 1), name = 'Res79160', )(Ave98045)
Res78030 = keras.layers.Reshape((1, 4, 1, 1), name = 'Res78030', )(Res79160)
Glo61445 = keras.layers.GlobalMaxPool3D(name = 'Glo61445', )(Res78030)
Con39413 = keras.layers.Concatenate(axis=1, name = 'Con39413', )([Glo61445,in0Con39413])
Max13675 = keras.layers.Maximum(name = 'Max13675', )([Fla82722,Con39413])
model = tf.keras.models.Model(inputs=[in0Ave13177,in1Ave13177,in0Add76843,in1Add76843,in0Con39413], outputs=Max13675)
in0Ave13177 = tf.constant([[[[0.6043, 0.1085]]]])
in1Ave13177 = tf.constant([[[[0.2379, 0.9713]]]])
in0Add76843 = tf.constant([[[[[0.4007, 0.9074], [0.9799, 0.5826]]]]])
in1Add76843 = tf.constant([[[[[0.5685, 0.6268], [0.2185, 0.5244]]]]])
in0Con39413 = tf.constant([[0.3279]])
print (np.array2string(model.predict([in0Ave13177,in1Ave13177,in0Add76843,in1Add76843,in0Con39413],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max13675.png')

LAve13177 = average_layer([[[[[0.6043, 0.1085]]]], [[[[0.2379, 0.9713]]]]], Ave13177), 
LELU62118 = elu_layer(Ave13177, -3.5453412054525852, ELU62118), 
LRes12843 = reshape_layer(ELU62118, [1, 2], Res12843), 
LFla82722 = flatten_layer(Res12843, Fla82722), 
LAdd76843 = add_layer([[[[[[0.4007, 0.9074], [0.9799, 0.5826]]]]], [[[[[0.5685, 0.6268], [0.2185, 0.5244]]]]]], Add76843), 
LRes72470 = reshape_layer(Add76843, [1, 1, 4], Res72470), 
LRes67792 = reshape_layer(Res72470, [1, 4], Res67792), 
LAve98045 = average_pooling1D_layer(Res67792, 1, Ave98045), 
LRes79160 = reshape_layer(Ave98045, [1, 4, 1], Res79160), 
LRes78030 = reshape_layer(Res79160, [1, 4, 1, 1], Res78030), 
LGlo61445 = global_max_pool3D_layer(Res78030, Glo61445), 
LCon39413 = concatenate_layer([Glo61445,[[0.3279]]], 1, Con39413), 
LMax13675 = maximum_layer([Fla82722,Con39413], Max13675), 
exec_layers([LAve13177,LELU62118,LRes12843,LFla82722,LAdd76843,LRes72470,LRes67792,LAve98045,LRes79160,LRes78030,LGlo61445,LCon39413,LMax13675],["Ave13177","ELU62118","Res12843","Fla82722","Add76843","Res72470","Res67792","Ave98045","Res79160","Res78030","Glo61445","Con39413","Max13675"],Max13675,"Max13675")

Actual (Unparsed): [[1.5342000, 0.5399000]]

Expected (Unparsed): [[1.5342,0.5399]]

Actual:   [[1.5342, 0.5399]]

Expected: [[1.5342, 0.5399]]