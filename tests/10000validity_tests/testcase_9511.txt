import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Zer40858 = tf.keras.layers.Input(shape=([1, 3, 1, 3]))
in0Sub16372 = tf.keras.layers.Input(shape=([3, 3]))
in1Sub16372 = tf.keras.layers.Input(shape=([3, 3]))
in0Con11836 = tf.keras.layers.Input(shape=([3, 42]))
in0Min9119 = tf.keras.layers.Input(shape=([1, 1]))
in1Min9119 = tf.keras.layers.Input(shape=([1, 1]))
in0Con64654 = tf.keras.layers.Input(shape=([3, 44]))

Zer40858 = keras.layers.ZeroPadding3D(padding=((1, 1), (1, 1), (1, 1)), name = 'Zer40858', )(in0Zer40858)
Res6346 = keras.layers.Reshape((3, 5, 9), name = 'Res6346', )(Zer40858)
Res82426 = keras.layers.Reshape((3, 45), name = 'Res82426', )(Res6346)
Sub16372 = keras.layers.Subtract(name = 'Sub16372', )([in0Sub16372,in1Sub16372])
Con11836 = keras.layers.Concatenate(axis=2, name = 'Con11836', )([Sub16372,in0Con11836])
Add49100 = keras.layers.Add(name = 'Add49100', )([Res82426,Con11836])
Min9119 = keras.layers.Minimum(name = 'Min9119', )([in0Min9119,in1Min9119])
Zer81809 = keras.layers.ZeroPadding1D(padding=((2, 0)), name = 'Zer81809', )(Min9119)
Con64654 = keras.layers.Concatenate(axis=2, name = 'Con64654', )([Zer81809,in0Con64654])
Mul55527 = keras.layers.Multiply(name = 'Mul55527', )([Add49100,Con64654])
model = tf.keras.models.Model(inputs=[in0Zer40858,in0Sub16372,in1Sub16372,in0Con11836,in0Min9119,in1Min9119,in0Con64654], outputs=Mul55527)
in0Zer40858 = tf.constant([[[[[1.9746, 1.467, 1.3485]], [[1.0992, 1.756, 1.8409]], [[1.3923, 1.7131, 1.5542]]]]])
in0Sub16372 = tf.constant([[[0.7534, 0.3914, 0.5335], [0.8109, 0.9448, 0.1393], [0.5257, 0.838, 0.3163]]])
in1Sub16372 = tf.constant([[[0.2482, 0.3669, 0.8823], [0.8865, 0.9757, 0.4217], [0.758, 0.9678, 0.5202]]])
in0Con11836 = tf.constant([[[0.2967, 0.7469, 0.2238, 0.8734, 0.6079, 0.2166, 0.1717, 0.0613, 0.9215, 0.6979, 0.6867, 0.3471, 0.5631, 0.7766, 0.4063, 0.208, 0.4891, 0.2943, 0.0845, 0.7953, 0.9465, 0.8119, 0.2796, 0.841, 0.8555, 0.5957, 0.9492, 0.1942, 0.9315, 0.4737, 0.8147, 0.4347, 0.1693, 0.0874, 0.4178, 0.7685, 0.0734, 0.6479, 0.5062, 0.0687, 0.9415, 0.2939], [0.7587, 0.4951, 0.5779, 0.5438, 0.8881, 0.597, 0.0495, 0.1377, 0.8446, 0.1852, 0.4831, 0.7718, 0.1833, 0.5452, 0.4457, 0.8421, 0.6564, 0.7556, 0.151, 0.3351, 0.7443, 0.9736, 0.5919, 0.4306, 0.1492, 0.556, 0.7105, 0.212, 0.2401, 0.7947, 0.8864, 0.1235, 0.0619, 0.8617, 0.3494, 0.4537, 0.7967, 0.2839, 0.6051, 0.1814, 0.5034, 0.8981], [0.5969, 0.9742, 0.5493, 0.7703, 0.1254, 0.9972, 0.3971, 0.0088, 0.9936, 0.4573, 0.3122, 0.7474, 0.4533, 0.4874, 0.1155, 0.8303, 0.7926, 0.057, 0.3233, 0.8912, 0.3213, 0.0835, 0.8867, 0.5879, 0.5858, 0.8174, 0.2716, 0.7242, 0.3796, 0.8732, 0.8061, 0.8749, 1, 0.9867, 0.0622, 0.9128, 0.2467, 0.6946, 0.5336, 0.5288, 0.8588, 0.6523]]])
in0Min9119 = tf.constant([[[0.1455]]])
in1Min9119 = tf.constant([[[0.9793]]])
in0Con64654 = tf.constant([[[0.095, 0.1449, 0.0812, 0.1581, 0.3846, 0.757, 0.8794, 0.7078, 0.0578, 0.6639, 0.8198, 0.2044, 0.6917, 0.6832, 0.7177, 0.0564, 0.5495, 0.7965, 0.3626, 0.4557, 0.1387, 0.7239, 0.7846, 0.1626, 0.2808, 0.5269, 0.0727, 0.4618, 0.7687, 0.7617, 0.6906, 0.5771, 0.2499, 0.3754, 0.5666, 0.8936, 0.3178, 0.2291, 0.8415, 0.9206, 0.9194, 0.8638, 0.0535, 0.0459], [0.0957, 0.8802, 0.7075, 0.7845, 0.7599, 0.0953, 0.6363, 0.4018, 0.6858, 0.4608, 0.2893, 0.5067, 0.1328, 0.5778, 0.1085, 0.4498, 0.565, 0.5301, 0.4423, 0.1397, 0.7338, 0.67, 0.0325, 0.1937, 0.9908, 0.9386, 0.9674, 0.1765, 0.0718, 0.2796, 0.1342, 0.0495, 0.7512, 0.7154, 0.6311, 0.852, 0.7035, 0.6912, 0.2992, 0.0671, 0.6285, 0.3693, 0.522, 0.0849], [0.199, 0.6533, 0.7064, 0.6719, 0.6707, 0.8577, 0.4065, 0.3776, 0.0577, 0.1051, 0.8823, 0.3649, 0.622, 0.7261, 0.9921, 0.2401, 0.0512, 0.1681, 0.7139, 0.0736, 0.1068, 0.1739, 0.2596, 0.9539, 0.7118, 0.2861, 0.7027, 0.0965, 0.4177, 0.0491, 0.2737, 0.7433, 0.9426, 0.6384, 0.9964, 0.8294, 0.002, 0.0259, 0.1321, 0.6691, 0.9695, 0.2081, 0.9835, 0.7189]]])
print (np.array2string(model.predict([in0Zer40858,in0Sub16372,in1Sub16372,in0Con11836,in0Min9119,in1Min9119,in0Con64654],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Mul55527.png')

LZer40858 = zero_padding3D_layer([[[[[1.9746, 1.467, 1.3485]], [[1.0992, 1.756, 1.8409]], [[1.3923, 1.7131, 1.5542]]]]], 1, 1, 1, 1, 1, 1, Zer40858), 
LRes6346 = reshape_layer(Zer40858, [3, 5, 9], Res6346), 
LRes82426 = reshape_layer(Res6346, [3, 45], Res82426), 
LSub16372 = subtract_layer([[[0.7534, 0.3914, 0.5335], [0.8109, 0.9448, 0.1393], [0.5257, 0.838, 0.3163]]], [[[0.2482, 0.3669, 0.8823], [0.8865, 0.9757, 0.4217], [0.758, 0.9678, 0.5202]]], Sub16372), 
LCon11836 = concatenate_layer([Sub16372,[[[0.2967, 0.7469, 0.2238, 0.8734, 0.6079, 0.2166, 0.1717, 0.0613, 0.9215, 0.6979, 0.6867, 0.3471, 0.5631, 0.7766, 0.4063, 0.208, 0.4891, 0.2943, 0.0845, 0.7953, 0.9465, 0.8119, 0.2796, 0.841, 0.8555, 0.5957, 0.9492, 0.1942, 0.9315, 0.4737, 0.8147, 0.4347, 0.1693, 0.0874, 0.4178, 0.7685, 0.0734, 0.6479, 0.5062, 0.0687, 0.9415, 0.2939], [0.7587, 0.4951, 0.5779, 0.5438, 0.8881, 0.597, 0.0495, 0.1377, 0.8446, 0.1852, 0.4831, 0.7718, 0.1833, 0.5452, 0.4457, 0.8421, 0.6564, 0.7556, 0.151, 0.3351, 0.7443, 0.9736, 0.5919, 0.4306, 0.1492, 0.556, 0.7105, 0.212, 0.2401, 0.7947, 0.8864, 0.1235, 0.0619, 0.8617, 0.3494, 0.4537, 0.7967, 0.2839, 0.6051, 0.1814, 0.5034, 0.8981], [0.5969, 0.9742, 0.5493, 0.7703, 0.1254, 0.9972, 0.3971, 0.0088, 0.9936, 0.4573, 0.3122, 0.7474, 0.4533, 0.4874, 0.1155, 0.8303, 0.7926, 0.057, 0.3233, 0.8912, 0.3213, 0.0835, 0.8867, 0.5879, 0.5858, 0.8174, 0.2716, 0.7242, 0.3796, 0.8732, 0.8061, 0.8749, 1, 0.9867, 0.0622, 0.9128, 0.2467, 0.6946, 0.5336, 0.5288, 0.8588, 0.6523]]]], 2, Con11836), 
LAdd49100 = add_layer([Res82426,Con11836], Add49100), 
LMin9119 = minimum_layer([[[[0.1455]]], [[[0.9793]]]], Min9119), 
LZer81809 = zero_padding1D_layer(Min9119, 2, 0, Zer81809), 
LCon64654 = concatenate_layer([Zer81809,[[[0.095, 0.1449, 0.0812, 0.1581, 0.3846, 0.757, 0.8794, 0.7078, 0.0578, 0.6639, 0.8198, 0.2044, 0.6917, 0.6832, 0.7177, 0.0564, 0.5495, 0.7965, 0.3626, 0.4557, 0.1387, 0.7239, 0.7846, 0.1626, 0.2808, 0.5269, 0.0727, 0.4618, 0.7687, 0.7617, 0.6906, 0.5771, 0.2499, 0.3754, 0.5666, 0.8936, 0.3178, 0.2291, 0.8415, 0.9206, 0.9194, 0.8638, 0.0535, 0.0459], [0.0957, 0.8802, 0.7075, 0.7845, 0.7599, 0.0953, 0.6363, 0.4018, 0.6858, 0.4608, 0.2893, 0.5067, 0.1328, 0.5778, 0.1085, 0.4498, 0.565, 0.5301, 0.4423, 0.1397, 0.7338, 0.67, 0.0325, 0.1937, 0.9908, 0.9386, 0.9674, 0.1765, 0.0718, 0.2796, 0.1342, 0.0495, 0.7512, 0.7154, 0.6311, 0.852, 0.7035, 0.6912, 0.2992, 0.0671, 0.6285, 0.3693, 0.522, 0.0849], [0.199, 0.6533, 0.7064, 0.6719, 0.6707, 0.8577, 0.4065, 0.3776, 0.0577, 0.1051, 0.8823, 0.3649, 0.622, 0.7261, 0.9921, 0.2401, 0.0512, 0.1681, 0.7139, 0.0736, 0.1068, 0.1739, 0.2596, 0.9539, 0.7118, 0.2861, 0.7027, 0.0965, 0.4177, 0.0491, 0.2737, 0.7433, 0.9426, 0.6384, 0.9964, 0.8294, 0.002, 0.0259, 0.1321, 0.6691, 0.9695, 0.2081, 0.9835, 0.7189]]]], 2, Con64654), 
LMul55527 = multiply_layer([Add49100,Con64654], Mul55527), 
exec_layers([LZer40858,LRes6346,LRes82426,LSub16372,LCon11836,LAdd49100,LMin9119,LZer81809,LCon64654,LMul55527],["Zer40858","Res6346","Res82426","Sub16372","Con11836","Add49100","Min9119","Zer81809","Con64654","Mul55527"],Mul55527,"Mul55527")

Actual (Unparsed): [[[0.0000000, 0.0023275, -0.0505411, 0.0240920, 0.1180849, 0.0860735, 0.6611638, 0.5345873, 0.1533095, 0.0099243, 0.0406971, 0.7554457, 0.1426508, 0.4749904, 0.2371387, 0.4041369, 0.0438002, 0.2232618, 0.1656720, 0.1773477, 0.1341125, 0.0117201, 0.5757177, 0.7426239, 0.1320149, 0.0785117, 0.4431229, 0.0621948, 0.2750943, 0.7296500, 0.1479221, 0.6432939, 0.2733723, 0.2035935, 0.1631864, 0.0959254, 0.0781006, 0.1327768, 0.1760633, 0.0617661, 0.5964567, 0.4654003, 0.0593431, 0.0503703, 0.0134900], [-0.0000000, -0.0029571, -0.2485685, 0.5367802, 0.3884059, 0.4391462, 0.0518241, 0.5650981, 0.2398746, 0.0339471, 0.0634522, 0.2443428, 1.0943706, 0.2589733, 1.2251093, 0.0198880, 0.2452310, 0.2518205, 0.4463972, 0.2903257, 0.1055573, 0.9173968, 1.4010371, 0.0840190, 0.1885863, 0.5864545, 0.4041611, 0.1443361, 0.0981340, 0.0510139, 0.4485623, 0.2621194, 0.1162706, 0.6658637, 0.0883519, 0.0390651, 0.7341684, 0.2458029, 0.3135975, 0.2383726, 0.0190497, 0.3803053, 0.0669910, 0.2627748, 0.0762487], [-0.0337997, -0.0258302, -0.1332079, 0.4216501, 0.6545650, 0.3684155, 0.6606863, 0.0509751, 0.3765427, 0.0229127, 0.0009249, 0.8766533, 0.1668688, 0.1941884, 0.5426872, 0.4497189, 0.1170247, 0.0059136, 0.1395734, 0.5658371, 0.0041952, 0.0345284, 0.1549797, 0.0834095, 0.0796506, 0.6311530, 0.1681982, 0.4116417, 0.0788791, 0.1134473, 0.0355582, 0.1038965, 0.6490496, 0.7598299, 0.5585362, 0.9964000, 0.8183690, 0.0001244, 0.0236415, 0.0325891, 0.4647568, 0.5173252, 0.1100433, 0.8446298, 0.4689385]]]

Expected (Unparsed): [[[0.0,0.0023275000000000023,-0.05054112,0.02409204,0.11808489,0.08607348,0.6611638,0.53458726,0.15330948,0.009924259999999999,0.04069707,0.7554457,0.14265076,0.47499039,0.23713872000000003,0.40413687000000004,0.04380024,0.22326184999999998,0.16567199999999999,0.17734766,0.13411251,0.01172015,0.57571767,0.7426239,0.13201494,0.07851168,0.4431229,0.06219485,0.27509426,0.7296500400000001,0.14792214,0.6432939,0.27337227,0.20359353,0.16318638,0.09592538,0.07810064,0.13277684,0.17606334999999998,0.061766100000000004,0.59645674,0.46540028,0.059343059999999996,0.05037025,0.01349001],[-0.0,-0.0029571300000000036,-0.24856847999999998,0.5367802500000001,0.38840595,0.43914621,0.05182413999999999,0.56509803,0.2398746,0.0339471,0.06345216,0.24434278,1.09437066,0.25897328,1.2251093400000002,0.019888049999999997,0.24523096,0.25182049999999995,0.44639721,0.29032572,0.10555732,0.91739676,1.401037,0.084019,0.18858632,0.58645452,0.40416115999999996,0.14433608,0.098134,0.0510139,0.44856228000000004,0.26211944000000004,0.11627055,0.66586368,0.0883519,0.03906509,0.7341684,0.2458029,0.31359744,0.23837264,0.01904969,0.38030534999999993,0.06699102,0.2627748,0.07624869000000001],[-0.03379965000000001,-0.025830200000000008,-0.13320786999999998,0.42165016,0.6545649800000001,0.36841551,0.66068631,0.0509751,0.37654272,0.02291267,0.00092488,0.87665328,0.16686877,0.19418839999999998,0.54268714,0.44971892999999996,0.11702474,0.005913600000000001,0.13957343,0.56583714,0.0041952000000000005,0.03452844,0.15497968,0.08340948,0.07965065,0.63115306,0.16819819,0.41164165999999996,0.07887910000000001,0.11344732,0.035558219999999995,0.10389651999999999,0.6490495599999999,0.7598298600000001,0.55853616,0.9964,0.81836898,0.0001244,0.02364152,0.03258907,0.46475686,0.5173251999999999,0.11004328000000001,0.8446298000000001,0.46893847]]]

Actual:   [[[0, 0.0024, -0.0505, 0.0241, 0.1181, 0.0861, 0.6612, 0.5346, 0.1534, 0.01, 0.0407, 0.7555, 0.1427, 0.475, 0.2372, 0.4042, 0.0439, 0.2233, 0.1657, 0.1774, 0.1342, 0.0118, 0.5758, 0.7427, 0.1321, 0.0786, 0.4432, 0.0622, 0.2751, 0.7297, 0.148, 0.6433, 0.2734, 0.2036, 0.1632, 0.096, 0.0782, 0.1328, 0.1761, 0.0618, 0.5965, 0.4655, 0.0594, 0.0504, 0.0135], [-0, -0.0029, -0.2485, 0.5368, 0.3885, 0.4392, 0.0519, 0.5651, 0.2399, 0.034, 0.0635, 0.2444, 1.0944, 0.259, 1.2252, 0.0199, 0.2453, 0.2519, 0.4464, 0.2904, 0.1056, 0.9174, 1.4011, 0.0841, 0.1886, 0.5865, 0.4042, 0.1444, 0.0982, 0.0511, 0.4486, 0.2622, 0.1163, 0.6659, 0.0884, 0.0391, 0.7342, 0.2459, 0.3136, 0.2384, 0.0191, 0.3804, 0.067, 0.2628, 0.0763], [-0.0337, -0.0258, -0.1332, 0.4217, 0.6546, 0.3685, 0.6607, 0.051, 0.3766, 0.023, 0.001, 0.8767, 0.1669, 0.1942, 0.5427, 0.4498, 0.1171, 0.006, 0.1396, 0.5659, 0.0042, 0.0346, 0.155, 0.0835, 0.0797, 0.6312, 0.1682, 0.4117, 0.0789, 0.1135, 0.0356, 0.1039, 0.6491, 0.7599, 0.5586, 0.9964, 0.8184, 0.0002, 0.0237, 0.0326, 0.4648, 0.5174, 0.1101, 0.8447, 0.469]]]

Expected: [[[0, 0.0024, -0.0505, 0.0241, 0.1181, 0.0861, 0.6612, 0.5346, 0.1534, 0.01, 0.0407, 0.7555, 0.1427, 0.475, 0.2372, 0.4042, 0.0439, 0.2233, 0.1657, 0.1774, 0.1342, 0.0118, 0.5758, 0.7427, 0.1321, 0.0786, 0.4432, 0.0622, 0.2751, 0.7297, 0.148, 0.6433, 0.2734, 0.2036, 0.1632, 0.096, 0.0782, 0.1328, 0.1761, 0.0618, 0.5965, 0.4655, 0.0594, 0.0504, 0.0135], [-0, -0.0029, -0.2485, 0.5368, 0.3885, 0.4392, 0.0519, 0.5651, 0.2399, 0.034, 0.0635, 0.2444, 1.0944, 0.259, 1.2252, 0.0199, 0.2453, 0.2519, 0.4464, 0.2904, 0.1056, 0.9174, 1.4011, 0.0841, 0.1886, 0.5865, 0.4042, 0.1444, 0.0982, 0.0511, 0.4486, 0.2622, 0.1163, 0.6659, 0.0884, 0.0391, 0.7342, 0.2459, 0.3136, 0.2384, 0.0191, 0.3804, 0.067, 0.2628, 0.0763], [-0.0337, -0.0258, -0.1332, 0.4217, 0.6546, 0.3685, 0.6607, 0.051, 0.3766, 0.023, 0.001, 0.8767, 0.1669, 0.1942, 0.5427, 0.4498, 0.1171, 0.006, 0.1396, 0.5659, 0.0042, 0.0346, 0.155, 0.0835, 0.0797, 0.6312, 0.1682, 0.4117, 0.0789, 0.1135, 0.0356, 0.1039, 0.6491, 0.7599, 0.5586, 0.9964, 0.8184, 0.0002, 0.0237, 0.0326, 0.4648, 0.5174, 0.1101, 0.8447, 0.469]]]