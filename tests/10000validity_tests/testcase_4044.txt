import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo13658 = tf.keras.layers.Input(shape=([1, 1, 2, 1]))
in0Lea70588 = tf.keras.layers.Input(shape=([2, 1]))

Glo13658 = keras.layers.GlobalAveragePooling3D(name = 'Glo13658', )(in0Glo13658)
Res28986 = keras.layers.Reshape((1, 1), name = 'Res28986', )(Glo13658)
Zer97668 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer97668', )(Res28986)
Lea70588 = keras.layers.LeakyReLU(alpha=6.001810250717451, name = 'Lea70588', input_shape=(2, 1))(in0Lea70588)
Bat11368 = keras.layers.BatchNormalization(axis=1, epsilon=0.9192277406068062,  name = 'Bat11368', )(Lea70588)
Min3908 = keras.layers.Minimum(name = 'Min3908', )([Zer97668,Bat11368])
Sof9949 = keras.layers.Softmax(axis=1, name = 'Sof9949', )(Min3908)
model = tf.keras.models.Model(inputs=[in0Glo13658,in0Lea70588], outputs=Sof9949)
w = model.get_layer('Bat11368').get_weights() 
w[0] = np.array([0.4622, 0.122])
w[1] = np.array([0.8817, 0.5135])
w[2] = np.array([0.5866, 0.9024])
w[3] = np.array([0.028, 0.6987])
model.get_layer('Bat11368').set_weights(w) 
in0Glo13658 = tf.constant([[[[[1.4208], [1.1259]]]]])
in0Lea70588 = tf.constant([[[0.7115], [0.6609]]])
print (np.array2string(model.predict([in0Glo13658,in0Lea70588],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sof9949.png')

LGlo13658 = global_average_pooling3D_layer([[[[[1.4208], [1.1259]]]]], Glo13658), 
LRes28986 = reshape_layer(Glo13658, [1, 1], Res28986), 
LZer97668 = zero_padding1D_layer(Res28986, 1, 0, Zer97668), 
LLea70588 = leaky_relu_layer([[[0.7115], [0.6609]]], 6.001810250717451, Lea70588), 
LBat11368 = batch_normalization_layer(Lea70588, 1, 0.9192277406068062, [0.4622, 0.122], [0.8817, 0.5135], [0.5866, 0.9024], [0.028, 0.6987], Bat11368), 
LMin3908 = minimum_layer([Zer97668,Bat11368], Min3908), 
LSof9949 = softmax_layer(Min3908, 1, Sof9949), 
exec_layers([LGlo13658,LRes28986,LZer97668,LLea70588,LBat11368,LMin3908,LSof9949],["Glo13658","Res28986","Zer97668","Lea70588","Bat11368","Min3908","Sof9949"],Sof9949,"Sof9949")

Actual (Unparsed): [[[0.3798142], [0.6201858]]]

Expected (Unparsed): [[[0.3798142149211596],[0.6201857850788405]]]

Actual:   [[[0.3799], [0.6202]]]

Expected: [[[0.3799], [0.6202]]]