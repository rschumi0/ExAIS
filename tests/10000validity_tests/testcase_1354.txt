import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add62102 = tf.keras.layers.Input(shape=([1, 1]))
in1Add62102 = tf.keras.layers.Input(shape=([1, 1]))
in0Con66578 = tf.keras.layers.Input(shape=([1, 1, 2, 1]))
in0Mul48181 = tf.keras.layers.Input(shape=([1, 1, 2, 2]))
in1Mul48181 = tf.keras.layers.Input(shape=([1, 1, 2, 2]))

Add62102 = keras.layers.Add(name = 'Add62102', )([in0Add62102,in1Add62102])
Res43493 = keras.layers.Reshape((1, 1, 1), name = 'Res43493', )(Add62102)
Res38335 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res38335', )(Res43493)
Cro58990 = keras.layers.Cropping3D(cropping=((0, 0), (0, 0), (0, 0)), name = 'Cro58990', )(Res38335)
Zer8130 = keras.layers.ZeroPadding3D(padding=((0, 0), (0, 0), (1, 0)), name = 'Zer8130', )(Cro58990)
Con66578 = keras.layers.Concatenate(axis=4, name = 'Con66578', )([Zer8130,in0Con66578])
Mul48181 = keras.layers.Multiply(name = 'Mul48181', )([in0Mul48181,in1Mul48181])
Mul82131 = keras.layers.Multiply(name = 'Mul82131', )([Con66578,Mul48181])
model = tf.keras.models.Model(inputs=[in0Add62102,in1Add62102,in0Con66578,in0Mul48181,in1Mul48181], outputs=Mul82131)
in0Add62102 = tf.constant([[[0.0248]]])
in1Add62102 = tf.constant([[[0.4792]]])
in0Con66578 = tf.constant([[[[[0.8978], [0.959]]]]])
in0Mul48181 = tf.constant([[[[[0.4537, 0.2106], [0.3261, 0.284]]]]])
in1Mul48181 = tf.constant([[[[[0.7724, 0.4393], [0.3211, 0.0027]]]]])
print (np.array2string(model.predict([in0Add62102,in1Add62102,in0Con66578,in0Mul48181,in1Mul48181],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Mul82131.png')

LAdd62102 = add_layer([[[[0.0248]]], [[[0.4792]]]], Add62102), 
LRes43493 = reshape_layer(Add62102, [1, 1, 1], Res43493), 
LRes38335 = reshape_layer(Res43493, [1, 1, 1, 1], Res38335), 
LCro58990 = cropping3D_layer(Res38335, 0, 0, 0, 0, 0, 0, Cro58990), 
LZer8130 = zero_padding3D_layer(Cro58990, 0, 0, 0, 0, 1, 0, Zer8130), 
LCon66578 = concatenate_layer([Zer8130,[[[[[0.8978], [0.959]]]]]], 4, Con66578), 
LMul48181 = multiply_layer([[[[[[0.4537, 0.2106], [0.3261, 0.284]]]]], [[[[[0.7724, 0.4393], [0.3211, 0.0027]]]]]], Mul48181), 
LMul82131 = multiply_layer([Con66578,Mul48181], Mul82131), 
exec_layers([LAdd62102,LRes43493,LRes38335,LCro58990,LZer8130,LCon66578,LMul48181,LMul82131],["Add62102","Res43493","Res38335","Cro58990","Zer8130","Con66578","Mul48181","Mul82131"],Mul82131,"Mul82131")

Actual (Unparsed): [[[[[0.0000000, 0.0830614], [0.0527742, 0.0007354]]]]]

Expected (Unparsed): [[[[[0.0,0.08306138552400001],[0.05277419784,0.0007353612]]]]]

Actual:   [[[[[0, 0.0831], [0.0528, 0.0008]]]]]

Expected: [[[[[0, 0.0831], [0.0528, 0.0008]]]]]