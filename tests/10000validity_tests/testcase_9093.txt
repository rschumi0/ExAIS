import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0PRe10989 = tf.keras.layers.Input(shape=([2, 2]))

PRe10989 = keras.layers.PReLU(name = 'PRe10989', input_shape=(2, 2))(in0PRe10989)
Con9937 = keras.layers.Conv1D(3, (1),strides=(1), padding='same', dilation_rate=(1), name = 'Con9937', )(PRe10989)
Up_59003 = keras.layers.UpSampling1D(size=(1), name = 'Up_59003', )(Con9937)
Res18967 = keras.layers.Reshape((2, 3, 1), name = 'Res18967', )(Up_59003)
Res73094 = keras.layers.Reshape((2, 3, 1, 1), name = 'Res73094', )(Res18967)
Up_68127 = keras.layers.UpSampling3D(size=(1, 2, 1), name = 'Up_68127', )(Res73094)
model = tf.keras.models.Model(inputs=[in0PRe10989], outputs=Up_68127)
w = model.get_layer('PRe10989').get_weights() 
w[0] = np.array([[0.767, 0.5118], [0.2955, 0.0649]])
model.get_layer('PRe10989').set_weights(w) 
w = model.get_layer('Con9937').get_weights() 
w[0] = np.array([[[0.8579, 0.234, 0.5727], [0.2749, 0.284, 0.4594]]])
w[1] = np.array([0, 0, 0])
model.get_layer('Con9937').set_weights(w) 
in0PRe10989 = tf.constant([[[0.7726, 0.5279], [0.4001, 0.096]]])
print (np.array2string(model.predict([in0PRe10989],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Up_68127.png')

LPRe10989 = prelu_layer([[[0.7726, 0.5279], [0.4001, 0.096]]], [[0.767, 0.5118], [0.2955, 0.0649]], PRe10989), 
LCon9937 = conv1D_layer(PRe10989, 1,[[[0.8579, 0.234, 0.5727], [0.2749, 0.284, 0.4594]]],[0, 0, 0], 1, true, 1, Con9937), 
LUp_59003 = up_sampling1D_layer(Con9937, 1, Up_59003), 
LRes18967 = reshape_layer(Up_59003, [2, 3, 1], Res18967), 
LRes73094 = reshape_layer(Res18967, [2, 3, 1, 1], Res73094), 
LUp_68127 = up_sampling3D_layer(Res73094, 1, 2, 1, Up_68127), 
exec_layers([LPRe10989,LCon9937,LUp_59003,LRes18967,LRes73094,LUp_68127],["PRe10989","Con9937","Up_59003","Res18967","Res73094","Up_68127"],Up_68127,"Up_68127")

Actual (Unparsed): [[[[[0.8079332]], [[0.8079332]], [[0.3307120]], [[0.3307120]], [[0.6849853]], [[0.6849853]]], [[[0.3696362]], [[0.3696362]], [[0.1208874]], [[0.1208874]], [[0.2732397]], [[0.2732397]]]]]

Expected (Unparsed): [[[[[0.8079332499999999]],[[0.8079332499999999]],[[0.330712]],[[0.330712]],[[0.68498528]],[[0.68498528]]],[[[0.36963619]],[[0.36963619]],[[0.1208874]],[[0.1208874]],[[0.27323967]],[[0.27323967]]]]]

Actual:   [[[[[0.808]], [[0.808]], [[0.3308]], [[0.3308]], [[0.685]], [[0.685]]], [[[0.3697]], [[0.3697]], [[0.1209]], [[0.1209]], [[0.2733]], [[0.2733]]]]]

Expected: [[[[[0.808]], [[0.808]], [[0.3308]], [[0.3308]], [[0.685]], [[0.685]]], [[[0.3697]], [[0.3697]], [[0.1209]], [[0.1209]], [[0.2733]], [[0.2733]]]]]