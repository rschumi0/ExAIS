import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot60594 = tf.keras.layers.Input(shape=([3]))
in1Dot60594 = tf.keras.layers.Input(shape=([3]))
in0Con46439 = tf.keras.layers.Input(shape=([1]))
in0Min33747 = tf.keras.layers.Input(shape=([1, 1, 2, 1]))
in1Min33747 = tf.keras.layers.Input(shape=([1, 1, 2, 1]))
in0Con33935 = tf.keras.layers.Input(shape=([1, 10]))
in0Sub59379 = tf.keras.layers.Input(shape=([2, 2, 2, 3]))
in1Sub59379 = tf.keras.layers.Input(shape=([2, 2, 2, 3]))
in0Glo4925 = tf.keras.layers.Input(shape=([2, 2, 2]))

Dot60594 = keras.layers.Dot(axes=(1, 1), name = 'Dot60594', )([in0Dot60594,in1Dot60594])
Con46439 = keras.layers.Concatenate(axis=1, name = 'Con46439', )([Dot60594,in0Con46439])
Min33747 = keras.layers.Minimum(name = 'Min33747', )([in0Min33747,in1Min33747])
Res26495 = keras.layers.Reshape((1, 1, 2), name = 'Res26495', )(Min33747)
Res94655 = keras.layers.Reshape((1, 2), name = 'Res94655', )(Res26495)
Con33935 = keras.layers.Concatenate(axis=2, name = 'Con33935', )([Res94655,in0Con33935])
Sub59379 = keras.layers.Subtract(name = 'Sub59379', )([in0Sub59379,in1Sub59379])
Res75138 = keras.layers.Reshape((2, 2, 6), name = 'Res75138', )(Sub59379)
Res33777 = keras.layers.Reshape((2, 12), name = 'Res33777', )(Res75138)
Dot81356 = keras.layers.Dot(axes=(2, 2), name = 'Dot81356', )([Con33935,Res33777])
Fla99779 = keras.layers.Flatten(name = 'Fla99779', )(Dot81356)
Glo4925 = keras.layers.GlobalMaxPool2D(name = 'Glo4925', )(in0Glo4925)
Mul5221 = keras.layers.Multiply(name = 'Mul5221', )([Fla99779,Glo4925])
Min42626 = keras.layers.Minimum(name = 'Min42626', )([Con46439,Mul5221])
model = tf.keras.models.Model(inputs=[in0Dot60594,in1Dot60594,in0Con46439,in0Min33747,in1Min33747,in0Con33935,in0Sub59379,in1Sub59379,in0Glo4925], outputs=Min42626)
in0Dot60594 = tf.constant([[0.1958, 0.4349, 0.0194]])
in1Dot60594 = tf.constant([[0.7975, 0.1337, 0.7862]])
in0Con46439 = tf.constant([[0.3248]])
in0Min33747 = tf.constant([[[[[0.7713], [0.1761]]]]])
in1Min33747 = tf.constant([[[[[0.5759], [0.6787]]]]])
in0Con33935 = tf.constant([[[0.2882, 0.1896, 0.6935, 0.7454, 0.4602, 0.9251, 0.6308, 0.0902, 0.2922, 0.57]]])
in0Sub59379 = tf.constant([[[[[0.8063, 0.6131, 0.1144], [0.5071, 0.9223, 0.8749]], [[0.9273, 0.2025, 0.8482], [0.9779, 0.6983, 0.9577]]], [[[0.966, 0.2162, 0.5109], [0.56, 0.4791, 0.7271]], [[0.4318, 0.2415, 0.3015], [0.6605, 0.9687, 0.1902]]]]])
in1Sub59379 = tf.constant([[[[[0.7443, 0.7082, 0.9707], [0.2512, 0.2818, 0.0865]], [[0.8237, 0.8924, 0.2979], [0.0664, 0.986, 0.2077]]], [[[0.7301, 0.7937, 0.0083], [0.5897, 0.9572, 0.456]], [[0.1867, 0.714, 0.1091], [0.8162, 0.9091, 0.6477]]]]])
in0Glo4925 = tf.constant([[[[1.2173, 1.7564], [1.5718, 1.2194]], [[1.2682, 1.7514], [1.6677, 1.2695]]]])
print (np.array2string(model.predict([in0Dot60594,in1Dot60594,in0Con46439,in0Min33747,in1Min33747,in0Con33935,in0Sub59379,in1Sub59379,in0Glo4925],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min42626.png')

LDot60594 = dot_layer([[0.1958, 0.4349, 0.0194]], [[0.7975, 0.1337, 0.7862]], 1, 1, Dot60594), 
LCon46439 = concatenate_layer([Dot60594,[[0.3248]]], 1, Con46439), 
LMin33747 = minimum_layer([[[[[[0.7713], [0.1761]]]]], [[[[[0.5759], [0.6787]]]]]], Min33747), 
LRes26495 = reshape_layer(Min33747, [1, 1, 2], Res26495), 
LRes94655 = reshape_layer(Res26495, [1, 2], Res94655), 
LCon33935 = concatenate_layer([Res94655,[[[0.2882, 0.1896, 0.6935, 0.7454, 0.4602, 0.9251, 0.6308, 0.0902, 0.2922, 0.57]]]], 2, Con33935), 
LSub59379 = subtract_layer([[[[[0.8063, 0.6131, 0.1144], [0.5071, 0.9223, 0.8749]], [[0.9273, 0.2025, 0.8482], [0.9779, 0.6983, 0.9577]]], [[[0.966, 0.2162, 0.5109], [0.56, 0.4791, 0.7271]], [[0.4318, 0.2415, 0.3015], [0.6605, 0.9687, 0.1902]]]]], [[[[[0.7443, 0.7082, 0.9707], [0.2512, 0.2818, 0.0865]], [[0.8237, 0.8924, 0.2979], [0.0664, 0.986, 0.2077]]], [[[0.7301, 0.7937, 0.0083], [0.5897, 0.9572, 0.456]], [[0.1867, 0.714, 0.1091], [0.8162, 0.9091, 0.6477]]]]], Sub59379), 
LRes75138 = reshape_layer(Sub59379, [2, 2, 6], Res75138), 
LRes33777 = reshape_layer(Res75138, [2, 12], Res33777), 
LDot81356 = dot_layer(Con33935,Res33777, 2, 2, Dot81356), 
LFla99779 = flatten_layer(Dot81356, Fla99779), 
LGlo4925 = global_max_pool2D_layer([[[[1.2173, 1.7564], [1.5718, 1.2194]], [[1.2682, 1.7514], [1.6677, 1.2695]]]], Glo4925), 
LMul5221 = multiply_layer([Fla99779,Glo4925], Mul5221), 
LMin42626 = minimum_layer([Con46439,Mul5221], Min42626), 
exec_layers([LDot60594,LCon46439,LMin33747,LRes26495,LRes94655,LCon33935,LSub59379,LRes75138,LRes33777,LDot81356,LFla99779,LGlo4925,LMul5221,LMin42626],["Dot60594","Con46439","Min33747","Res26495","Res94655","Con33935","Sub59379","Res75138","Res33777","Dot81356","Fla99779","Glo4925","Mul5221","Min42626"],Min42626,"Min42626")

Actual (Unparsed): [[0.2295489, -0.7314737]]

Expected (Unparsed): [[0.22954891,-0.731473821672]]

Actual:   [[0.2296, -0.7314]]

Expected: [[0.2296, -0.7314]]