import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Cro22244 = tf.keras.layers.Input(shape=([1, 4]))
in0Con87179 = tf.keras.layers.Input(shape=([1, 8, 1]))
in0Up_42179 = tf.keras.layers.Input(shape=([1, 4, 2]))

Cro22244 = keras.layers.Cropping1D(cropping=((0, 0)), name = 'Cro22244', )(in0Cro22244)
Thr9466 = keras.layers.ThresholdedReLU(theta=0.6451395429302287, name = 'Thr9466', )(Cro22244)
Res98006 = keras.layers.Reshape((1, 4, 1), name = 'Res98006', )(Thr9466)
Zer88632 = keras.layers.ZeroPadding2D(padding=((0, 0), (4, 0)), name = 'Zer88632', )(Res98006)
Con87179 = keras.layers.Concatenate(axis=3, name = 'Con87179', )([Zer88632,in0Con87179])
Up_42179 = keras.layers.UpSampling2D(size=(1, 2), name = 'Up_42179', )(in0Up_42179)
Max4401 = keras.layers.Maximum(name = 'Max4401', )([Con87179,Up_42179])
Res65110 = keras.layers.Reshape((1, 16), name = 'Res65110', )(Max4401)
Glo18811 = keras.layers.GlobalMaxPool1D(name = 'Glo18811', )(Res65110)
Res30182 = keras.layers.Reshape((16, 1), name = 'Res30182', )(Glo18811)
Res98482 = keras.layers.Reshape((16, 1, 1), name = 'Res98482', )(Res30182)
Glo34986 = keras.layers.GlobalMaxPool2D(name = 'Glo34986', )(Res98482)
model = tf.keras.models.Model(inputs=[in0Cro22244,in0Con87179,in0Up_42179], outputs=Glo34986)
in0Cro22244 = tf.constant([[[1.4882, 1.5772, 1.913, 1.018]]])
in0Con87179 = tf.constant([[[[0.742], [0.1744], [0.3179], [0.762], [0.9727], [0.9251], [0.6335], [0.69]]]])
in0Up_42179 = tf.constant([[[[1.2232, 1.7094], [1.0252, 1.592], [1.2553, 1.1921], [1.5432, 1.8849]]]])
print (np.array2string(model.predict([in0Cro22244,in0Con87179,in0Up_42179],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo34986.png')

LCro22244 = cropping1D_layer([[[1.4882, 1.5772, 1.913, 1.018]]], 0, 0, Cro22244), 
LThr9466 = thresholded_relu_layer(Cro22244, 0.6451395429302287, Thr9466), 
LRes98006 = reshape_layer(Thr9466, [1, 4, 1], Res98006), 
LZer88632 = zero_padding2D_layer(Res98006, 0, 0, 4, 0, Zer88632), 
LCon87179 = concatenate_layer([Zer88632,[[[[0.742], [0.1744], [0.3179], [0.762], [0.9727], [0.9251], [0.6335], [0.69]]]]], 3, Con87179), 
LUp_42179 = up_sampling2D_layer([[[[1.2232, 1.7094], [1.0252, 1.592], [1.2553, 1.1921], [1.5432, 1.8849]]]], 1, 2, Up_42179), 
LMax4401 = maximum_layer([Con87179,Up_42179], Max4401), 
LRes65110 = reshape_layer(Max4401, [1, 16], Res65110), 
LGlo18811 = global_max_pool1D_layer(Res65110, Glo18811), 
LRes30182 = reshape_layer(Glo18811, [16, 1], Res30182), 
LRes98482 = reshape_layer(Res30182, [16, 1, 1], Res98482), 
LGlo34986 = global_max_pool2D_layer(Res98482, Glo34986), 
exec_layers([LCro22244,LThr9466,LRes98006,LZer88632,LCon87179,LUp_42179,LMax4401,LRes65110,LGlo18811,LRes30182,LRes98482,LGlo34986],["Cro22244","Thr9466","Res98006","Zer88632","Con87179","Up_42179","Max4401","Res65110","Glo18811","Res30182","Res98482","Glo34986"],Glo34986,"Glo34986")

Actual (Unparsed): [[1.9130000]]

Expected (Unparsed): [[1.913]]

Actual:   [[1.913]]

Expected: [[1.913]]