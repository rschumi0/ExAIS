import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Zer11149 = tf.keras.layers.Input(shape=([3, 3]))
in0Ave59046 = tf.keras.layers.Input(shape=([1, 1]))
in1Ave59046 = tf.keras.layers.Input(shape=([1, 1]))
in0Con14949 = tf.keras.layers.Input(shape=([5, 2]))

Zer11149 = keras.layers.ZeroPadding1D(padding=((1, 1)), name = 'Zer11149', )(in0Zer11149)
Ave59046 = keras.layers.Average(name = 'Ave59046', )([in0Ave59046,in1Ave59046])
Zer9596 = keras.layers.ZeroPadding1D(padding=((4, 0)), name = 'Zer9596', )(Ave59046)
Con14949 = keras.layers.Concatenate(axis=2, name = 'Con14949', )([Zer9596,in0Con14949])
Add26776 = keras.layers.Add(name = 'Add26776', )([Zer11149,Con14949])
model = tf.keras.models.Model(inputs=[in0Zer11149,in0Ave59046,in1Ave59046,in0Con14949], outputs=Add26776)
in0Zer11149 = tf.constant([[[1.6432, 1.662, 1.7838], [1.7595, 1.339, 1.8015], [1.2933, 1.6558, 1.8071]]])
in0Ave59046 = tf.constant([[[0.3887]]])
in1Ave59046 = tf.constant([[[0.8171]]])
in0Con14949 = tf.constant([[[0.3356, 0.0941], [0.0391, 0.5951], [0.2552, 0.8046], [0.9684, 0.2483], [0.8369, 0.2266]]])
print (np.array2string(model.predict([in0Zer11149,in0Ave59046,in1Ave59046,in0Con14949],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add26776.png')

LZer11149 = zero_padding1D_layer([[[1.6432, 1.662, 1.7838], [1.7595, 1.339, 1.8015], [1.2933, 1.6558, 1.8071]]], 1, 1, Zer11149), 
LAve59046 = average_layer([[[[0.3887]]], [[[0.8171]]]], Ave59046), 
LZer9596 = zero_padding1D_layer(Ave59046, 4, 0, Zer9596), 
LCon14949 = concatenate_layer([Zer9596,[[[0.3356, 0.0941], [0.0391, 0.5951], [0.2552, 0.8046], [0.9684, 0.2483], [0.8369, 0.2266]]]], 2, Con14949), 
LAdd26776 = add_layer([Zer11149,Con14949], Add26776), 
exec_layers([LZer11149,LAve59046,LZer9596,LCon14949,LAdd26776],["Zer11149","Ave59046","Zer9596","Con14949","Add26776"],Add26776,"Add26776")

Actual (Unparsed): [[[0.0000000, 0.3356000, 0.0941000], [1.6432000, 1.7010999, 2.3789000], [1.7595000, 1.5942000, 2.6061000], [1.2933000, 2.6242000, 2.0554001], [0.6029000, 0.8369000, 0.2266000]]]

Expected (Unparsed): [[[0,0.3356,0.0941],[1.6432,1.7010999999999998,2.3789],[1.7595,1.5941999999999998,2.6061],[1.2933,2.6242,2.0554],[0.6029,0.8369,0.2266]]]

Actual:   [[[0, 0.3356, 0.0941], [1.6432, 1.7011, 2.3789], [1.7595, 1.5942, 2.6061], [1.2933, 2.6242, 2.0555], [0.6029, 0.8369, 0.2266]]]

Expected: [[[0, 0.3356, 0.0941], [1.6432, 1.7011, 2.3789], [1.7595, 1.5942, 2.6061], [1.2933, 2.6242, 2.0554], [0.6029, 0.8369, 0.2266]]]