import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Loc34701 = tf.keras.layers.Input(shape=([2, 2]))

Loc34701 = keras.layers.LocallyConnected1D(3, (2),strides=(2), name = 'Loc34701', )(in0Loc34701)
Res42450 = keras.layers.Reshape((1, 3, 1), name = 'Res42450', )(Loc34701)
Res26902 = keras.layers.Reshape((1, 3, 1, 1), name = 'Res26902', )(Res42450)
Cro42035 = keras.layers.Cropping3D(cropping=((0, 0), (1, 1), (0, 0)), name = 'Cro42035', )(Res26902)
model = tf.keras.models.Model(inputs=[in0Loc34701], outputs=Cro42035)
w = model.get_layer('Loc34701').get_weights() 
w[0] = np.array([[[0.4656, 0.5202, 0.5433], [0.9663, 0.0433, 0.3644], [0.2365, 0.9213, 0.9618], [0.0152, 0.1475, 0.1723]]])
w[1] = np.array([[0, 0, 0]])
model.get_layer('Loc34701').set_weights(w) 
in0Loc34701 = tf.constant([[[0.2396, 0.8625], [0.1054, 0.0348]]])
print (np.array2string(model.predict([in0Loc34701],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Cro42035.png')

LLoc34701 = locally_connected1D_layer([[[0.2396, 0.8625], [0.1054, 0.0348]]], 2,[[[0.4656, 0.5202, 0.5433], [0.9663, 0.0433, 0.3644], [0.2365, 0.9213, 0.9618], [0.0152, 0.1475, 0.1723]]],[[0, 0, 0]], 2, Loc34701), 
LRes42450 = reshape_layer(Loc34701, [1, 3, 1], Res42450), 
LRes26902 = reshape_layer(Res42450, [1, 3, 1, 1], Res26902), 
LCro42035 = cropping3D_layer(Res26902, 0, 0, 1, 1, 0, 0, Cro42035), 
exec_layers([LLoc34701,LRes42450,LRes26902,LCro42035],["Loc34701","Res42450","Res26902","Cro42035"],Cro42035,"Cro42035")

Actual (Unparsed): [[[[[0.2642242]]]]]

Expected (Unparsed): [[[[[0.26422419]]]]]

Actual:   [[[[[0.2643]]]]]

Expected: [[[[[0.2643]]]]]