import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add22417 = tf.keras.layers.Input(shape=([1, 1, 2]))
in1Add22417 = tf.keras.layers.Input(shape=([1, 1, 2]))
in0Con8126 = tf.keras.layers.Input(shape=([1, 1]))
in0Cro91613 = tf.keras.layers.Input(shape=([1, 3]))
in0Max45103 = tf.keras.layers.Input(shape=([2, 1, 1]))
in1Max45103 = tf.keras.layers.Input(shape=([2, 1, 1]))
in0Mul7458 = tf.keras.layers.Input(shape=([1, 2]))
in1Mul7458 = tf.keras.layers.Input(shape=([1, 2]))
in0Con60361 = tf.keras.layers.Input(shape=([2, 3]))

Add22417 = keras.layers.Add(name = 'Add22417', )([in0Add22417,in1Add22417])
Res81018 = keras.layers.Reshape((1, 2), name = 'Res81018', )(Add22417)
Con8126 = keras.layers.Concatenate(axis=2, name = 'Con8126', )([Res81018,in0Con8126])
Cro91613 = keras.layers.Cropping1D(cropping=((0, 0)), name = 'Cro91613', )(in0Cro91613)
Add80756 = keras.layers.Add(name = 'Add80756', )([Con8126,Cro91613])
Res1601 = keras.layers.Reshape((1, 3, 1), name = 'Res1601', )(Add80756)
Zer65957 = keras.layers.ZeroPadding2D(padding=((1, 0), (2, 0)), name = 'Zer65957', )(Res1601)
Max45103 = keras.layers.Maximum(name = 'Max45103', )([in0Max45103,in1Max45103])
Zer65002 = keras.layers.ZeroPadding2D(padding=((0, 0), (4, 0)), name = 'Zer65002', )(Max45103)
Mul89404 = keras.layers.Multiply(name = 'Mul89404', )([Zer65957,Zer65002])
Res31452 = keras.layers.Reshape((2, 5), name = 'Res31452', )(Mul89404)
Mul7458 = keras.layers.Multiply(name = 'Mul7458', )([in0Mul7458,in1Mul7458])
Zer55950 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer55950', )(Mul7458)
Con60361 = keras.layers.Concatenate(axis=2, name = 'Con60361', )([Zer55950,in0Con60361])
Min83230 = keras.layers.Minimum(name = 'Min83230', )([Res31452,Con60361])
Glo38261 = keras.layers.GlobalMaxPool1D(name = 'Glo38261', )(Min83230)
model = tf.keras.models.Model(inputs=[in0Add22417,in1Add22417,in0Con8126,in0Cro91613,in0Max45103,in1Max45103,in0Mul7458,in1Mul7458,in0Con60361], outputs=Glo38261)
in0Add22417 = tf.constant([[[[0.2541, 0.4561]]]])
in1Add22417 = tf.constant([[[[0.0112, 0.9368]]]])
in0Con8126 = tf.constant([[[0.1581]]])
in0Cro91613 = tf.constant([[[1.5401, 1.3078, 1.8996]]])
in0Max45103 = tf.constant([[[[0.943]], [[0.5571]]]])
in1Max45103 = tf.constant([[[[0.0865]], [[0.3561]]]])
in0Mul7458 = tf.constant([[[0.4574, 0.9638]]])
in1Mul7458 = tf.constant([[[0.1742, 0.7157]]])
in0Con60361 = tf.constant([[[0.6003, 0.5728, 0.76], [0.094, 0.5136, 0.2524]]])
print (np.array2string(model.predict([in0Add22417,in1Add22417,in0Con8126,in0Cro91613,in0Max45103,in1Max45103,in0Mul7458,in1Mul7458,in0Con60361],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo38261.png')

LAdd22417 = add_layer([[[[[0.2541, 0.4561]]]], [[[[0.0112, 0.9368]]]]], Add22417), 
LRes81018 = reshape_layer(Add22417, [1, 2], Res81018), 
LCon8126 = concatenate_layer([Res81018,[[[0.1581]]]], 2, Con8126), 
LCro91613 = cropping1D_layer([[[1.5401, 1.3078, 1.8996]]], 0, 0, Cro91613), 
LAdd80756 = add_layer([Con8126,Cro91613], Add80756), 
LRes1601 = reshape_layer(Add80756, [1, 3, 1], Res1601), 
LZer65957 = zero_padding2D_layer(Res1601, 1, 0, 2, 0, Zer65957), 
LMax45103 = maximum_layer([[[[[0.943]], [[0.5571]]]], [[[[0.0865]], [[0.3561]]]]], Max45103), 
LZer65002 = zero_padding2D_layer(Max45103, 0, 0, 4, 0, Zer65002), 
LMul89404 = multiply_layer([Zer65957,Zer65002], Mul89404), 
LRes31452 = reshape_layer(Mul89404, [2, 5], Res31452), 
LMul7458 = multiply_layer([[[[0.4574, 0.9638]]], [[[0.1742, 0.7157]]]], Mul7458), 
LZer55950 = zero_padding1D_layer(Mul7458, 1, 0, Zer55950), 
LCon60361 = concatenate_layer([Zer55950,[[[0.6003, 0.5728, 0.76], [0.094, 0.5136, 0.2524]]]], 2, Con60361), 
LMin83230 = minimum_layer([Res31452,Con60361], Min83230), 
LGlo38261 = global_max_pool1D_layer(Min83230, Glo38261), 
exec_layers([LAdd22417,LRes81018,LCon8126,LCro91613,LAdd80756,LRes1601,LZer65957,LMax45103,LZer65002,LMul89404,LRes31452,LMul7458,LZer55950,LCon60361,LMin83230,LGlo38261],["Add22417","Res81018","Con8126","Cro91613","Add80756","Res1601","Zer65957","Max45103","Zer65002","Mul89404","Res31452","Mul7458","Zer55950","Con60361","Min83230","Glo38261"],Glo38261,"Glo38261")

Actual (Unparsed): [[0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.2524000]]

Expected (Unparsed): [[0,0,0.0,0.0,0.2524]]

Actual:   [[0, 0, 0, 0, 0.2524]]

Expected: [[0, 0, 0, 0, 0.2524]]