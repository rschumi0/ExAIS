import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub18776 = tf.keras.layers.Input(shape=([3, 3]))
in1Sub18776 = tf.keras.layers.Input(shape=([3, 3]))

Sub18776 = keras.layers.Subtract(name = 'Sub18776', )([in0Sub18776,in1Sub18776])
Per96872 = keras.layers.Permute((1,2), name = 'Per96872',)(Sub18776)
model = tf.keras.models.Model(inputs=[in0Sub18776,in1Sub18776], outputs=Per96872)
in0Sub18776 = tf.constant([[[0.7975, 0.6268, 0.5985], [0.3411, 0.4969, 0.7445], [0.9987, 0.6783, 0.0139]]])
in1Sub18776 = tf.constant([[[0.0279, 0.0435, 0.3189], [0.9122, 0.1908, 0.7575], [0.9841, 0.699, 0.3511]]])
print (np.array2string(model.predict([in0Sub18776,in1Sub18776],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Per96872.png')

LSub18776 = subtract_layer([[[0.7975, 0.6268, 0.5985], [0.3411, 0.4969, 0.7445], [0.9987, 0.6783, 0.0139]]], [[[0.0279, 0.0435, 0.3189], [0.9122, 0.1908, 0.7575], [0.9841, 0.699, 0.3511]]], Sub18776), 
LPer96872 = permute_layer(Sub18776, 1,2, Per96872), 
exec_layers([LSub18776,LPer96872],["Sub18776","Per96872"],Per96872,"Per96872")

Actual (Unparsed): [[[0.7696000, 0.5833000, 0.2796000], [-0.5711000, 0.3061000, -0.0130000], [0.0146000, -0.0207000, -0.3372000]]]

Expected (Unparsed): [[[0.7696,0.5833,0.2796],[-0.5710999999999999,0.30610000000000004,-0.0129999999999999],[0.014600000000000057,-0.02069999999999994,-0.3372]]]

Actual:   [[[0.7696, 0.5833, 0.2796], [-0.5711, 0.3061, -0.013], [0.0146, -0.0207, -0.3372]]]

Expected: [[[0.7696, 0.5833, 0.2796], [-0.571, 0.3062, -0.0129], [0.0147, -0.0206, -0.3372]]]