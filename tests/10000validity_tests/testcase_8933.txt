import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add85863 = tf.keras.layers.Input(shape=([1, 2]))
in1Add85863 = tf.keras.layers.Input(shape=([1, 2]))
in0Mul69588 = tf.keras.layers.Input(shape=([1, 2]))
in1Mul69588 = tf.keras.layers.Input(shape=([1, 2]))
in0Con42319 = tf.keras.layers.Input(shape=([1]))

Add85863 = keras.layers.Add(name = 'Add85863', )([in0Add85863,in1Add85863])
Fla26547 = keras.layers.Flatten(name = 'Fla26547', )(Add85863)
Mul69588 = keras.layers.Multiply(name = 'Mul69588', )([in0Mul69588,in1Mul69588])
Res69320 = keras.layers.Reshape((1, 2, 1), name = 'Res69320', )(Mul69588)
Res74778 = keras.layers.Reshape((1, 2, 1, 1), name = 'Res74778', )(Res69320)
Glo53516 = keras.layers.GlobalMaxPool3D(name = 'Glo53516', )(Res74778)
Con42319 = keras.layers.Concatenate(axis=1, name = 'Con42319', )([Glo53516,in0Con42319])
Max68568 = keras.layers.Maximum(name = 'Max68568', )([Fla26547,Con42319])
Res16065 = keras.layers.Reshape((2, 1), name = 'Res16065', )(Max68568)
Res13209 = keras.layers.Reshape((2, 1, 1), name = 'Res13209', )(Res16065)
Res17221 = keras.layers.Reshape((2, 1, 1, 1), name = 'Res17221', )(Res13209)
Up_37872 = keras.layers.UpSampling3D(size=(1, 2, 1), name = 'Up_37872', )(Res17221)
model = tf.keras.models.Model(inputs=[in0Add85863,in1Add85863,in0Mul69588,in1Mul69588,in0Con42319], outputs=Up_37872)
in0Add85863 = tf.constant([[[0.8792, 0.6893]]])
in1Add85863 = tf.constant([[[0.9354, 0.6853]]])
in0Mul69588 = tf.constant([[[0.8426, 0.5169]]])
in1Mul69588 = tf.constant([[[0.6577, 0.4613]]])
in0Con42319 = tf.constant([[0.8052]])
print (np.array2string(model.predict([in0Add85863,in1Add85863,in0Mul69588,in1Mul69588,in0Con42319],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Up_37872.png')

LAdd85863 = add_layer([[[[0.8792, 0.6893]]], [[[0.9354, 0.6853]]]], Add85863), 
LFla26547 = flatten_layer(Add85863, Fla26547), 
LMul69588 = multiply_layer([[[[0.8426, 0.5169]]], [[[0.6577, 0.4613]]]], Mul69588), 
LRes69320 = reshape_layer(Mul69588, [1, 2, 1], Res69320), 
LRes74778 = reshape_layer(Res69320, [1, 2, 1, 1], Res74778), 
LGlo53516 = global_max_pool3D_layer(Res74778, Glo53516), 
LCon42319 = concatenate_layer([Glo53516,[[0.8052]]], 1, Con42319), 
LMax68568 = maximum_layer([Fla26547,Con42319], Max68568), 
LRes16065 = reshape_layer(Max68568, [2, 1], Res16065), 
LRes13209 = reshape_layer(Res16065, [2, 1, 1], Res13209), 
LRes17221 = reshape_layer(Res13209, [2, 1, 1, 1], Res17221), 
LUp_37872 = up_sampling3D_layer(Res17221, 1, 2, 1, Up_37872), 
exec_layers([LAdd85863,LFla26547,LMul69588,LRes69320,LRes74778,LGlo53516,LCon42319,LMax68568,LRes16065,LRes13209,LRes17221,LUp_37872],["Add85863","Fla26547","Mul69588","Res69320","Res74778","Glo53516","Con42319","Max68568","Res16065","Res13209","Res17221","Up_37872"],Up_37872,"Up_37872")

Actual (Unparsed): [[[[[1.8146000]], [[1.8146000]]], [[[1.3746000]], [[1.3746000]]]]]

Expected (Unparsed): [[[[[1.8146]],[[1.8146]]],[[[1.3746]],[[1.3746]]]]]

Actual:   [[[[[1.8146]], [[1.8146]]], [[[1.3746]], [[1.3746]]]]]

Expected: [[[[[1.8146]], [[1.8146]]], [[[1.3746]], [[1.3746]]]]]