import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min61298 = tf.keras.layers.Input(shape=([1, 2]))
in1Min61298 = tf.keras.layers.Input(shape=([1, 2]))
in0Ave13792 = tf.keras.layers.Input(shape=([1, 1, 1]))

Min61298 = keras.layers.Minimum(name = 'Min61298', )([in0Min61298,in1Min61298])
Res22997 = keras.layers.Reshape((1, 2, 1), name = 'Res22997', )(Min61298)
Ave13792 = keras.layers.AveragePooling2D(pool_size=(1, 1), name = 'Ave13792', )(in0Ave13792)
Zer99837 = keras.layers.ZeroPadding2D(padding=((0, 0), (1, 0)), name = 'Zer99837', )(Ave13792)
Mul13521 = keras.layers.Multiply(name = 'Mul13521', )([Res22997,Zer99837])
Zer86325 = keras.layers.ZeroPadding2D(padding=((1, 1), (1, 1)), name = 'Zer86325', )(Mul13521)
model = tf.keras.models.Model(inputs=[in0Min61298,in1Min61298,in0Ave13792], outputs=Zer86325)
in0Min61298 = tf.constant([[[0.9332, 0.7732]]])
in1Min61298 = tf.constant([[[0.9618, 0.9967]]])
in0Ave13792 = tf.constant([[[[1.0573]]]])
print (np.array2string(model.predict([in0Min61298,in1Min61298,in0Ave13792],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Zer86325.png')

LMin61298 = minimum_layer([[[[0.9332, 0.7732]]], [[[0.9618, 0.9967]]]], Min61298), 
LRes22997 = reshape_layer(Min61298, [1, 2, 1], Res22997), 
LAve13792 = average_pooling2D_layer([[[[1.0573]]]], 1, 1, Ave13792), 
LZer99837 = zero_padding2D_layer(Ave13792, 0, 0, 1, 0, Zer99837), 
LMul13521 = multiply_layer([Res22997,Zer99837], Mul13521), 
LZer86325 = zero_padding2D_layer(Mul13521, 1, 1, 1, 1, Zer86325), 
exec_layers([LMin61298,LRes22997,LAve13792,LZer99837,LMul13521,LZer86325],["Min61298","Res22997","Ave13792","Zer99837","Mul13521","Zer86325"],Zer86325,"Zer86325")

Actual (Unparsed): [[[[0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.8175043], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000]]]]

Expected (Unparsed): [[[[0],[0],[0],[0]],[[0],[0.0],[0.8175043599999999],[0]],[[0],[0],[0],[0]]]]

Actual:   [[[[0], [0], [0], [0]], [[0], [0], [0.8176], [0]], [[0], [0], [0], [0]]]]

Expected: [[[[0], [0], [0], [0]], [[0], [0], [0.8176], [0]], [[0], [0], [0], [0]]]]