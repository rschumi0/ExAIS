import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot14195 = tf.keras.layers.Input(shape=([3]))
in1Dot14195 = tf.keras.layers.Input(shape=([3]))
in0Cro43029 = tf.keras.layers.Input(shape=([3, 3, 1]))
in0Dot16354 = tf.keras.layers.Input(shape=([3]))
in1Dot16354 = tf.keras.layers.Input(shape=([3]))

Dot14195 = keras.layers.Dot(axes=(1, 1), name = 'Dot14195', )([in0Dot14195,in1Dot14195])
Cro43029 = keras.layers.Cropping2D(cropping=((2, 0), (0, 2)), name = 'Cro43029', )(in0Cro43029)
Res7162 = keras.layers.Reshape((1, 1), name = 'Res7162', )(Cro43029)
Fla93039 = keras.layers.Flatten(name = 'Fla93039', )(Res7162)
Dot16354 = keras.layers.Dot(axes=(1, 1), name = 'Dot16354', )([in0Dot16354,in1Dot16354])
Lea54554 = keras.layers.LeakyReLU(alpha=9.608078946829762, name = 'Lea54554', )(Dot16354)
Dot81251 = keras.layers.Dot(axes=(1, 1), name = 'Dot81251', )([Fla93039,Lea54554])
Min35604 = keras.layers.Minimum(name = 'Min35604', )([Dot14195,Dot81251])
model = tf.keras.models.Model(inputs=[in0Dot14195,in1Dot14195,in0Cro43029,in0Dot16354,in1Dot16354], outputs=Min35604)
in0Dot14195 = tf.constant([[0.3562, 0.4887, 0.6978]])
in1Dot14195 = tf.constant([[0.1892, 0.5335, 0.8517]])
in0Cro43029 = tf.constant([[[[1.7522], [1.981], [1.2883]], [[1.2934], [1.0347], [1.7553]], [[1.8231], [1.8134], [1.3588]]]])
in0Dot16354 = tf.constant([[0.2562, 0.4897, 0.6]])
in1Dot16354 = tf.constant([[0.9031, 0.4836, 0.2574]])
print (np.array2string(model.predict([in0Dot14195,in1Dot14195,in0Cro43029,in0Dot16354,in1Dot16354],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min35604.png')

LDot14195 = dot_layer([[0.3562, 0.4887, 0.6978]], [[0.1892, 0.5335, 0.8517]], 1, 1, Dot14195), 
LCro43029 = cropping2D_layer([[[[1.7522], [1.981], [1.2883]], [[1.2934], [1.0347], [1.7553]], [[1.8231], [1.8134], [1.3588]]]], 2, 0, 0, 2, Cro43029), 
LRes7162 = reshape_layer(Cro43029, [1, 1], Res7162), 
LFla93039 = flatten_layer(Res7162, Fla93039), 
LDot16354 = dot_layer([[0.2562, 0.4897, 0.6]], [[0.9031, 0.4836, 0.2574]], 1, 1, Dot16354), 
LLea54554 = leaky_relu_layer(Dot16354, 9.608078946829762, Lea54554), 
LDot81251 = dot_layer(Fla93039,Lea54554, 1, 1, Dot81251), 
LMin35604 = minimum_layer([Dot14195,Dot81251], Min35604), 
exec_layers([LDot14195,LCro43029,LRes7162,LFla93039,LDot16354,LLea54554,LDot81251,LMin35604],["Dot14195","Cro43029","Res7162","Fla93039","Dot16354","Lea54554","Dot81251","Min35604"],Min35604,"Min35604")

Actual (Unparsed): [[0.9224307]]

Expected (Unparsed): [[0.9224307500000001]]

Actual:   [[0.9225]]

Expected: [[0.9225]]