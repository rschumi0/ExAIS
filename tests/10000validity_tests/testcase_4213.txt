import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo7206 = tf.keras.layers.Input(shape=([1, 2]))
in0Con66009 = tf.keras.layers.Input(shape=([3, 2]))
in0Dot56226 = tf.keras.layers.Input(shape=([2, 3]))
in1Dot56226 = tf.keras.layers.Input(shape=([2, 3]))

Glo7206 = keras.layers.GlobalMaxPool1D(name = 'Glo7206', )(in0Glo7206)
Res36875 = keras.layers.Reshape((2, 1), name = 'Res36875', )(Glo7206)
Max23461 = keras.layers.MaxPool1D(pool_size=(2), strides=(1), padding='valid', name = 'Max23461', )(Res36875)
Zer45368 = keras.layers.ZeroPadding1D(padding=((2, 0)), name = 'Zer45368', )(Max23461)
Con66009 = keras.layers.Concatenate(axis=2, name = 'Con66009', )([Zer45368,in0Con66009])
Dot56226 = keras.layers.Dot(axes=(1, 1), name = 'Dot56226', )([in0Dot56226,in1Dot56226])
Max11496 = keras.layers.Maximum(name = 'Max11496', )([Con66009,Dot56226])
model = tf.keras.models.Model(inputs=[in0Glo7206,in0Con66009,in0Dot56226,in1Dot56226], outputs=Max11496)
in0Glo7206 = tf.constant([[[1.673, 1.1888]]])
in0Con66009 = tf.constant([[[0.2103, 0.7572], [0.7758, 0.3969], [0.2761, 0.804]]])
in0Dot56226 = tf.constant([[[0.778, 0.5068, 0.3412], [0.6663, 0.2542, 0.8097]]])
in1Dot56226 = tf.constant([[[0.1753, 0.6412, 0.0542], [0.9352, 0.1063, 0.7204]]])
print (np.array2string(model.predict([in0Glo7206,in0Con66009,in0Dot56226,in1Dot56226],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max11496.png')

LGlo7206 = global_max_pool1D_layer([[[1.673, 1.1888]]], Glo7206), 
LRes36875 = reshape_layer(Glo7206, [2, 1], Res36875), 
LMax23461 = max_pool1D_layer(Res36875, 2, 1, false, Max23461), 
LZer45368 = zero_padding1D_layer(Max23461, 2, 0, Zer45368), 
LCon66009 = concatenate_layer([Zer45368,[[[0.2103, 0.7572], [0.7758, 0.3969], [0.2761, 0.804]]]], 2, Con66009), 
LDot56226 = dot_layer([[[0.778, 0.5068, 0.3412], [0.6663, 0.2542, 0.8097]]], [[[0.1753, 0.6412, 0.0542], [0.9352, 0.1063, 0.7204]]], 1, 1, Dot56226), 
LMax11496 = maximum_layer([Con66009,Dot56226], Max11496), 
exec_layers([LGlo7206,LRes36875,LMax23461,LZer45368,LCon66009,LDot56226,LMax11496],["Glo7206","Res36875","Max23461","Zer45368","Con66009","Dot56226","Max11496"],Max11496,"Max11496")

Actual (Unparsed): [[[0.7595071, 0.5696813, 0.7572000], [0.3265699, 0.7758000, 0.3969000], [1.6730000, 0.3048485, 0.8040000]]]

Expected (Unparsed): [[[0.7595071600000001,0.56968129,0.7572],[0.32656988,0.7758,0.3969],[1.673,0.30484855,0.804]]]

Actual:   [[[0.7596, 0.5697, 0.7572], [0.3266, 0.7758, 0.3969], [1.673, 0.3049, 0.804]]]

Expected: [[[0.7596, 0.5697, 0.7572], [0.3266, 0.7758, 0.3969], [1.673, 0.3049, 0.804]]]