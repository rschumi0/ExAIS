import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave81461 = tf.keras.layers.Input(shape=([2, 1, 2, 1]))
in1Ave81461 = tf.keras.layers.Input(shape=([2, 1, 2, 1]))

Ave81461 = keras.layers.Average(name = 'Ave81461', )([in0Ave81461,in1Ave81461])
Glo24454 = keras.layers.GlobalAveragePooling3D(name = 'Glo24454', )(Ave81461)
Lea27851 = keras.layers.LeakyReLU(alpha=6.180572815391323, name = 'Lea27851', )(Glo24454)
Res51692 = keras.layers.Reshape((1, 1), name = 'Res51692', )(Lea27851)
Max63882 = keras.layers.MaxPool1D(pool_size=(1), strides=(1), padding='valid', name = 'Max63882', )(Res51692)
model = tf.keras.models.Model(inputs=[in0Ave81461,in1Ave81461], outputs=Max63882)
in0Ave81461 = tf.constant([[[[[0.289], [0.7531]]], [[[0.011], [0.3748]]]]])
in1Ave81461 = tf.constant([[[[[0.2584], [0.9741]]], [[[0.1514], [0.077]]]]])
print (np.array2string(model.predict([in0Ave81461,in1Ave81461],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max63882.png')

LAve81461 = average_layer([[[[[[0.289], [0.7531]]], [[[0.011], [0.3748]]]]], [[[[[0.2584], [0.9741]]], [[[0.1514], [0.077]]]]]], Ave81461), 
LGlo24454 = global_average_pooling3D_layer(Ave81461, Glo24454), 
LLea27851 = leaky_relu_layer(Glo24454, 6.180572815391323, Lea27851), 
LRes51692 = reshape_layer(Lea27851, [1, 1], Res51692), 
LMax63882 = max_pool1D_layer(Res51692, 1, 1, false, Max63882), 
exec_layers([LAve81461,LGlo24454,LLea27851,LRes51692,LMax63882],["Ave81461","Glo24454","Lea27851","Res51692","Max63882"],Max63882,"Max63882")

Actual (Unparsed): [[[0.3611000]]]

Expected (Unparsed): [[[0.3611]]]

Actual:   [[[0.3611]]]

Expected: [[[0.3611]]]