import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo56835 = tf.keras.layers.Input(shape=([2, 2]))
in0Add25049 = tf.keras.layers.Input(shape=([2, 1, 1]))
in1Add25049 = tf.keras.layers.Input(shape=([2, 1, 1]))

Glo56835 = keras.layers.GlobalAveragePooling1D(name = 'Glo56835', )(in0Glo56835)
Res6786 = keras.layers.Reshape((2, 1), name = 'Res6786', )(Glo56835)
Max18774 = keras.layers.MaxPool1D(pool_size=(1), name = 'Max18774', )(Res6786)
Res31753 = keras.layers.Reshape((2, 1, 1), name = 'Res31753', )(Max18774)
Add25049 = keras.layers.Add(name = 'Add25049', )([in0Add25049,in1Add25049])
Ave76940 = keras.layers.AveragePooling2D(pool_size=(1, 1), name = 'Ave76940', )(Add25049)
Add48280 = keras.layers.Add(name = 'Add48280', )([Res31753,Ave76940])
model = tf.keras.models.Model(inputs=[in0Glo56835,in0Add25049,in1Add25049], outputs=Add48280)
in0Glo56835 = tf.constant([[[1.6574, 1.7332], [1.335, 1.0531]]])
in0Add25049 = tf.constant([[[[0.8254]], [[0.3104]]]])
in1Add25049 = tf.constant([[[[0.1921]], [[0.3268]]]])
print (np.array2string(model.predict([in0Glo56835,in0Add25049,in1Add25049],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add48280.png')

LGlo56835 = global_average_pooling1D_layer([[[1.6574, 1.7332], [1.335, 1.0531]]], Glo56835), 
LRes6786 = reshape_layer(Glo56835, [2, 1], Res6786), 
LMax18774 = max_pool1D_layer(Res6786, 1, Max18774), 
LRes31753 = reshape_layer(Max18774, [2, 1, 1], Res31753), 
LAdd25049 = add_layer([[[[[0.8254]], [[0.3104]]]], [[[[0.1921]], [[0.3268]]]]], Add25049), 
LAve76940 = average_pooling2D_layer(Add25049, 1, 1, Ave76940), 
LAdd48280 = add_layer([Res31753,Ave76940], Add48280), 
exec_layers([LGlo56835,LRes6786,LMax18774,LRes31753,LAdd25049,LAve76940,LAdd48280],["Glo56835","Res6786","Max18774","Res31753","Add25049","Ave76940","Add48280"],Add48280,"Add48280")

Actual (Unparsed): [[[[2.5137000]], [[2.0303500]]]]

Expected (Unparsed): [[[[2.5137]],[[2.03035]]]]

Actual:   [[[[2.5137]], [[2.0304]]]]

Expected: [[[[2.5137]], [[2.0304]]]]