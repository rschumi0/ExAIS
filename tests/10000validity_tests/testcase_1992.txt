import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub7690 = tf.keras.layers.Input(shape=([3, 2, 2, 2]))
in1Sub7690 = tf.keras.layers.Input(shape=([3, 2, 2, 2]))

Sub7690 = keras.layers.Subtract(name = 'Sub7690', )([in0Sub7690,in1Sub7690])
Res22600 = keras.layers.Reshape((3, 2, 4), name = 'Res22600', )(Sub7690)
Res60160 = keras.layers.Reshape((3, 8), name = 'Res60160', )(Res22600)
Up_78301 = keras.layers.UpSampling1D(size=(1), name = 'Up_78301', )(Res60160)
model = tf.keras.models.Model(inputs=[in0Sub7690,in1Sub7690], outputs=Up_78301)
in0Sub7690 = tf.constant([[[[[0.1488, 0.1361], [0.4226, 0.5945]], [[0.7941, 0.6296], [0.056, 0.7711]]], [[[0.6425, 0.9697], [0.074, 0.5011]], [[0.3868, 0.879], [0.5477, 0.1388]]], [[[0.409, 0.5896], [0.059, 0.8318]], [[0.1375, 0.4178], [0.7986, 0.3641]]]]])
in1Sub7690 = tf.constant([[[[[0.0815, 0.8779], [0.8927, 0.1791]], [[0.0823, 0.3943], [0.0123, 0.8729]]], [[[0.9493, 0.3042], [0.7759, 0.0446]], [[0.1848, 0.6393], [0.3198, 0.6329]]], [[[0.9454, 0.1253], [0.6815, 0.7733]], [[0.7348, 0.9421], [0.3189, 0.7715]]]]])
print (np.array2string(model.predict([in0Sub7690,in1Sub7690],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Up_78301.png')

LSub7690 = subtract_layer([[[[[0.1488, 0.1361], [0.4226, 0.5945]], [[0.7941, 0.6296], [0.056, 0.7711]]], [[[0.6425, 0.9697], [0.074, 0.5011]], [[0.3868, 0.879], [0.5477, 0.1388]]], [[[0.409, 0.5896], [0.059, 0.8318]], [[0.1375, 0.4178], [0.7986, 0.3641]]]]], [[[[[0.0815, 0.8779], [0.8927, 0.1791]], [[0.0823, 0.3943], [0.0123, 0.8729]]], [[[0.9493, 0.3042], [0.7759, 0.0446]], [[0.1848, 0.6393], [0.3198, 0.6329]]], [[[0.9454, 0.1253], [0.6815, 0.7733]], [[0.7348, 0.9421], [0.3189, 0.7715]]]]], Sub7690), 
LRes22600 = reshape_layer(Sub7690, [3, 2, 4], Res22600), 
LRes60160 = reshape_layer(Res22600, [3, 8], Res60160), 
LUp_78301 = up_sampling1D_layer(Res60160, 1, Up_78301), 
exec_layers([LSub7690,LRes22600,LRes60160,LUp_78301],["Sub7690","Res22600","Res60160","Up_78301"],Up_78301,"Up_78301")

Actual (Unparsed): [[[0.0673000, -0.7418000, -0.4701000, 0.4154000, 0.7118000, 0.2353000, 0.0437000, -0.1018000], [-0.3068000, 0.6655000, -0.7019000, 0.4565000, 0.2020000, 0.2397000, 0.2279000, -0.4941000], [-0.5364000, 0.4643000, -0.6225000, 0.0585000, -0.5973000, -0.5243000, 0.4797000, -0.4074000]]]

Expected (Unparsed): [[[0.06729999999999998,-0.7418,-0.4701000000000001,0.4154,0.7118,0.23530000000000006,0.0437,-0.1018],[-0.3068000000000001,0.6655,-0.7019000000000001,0.4565,0.20199999999999999,0.23970000000000002,0.2279,-0.4941],[-0.5364,0.46430000000000005,-0.6225,0.058499999999999996,-0.5972999999999999,-0.5243,0.47969999999999996,-0.4074]]]

Actual:   [[[0.0673, -0.7418, -0.4701, 0.4154, 0.7118, 0.2353, 0.0437, -0.1018], [-0.3068, 0.6655, -0.7019, 0.4565, 0.202, 0.2397, 0.2279, -0.4941], [-0.5364, 0.4643, -0.6225, 0.0585, -0.5973, -0.5243, 0.4797, -0.4074]]]

Expected: [[[0.0673, -0.7418, -0.4701, 0.4154, 0.7118, 0.2354, 0.0437, -0.1018], [-0.3068, 0.6655, -0.7019, 0.4565, 0.202, 0.2398, 0.2279, -0.4941], [-0.5364, 0.4644, -0.6225, 0.0585, -0.5972, -0.5243, 0.4797, -0.4074]]]