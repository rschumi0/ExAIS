import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul85721 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))
in1Mul85721 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))

Mul85721 = keras.layers.Multiply(name = 'Mul85721', )([in0Mul85721,in1Mul85721])
Res48724 = keras.layers.Reshape((2, 1, 1), name = 'Res48724', )(Mul85721)
Res55511 = keras.layers.Reshape((2, 1), name = 'Res55511', )(Res48724)
Loc6565 = keras.layers.LocallyConnected1D(2, (2),strides=(1), name = 'Loc6565', )(Res55511)
model = tf.keras.models.Model(inputs=[in0Mul85721,in1Mul85721], outputs=Loc6565)
w = model.get_layer('Loc6565').get_weights() 
w[0] = np.array([[[0.1088, 0.0469], [0.9655, 0.5607]]])
w[1] = np.array([[0, 0]])
model.get_layer('Loc6565').set_weights(w) 
in0Mul85721 = tf.constant([[[[[0.7093]]], [[[0.7899]]]]])
in1Mul85721 = tf.constant([[[[[0.2039]]], [[[0.5389]]]]])
print (np.array2string(model.predict([in0Mul85721,in1Mul85721],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Loc6565.png')

LMul85721 = multiply_layer([[[[[[0.7093]]], [[[0.7899]]]]], [[[[[0.2039]]], [[[0.5389]]]]]], Mul85721), 
LRes48724 = reshape_layer(Mul85721, [2, 1, 1], Res48724), 
LRes55511 = reshape_layer(Res48724, [2, 1], Res55511), 
LLoc6565 = locally_connected1D_layer(Res55511, 2,[[[0.1088, 0.0469], [0.9655, 0.5607]]],[[0, 0]], 1, Loc6565), 
exec_layers([LMul85721,LRes48724,LRes55511,LLoc6565],["Mul85721","Res48724","Res55511","Loc6565"],Loc6565,"Loc6565")

Actual (Unparsed): [[[0.4267266, 0.2454601]]]

Expected (Unparsed): [[[0.42672658788100004,0.24546012764000003]]]

Actual:   [[[0.4268, 0.2455]]]

Expected: [[[0.4268, 0.2455]]]