import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0ELU79282 = tf.keras.layers.Input(shape=([1, 1]))
in0Con96108 = tf.keras.layers.Input(shape=([2, 1]))
in0Ave91159 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))
in1Ave91159 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))
in0Mul28864 = tf.keras.layers.Input(shape=([2, 1, 1]))
in1Mul28864 = tf.keras.layers.Input(shape=([2, 1, 1]))

ELU79282 = keras.layers.ELU(alpha=0.23119680781240604, name = 'ELU79282', input_shape=(1, 1))(in0ELU79282)
Zer70158 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer70158', )(ELU79282)
Con96108 = keras.layers.Concatenate(axis=2, name = 'Con96108', )([Zer70158,in0Con96108])
Ave91159 = keras.layers.Average(name = 'Ave91159', )([in0Ave91159,in1Ave91159])
Res31474 = keras.layers.Reshape((2, 1, 1), name = 'Res31474', )(Ave91159)
Res19845 = keras.layers.Reshape((2, 1), name = 'Res19845', )(Res31474)
Mul28864 = keras.layers.Multiply(name = 'Mul28864', )([in0Mul28864,in1Mul28864])
Res20926 = keras.layers.Reshape((2, 1), name = 'Res20926', )(Mul28864)
Dot48354 = keras.layers.Dot(axes=(2, 2), name = 'Dot48354', )([Res19845,Res20926])
Add84150 = keras.layers.Add(name = 'Add84150', )([Con96108,Dot48354])
model = tf.keras.models.Model(inputs=[in0ELU79282,in0Con96108,in0Ave91159,in1Ave91159,in0Mul28864,in1Mul28864], outputs=Add84150)
in0ELU79282 = tf.constant([[[0.8483]]])
in0Con96108 = tf.constant([[[0.6292], [0.702]]])
in0Ave91159 = tf.constant([[[[[0.9908]]], [[[0.0141]]]]])
in1Ave91159 = tf.constant([[[[[0.6472]]], [[[0.5069]]]]])
in0Mul28864 = tf.constant([[[[0.5257]], [[0.9969]]]])
in1Mul28864 = tf.constant([[[[0.9832]], [[0.1785]]]])
print (np.array2string(model.predict([in0ELU79282,in0Con96108,in0Ave91159,in1Ave91159,in0Mul28864,in1Mul28864],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add84150.png')

LELU79282 = elu_layer([[[0.8483]]], 0.23119680781240604, ELU79282), 
LZer70158 = zero_padding1D_layer(ELU79282, 1, 0, Zer70158), 
LCon96108 = concatenate_layer([Zer70158,[[[0.6292], [0.702]]]], 2, Con96108), 
LAve91159 = average_layer([[[[[[0.9908]]], [[[0.0141]]]]], [[[[[0.6472]]], [[[0.5069]]]]]], Ave91159), 
LRes31474 = reshape_layer(Ave91159, [2, 1, 1], Res31474), 
LRes19845 = reshape_layer(Res31474, [2, 1], Res19845), 
LMul28864 = multiply_layer([[[[[0.5257]], [[0.9969]]]], [[[[0.9832]], [[0.1785]]]]], Mul28864), 
LRes20926 = reshape_layer(Mul28864, [2, 1], Res20926), 
LDot48354 = dot_layer(Res19845,Res20926, 2, 2, Dot48354), 
LAdd84150 = add_layer([Con96108,Dot48354], Add84150), 
exec_layers([LELU79282,LZer70158,LCon96108,LAve91159,LRes31474,LRes19845,LMul28864,LRes20926,LDot48354,LAdd84150],["ELU79282","Zer70158","Con96108","Ave91159","Res31474","Res19845","Mul28864","Res20926","Dot48354","Add84150"],Add84150,"Add84150")

Actual (Unparsed): [[[0.4233151, 0.7749383], [0.9829442, 0.7483551]]]

Expected (Unparsed): [[[0.42331508855999994,0.7749383063499999],[0.98294417652,0.7483551023249999]]]

Actual:   [[[0.4234, 0.775], [0.983, 0.7484]]]

Expected: [[[0.4234, 0.775], [0.983, 0.7484]]]