import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add25770 = tf.keras.layers.Input(shape=([2, 1, 2]))
in1Add25770 = tf.keras.layers.Input(shape=([2, 1, 2]))
in0Add88685 = tf.keras.layers.Input(shape=([2, 2, 1]))
in1Add88685 = tf.keras.layers.Input(shape=([2, 2, 1]))
in0Con31469 = tf.keras.layers.Input(shape=([2, 2, 1]))
in0Add70036 = tf.keras.layers.Input(shape=([2, 1]))
in1Add70036 = tf.keras.layers.Input(shape=([2, 1]))
in0Add1212 = tf.keras.layers.Input(shape=([1, 2]))
in1Add1212 = tf.keras.layers.Input(shape=([1, 2]))
in0Con42241 = tf.keras.layers.Input(shape=([2, 2, 1]))

Add25770 = keras.layers.Add(name = 'Add25770', )([in0Add25770,in1Add25770])
Zer40788 = keras.layers.ZeroPadding2D(padding=((0, 0), (1, 0)), name = 'Zer40788', )(Add25770)
Add88685 = keras.layers.Add(name = 'Add88685', )([in0Add88685,in1Add88685])
Con31469 = keras.layers.Concatenate(axis=3, name = 'Con31469', )([Add88685,in0Con31469])
Sub52169 = keras.layers.Subtract(name = 'Sub52169', )([Zer40788,Con31469])
Add70036 = keras.layers.Add(name = 'Add70036', )([in0Add70036,in1Add70036])
Res56939 = keras.layers.Reshape((2, 1, 1), name = 'Res56939', )(Add70036)
Add1212 = keras.layers.Add(name = 'Add1212', )([in0Add1212,in1Add1212])
Res20409 = keras.layers.Reshape((1, 2, 1), name = 'Res20409', )(Add1212)
Max71526 = keras.layers.MaxPool2D(pool_size=(1, 2), name = 'Max71526', )(Res20409)
Zer45498 = keras.layers.ZeroPadding2D(padding=((1, 0), (0, 0)), name = 'Zer45498', )(Max71526)
Mul14175 = keras.layers.Multiply(name = 'Mul14175', )([Res56939,Zer45498])
Zer49834 = keras.layers.ZeroPadding2D(padding=((0, 0), (1, 0)), name = 'Zer49834', )(Mul14175)
Con42241 = keras.layers.Concatenate(axis=3, name = 'Con42241', )([Zer49834,in0Con42241])
Min46760 = keras.layers.Minimum(name = 'Min46760', )([Sub52169,Con42241])
model = tf.keras.models.Model(inputs=[in0Add25770,in1Add25770,in0Add88685,in1Add88685,in0Con31469,in0Add70036,in1Add70036,in0Add1212,in1Add1212,in0Con42241], outputs=Min46760)
in0Add25770 = tf.constant([[[[0.8645, 0.8766]], [[0.5007, 0.8708]]]])
in1Add25770 = tf.constant([[[[0.6936, 0.5172]], [[0.5035, 0.9891]]]])
in0Add88685 = tf.constant([[[[0.4867], [0.539]], [[0.6071], [0.8955]]]])
in1Add88685 = tf.constant([[[[0.2685], [0.1624]], [[0.0276], [0.9692]]]])
in0Con31469 = tf.constant([[[[0.2775], [0.1296]], [[0.9645], [0.0801]]]])
in0Add70036 = tf.constant([[[0.7514], [0.118]]])
in1Add70036 = tf.constant([[[0.8898], [0.4427]]])
in0Add1212 = tf.constant([[[0.0403, 0.8108]]])
in1Add1212 = tf.constant([[[0.2738, 0.7906]]])
in0Con42241 = tf.constant([[[[0.3381], [0.4283]], [[0.697], [0.6482]]]])
print (np.array2string(model.predict([in0Add25770,in1Add25770,in0Add88685,in1Add88685,in0Con31469,in0Add70036,in1Add70036,in0Add1212,in1Add1212,in0Con42241],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min46760.png')

LAdd25770 = add_layer([[[[[0.8645, 0.8766]], [[0.5007, 0.8708]]]], [[[[0.6936, 0.5172]], [[0.5035, 0.9891]]]]], Add25770), 
LZer40788 = zero_padding2D_layer(Add25770, 0, 0, 1, 0, Zer40788), 
LAdd88685 = add_layer([[[[[0.4867], [0.539]], [[0.6071], [0.8955]]]], [[[[0.2685], [0.1624]], [[0.0276], [0.9692]]]]], Add88685), 
LCon31469 = concatenate_layer([Add88685,[[[[0.2775], [0.1296]], [[0.9645], [0.0801]]]]], 3, Con31469), 
LSub52169 = subtract_layer(Zer40788,Con31469, Sub52169), 
LAdd70036 = add_layer([[[[0.7514], [0.118]]], [[[0.8898], [0.4427]]]], Add70036), 
LRes56939 = reshape_layer(Add70036, [2, 1, 1], Res56939), 
LAdd1212 = add_layer([[[[0.0403, 0.8108]]], [[[0.2738, 0.7906]]]], Add1212), 
LRes20409 = reshape_layer(Add1212, [1, 2, 1], Res20409), 
LMax71526 = max_pool2D_layer(Res20409, 1, 2, Max71526), 
LZer45498 = zero_padding2D_layer(Max71526, 1, 0, 0, 0, Zer45498), 
LMul14175 = multiply_layer([Res56939,Zer45498], Mul14175), 
LZer49834 = zero_padding2D_layer(Mul14175, 0, 0, 1, 0, Zer49834), 
LCon42241 = concatenate_layer([Zer49834,[[[[0.3381], [0.4283]], [[0.697], [0.6482]]]]], 3, Con42241), 
LMin46760 = minimum_layer([Sub52169,Con42241], Min46760), 
exec_layers([LAdd25770,LZer40788,LAdd88685,LCon31469,LSub52169,LAdd70036,LRes56939,LAdd1212,LRes20409,LMax71526,LZer45498,LMul14175,LZer49834,LCon42241,LMin46760],["Add25770","Zer40788","Add88685","Con31469","Sub52169","Add70036","Res56939","Add1212","Res20409","Max71526","Zer45498","Mul14175","Zer49834","Con42241","Min46760"],Min46760,"Min46760")

Actual (Unparsed): [[[[-0.7552000, -0.2775000], [0.0000000, 0.4283000]], [[-0.6347000, -0.9645000], [-0.8605000, 0.6482000]]]]

Expected (Unparsed): [[[[-0.7552000000000001,-0.2775],[0.0,0.4283]],[[-0.6346999999999999,-0.9645],[-0.8605,0.6482]]]]

Actual:   [[[[-0.7552, -0.2775], [0, 0.4283]], [[-0.6347, -0.9645], [-0.8605, 0.6482]]]]

Expected: [[[[-0.7552, -0.2775], [0, 0.4283]], [[-0.6346, -0.9645], [-0.8605, 0.6482]]]]