import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot17103 = tf.keras.layers.Input(shape=([2, 3]))
in1Dot17103 = tf.keras.layers.Input(shape=([2, 3]))
in0Dot83809 = tf.keras.layers.Input(shape=([3]))
in1Dot83809 = tf.keras.layers.Input(shape=([3]))
in0Con28529 = tf.keras.layers.Input(shape=([3]))

Dot17103 = keras.layers.Dot(axes=(2, 2), name = 'Dot17103', )([in0Dot17103,in1Dot17103])
Fla60638 = keras.layers.Flatten(name = 'Fla60638', )(Dot17103)
Dot83809 = keras.layers.Dot(axes=(1, 1), name = 'Dot83809', )([in0Dot83809,in1Dot83809])
Con28529 = keras.layers.Concatenate(axis=1, name = 'Con28529', )([Dot83809,in0Con28529])
Mul53732 = keras.layers.Multiply(name = 'Mul53732', )([Fla60638,Con28529])
Res17209 = keras.layers.Reshape((4, 1), name = 'Res17209', )(Mul53732)
Glo73768 = keras.layers.GlobalAveragePooling1D(name = 'Glo73768', )(Res17209)
model = tf.keras.models.Model(inputs=[in0Dot17103,in1Dot17103,in0Dot83809,in1Dot83809,in0Con28529], outputs=Glo73768)
in0Dot17103 = tf.constant([[[0.8927, 0.4603, 0.8935], [0.4404, 0.72, 0.3826]]])
in1Dot17103 = tf.constant([[[0.6804, 0.4465, 0.4864], [0.9864, 0.385, 0.1064]]])
in0Dot83809 = tf.constant([[0.318, 0.6218, 0.7861]])
in1Dot83809 = tf.constant([[0.3149, 0.2382, 0.9749]])
in0Con28529 = tf.constant([[0.0628, 0.4781, 0.068]])
print (np.array2string(model.predict([in0Dot17103,in1Dot17103,in0Dot83809,in1Dot83809,in0Con28529],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo73768.png')

LDot17103 = dot_layer([[[0.8927, 0.4603, 0.8935], [0.4404, 0.72, 0.3826]]], [[[0.6804, 0.4465, 0.4864], [0.9864, 0.385, 0.1064]]], 2, 2, Dot17103), 
LFla60638 = flatten_layer(Dot17103, Fla60638), 
LDot83809 = dot_layer([[0.318, 0.6218, 0.7861]], [[0.3149, 0.2382, 0.9749]], 1, 1, Dot83809), 
LCon28529 = concatenate_layer([Dot83809,[[0.0628, 0.4781, 0.068]]], 1, Con28529), 
LMul53732 = multiply_layer([Fla60638,Con28529], Mul53732), 
LRes17209 = reshape_layer(Mul53732, [4, 1], Res17209), 
LGlo73768 = global_average_pooling1D_layer(Res17209, Glo73768), 
exec_layers([LDot17103,LFla60638,LDot83809,LCon28529,LMul53732,LRes17209,LGlo73768],["Dot17103","Fla60638","Dot83809","Con28529","Mul53732","Res17209","Glo73768"],Glo73768,"Glo73768")

Actual (Unparsed): [[0.4438111]]

Expected (Unparsed): [[0.4438110881608214]]

Actual:   [[0.4439]]

Expected: [[0.4439]]