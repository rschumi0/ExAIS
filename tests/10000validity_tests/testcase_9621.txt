import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Zer3900 = tf.keras.layers.Input(shape=([4, 4]))
in0Ave41837 = tf.keras.layers.Input(shape=([1, 1]))
in1Ave41837 = tf.keras.layers.Input(shape=([1, 1]))
in0ELU89145 = tf.keras.layers.Input(shape=([1, 1, 2, 1]))

Zer3900 = keras.layers.ZeroPadding1D(padding=((1, 1)), name = 'Zer3900', )(in0Zer3900)
Max60709 = keras.layers.MaxPool1D(pool_size=(1), name = 'Max60709', )(Zer3900)
Res27333 = keras.layers.Reshape((6, 4, 1), name = 'Res27333', )(Max60709)
Res66322 = keras.layers.Reshape((6, 4, 1, 1), name = 'Res66322', )(Res27333)
Zer58877 = keras.layers.ZeroPadding3D(padding=((0, 0), (0, 0), (2, 0)), name = 'Zer58877', )(Res66322)
Ave41837 = keras.layers.Average(name = 'Ave41837', )([in0Ave41837,in1Ave41837])
Res51819 = keras.layers.Reshape((1, 1, 1), name = 'Res51819', )(Ave41837)
Res43549 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res43549', )(Res51819)
Zer16040 = keras.layers.ZeroPadding3D(padding=((0, 0), (0, 0), (1, 0)), name = 'Zer16040', )(Res43549)
ELU89145 = keras.layers.ELU(alpha=-5.817631644926027, name = 'ELU89145', input_shape=(1, 1, 2, 1))(in0ELU89145)
Max13182 = keras.layers.Maximum(name = 'Max13182', )([Zer16040,ELU89145])
Zer44308 = keras.layers.ZeroPadding3D(padding=((5, 0), (3, 0), (1, 0)), name = 'Zer44308', )(Max13182)
Max15474 = keras.layers.Maximum(name = 'Max15474', )([Zer58877,Zer44308])
Zer47876 = keras.layers.ZeroPadding3D(padding=((1, 1), (1, 1), (1, 1)), name = 'Zer47876', )(Max15474)
model = tf.keras.models.Model(inputs=[in0Zer3900,in0Ave41837,in1Ave41837,in0ELU89145], outputs=Zer47876)
in0Zer3900 = tf.constant([[[1.1526, 1.0197, 1.9993, 1.7906], [1.3878, 1.2859, 1.2687, 1.4644], [1.8808, 1.5102, 1.179, 1.6735], [1.3979, 1.388, 1.5416, 1.517]]])
in0Ave41837 = tf.constant([[[0.4559]]])
in1Ave41837 = tf.constant([[[0.6425]]])
in0ELU89145 = tf.constant([[[[[0.9746], [0.6568]]]]])
print (np.array2string(model.predict([in0Zer3900,in0Ave41837,in1Ave41837,in0ELU89145],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Zer47876.png')

LZer3900 = zero_padding1D_layer([[[1.1526, 1.0197, 1.9993, 1.7906], [1.3878, 1.2859, 1.2687, 1.4644], [1.8808, 1.5102, 1.179, 1.6735], [1.3979, 1.388, 1.5416, 1.517]]], 1, 1, Zer3900), 
LMax60709 = max_pool1D_layer(Zer3900, 1, Max60709), 
LRes27333 = reshape_layer(Max60709, [6, 4, 1], Res27333), 
LRes66322 = reshape_layer(Res27333, [6, 4, 1, 1], Res66322), 
LZer58877 = zero_padding3D_layer(Res66322, 0, 0, 0, 0, 2, 0, Zer58877), 
LAve41837 = average_layer([[[[0.4559]]], [[[0.6425]]]], Ave41837), 
LRes51819 = reshape_layer(Ave41837, [1, 1, 1], Res51819), 
LRes43549 = reshape_layer(Res51819, [1, 1, 1, 1], Res43549), 
LZer16040 = zero_padding3D_layer(Res43549, 0, 0, 0, 0, 1, 0, Zer16040), 
LELU89145 = elu_layer([[[[[0.9746], [0.6568]]]]], -5.817631644926027, ELU89145), 
LMax13182 = maximum_layer([Zer16040,ELU89145], Max13182), 
LZer44308 = zero_padding3D_layer(Max13182, 5, 0, 3, 0, 1, 0, Zer44308), 
LMax15474 = maximum_layer([Zer58877,Zer44308], Max15474), 
LZer47876 = zero_padding3D_layer(Max15474, 1, 1, 1, 1, 1, 1, Zer47876), 
exec_layers([LZer3900,LMax60709,LRes27333,LRes66322,LZer58877,LAve41837,LRes51819,LRes43549,LZer16040,LELU89145,LMax13182,LZer44308,LMax15474,LZer47876],["Zer3900","Max60709","Res27333","Res66322","Zer58877","Ave41837","Res51819","Res43549","Zer16040","ELU89145","Max13182","Zer44308","Max15474","Zer47876"],Zer47876,"Zer47876")

Actual (Unparsed): [[[[[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [1.1526000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [1.0197001], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [1.9993000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [1.7905999], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [1.3878000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [1.2859000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [1.2687000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [1.4644001], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [1.8808000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [1.5102000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [1.1790000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [1.6734999], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [1.3979000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [1.3880000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [1.5416000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [1.5170000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.9746000], [0.6568000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]]]]]

Expected (Unparsed): [[[[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]]],[[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]]],[[[0],[0],[0],[0],[0]],[[0],[0],[0],[1.1526],[0]],[[0],[0],[0],[1.0197],[0]],[[0],[0],[0],[1.9993],[0]],[[0],[0],[0],[1.7906],[0]],[[0],[0],[0],[0],[0]]],[[[0],[0],[0],[0],[0]],[[0],[0],[0],[1.3878],[0]],[[0],[0],[0],[1.2859],[0]],[[0],[0],[0],[1.2687],[0]],[[0],[0],[0],[1.4644],[0]],[[0],[0],[0],[0],[0]]],[[[0],[0],[0],[0],[0]],[[0],[0],[0],[1.8808],[0]],[[0],[0],[0],[1.5102],[0]],[[0],[0],[0],[1.179],[0]],[[0],[0],[0],[1.6735],[0]],[[0],[0],[0],[0],[0]]],[[[0],[0],[0],[0],[0]],[[0],[0],[0],[1.3979],[0]],[[0],[0],[0],[1.388],[0]],[[0],[0],[0],[1.5416],[0]],[[0],[0],[0],[1.517],[0]],[[0],[0],[0],[0],[0]]],[[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]],[[0],[0],[0.9746],[0.6568],[0]],[[0],[0],[0],[0],[0]]],[[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]]]]]

Actual:   [[[[[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]]], [[[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]]], [[[0], [0], [0], [0], [0]], [[0], [0], [0], [1.1526], [0]], [[0], [0], [0], [1.0198], [0]], [[0], [0], [0], [1.9993], [0]], [[0], [0], [0], [1.7906], [0]], [[0], [0], [0], [0], [0]]], [[[0], [0], [0], [0], [0]], [[0], [0], [0], [1.3878], [0]], [[0], [0], [0], [1.2859], [0]], [[0], [0], [0], [1.2687], [0]], [[0], [0], [0], [1.4645], [0]], [[0], [0], [0], [0], [0]]], [[[0], [0], [0], [0], [0]], [[0], [0], [0], [1.8808], [0]], [[0], [0], [0], [1.5102], [0]], [[0], [0], [0], [1.179], [0]], [[0], [0], [0], [1.6735], [0]], [[0], [0], [0], [0], [0]]], [[[0], [0], [0], [0], [0]], [[0], [0], [0], [1.3979], [0]], [[0], [0], [0], [1.388], [0]], [[0], [0], [0], [1.5416], [0]], [[0], [0], [0], [1.517], [0]], [[0], [0], [0], [0], [0]]], [[[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0.9746], [0.6568], [0]], [[0], [0], [0], [0], [0]]], [[[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]]]]]

Expected: [[[[[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]]], [[[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]]], [[[0], [0], [0], [0], [0]], [[0], [0], [0], [1.1526], [0]], [[0], [0], [0], [1.0197], [0]], [[0], [0], [0], [1.9993], [0]], [[0], [0], [0], [1.7906], [0]], [[0], [0], [0], [0], [0]]], [[[0], [0], [0], [0], [0]], [[0], [0], [0], [1.3878], [0]], [[0], [0], [0], [1.2859], [0]], [[0], [0], [0], [1.2687], [0]], [[0], [0], [0], [1.4644], [0]], [[0], [0], [0], [0], [0]]], [[[0], [0], [0], [0], [0]], [[0], [0], [0], [1.8808], [0]], [[0], [0], [0], [1.5102], [0]], [[0], [0], [0], [1.179], [0]], [[0], [0], [0], [1.6735], [0]], [[0], [0], [0], [0], [0]]], [[[0], [0], [0], [0], [0]], [[0], [0], [0], [1.3979], [0]], [[0], [0], [0], [1.388], [0]], [[0], [0], [0], [1.5416], [0]], [[0], [0], [0], [1.517], [0]], [[0], [0], [0], [0], [0]]], [[[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0.9746], [0.6568], [0]], [[0], [0], [0], [0], [0]]], [[[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]]]]]