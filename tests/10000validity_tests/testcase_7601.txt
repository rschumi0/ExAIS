import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo77588 = tf.keras.layers.Input(shape=([2, 1, 1]))
in0Dot11090 = tf.keras.layers.Input(shape=([2]))
in1Dot11090 = tf.keras.layers.Input(shape=([2]))

Glo77588 = keras.layers.GlobalAveragePooling2D(name = 'Glo77588', )(in0Glo77588)
Mas86461 = keras.layers.Masking(mask_value=2, name = 'Mas86461', )(Glo77588)
Res5797 = keras.layers.Reshape((1, 1), name = 'Res5797', )(Mas86461)
Res53415 = keras.layers.Reshape((1, 1, 1), name = 'Res53415', )(Res5797)
Cro30874 = keras.layers.Cropping2D(cropping=((0, 0), (0, 0)), name = 'Cro30874', )(Res53415)
Res91603 = keras.layers.Reshape((1, 1), name = 'Res91603', )(Cro30874)
Fla75373 = keras.layers.Flatten(name = 'Fla75373', )(Res91603)
Dot11090 = keras.layers.Dot(axes=(1, 1), name = 'Dot11090', )([in0Dot11090,in1Dot11090])
Mul33505 = keras.layers.Multiply(name = 'Mul33505', )([Fla75373,Dot11090])
model = tf.keras.models.Model(inputs=[in0Glo77588,in0Dot11090,in1Dot11090], outputs=Mul33505)
in0Glo77588 = tf.constant([[[[1.9414]], [[1.6922]]]])
in0Dot11090 = tf.constant([[0.3825, 0.9957]])
in1Dot11090 = tf.constant([[0.8238, 0.467]])
print (np.array2string(model.predict([in0Glo77588,in0Dot11090,in1Dot11090],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Mul33505.png')

LGlo77588 = global_average_pooling2D_layer([[[[1.9414]], [[1.6922]]]], Glo77588), 
LMas86461 = masking_layer(Glo77588, 2, Mas86461), 
LRes5797 = reshape_layer(Mas86461, [1, 1], Res5797), 
LRes53415 = reshape_layer(Res5797, [1, 1, 1], Res53415), 
LCro30874 = cropping2D_layer(Res53415, 0, 0, 0, 0, Cro30874), 
LRes91603 = reshape_layer(Cro30874, [1, 1], Res91603), 
LFla75373 = flatten_layer(Res91603, Fla75373), 
LDot11090 = dot_layer([[0.3825, 0.9957]], [[0.8238, 0.467]], 1, 1, Dot11090), 
LMul33505 = multiply_layer([Fla75373,Dot11090], Mul33505), 
exec_layers([LGlo77588,LMas86461,LRes5797,LRes53415,LCro30874,LRes91603,LFla75373,LDot11090,LMul33505],["Glo77588","Mas86461","Res5797","Res53415","Cro30874","Res91603","Fla75373","Dot11090","Mul33505"],Mul33505,"Mul33505")

Actual (Unparsed): [[1.4172773]]

Expected (Unparsed): [[1.41727732272]]

Actual:   [[1.4173]]

Expected: [[1.4173]]