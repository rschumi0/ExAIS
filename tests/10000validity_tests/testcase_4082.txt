import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Con6893 = tf.keras.layers.Input(shape=([1, 1, 1]))
in0Con34664 = tf.keras.layers.Input(shape=([1, 1]))
in0Mul25156 = tf.keras.layers.Input(shape=([1, 1]))
in1Mul25156 = tf.keras.layers.Input(shape=([1, 1]))

Con6893 = keras.layers.Conv2DTranspose(2, (1, 1),strides=(1, 1), padding='valid', name = 'Con6893', )(in0Con6893)
Res83505 = keras.layers.Reshape((1, 2), name = 'Res83505', )(Con6893)
Con34664 = keras.layers.Concatenate(axis=2, name = 'Con34664', )([Res83505,in0Con34664])
Mul25156 = keras.layers.Multiply(name = 'Mul25156', )([in0Mul25156,in1Mul25156])
Dot87194 = keras.layers.Dot(axes=(1, 1), name = 'Dot87194', )([Con34664,Mul25156])
model = tf.keras.models.Model(inputs=[in0Con6893,in0Con34664,in0Mul25156,in1Mul25156], outputs=Dot87194)
w = model.get_layer('Con6893').get_weights() 
w[0] = np.array([[[[0.6777], [0.3754]]]])
w[1] = np.array([0, 0])
model.get_layer('Con6893').set_weights(w) 
in0Con6893 = tf.constant([[[[0.0571]]]])
in0Con34664 = tf.constant([[[0.3868]]])
in0Mul25156 = tf.constant([[[0.5208]]])
in1Mul25156 = tf.constant([[[0.759]]])
print (np.array2string(model.predict([in0Con6893,in0Con34664,in0Mul25156,in1Mul25156],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Dot87194.png')

LCon6893 = conv2D_transpose_layer([[[[0.0571]]]], 1, 1,[[[[0.6777], [0.3754]]]],[0, 0], 1, 1, false, Con6893), 
LRes83505 = reshape_layer(Con6893, [1, 2], Res83505), 
LCon34664 = concatenate_layer([Res83505,[[[0.3868]]]], 2, Con34664), 
LMul25156 = multiply_layer([[[[0.5208]]], [[[0.759]]]], Mul25156), 
LDot87194 = dot_layer(Con34664,Mul25156, 1, 1, Dot87194), 
exec_layers([LCon6893,LRes83505,LCon34664,LMul25156,LDot87194],["Con6893","Res83505","Con34664","Mul25156","Dot87194"],Dot87194,"Dot87194")

Actual (Unparsed): [[[0.0152963], [0.0084731], [0.1528971]]]

Expected (Unparsed): [[[0.015296298333624],[0.008473115529648002],[0.15289708896]]]

Actual:   [[[0.0153], [0.0085], [0.1529]]]

Expected: [[[0.0153], [0.0085], [0.1529]]]