import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add29703 = tf.keras.layers.Input(shape=([1, 1, 2, 1]))
in1Add29703 = tf.keras.layers.Input(shape=([1, 1, 2, 1]))
in0Sub47899 = tf.keras.layers.Input(shape=([3, 2]))
in1Sub47899 = tf.keras.layers.Input(shape=([3, 2]))

Add29703 = keras.layers.Add(name = 'Add29703', )([in0Add29703,in1Add29703])
Res32862 = keras.layers.Reshape((1, 1, 2), name = 'Res32862', )(Add29703)
Res99538 = keras.layers.Reshape((1, 2), name = 'Res99538', )(Res32862)
Zer70713 = keras.layers.ZeroPadding1D(padding=((2, 0)), name = 'Zer70713', )(Res99538)
Sub47899 = keras.layers.Subtract(name = 'Sub47899', )([in0Sub47899,in1Sub47899])
Max58859 = keras.layers.Maximum(name = 'Max58859', )([Zer70713,Sub47899])
Res27624 = keras.layers.Reshape((3, 2, 1), name = 'Res27624', )(Max58859)
Max62504 = keras.layers.MaxPool2D(pool_size=(2, 1), strides=(1, 8), padding='same', name = 'Max62504', )(Res27624)
model = tf.keras.models.Model(inputs=[in0Add29703,in1Add29703,in0Sub47899,in1Sub47899], outputs=Max62504)
in0Add29703 = tf.constant([[[[[0.6767], [0.963]]]]])
in1Add29703 = tf.constant([[[[[0.2012], [0.1485]]]]])
in0Sub47899 = tf.constant([[[0.0617, 0.9249], [0.7892, 0.3054], [0.2936, 0.0968]]])
in1Sub47899 = tf.constant([[[0.1991, 0.5155], [0.7326, 0.763], [0.2597, 0.0713]]])
print (np.array2string(model.predict([in0Add29703,in1Add29703,in0Sub47899,in1Sub47899],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max62504.png')

LAdd29703 = add_layer([[[[[[0.6767], [0.963]]]]], [[[[[0.2012], [0.1485]]]]]], Add29703), 
LRes32862 = reshape_layer(Add29703, [1, 1, 2], Res32862), 
LRes99538 = reshape_layer(Res32862, [1, 2], Res99538), 
LZer70713 = zero_padding1D_layer(Res99538, 2, 0, Zer70713), 
LSub47899 = subtract_layer([[[0.0617, 0.9249], [0.7892, 0.3054], [0.2936, 0.0968]]], [[[0.1991, 0.5155], [0.7326, 0.763], [0.2597, 0.0713]]], Sub47899), 
LMax58859 = maximum_layer([Zer70713,Sub47899], Max58859), 
LRes27624 = reshape_layer(Max58859, [3, 2, 1], Res27624), 
LMax62504 = max_pool2D_layer(Res27624, 2, 1, 1, 8, true, Max62504), 
exec_layers([LAdd29703,LRes32862,LRes99538,LZer70713,LSub47899,LMax58859,LRes27624,LMax62504],["Add29703","Res32862","Res99538","Zer70713","Sub47899","Max58859","Res27624","Max62504"],Max62504,"Max62504")

Actual (Unparsed): [[[[0.0566000]], [[0.8779000]], [[0.8779000]]]]

Expected (Unparsed): [[[[0.056599999999999984]],[[0.8778999999999999]],[[0.8778999999999999]]]]

Actual:   [[[[0.0566]], [[0.8779]], [[0.8779]]]]

Expected: [[[[0.0566]], [[0.8779]], [[0.8779]]]]