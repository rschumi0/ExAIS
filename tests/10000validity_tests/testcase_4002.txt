import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Cro48970 = tf.keras.layers.Input(shape=([3, 2, 4, 2]))
in0Add96017 = tf.keras.layers.Input(shape=([1, 1, 1]))
in1Add96017 = tf.keras.layers.Input(shape=([1, 1, 1]))
in0Con61563 = tf.keras.layers.Input(shape=([1, 1, 5]))

Cro48970 = keras.layers.Cropping3D(cropping=((2, 0), (0, 1), (1, 0)), name = 'Cro48970', )(in0Cro48970)
Res68951 = keras.layers.Reshape((1, 1, 6), name = 'Res68951', )(Cro48970)
Add96017 = keras.layers.Add(name = 'Add96017', )([in0Add96017,in1Add96017])
Con61563 = keras.layers.Concatenate(axis=3, name = 'Con61563', )([Add96017,in0Con61563])
Mul80307 = keras.layers.Multiply(name = 'Mul80307', )([Res68951,Con61563])
Res12731 = keras.layers.Reshape((1, 6), name = 'Res12731', )(Mul80307)
Glo97630 = keras.layers.GlobalMaxPool1D(name = 'Glo97630', )(Res12731)
model = tf.keras.models.Model(inputs=[in0Cro48970,in0Add96017,in1Add96017,in0Con61563], outputs=Glo97630)
in0Cro48970 = tf.constant([[[[[1.2213, 1.6746], [1.962, 1.7941], [1.6113, 1.7193], [1.2013, 1.0779]], [[1.0558, 1.8158], [1.5806, 1.9777], [1.7091, 1.4179], [1.2425, 1.8199]]], [[[1.9832, 1.6972], [1.0753, 1.7667], [1.2572, 1.345], [1.673, 1.9736]], [[1.6914, 1.9883], [1.4925, 1.9923], [1.4958, 1.3574], [1.4536, 1.7837]]], [[[1.9876, 1.3078], [1.7249, 1.8107], [1.0391, 1.2914], [1.7259, 1.8149]], [[1.0654, 1.8949], [1.4342, 1.0437], [1.5297, 1.622], [1.9349, 1.8939]]]]])
in0Add96017 = tf.constant([[[[0.0556]]]])
in1Add96017 = tf.constant([[[[0.1793]]]])
in0Con61563 = tf.constant([[[[0.074, 0.5973, 0.8796, 0.8273, 0.013]]]])
print (np.array2string(model.predict([in0Cro48970,in0Add96017,in1Add96017,in0Con61563],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo97630.png')

LCro48970 = cropping3D_layer([[[[[1.2213, 1.6746], [1.962, 1.7941], [1.6113, 1.7193], [1.2013, 1.0779]], [[1.0558, 1.8158], [1.5806, 1.9777], [1.7091, 1.4179], [1.2425, 1.8199]]], [[[1.9832, 1.6972], [1.0753, 1.7667], [1.2572, 1.345], [1.673, 1.9736]], [[1.6914, 1.9883], [1.4925, 1.9923], [1.4958, 1.3574], [1.4536, 1.7837]]], [[[1.9876, 1.3078], [1.7249, 1.8107], [1.0391, 1.2914], [1.7259, 1.8149]], [[1.0654, 1.8949], [1.4342, 1.0437], [1.5297, 1.622], [1.9349, 1.8939]]]]], 2, 0, 0, 1, 1, 0, Cro48970), 
LRes68951 = reshape_layer(Cro48970, [1, 1, 6], Res68951), 
LAdd96017 = add_layer([[[[[0.0556]]]], [[[[0.1793]]]]], Add96017), 
LCon61563 = concatenate_layer([Add96017,[[[[0.074, 0.5973, 0.8796, 0.8273, 0.013]]]]], 3, Con61563), 
LMul80307 = multiply_layer([Res68951,Con61563], Mul80307), 
LRes12731 = reshape_layer(Mul80307, [1, 6], Res12731), 
LGlo97630 = global_max_pool1D_layer(Res12731, Glo97630), 
exec_layers([LCro48970,LRes68951,LAdd96017,LCon61563,LMul80307,LRes12731,LGlo97630],["Cro48970","Res68951","Add96017","Con61563","Mul80307","Res12731","Glo97630"],Glo97630,"Glo97630")

Actual (Unparsed): [[0.4051790, 0.1339918, 0.6206545, 1.1359154, 1.4278371, 0.0235937]]

Expected (Unparsed): [[0.40517901,0.1339918,0.62065443,1.1359154400000002,1.42783707,0.0235937]]

Actual:   [[0.4052, 0.134, 0.6207, 1.136, 1.4279, 0.0236]]

Expected: [[0.4052, 0.134, 0.6207, 1.136, 1.4279, 0.0236]]