import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave98232 = tf.keras.layers.Input(shape=([2, 1, 1, 2]))
in1Ave98232 = tf.keras.layers.Input(shape=([2, 1, 1, 2]))
in0Max23851 = tf.keras.layers.Input(shape=([2, 2]))
in1Max23851 = tf.keras.layers.Input(shape=([2, 2]))

Ave98232 = keras.layers.Average(name = 'Ave98232', )([in0Ave98232,in1Ave98232])
Res60834 = keras.layers.Reshape((2, 1, 2), name = 'Res60834', )(Ave98232)
Res17495 = keras.layers.Reshape((2, 2), name = 'Res17495', )(Res60834)
Cro47036 = keras.layers.Cropping1D(cropping=((0, 0)), name = 'Cro47036', )(Res17495)
Max23851 = keras.layers.Maximum(name = 'Max23851', )([in0Max23851,in1Max23851])
Min12659 = keras.layers.Minimum(name = 'Min12659', )([Cro47036,Max23851])
Lea21066 = keras.layers.LeakyReLU(alpha=9.875535002867881, name = 'Lea21066', )(Min12659)
model = tf.keras.models.Model(inputs=[in0Ave98232,in1Ave98232,in0Max23851,in1Max23851], outputs=Lea21066)
in0Ave98232 = tf.constant([[[[[0.0355, 0.2184]]], [[[0.1985, 0.4372]]]]])
in1Ave98232 = tf.constant([[[[[0.0423, 0.3907]]], [[[0.7265, 0.8747]]]]])
in0Max23851 = tf.constant([[[0.6235, 0.0711], [0.8647, 0.2298]]])
in1Max23851 = tf.constant([[[0.6636, 0.5643], [0.0639, 0.6053]]])
print (np.array2string(model.predict([in0Ave98232,in1Ave98232,in0Max23851,in1Max23851],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Lea21066.png')

LAve98232 = average_layer([[[[[[0.0355, 0.2184]]], [[[0.1985, 0.4372]]]]], [[[[[0.0423, 0.3907]]], [[[0.7265, 0.8747]]]]]], Ave98232), 
LRes60834 = reshape_layer(Ave98232, [2, 1, 2], Res60834), 
LRes17495 = reshape_layer(Res60834, [2, 2], Res17495), 
LCro47036 = cropping1D_layer(Res17495, 0, 0, Cro47036), 
LMax23851 = maximum_layer([[[[0.6235, 0.0711], [0.8647, 0.2298]]], [[[0.6636, 0.5643], [0.0639, 0.6053]]]], Max23851), 
LMin12659 = minimum_layer([Cro47036,Max23851], Min12659), 
LLea21066 = leaky_relu_layer(Min12659, 9.875535002867881, Lea21066), 
exec_layers([LAve98232,LRes60834,LRes17495,LCro47036,LMax23851,LMin12659,LLea21066],["Ave98232","Res60834","Res17495","Cro47036","Max23851","Min12659","Lea21066"],Lea21066,"Lea21066")

Actual (Unparsed): [[[0.0389000, 0.3045500], [0.4625000, 0.6053000]]]

Expected (Unparsed): [[[0.0389,0.30455],[0.4625,0.6053]]]

Actual:   [[[0.0389, 0.3046], [0.4625, 0.6053]]]

Expected: [[[0.0389, 0.3046], [0.4625, 0.6053]]]