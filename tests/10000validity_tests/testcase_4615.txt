import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave63982 = tf.keras.layers.Input(shape=([1, 1, 1]))
in1Ave63982 = tf.keras.layers.Input(shape=([1, 1, 1]))

Ave63982 = keras.layers.Average(name = 'Ave63982', )([in0Ave63982,in1Ave63982])
Mas56648 = keras.layers.Masking(mask_value=2, name = 'Mas56648', )(Ave63982)
model = tf.keras.models.Model(inputs=[in0Ave63982,in1Ave63982], outputs=Mas56648)
in0Ave63982 = tf.constant([[[[0.9448]]]])
in1Ave63982 = tf.constant([[[[0.4922]]]])
print (np.array2string(model.predict([in0Ave63982,in1Ave63982],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Mas56648.png')

LAve63982 = average_layer([[[[[0.9448]]]], [[[[0.4922]]]]], Ave63982), 
LMas56648 = masking_layer(Ave63982, 2, Mas56648), 
exec_layers([LAve63982,LMas56648],["Ave63982","Mas56648"],Mas56648,"Mas56648")

Actual (Unparsed): [[[[0.7185000]]]]

Expected (Unparsed): [[[[0.7185]]]]

Actual:   [[[[0.7185]]]]

Expected: [[[[0.7185]]]]