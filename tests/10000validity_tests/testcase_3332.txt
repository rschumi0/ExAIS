import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dep30837 = tf.keras.layers.Input(shape=([2, 1, 1]))

Dep30837 = keras.layers.DepthwiseConv2D((1, 1),strides=(1, 1), padding='same', name = 'Dep30837', )(in0Dep30837)
Res56052 = keras.layers.Reshape((2, 1), name = 'Res56052', )(Dep30837)
Max55556 = keras.layers.MaxPool1D(pool_size=(1), strides=(1), padding='valid', name = 'Max55556', )(Res56052)
model = tf.keras.models.Model(inputs=[in0Dep30837], outputs=Max55556)
w = model.get_layer('Dep30837').get_weights() 
w[0] = np.array([[[[0.0375]]]])
w[1] = np.array([0])
model.get_layer('Dep30837').set_weights(w) 
in0Dep30837 = tf.constant([[[[0.4425]], [[0.3446]]]])
print (np.array2string(model.predict([in0Dep30837],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max55556.png')

LDep30837 = depthwise_conv2D_layer([[[[0.4425]], [[0.3446]]]], 1, 1,[[[[0.0375]]]],[0], 1, 1, true, Dep30837), 
LRes56052 = reshape_layer(Dep30837, [2, 1], Res56052), 
LMax55556 = max_pool1D_layer(Res56052, 1, 1, false, Max55556), 
exec_layers([LDep30837,LRes56052,LMax55556],["Dep30837","Res56052","Max55556"],Max55556,"Max55556")

Actual (Unparsed): [[[0.0165937], [0.0129225]]]

Expected (Unparsed): [[[0.01659375],[0.0129225]]]

Actual:   [[[0.0166], [0.013]]]

Expected: [[[0.0166], [0.013]]]