import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add58439 = tf.keras.layers.Input(shape=([2, 2, 1]))
in1Add58439 = tf.keras.layers.Input(shape=([2, 2, 1]))

Add58439 = keras.layers.Add(name = 'Add58439', )([in0Add58439,in1Add58439])
Res40922 = keras.layers.Reshape((2, 2), name = 'Res40922', )(Add58439)
Lay70905 = keras.layers.LayerNormalization(axis=1, epsilon=2.7066080238204764, name = 'Lay70905', )(Res40922)
Res7991 = keras.layers.Reshape((2, 2, 1), name = 'Res7991', )(Lay70905)
Max33227 = keras.layers.MaxPool2D(pool_size=(1, 1), name = 'Max33227', )(Res7991)
model = tf.keras.models.Model(inputs=[in0Add58439,in1Add58439], outputs=Max33227)
in0Add58439 = tf.constant([[[[0.8787], [0.7236]], [[0.3887], [0.2744]]]])
in1Add58439 = tf.constant([[[[0.5168], [0.7712]], [[0.3746], [0.5731]]]])
print (np.array2string(model.predict([in0Add58439,in1Add58439],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max33227.png')

LAdd58439 = add_layer([[[[[0.8787], [0.7236]], [[0.3887], [0.2744]]]], [[[[0.5168], [0.7712]], [[0.3746], [0.5731]]]]], Add58439), 
LRes40922 = reshape_layer(Add58439, [2, 2], Res40922), 
LLay70905 = layer_normalization_layer(Res40922, 1, 2.7066080238204764, Lay70905), 
LRes7991 = reshape_layer(Lay70905, [2, 2, 1], Res7991), 
LMax33227 = max_pool2D_layer(Res7991, 1, 1, Max33227), 
exec_layers([LAdd58439,LRes40922,LLay70905,LRes7991,LMax33227],["Add58439","Res40922","Lay70905","Res7991","Max33227"],Max33227,"Max33227")

Actual (Unparsed): [[[[0.1886861], [0.1930268]], [[-0.1886861], [-0.1930268]]]]

Expected (Unparsed): [[[[0.18868608148273713],[0.19302678872071616]],[[-0.1886860814827372],[-0.1930267887207162]]]]

Actual:   [[[[0.1887], [0.1931]], [[-0.1886], [-0.193]]]]

Expected: [[[[0.1887], [0.1931]], [[-0.1886], [-0.193]]]]