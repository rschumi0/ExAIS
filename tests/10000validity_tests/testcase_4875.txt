import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul65168 = tf.keras.layers.Input(shape=([1, 1, 1, 1]))
in1Mul65168 = tf.keras.layers.Input(shape=([1, 1, 1, 1]))
in0Con96717 = tf.keras.layers.Input(shape=([2, 2]))
in0ELU5320 = tf.keras.layers.Input(shape=([2, 2, 2]))
in0Con96445 = tf.keras.layers.Input(shape=([2, 14]))
in0Up_7778 = tf.keras.layers.Input(shape=([3, 3, 3]))

Mul65168 = keras.layers.Multiply(name = 'Mul65168', )([in0Mul65168,in1Mul65168])
Res47966 = keras.layers.Reshape((1, 1, 1), name = 'Res47966', )(Mul65168)
Res22349 = keras.layers.Reshape((1, 1), name = 'Res22349', )(Res47966)
Zer4002 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer4002', )(Res22349)
Con96717 = keras.layers.Concatenate(axis=2, name = 'Con96717', )([Zer4002,in0Con96717])
ELU5320 = keras.layers.ELU(alpha=3.5988951092811288, name = 'ELU5320', input_shape=(2, 2, 2))(in0ELU5320)
Res54347 = keras.layers.Reshape((2, 4), name = 'Res54347', )(ELU5320)
Con96445 = keras.layers.Concatenate(axis=2, name = 'Con96445', )([Res54347,in0Con96445])
Up_7778 = keras.layers.UpSampling2D(size=(1, 2), name = 'Up_7778', )(in0Up_7778)
Res12891 = keras.layers.Reshape((3, 18), name = 'Res12891', )(Up_7778)
Dot74222 = keras.layers.Dot(axes=(2, 2), name = 'Dot74222', )([Con96445,Res12891])
Thr40883 = keras.layers.ThresholdedReLU(theta=4.053710152435035, name = 'Thr40883', )(Dot74222)
Dot79328 = keras.layers.Dot(axes=(2, 2), name = 'Dot79328', )([Con96717,Thr40883])
Res94441 = keras.layers.Reshape((2, 2, 1), name = 'Res94441', )(Dot79328)
Up_72398 = keras.layers.UpSampling2D(size=(2, 1), name = 'Up_72398', )(Res94441)
Res1767 = keras.layers.Reshape((4, 2, 1, 1), name = 'Res1767', )(Up_72398)
Glo78501 = keras.layers.GlobalAveragePooling3D(name = 'Glo78501', )(Res1767)
model = tf.keras.models.Model(inputs=[in0Mul65168,in1Mul65168,in0Con96717,in0ELU5320,in0Con96445,in0Up_7778], outputs=Glo78501)
in0Mul65168 = tf.constant([[[[[0.0772]]]]])
in1Mul65168 = tf.constant([[[[[0.1374]]]]])
in0Con96717 = tf.constant([[[0.5399, 0.4923], [0.5811, 0.8293]]])
in0ELU5320 = tf.constant([[[[0.4187, 0.3809], [0.6726, 0.9916]], [[0.0079, 0.4315], [0.9, 0.6761]]]])
in0Con96445 = tf.constant([[[0.8674, 0.9056, 0.1982, 0.0009, 0.6079, 0.0966, 0.0032, 0.0469, 0.0507, 0.4192, 0.8481, 0.785, 0.9395, 0.5636], [0.2966, 0.6958, 0.8196, 0.3887, 0.7042, 0.3237, 0.7108, 0.8788, 0.9069, 0.007, 0.0096, 0.6671, 0.6535, 0.9387]]])
in0Up_7778 = tf.constant([[[[1.1221, 1.3491, 1.3576], [1.2102, 1.8349, 1.2778], [1.3389, 1.0973, 1.88]], [[1.0456, 1.3862, 1.8526], [1.4039, 1.2377, 1.6709], [1.2286, 1.9606, 1.1599]], [[1.0549, 1.8411, 1.4992], [1.0311, 1.742, 1.238], [1.7946, 1.3516, 1.0155]]]])
print (np.array2string(model.predict([in0Mul65168,in1Mul65168,in0Con96717,in0ELU5320,in0Con96445,in0Up_7778],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo78501.png')

LMul65168 = multiply_layer([[[[[[0.0772]]]]], [[[[[0.1374]]]]]], Mul65168), 
LRes47966 = reshape_layer(Mul65168, [1, 1, 1], Res47966), 
LRes22349 = reshape_layer(Res47966, [1, 1], Res22349), 
LZer4002 = zero_padding1D_layer(Res22349, 1, 0, Zer4002), 
LCon96717 = concatenate_layer([Zer4002,[[[0.5399, 0.4923], [0.5811, 0.8293]]]], 2, Con96717), 
LELU5320 = elu_layer([[[[0.4187, 0.3809], [0.6726, 0.9916]], [[0.0079, 0.4315], [0.9, 0.6761]]]], 3.5988951092811288, ELU5320), 
LRes54347 = reshape_layer(ELU5320, [2, 4], Res54347), 
LCon96445 = concatenate_layer([Res54347,[[[0.8674, 0.9056, 0.1982, 0.0009, 0.6079, 0.0966, 0.0032, 0.0469, 0.0507, 0.4192, 0.8481, 0.785, 0.9395, 0.5636], [0.2966, 0.6958, 0.8196, 0.3887, 0.7042, 0.3237, 0.7108, 0.8788, 0.9069, 0.007, 0.0096, 0.6671, 0.6535, 0.9387]]]], 2, Con96445), 
LUp_7778 = up_sampling2D_layer([[[[1.1221, 1.3491, 1.3576], [1.2102, 1.8349, 1.2778], [1.3389, 1.0973, 1.88]], [[1.0456, 1.3862, 1.8526], [1.4039, 1.2377, 1.6709], [1.2286, 1.9606, 1.1599]], [[1.0549, 1.8411, 1.4992], [1.0311, 1.742, 1.238], [1.7946, 1.3516, 1.0155]]]], 1, 2, Up_7778), 
LRes12891 = reshape_layer(Up_7778, [3, 18], Res12891), 
LDot74222 = dot_layer(Con96445,Res12891, 2, 2, Dot74222), 
LThr40883 = thresholded_relu_layer(Dot74222, 4.053710152435035, Thr40883), 
LDot79328 = dot_layer(Con96717,Thr40883, 2, 2, Dot79328), 
LRes94441 = reshape_layer(Dot79328, [2, 2, 1], Res94441), 
LUp_72398 = up_sampling2D_layer(Res94441, 2, 1, Up_72398), 
LRes1767 = reshape_layer(Up_72398, [4, 2, 1, 1], Res1767), 
LGlo78501 = global_average_pooling3D_layer(Res1767, Glo78501), 
exec_layers([LMul65168,LRes47966,LRes22349,LZer4002,LCon96717,LELU5320,LRes54347,LCon96445,LUp_7778,LRes12891,LDot74222,LThr40883,LDot79328,LRes94441,LUp_72398,LRes1767,LGlo78501],["Mul65168","Res47966","Res22349","Zer4002","Con96717","ELU5320","Res54347","Con96445","Up_7778","Res12891","Dot74222","Thr40883","Dot79328","Res94441","Up_72398","Res1767","Glo78501"],Glo78501,"Glo78501")

Actual (Unparsed): [[16.4678798]]

Expected (Unparsed): [[16.46787983233653]]

Actual:   [[16.4679]]

Expected: [[16.4679]]