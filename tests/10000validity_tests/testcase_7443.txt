import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min7642 = tf.keras.layers.Input(shape=([2, 2]))
in1Min7642 = tf.keras.layers.Input(shape=([2, 2]))

Min7642 = keras.layers.Minimum(name = 'Min7642', )([in0Min7642,in1Min7642])
Res87816 = keras.layers.Reshape((2, 2, 1), name = 'Res87816', )(Min7642)
Up_69987 = keras.layers.UpSampling2D(size=(1, 2), name = 'Up_69987', )(Res87816)
Res89723 = keras.layers.Reshape((2, 4, 1, 1), name = 'Res89723', )(Up_69987)
Glo45997 = keras.layers.GlobalAveragePooling3D(name = 'Glo45997', )(Res89723)
model = tf.keras.models.Model(inputs=[in0Min7642,in1Min7642], outputs=Glo45997)
in0Min7642 = tf.constant([[[0.4968, 0.1559], [0.2277, 0.1908]]])
in1Min7642 = tf.constant([[[0.044, 0.4335], [0.0684, 0.6035]]])
print (np.array2string(model.predict([in0Min7642,in1Min7642],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo45997.png')

LMin7642 = minimum_layer([[[[0.4968, 0.1559], [0.2277, 0.1908]]], [[[0.044, 0.4335], [0.0684, 0.6035]]]], Min7642), 
LRes87816 = reshape_layer(Min7642, [2, 2, 1], Res87816), 
LUp_69987 = up_sampling2D_layer(Res87816, 1, 2, Up_69987), 
LRes89723 = reshape_layer(Up_69987, [2, 4, 1, 1], Res89723), 
LGlo45997 = global_average_pooling3D_layer(Res89723, Glo45997), 
exec_layers([LMin7642,LRes87816,LUp_69987,LRes89723,LGlo45997],["Min7642","Res87816","Up_69987","Res89723","Glo45997"],Glo45997,"Glo45997")

Actual (Unparsed): [[0.1147750]]

Expected (Unparsed): [[0.114775]]

Actual:   [[0.1148]]

Expected: [[0.1148]]