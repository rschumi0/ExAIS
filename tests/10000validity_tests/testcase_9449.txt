import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Den48425 = tf.keras.layers.Input(shape=([2, 4, 3]))

Den48425 = keras.layers.Dense(2,name = 'Den48425', )(in0Den48425)
Cro55508 = keras.layers.Cropping2D(cropping=((1, 0), (0, 0)), name = 'Cro55508', )(Den48425)
Bat19132 = keras.layers.BatchNormalization(axis=3, epsilon=0.28644308837483345,  name = 'Bat19132', )(Cro55508)
Res4388 = keras.layers.Reshape((1, 4, 2, 1), name = 'Res4388', )(Bat19132)
Up_55313 = keras.layers.UpSampling3D(size=(1, 1, 1), name = 'Up_55313', )(Res4388)
model = tf.keras.models.Model(inputs=[in0Den48425], outputs=Up_55313)
w = model.get_layer('Den48425').get_weights() 
w[0] = np.array([[0.5168, 0.3785], [0.0329, 0.1345], [0.9823, 0.6166]])
w[1] = np.array([0.5743, 0.5496])
model.get_layer('Den48425').set_weights(w) 
w = model.get_layer('Bat19132').get_weights() 
w[0] = np.array([0.3678, 0.1526])
w[1] = np.array([0.907, 0.431])
w[2] = np.array([0.3011, 0.3641])
w[3] = np.array([0.9141, 0.0255])
model.get_layer('Bat19132').set_weights(w) 
in0Den48425 = tf.constant([[[[0.7455, 0.0948, 0.6722], [0.5823, 0.2473, 0.834], [0.7372, 0.0206, 0.8069], [0.8361, 0.7734, 0.7351]], [[0.8718, 0.4486, 0.229], [0.5051, 0.3294, 0.5491], [0.0712, 0.0132, 0.2948], [0.9904, 0.5893, 0.3235]]]])
print (np.array2string(model.predict([in0Den48425],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Up_55313.png')

LDen48425 = dense_layer([[[[0.7455, 0.0948, 0.6722], [0.5823, 0.2473, 0.834], [0.7372, 0.0206, 0.8069], [0.8361, 0.7734, 0.7351]], [[0.8718, 0.4486, 0.229], [0.5051, 0.3294, 0.5491], [0.0712, 0.0132, 0.2948], [0.9904, 0.5893, 0.3235]]]], [[0.5168, 0.3785], [0.0329, 0.1345], [0.9823, 0.6166]],[0.5743, 0.5496], Den48425), 
LCro55508 = cropping2D_layer(Den48425, 1, 0, 0, 0, Cro55508), 
LBat19132 = batch_normalization_layer(Cro55508, 3, 0.28644308837483345, [0.3678, 0.1526], [0.907, 0.431], [0.3011, 0.3641], [0.9141, 0.0255], Bat19132), 
LRes4388 = reshape_layer(Bat19132, [1, 4, 2, 1], Res4388), 
LUp_55313 = up_sampling3D_layer(Res4388, 1, 1, 1, Up_55313), 
exec_layers([LDen48425,LCro55508,LBat19132,LRes4388,LUp_55313],["Den48425","Cro55508","Bat19132","Res4388","Up_55313"],Up_55313,"Up_55313")

Actual (Unparsed): [[[[[1.2304096], [0.6269046]], [[1.2710273], [0.6385290]], [[1.1084110], [0.5391957]], [[1.2836981], [0.6602605]]]]]

Expected (Unparsed): [[[[[1.2304095778612496],[0.6269046423816986]],[[1.271027281058083],[0.6385289887554514]],[[1.1084109753652476],[0.5391957369714859]],[[1.2836980740117314],[0.6602604810659047]]]]]

Actual:   [[[[[1.2305], [0.627]], [[1.2711], [0.6386]], [[1.1085], [0.5392]], [[1.2837], [0.6603]]]]]

Expected: [[[[[1.2305], [0.627]], [[1.2711], [0.6386]], [[1.1085], [0.5392]], [[1.2837], [0.6603]]]]]