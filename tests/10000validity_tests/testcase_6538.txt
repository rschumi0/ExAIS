import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub27125 = tf.keras.layers.Input(shape=([2, 2, 3]))
in1Sub27125 = tf.keras.layers.Input(shape=([2, 2, 3]))

Sub27125 = keras.layers.Subtract(name = 'Sub27125', )([in0Sub27125,in1Sub27125])
Glo83533 = keras.layers.GlobalAveragePooling2D(name = 'Glo83533', )(Sub27125)
model = tf.keras.models.Model(inputs=[in0Sub27125,in1Sub27125], outputs=Glo83533)
in0Sub27125 = tf.constant([[[[0.6042, 0.5696, 0.987], [0.2964, 0.0615, 0.9043]], [[0.0127, 0.9988, 0.2959], [0.3147, 0.4242, 0.9602]]]])
in1Sub27125 = tf.constant([[[[0.3769, 0.2166, 0.1346], [0.9575, 0.9289, 0.9481]], [[0.9628, 0.8677, 0.1696], [0.5226, 0.366, 0.4386]]]])
print (np.array2string(model.predict([in0Sub27125,in1Sub27125],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo83533.png')

LSub27125 = subtract_layer([[[[0.6042, 0.5696, 0.987], [0.2964, 0.0615, 0.9043]], [[0.0127, 0.9988, 0.2959], [0.3147, 0.4242, 0.9602]]]], [[[[0.3769, 0.2166, 0.1346], [0.9575, 0.9289, 0.9481]], [[0.9628, 0.8677, 0.1696], [0.5226, 0.366, 0.4386]]]], Sub27125), 
LGlo83533 = global_average_pooling2D_layer(Sub27125, Glo83533), 
exec_layers([LSub27125,LGlo83533],["Sub27125","Glo83533"],Glo83533,"Glo83533")

Actual (Unparsed): [[-0.3979500, -0.0812750, 0.3641250]]

Expected (Unparsed): [[-0.39795,-0.08127499999999999,0.36412500000000003]]

Actual:   [[-0.3979, -0.0812, 0.3642]]

Expected: [[-0.3979, -0.0812, 0.3642]]