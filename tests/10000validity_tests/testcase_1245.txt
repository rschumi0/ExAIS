import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Zer38767 = tf.keras.layers.Input(shape=([3, 1, 2, 2]))
in0Mul92027 = tf.keras.layers.Input(shape=([2, 2, 2, 1]))
in1Mul92027 = tf.keras.layers.Input(shape=([2, 2, 2, 1]))

Zer38767 = keras.layers.ZeroPadding3D(padding=((1, 1), (1, 1), (1, 1)), name = 'Zer38767', )(in0Zer38767)
Res30033 = keras.layers.Reshape((5, 3, 8), name = 'Res30033', )(Zer38767)
Glo79331 = keras.layers.GlobalAveragePooling2D(name = 'Glo79331', )(Res30033)
Res15453 = keras.layers.Reshape((8, 1), name = 'Res15453', )(Glo79331)
Res8018 = keras.layers.Reshape((8, 1, 1), name = 'Res8018', )(Res15453)
Res24991 = keras.layers.Reshape((8, 1, 1, 1), name = 'Res24991', )(Res8018)
Zer59304 = keras.layers.ZeroPadding3D(padding=((0, 0), (2, 0), (2, 0)), name = 'Zer59304', )(Res24991)
Mul92027 = keras.layers.Multiply(name = 'Mul92027', )([in0Mul92027,in1Mul92027])
Zer71678 = keras.layers.ZeroPadding3D(padding=((6, 0), (1, 0), (1, 0)), name = 'Zer71678', )(Mul92027)
Sub74217 = keras.layers.Subtract(name = 'Sub74217', )([Zer59304,Zer71678])
ELU79529 = keras.layers.ELU(alpha=3.562492402103734, name = 'ELU79529', )(Sub74217)
model = tf.keras.models.Model(inputs=[in0Zer38767,in0Mul92027,in1Mul92027], outputs=ELU79529)
in0Zer38767 = tf.constant([[[[[1.0661, 1.0438], [1.2564, 1.1916]]], [[[1.1344, 1.8715], [1.4735, 1.571]]], [[[1.6711, 1.6564], [1.8034, 1.6001]]]]])
in0Mul92027 = tf.constant([[[[[0.3887], [0.7743]], [[0.4562], [0.4082]]], [[[0.2242], [0.9958]], [[0.1765], [0.3027]]]]])
in1Mul92027 = tf.constant([[[[[0.0812], [0.5597]], [[0.1658], [0.197]]], [[[0.3924], [0.8763]], [[0.3705], [0.7619]]]]])
print (np.array2string(model.predict([in0Zer38767,in0Mul92027,in1Mul92027],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='ELU79529.png')

LZer38767 = zero_padding3D_layer([[[[[1.0661, 1.0438], [1.2564, 1.1916]]], [[[1.1344, 1.8715], [1.4735, 1.571]]], [[[1.6711, 1.6564], [1.8034, 1.6001]]]]], 1, 1, 1, 1, 1, 1, Zer38767), 
LRes30033 = reshape_layer(Zer38767, [5, 3, 8], Res30033), 
LGlo79331 = global_average_pooling2D_layer(Res30033, Glo79331), 
LRes15453 = reshape_layer(Glo79331, [8, 1], Res15453), 
LRes8018 = reshape_layer(Res15453, [8, 1, 1], Res8018), 
LRes24991 = reshape_layer(Res8018, [8, 1, 1, 1], Res24991), 
LZer59304 = zero_padding3D_layer(Res24991, 0, 0, 2, 0, 2, 0, Zer59304), 
LMul92027 = multiply_layer([[[[[[0.3887], [0.7743]], [[0.4562], [0.4082]]], [[[0.2242], [0.9958]], [[0.1765], [0.3027]]]]], [[[[[0.0812], [0.5597]], [[0.1658], [0.197]]], [[[0.3924], [0.8763]], [[0.3705], [0.7619]]]]]], Mul92027), 
LZer71678 = zero_padding3D_layer(Mul92027, 6, 0, 1, 0, 1, 0, Zer71678), 
LSub74217 = subtract_layer(Zer59304,Zer71678, Sub74217), 
LELU79529 = elu_layer(Sub74217, 3.562492402103734, ELU79529), 
exec_layers([LZer38767,LRes30033,LGlo79331,LRes15453,LRes8018,LRes24991,LZer59304,LMul92027,LZer71678,LSub74217,LELU79529],["Zer38767","Res30033","Glo79331","Res15453","Res8018","Res24991","Zer59304","Mul92027","Zer71678","Sub74217","ELU79529"],ELU79529,"ELU79529")

Actual (Unparsed): [[[[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.2581067]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.3047800]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.3022200]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.2908467]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [-0.1106850], [-1.2528685]], [[0.0000000], [-0.2595211], [-0.2752632]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [-0.3000232], [-2.0738853]], [[0.0000000], [-0.2255092], [-0.7337471]]]]]

Expected (Unparsed): [[[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0.25810666666666665]]],[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0.30478]]],[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0.30222]]],[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0.2908466666666667]]],[[[0],[0],[0]],[[0],[-0.11068501961203236],[-1.2528684895753894]],[[0],[-0.25952111680419376],[-0.2752632304982109]]],[[[0],[0],[0]],[[0],[-0.3000231993030317],[-2.073885268855357]],[[0],[-0.22550921026195436],[-0.7337470274341308]]]]]

Actual:   [[[[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0.2582]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0.3048]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0.3023]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0.2909]]], [[[0], [0], [0]], [[0], [-0.1106], [-1.2528]], [[0], [-0.2595], [-0.2752]]], [[[0], [0], [0]], [[0], [-0.3], [-2.0738]], [[0], [-0.2255], [-0.7337]]]]]

Expected: [[[[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0.2582]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0.3048]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0.3023]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0.2909]]], [[[0], [0], [0]], [[0], [-0.1106], [-1.2528]], [[0], [-0.2595], [-0.2752]]], [[[0], [0], [0]], [[0], [-0.3], [-2.0738]], [[0], [-0.2255], [-0.7337]]]]]