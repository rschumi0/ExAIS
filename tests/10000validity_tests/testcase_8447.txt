import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo63040 = tf.keras.layers.Input(shape=([2, 2, 2]))
in0Ave31467 = tf.keras.layers.Input(shape=([1, 2]))
in1Ave31467 = tf.keras.layers.Input(shape=([1, 2]))
in0Con65015 = tf.keras.layers.Input(shape=([1]))

Glo63040 = keras.layers.GlobalMaxPool2D(name = 'Glo63040', )(in0Glo63040)
Ave31467 = keras.layers.Average(name = 'Ave31467', )([in0Ave31467,in1Ave31467])
Res69420 = keras.layers.Reshape((1, 2, 1), name = 'Res69420', )(Ave31467)
Res3163 = keras.layers.Reshape((1, 2, 1, 1), name = 'Res3163', )(Res69420)
Glo11264 = keras.layers.GlobalAveragePooling3D(name = 'Glo11264', )(Res3163)
Con65015 = keras.layers.Concatenate(axis=1, name = 'Con65015', )([Glo11264,in0Con65015])
Add17152 = keras.layers.Add(name = 'Add17152', )([Glo63040,Con65015])
model = tf.keras.models.Model(inputs=[in0Glo63040,in0Ave31467,in1Ave31467,in0Con65015], outputs=Add17152)
in0Glo63040 = tf.constant([[[[1.6817, 1.0373], [1.4218, 1.5899]], [[1.8108, 1.4737], [1.5661, 1.1622]]]])
in0Ave31467 = tf.constant([[[0.3589, 0.5692]]])
in1Ave31467 = tf.constant([[[0.6737, 0.9667]]])
in0Con65015 = tf.constant([[0.2858]])
print (np.array2string(model.predict([in0Glo63040,in0Ave31467,in1Ave31467,in0Con65015],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add17152.png')

LGlo63040 = global_max_pool2D_layer([[[[1.6817, 1.0373], [1.4218, 1.5899]], [[1.8108, 1.4737], [1.5661, 1.1622]]]], Glo63040), 
LAve31467 = average_layer([[[[0.3589, 0.5692]]], [[[0.6737, 0.9667]]]], Ave31467), 
LRes69420 = reshape_layer(Ave31467, [1, 2, 1], Res69420), 
LRes3163 = reshape_layer(Res69420, [1, 2, 1, 1], Res3163), 
LGlo11264 = global_average_pooling3D_layer(Res3163, Glo11264), 
LCon65015 = concatenate_layer([Glo11264,[[0.2858]]], 1, Con65015), 
LAdd17152 = add_layer([Glo63040,Con65015], Add17152), 
exec_layers([LGlo63040,LAve31467,LRes69420,LRes3163,LGlo11264,LCon65015,LAdd17152],["Glo63040","Ave31467","Res69420","Res3163","Glo11264","Con65015","Add17152"],Add17152,"Add17152")

Actual (Unparsed): [[2.4529250, 1.8757000]]

Expected (Unparsed): [[2.452925,1.8757000000000001]]

Actual:   [[2.453, 1.8757]]

Expected: [[2.453, 1.8758]]