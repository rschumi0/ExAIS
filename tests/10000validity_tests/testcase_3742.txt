import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Den84762 = tf.keras.layers.Input(shape=([4, 5]))

Den84762 = keras.layers.Dense(1,name = 'Den84762', )(in0Den84762)
Res29005 = keras.layers.Reshape((4, 1, 1), name = 'Res29005', )(Den84762)
Zer85142 = keras.layers.ZeroPadding2D(padding=((1, 1), (1, 1)), name = 'Zer85142', )(Res29005)
Res70362 = keras.layers.Reshape((6, 3), name = 'Res70362', )(Zer85142)
Glo12521 = keras.layers.GlobalAveragePooling1D(name = 'Glo12521', )(Res70362)
Res92844 = keras.layers.Reshape((3, 1), name = 'Res92844', )(Glo12521)
Res50057 = keras.layers.Reshape((3, 1, 1), name = 'Res50057', )(Res92844)
Res81852 = keras.layers.Reshape((3, 1, 1, 1), name = 'Res81852', )(Res50057)
Cro945 = keras.layers.Cropping3D(cropping=((2, 0), (0, 0), (0, 0)), name = 'Cro945', )(Res81852)
Res31168 = keras.layers.Reshape((1, 1, 1), name = 'Res31168', )(Cro945)
Glo32507 = keras.layers.GlobalAveragePooling2D(name = 'Glo32507', )(Res31168)
model = tf.keras.models.Model(inputs=[in0Den84762], outputs=Glo32507)
w = model.get_layer('Den84762').get_weights() 
w[0] = np.array([[0.5752], [0.2989], [0.739], [0.8545], [0.4478]])
w[1] = np.array([0.6688])
model.get_layer('Den84762').set_weights(w) 
in0Den84762 = tf.constant([[[0.6214, 0.7503, 0.875, 0.7787, 0.0821], [0.0038, 0.8874, 0.2293, 0.5227, 0.9663], [0.0868, 0.3164, 0.9653, 0.7128, 0.7896], [0.717, 0.3922, 0.0006, 0.6809, 0.4071]]])
print (np.array2string(model.predict([in0Den84762],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo32507.png')

LDen84762 = dense_layer([[[0.6214, 0.7503, 0.875, 0.7787, 0.0821], [0.0038, 0.8874, 0.2293, 0.5227, 0.9663], [0.0868, 0.3164, 0.9653, 0.7128, 0.7896], [0.717, 0.3922, 0.0006, 0.6809, 0.4071]]], [[0.5752], [0.2989], [0.739], [0.8545], [0.4478]],[0.6688], Den84762), 
LRes29005 = reshape_layer(Den84762, [4, 1, 1], Res29005), 
LZer85142 = zero_padding2D_layer(Res29005, 1, 1, 1, 1, Zer85142), 
LRes70362 = reshape_layer(Zer85142, [6, 3], Res70362), 
LGlo12521 = global_average_pooling1D_layer(Res70362, Glo12521), 
LRes92844 = reshape_layer(Glo12521, [3, 1], Res92844), 
LRes50057 = reshape_layer(Res92844, [3, 1, 1], Res50057), 
LRes81852 = reshape_layer(Res50057, [3, 1, 1, 1], Res81852), 
LCro945 = cropping3D_layer(Res81852, 2, 0, 0, 0, 0, 0, Cro945), 
LRes31168 = reshape_layer(Cro945, [1, 1, 1], Res31168), 
LGlo32507 = global_average_pooling2D_layer(Res31168, Glo32507), 
exec_layers([LDen84762,LRes29005,LZer85142,LRes70362,LGlo12521,LRes92844,LRes50057,LRes81852,LCro945,LRes31168,LGlo32507],["Den84762","Res29005","Zer85142","Res70362","Glo12521","Res92844","Res50057","Res81852","Cro945","Res31168","Glo32507"],Glo32507,"Glo32507")

Actual (Unparsed): [[0.0000000]]

Expected (Unparsed): [[0]]

Actual:   [[0]]

Expected: [[0]]