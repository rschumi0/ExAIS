import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave15739 = tf.keras.layers.Input(shape=([1, 2, 1]))
in1Ave15739 = tf.keras.layers.Input(shape=([1, 2, 1]))
in0Lay83334 = tf.keras.layers.Input(shape=([1]))
in0Con13332 = tf.keras.layers.Input(shape=([1]))
in0Con3643 = tf.keras.layers.Input(shape=([2]))
in0Min68446 = tf.keras.layers.Input(shape=([2, 2]))
in1Min68446 = tf.keras.layers.Input(shape=([2, 2]))
in0Min46100 = tf.keras.layers.Input(shape=([1, 2, 2, 1]))
in1Min46100 = tf.keras.layers.Input(shape=([1, 2, 2, 1]))
in0Con2912 = tf.keras.layers.Input(shape=([2]))

Ave15739 = keras.layers.Average(name = 'Ave15739', )([in0Ave15739,in1Ave15739])
Res82800 = keras.layers.Reshape((1, 2), name = 'Res82800', )(Ave15739)
Fla48978 = keras.layers.Flatten(name = 'Fla48978', )(Res82800)
Lay83334 = keras.layers.LayerNormalization(axis=1, epsilon=1.1407080154962335, name = 'Lay83334', )(in0Lay83334)
Con13332 = keras.layers.Concatenate(axis=1, name = 'Con13332', )([Lay83334,in0Con13332])
Ave51531 = keras.layers.Average(name = 'Ave51531', )([Fla48978,Con13332])
Con3643 = keras.layers.Concatenate(axis=1, name = 'Con3643', )([Ave51531,in0Con3643])
Min68446 = keras.layers.Minimum(name = 'Min68446', )([in0Min68446,in1Min68446])
Fla96608 = keras.layers.Flatten(name = 'Fla96608', )(Min68446)
Min46100 = keras.layers.Minimum(name = 'Min46100', )([in0Min46100,in1Min46100])
Res29410 = keras.layers.Reshape((1, 2, 2), name = 'Res29410', )(Min46100)
Glo42416 = keras.layers.GlobalMaxPool2D(name = 'Glo42416', )(Res29410)
Con2912 = keras.layers.Concatenate(axis=1, name = 'Con2912', )([Glo42416,in0Con2912])
Max76414 = keras.layers.Maximum(name = 'Max76414', )([Fla96608,Con2912])
Add27488 = keras.layers.Add(name = 'Add27488', )([Con3643,Max76414])
model = tf.keras.models.Model(inputs=[in0Ave15739,in1Ave15739,in0Lay83334,in0Con13332,in0Con3643,in0Min68446,in1Min68446,in0Min46100,in1Min46100,in0Con2912], outputs=Add27488)
in0Ave15739 = tf.constant([[[[0.1175], [0.8529]]]])
in1Ave15739 = tf.constant([[[[0.5706], [0.3933]]]])
in0Lay83334 = tf.constant([[1.7123]])
in0Con13332 = tf.constant([[0.7801]])
in0Con3643 = tf.constant([[0.8535, 0.035]])
in0Min68446 = tf.constant([[[0.2622, 0.8578], [0.2716, 0.2365]]])
in1Min68446 = tf.constant([[[0.4184, 0.8607], [0.9518, 0.7364]]])
in0Min46100 = tf.constant([[[[[0.4149], [0.8457]], [[0.8148], [0.4349]]]]])
in1Min46100 = tf.constant([[[[[0.5429], [0.1018]], [[0.0943], [0.8278]]]]])
in0Con2912 = tf.constant([[0.0112, 0.3601]])
print (np.array2string(model.predict([in0Ave15739,in1Ave15739,in0Lay83334,in0Con13332,in0Con3643,in0Min68446,in1Min68446,in0Min46100,in1Min46100,in0Con2912],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add27488.png')

LAve15739 = average_layer([[[[[0.1175], [0.8529]]]], [[[[0.5706], [0.3933]]]]], Ave15739), 
LRes82800 = reshape_layer(Ave15739, [1, 2], Res82800), 
LFla48978 = flatten_layer(Res82800, Fla48978), 
LLay83334 = layer_normalization_layer([[1.7123]], 1, 1.1407080154962335, Lay83334), 
LCon13332 = concatenate_layer([Lay83334,[[0.7801]]], 1, Con13332), 
LAve51531 = average_layer([Fla48978,Con13332], Ave51531), 
LCon3643 = concatenate_layer([Ave51531,[[0.8535, 0.035]]], 1, Con3643), 
LMin68446 = minimum_layer([[[[0.2622, 0.8578], [0.2716, 0.2365]]], [[[0.4184, 0.8607], [0.9518, 0.7364]]]], Min68446), 
LFla96608 = flatten_layer(Min68446, Fla96608), 
LMin46100 = minimum_layer([[[[[[0.4149], [0.8457]], [[0.8148], [0.4349]]]]], [[[[[0.5429], [0.1018]], [[0.0943], [0.8278]]]]]], Min46100), 
LRes29410 = reshape_layer(Min46100, [1, 2, 2], Res29410), 
LGlo42416 = global_max_pool2D_layer(Res29410, Glo42416), 
LCon2912 = concatenate_layer([Glo42416,[[0.0112, 0.3601]]], 1, Con2912), 
LMax76414 = maximum_layer([Fla96608,Con2912], Max76414), 
LAdd27488 = add_layer([Con3643,Max76414], Add27488), 
exec_layers([LAve15739,LRes82800,LFla48978,LLay83334,LCon13332,LAve51531,LCon3643,LMin68446,LFla96608,LMin46100,LRes29410,LGlo42416,LCon2912,LMax76414,LAdd27488],["Ave15739","Res82800","Fla48978","Lay83334","Con13332","Ave51531","Con3643","Min68446","Fla96608","Min46100","Res29410","Glo42416","Con2912","Max76414","Add27488"],Add27488,"Add27488")

Actual (Unparsed): [[0.5869250, 1.5594000, 1.1251000, 0.3951000]]

Expected (Unparsed): [[0.5869249999999999,1.5594000000000001,1.1251,0.3951]]

Actual:   [[0.587, 1.5594, 1.1251, 0.3951]]

Expected: [[0.587, 1.5595, 1.1251, 0.3951]]