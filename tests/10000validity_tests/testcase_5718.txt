import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dep85134 = tf.keras.layers.Input(shape=([1, 2, 1]))
in0ELU43415 = tf.keras.layers.Input(shape=([1, 2]))

Dep85134 = keras.layers.DepthwiseConv2D((1, 2),strides=(1, 1), padding='same', name = 'Dep85134', )(in0Dep85134)
Res13025 = keras.layers.Reshape((1, 2), name = 'Res13025', )(Dep85134)
ELU43415 = keras.layers.ELU(alpha=1.3433668195709245, name = 'ELU43415', input_shape=(1, 2))(in0ELU43415)
Mas99231 = keras.layers.Masking(mask_value=2, name = 'Mas99231', )(ELU43415)
Ave13751 = keras.layers.Average(name = 'Ave13751', )([Res13025,Mas99231])
Cro47062 = keras.layers.Cropping1D(cropping=((0, 0)), name = 'Cro47062', )(Ave13751)
Cro91088 = keras.layers.Cropping1D(cropping=((0, 0)), name = 'Cro91088', )(Cro47062)
model = tf.keras.models.Model(inputs=[in0Dep85134,in0ELU43415], outputs=Cro91088)
w = model.get_layer('Dep85134').get_weights() 
w[0] = np.array([[[[0.987]], [[0.6452]]]])
w[1] = np.array([0])
model.get_layer('Dep85134').set_weights(w) 
in0Dep85134 = tf.constant([[[[0.3018], [0.4677]]]])
in0ELU43415 = tf.constant([[[0.302, 0.8303]]])
print (np.array2string(model.predict([in0Dep85134,in0ELU43415],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Cro91088.png')

LDep85134 = depthwise_conv2D_layer([[[[0.3018], [0.4677]]]], 1, 2,[[[[0.987]], [[0.6452]]]],[0], 1, 1, true, Dep85134), 
LRes13025 = reshape_layer(Dep85134, [1, 2], Res13025), 
LELU43415 = elu_layer([[[0.302, 0.8303]]], 1.3433668195709245, ELU43415), 
LMas99231 = masking_layer(ELU43415, 2, Mas99231), 
LAve13751 = average_layer([Res13025,Mas99231], Ave13751), 
LCro47062 = cropping1D_layer(Ave13751, 0, 0, Cro47062), 
LCro91088 = cropping1D_layer(Cro47062, 0, 0, Cro91088), 
exec_layers([LDep85134,LRes13025,LELU43415,LMas99231,LAve13751,LCro47062,LCro91088],["Dep85134","Res13025","ELU43415","Mas99231","Ave13751","Cro47062","Cro91088"],Cro91088,"Cro91088")

Actual (Unparsed): [[[0.4508183, 0.6459599]]]

Expected (Unparsed): [[[0.45081832,0.64595995]]]

Actual:   [[[0.4509, 0.646]]]

Expected: [[[0.4509, 0.646]]]