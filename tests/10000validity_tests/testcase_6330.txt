import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min32755 = tf.keras.layers.Input(shape=([1, 2, 1]))
in1Min32755 = tf.keras.layers.Input(shape=([1, 2, 1]))
in0Con28237 = tf.keras.layers.Input(shape=([2]))
in0Thr14380 = tf.keras.layers.Input(shape=([2, 2]))

Min32755 = keras.layers.Minimum(name = 'Min32755', )([in0Min32755,in1Min32755])
Res99457 = keras.layers.Reshape((1, 2), name = 'Res99457', )(Min32755)
Fla72507 = keras.layers.Flatten(name = 'Fla72507', )(Res99457)
Con28237 = keras.layers.Concatenate(axis=1, name = 'Con28237', )([Fla72507,in0Con28237])
Thr14380 = keras.layers.ThresholdedReLU(theta=6.051190347326627, name = 'Thr14380', input_shape=(2, 2))(in0Thr14380)
Fla89249 = keras.layers.Flatten(name = 'Fla89249', )(Thr14380)
Mul82104 = keras.layers.Multiply(name = 'Mul82104', )([Con28237,Fla89249])
Lay11907 = keras.layers.LayerNormalization(axis=1, epsilon=2.2828496738573802, name = 'Lay11907', )(Mul82104)
model = tf.keras.models.Model(inputs=[in0Min32755,in1Min32755,in0Con28237,in0Thr14380], outputs=Lay11907)
in0Min32755 = tf.constant([[[[0.1606], [0.1814]]]])
in1Min32755 = tf.constant([[[[0.7959], [0.441]]]])
in0Con28237 = tf.constant([[0.234, 0.7907]])
in0Thr14380 = tf.constant([[[0.2124, 0.6217], [0.7488, 0.501]]])
print (np.array2string(model.predict([in0Min32755,in1Min32755,in0Con28237,in0Thr14380],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Lay11907.png')

LMin32755 = minimum_layer([[[[[0.1606], [0.1814]]]], [[[[0.7959], [0.441]]]]], Min32755), 
LRes99457 = reshape_layer(Min32755, [1, 2], Res99457), 
LFla72507 = flatten_layer(Res99457, Fla72507), 
LCon28237 = concatenate_layer([Fla72507,[[0.234, 0.7907]]], 1, Con28237), 
LThr14380 = thresholded_relu_layer([[[0.2124, 0.6217], [0.7488, 0.501]]], 6.051190347326627, Thr14380), 
LFla89249 = flatten_layer(Thr14380, Fla89249), 
LMul82104 = multiply_layer([Con28237,Fla89249], Mul82104), 
LLay11907 = layer_normalization_layer(Mul82104, 1, 2.2828496738573802, Lay11907), 
exec_layers([LMin32755,LRes99457,LFla72507,LCon28237,LThr14380,LFla89249,LMul82104,LLay11907],["Min32755","Res99457","Fla72507","Con28237","Thr14380","Fla89249","Mul82104","Lay11907"],Lay11907,"Lay11907")

Actual (Unparsed): [[0.0000000, 0.0000000, 0.0000000, 0.0000000]]

Expected (Unparsed): [[0.0,0.0,0.0,0.0]]

Actual:   [[0, 0, 0, 0]]

Expected: [[0, 0, 0, 0]]