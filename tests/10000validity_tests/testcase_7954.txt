import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min57725 = tf.keras.layers.Input(shape=([2, 2, 1]))
in1Min57725 = tf.keras.layers.Input(shape=([2, 2, 1]))

Min57725 = keras.layers.Minimum(name = 'Min57725', )([in0Min57725,in1Min57725])
Max14263 = keras.layers.MaxPool2D(pool_size=(1, 2), strides=(1, 1), padding='valid', name = 'Max14263', )(Min57725)
Res48168 = keras.layers.Reshape((2, 1), name = 'Res48168', )(Max14263)
Ave87902 = keras.layers.AveragePooling1D(pool_size=(1), name = 'Ave87902', )(Res48168)
Con58994 = keras.layers.Conv1D(2, (1),strides=(1), padding='same', dilation_rate=(1), name = 'Con58994', )(Ave87902)
model = tf.keras.models.Model(inputs=[in0Min57725,in1Min57725], outputs=Con58994)
w = model.get_layer('Con58994').get_weights() 
w[0] = np.array([[[0.2591, 0.1255]]])
w[1] = np.array([0, 0])
model.get_layer('Con58994').set_weights(w) 
in0Min57725 = tf.constant([[[[0.7236], [0.411]], [[0.4802], [0.7723]]]])
in1Min57725 = tf.constant([[[[0.8406], [0.9566]], [[0.7189], [0.4792]]]])
print (np.array2string(model.predict([in0Min57725,in1Min57725],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Con58994.png')

LMin57725 = minimum_layer([[[[[0.7236], [0.411]], [[0.4802], [0.7723]]]], [[[[0.8406], [0.9566]], [[0.7189], [0.4792]]]]], Min57725), 
LMax14263 = max_pool2D_layer(Min57725, 1, 2, 1, 1, false, Max14263), 
LRes48168 = reshape_layer(Max14263, [2, 1], Res48168), 
LAve87902 = average_pooling1D_layer(Res48168, 1, Ave87902), 
LCon58994 = conv1D_layer(Ave87902, 1,[[[0.2591, 0.1255]]],[0, 0], 1, true, 1, Con58994), 
exec_layers([LMin57725,LMax14263,LRes48168,LAve87902,LCon58994],["Min57725","Max14263","Res48168","Ave87902","Con58994"],Con58994,"Con58994")

Actual (Unparsed): [[[0.1874848, 0.0908118], [0.1244198, 0.0602651]]]

Expected (Unparsed): [[[0.18748476,0.0908118],[0.12441982,0.0602651]]]

Actual:   [[[0.1875, 0.0909], [0.1245, 0.0603]]]

Expected: [[[0.1875, 0.0909], [0.1245, 0.0603]]]