import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add23098 = tf.keras.layers.Input(shape=([1, 2, 2]))
in1Add23098 = tf.keras.layers.Input(shape=([1, 2, 2]))
in0Mul61977 = tf.keras.layers.Input(shape=([2, 1, 1]))
in1Mul61977 = tf.keras.layers.Input(shape=([2, 1, 1]))
in0Con60904 = tf.keras.layers.Input(shape=([2, 3, 1]))

Add23098 = keras.layers.Add(name = 'Add23098', )([in0Add23098,in1Add23098])
Zer29173 = keras.layers.ZeroPadding2D(padding=((1, 0), (1, 0)), name = 'Zer29173', )(Add23098)
Mul61977 = keras.layers.Multiply(name = 'Mul61977', )([in0Mul61977,in1Mul61977])
Zer20425 = keras.layers.ZeroPadding2D(padding=((0, 0), (2, 0)), name = 'Zer20425', )(Mul61977)
Con60904 = keras.layers.Concatenate(axis=3, name = 'Con60904', )([Zer20425,in0Con60904])
Add76788 = keras.layers.Add(name = 'Add76788', )([Zer29173,Con60904])
model = tf.keras.models.Model(inputs=[in0Add23098,in1Add23098,in0Mul61977,in1Mul61977,in0Con60904], outputs=Add76788)
in0Add23098 = tf.constant([[[[0.9743, 0.4906], [0.7564, 0.3124]]]])
in1Add23098 = tf.constant([[[[0.7775, 0.8674], [0.0146, 0.1791]]]])
in0Mul61977 = tf.constant([[[[0.3371]], [[0.2107]]]])
in1Mul61977 = tf.constant([[[[0.0461]], [[0.2906]]]])
in0Con60904 = tf.constant([[[[0.3957], [0.1741], [0.3963]], [[0.4867], [0.2489], [0.0894]]]])
print (np.array2string(model.predict([in0Add23098,in1Add23098,in0Mul61977,in1Mul61977,in0Con60904],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add76788.png')

LAdd23098 = add_layer([[[[[0.9743, 0.4906], [0.7564, 0.3124]]]], [[[[0.7775, 0.8674], [0.0146, 0.1791]]]]], Add23098), 
LZer29173 = zero_padding2D_layer(Add23098, 1, 0, 1, 0, Zer29173), 
LMul61977 = multiply_layer([[[[[0.3371]], [[0.2107]]]], [[[[0.0461]], [[0.2906]]]]], Mul61977), 
LZer20425 = zero_padding2D_layer(Mul61977, 0, 0, 2, 0, Zer20425), 
LCon60904 = concatenate_layer([Zer20425,[[[[0.3957], [0.1741], [0.3963]], [[0.4867], [0.2489], [0.0894]]]]], 3, Con60904), 
LAdd76788 = add_layer([Zer29173,Con60904], Add76788), 
exec_layers([LAdd23098,LZer29173,LMul61977,LZer20425,LCon60904,LAdd76788],["Add23098","Zer29173","Mul61977","Zer20425","Con60904","Add76788"],Add76788,"Add76788")

Actual (Unparsed): [[[[0.0000000, 0.3957000], [0.0000000, 0.1741000], [0.0155403, 0.3963000]], [[0.0000000, 0.4867000], [1.7518000, 1.6069000], [0.8322294, 0.5809000]]]]

Expected (Unparsed): [[[[0,0.3957],[0,0.1741],[0.015540310000000002,0.3963]],[[0,0.4867],[1.7518,1.6069],[0.8322294199999999,0.5809000000000001]]]]

Actual:   [[[[0, 0.3957], [0, 0.1741], [0.0156, 0.3963]], [[0, 0.4867], [1.7518, 1.6069], [0.8323, 0.5809]]]]

Expected: [[[[0, 0.3957], [0, 0.1741], [0.0156, 0.3963]], [[0, 0.4867], [1.7518, 1.6069], [0.8323, 0.581]]]]