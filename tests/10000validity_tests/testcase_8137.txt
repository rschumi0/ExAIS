import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dep26514 = tf.keras.layers.Input(shape=([1, 1, 1]))
in0Con98944 = tf.keras.layers.Input(shape=([2, 1]))
in0Dot97429 = tf.keras.layers.Input(shape=([2]))
in1Dot97429 = tf.keras.layers.Input(shape=([2]))
in0Con38579 = tf.keras.layers.Input(shape=([2, 1]))
in0Max69980 = tf.keras.layers.Input(shape=([1, 1, 1, 1]))
in1Max69980 = tf.keras.layers.Input(shape=([1, 1, 1, 1]))
in0Add13049 = tf.keras.layers.Input(shape=([2, 1]))
in1Add13049 = tf.keras.layers.Input(shape=([2, 1]))
in0Con21461 = tf.keras.layers.Input(shape=([2, 1]))

Dep26514 = keras.layers.DepthwiseConv2D((1, 1),strides=(1, 1), padding='same', name = 'Dep26514', )(in0Dep26514)
Res10539 = keras.layers.Reshape((1, 1), name = 'Res10539', )(Dep26514)
Zer29367 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer29367', )(Res10539)
Con98944 = keras.layers.Concatenate(axis=2, name = 'Con98944', )([Zer29367,in0Con98944])
Dot97429 = keras.layers.Dot(axes=(1, 1), name = 'Dot97429', )([in0Dot97429,in1Dot97429])
Res70233 = keras.layers.Reshape((1, 1), name = 'Res70233', )(Dot97429)
Zer11538 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer11538', )(Res70233)
Con38579 = keras.layers.Concatenate(axis=2, name = 'Con38579', )([Zer11538,in0Con38579])
Max69980 = keras.layers.Maximum(name = 'Max69980', )([in0Max69980,in1Max69980])
Res15623 = keras.layers.Reshape((1, 1, 1), name = 'Res15623', )(Max69980)
Sep76766 = keras.layers.SeparableConv2D(2, (1, 1),strides=(1, 1), padding='same', name = 'Sep76766', )(Res15623)
Res46368 = keras.layers.Reshape((1, 2), name = 'Res46368', )(Sep76766)
Zer57273 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer57273', )(Res46368)
Add13049 = keras.layers.Add(name = 'Add13049', )([in0Add13049,in1Add13049])
Con21461 = keras.layers.Concatenate(axis=2, name = 'Con21461', )([Add13049,in0Con21461])
Add28791 = keras.layers.Add(name = 'Add28791', )([Zer57273,Con21461])
Min65717 = keras.layers.Minimum(name = 'Min65717', )([Con38579,Add28791])
Add18056 = keras.layers.Add(name = 'Add18056', )([Con98944,Min65717])
Res13865 = keras.layers.Reshape((2, 2, 1), name = 'Res13865', )(Add18056)
Sep80375 = keras.layers.SeparableConv2D(3, (1, 2),strides=(2, 2), padding='same', name = 'Sep80375', )(Res13865)
model = tf.keras.models.Model(inputs=[in0Dep26514,in0Con98944,in0Dot97429,in1Dot97429,in0Con38579,in0Max69980,in1Max69980,in0Add13049,in1Add13049,in0Con21461], outputs=Sep80375)
w = model.get_layer('Dep26514').get_weights() 
w[0] = np.array([[[[0.821]]]])
w[1] = np.array([0])
model.get_layer('Dep26514').set_weights(w) 
w = model.get_layer('Sep76766').get_weights() 
w[0] = np.array([[[[0.7749]]]])
w[1] = np.array([[[[0.9017, 0.8737]]]])
w[2] = np.array([0, 0])
model.get_layer('Sep76766').set_weights(w) 
w = model.get_layer('Sep80375').get_weights() 
w[0] = np.array([[[[0.834]], [[0.6985]]]])
w[1] = np.array([[[[0.4298, 0.4704, 0.9147]]]])
w[2] = np.array([0, 0, 0])
model.get_layer('Sep80375').set_weights(w) 
in0Dep26514 = tf.constant([[[[0.6767]]]])
in0Con98944 = tf.constant([[[0.7631], [0.8696]]])
in0Dot97429 = tf.constant([[0.9334, 0.6975]])
in1Dot97429 = tf.constant([[0.5599, 0.9702]])
in0Con38579 = tf.constant([[[0.8874], [0.3855]]])
in0Max69980 = tf.constant([[[[[0.4441]]]]])
in1Max69980 = tf.constant([[[[[0.3921]]]]])
in0Add13049 = tf.constant([[[0.762], [0.5324]]])
in1Add13049 = tf.constant([[[0.3197], [0.5517]]])
in0Con21461 = tf.constant([[[0.1487], [0.8934]]])
print (np.array2string(model.predict([in0Dep26514,in0Con98944,in0Dot97429,in1Dot97429,in0Con38579,in0Max69980,in1Max69980,in0Add13049,in1Add13049,in0Con21461],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sep80375.png')

LDep26514 = depthwise_conv2D_layer([[[[0.6767]]]], 1, 1,[[[[0.821]]]],[0], 1, 1, true, Dep26514), 
LRes10539 = reshape_layer(Dep26514, [1, 1], Res10539), 
LZer29367 = zero_padding1D_layer(Res10539, 1, 0, Zer29367), 
LCon98944 = concatenate_layer([Zer29367,[[[0.7631], [0.8696]]]], 2, Con98944), 
LDot97429 = dot_layer([[0.9334, 0.6975]], [[0.5599, 0.9702]], 1, 1, Dot97429), 
LRes70233 = reshape_layer(Dot97429, [1, 1], Res70233), 
LZer11538 = zero_padding1D_layer(Res70233, 1, 0, Zer11538), 
LCon38579 = concatenate_layer([Zer11538,[[[0.8874], [0.3855]]]], 2, Con38579), 
LMax69980 = maximum_layer([[[[[[0.4441]]]]], [[[[[0.3921]]]]]], Max69980), 
LRes15623 = reshape_layer(Max69980, [1, 1, 1], Res15623), 
LSep76766 = separable_conv2D_layer(Res15623, 1, 1,[[[[[0.7749]]]],[[[[0.9017, 0.8737]]]]],[0, 0], 1, 1, true, Sep76766), 
LRes46368 = reshape_layer(Sep76766, [1, 2], Res46368), 
LZer57273 = zero_padding1D_layer(Res46368, 1, 0, Zer57273), 
LAdd13049 = add_layer([[[[0.762], [0.5324]]], [[[0.3197], [0.5517]]]], Add13049), 
LCon21461 = concatenate_layer([Add13049,[[[0.1487], [0.8934]]]], 2, Con21461), 
LAdd28791 = add_layer([Zer57273,Con21461], Add28791), 
LMin65717 = minimum_layer([Con38579,Add28791], Min65717), 
LAdd18056 = add_layer([Con98944,Min65717], Add18056), 
LRes13865 = reshape_layer(Add18056, [2, 2, 1], Res13865), 
LSep80375 = separable_conv2D_layer(Res13865, 1, 2,[[[[[0.834]], [[0.6985]]]],[[[[0.4298, 0.4704, 0.9147]]]]],[0, 0, 0], 2, 2, true, Sep80375), 
exec_layers([LDep26514,LRes10539,LZer29367,LCon98944,LDot97429,LRes70233,LZer11538,LCon38579,LMax69980,LRes15623,LSep76766,LRes46368,LZer57273,LAdd13049,LCon21461,LAdd28791,LMin65717,LAdd18056,LRes13865,LSep80375],["Dep26514","Res10539","Zer29367","Con98944","Dot97429","Res70233","Zer11538","Con38579","Max69980","Res15623","Sep76766","Res46368","Zer57273","Add13049","Con21461","Add28791","Min65717","Add18056","Res13865","Sep80375"],Sep80375,"Sep80375")

Actual (Unparsed): [[[[0.2737363, 0.2995941, 0.5825654]]]]

Expected (Unparsed): [[[[0.27373631053999997,0.29959413791999995,0.5825653868099999]]]]

Actual:   [[[[0.2738, 0.2996, 0.5826]]]]

Expected: [[[[0.2738, 0.2996, 0.5826]]]]