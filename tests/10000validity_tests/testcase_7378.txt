import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add63659 = tf.keras.layers.Input(shape=([2, 2, 1]))
in1Add63659 = tf.keras.layers.Input(shape=([2, 2, 1]))
in0Con80225 = tf.keras.layers.Input(shape=([2, 2, 1]))
in0Mul64324 = tf.keras.layers.Input(shape=([1, 2, 2]))
in1Mul64324 = tf.keras.layers.Input(shape=([1, 2, 2]))

Add63659 = keras.layers.Add(name = 'Add63659', )([in0Add63659,in1Add63659])
Con80225 = keras.layers.Concatenate(axis=3, name = 'Con80225', )([Add63659,in0Con80225])
Mul64324 = keras.layers.Multiply(name = 'Mul64324', )([in0Mul64324,in1Mul64324])
Zer46681 = keras.layers.ZeroPadding2D(padding=((1, 0), (0, 0)), name = 'Zer46681', )(Mul64324)
Mul24260 = keras.layers.Multiply(name = 'Mul24260', )([Con80225,Zer46681])
model = tf.keras.models.Model(inputs=[in0Add63659,in1Add63659,in0Con80225,in0Mul64324,in1Mul64324], outputs=Mul24260)
in0Add63659 = tf.constant([[[[0.2402], [0.4224]], [[0.2392], [0.0571]]]])
in1Add63659 = tf.constant([[[[0.6282], [0.4148]], [[0.5312], [0.1518]]]])
in0Con80225 = tf.constant([[[[0.945], [0.09]], [[0.1972], [0.5379]]]])
in0Mul64324 = tf.constant([[[[0.3424, 0.4511], [0.0777, 0.7408]]]])
in1Mul64324 = tf.constant([[[[0.6188, 0.2103], [0.0209, 0.6157]]]])
print (np.array2string(model.predict([in0Add63659,in1Add63659,in0Con80225,in0Mul64324,in1Mul64324],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Mul24260.png')

LAdd63659 = add_layer([[[[[0.2402], [0.4224]], [[0.2392], [0.0571]]]], [[[[0.6282], [0.4148]], [[0.5312], [0.1518]]]]], Add63659), 
LCon80225 = concatenate_layer([Add63659,[[[[0.945], [0.09]], [[0.1972], [0.5379]]]]], 3, Con80225), 
LMul64324 = multiply_layer([[[[[0.3424, 0.4511], [0.0777, 0.7408]]]], [[[[0.6188, 0.2103], [0.0209, 0.6157]]]]], Mul64324), 
LZer46681 = zero_padding2D_layer(Mul64324, 1, 0, 0, 0, Zer46681), 
LMul24260 = multiply_layer([Con80225,Zer46681], Mul24260), 
exec_layers([LAdd63659,LCon80225,LMul64324,LZer46681,LMul24260],["Add63659","Con80225","Mul64324","Zer46681","Mul24260"],Mul24260,"Mul24260")

Actual (Unparsed): [[[[0.0000000, 0.0000000], [0.0000000, 0.0000000]], [[0.1632301, 0.0187076], [0.0003392, 0.2453419]]]]

Expected (Unparsed): [[[[0.0,0.0],[0.0,0.0]],[[0.163230133248,0.018707640275999998],[0.00033923897699999995,0.24534187022400006]]]]

Actual:   [[[[0, 0], [0, 0]], [[0.1633, 0.0188], [0.0004, 0.2454]]]]

Expected: [[[[0, 0], [0, 0]], [[0.1633, 0.0188], [0.0004, 0.2454]]]]