import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min76259 = tf.keras.layers.Input(shape=([2, 1, 1]))
in1Min76259 = tf.keras.layers.Input(shape=([2, 1, 1]))
in0Con29372 = tf.keras.layers.Input(shape=([2, 3]))
in0Max96032 = tf.keras.layers.Input(shape=([2, 2, 1, 2]))
in1Max96032 = tf.keras.layers.Input(shape=([2, 2, 1, 2]))
in0Mul29715 = tf.keras.layers.Input(shape=([1, 1]))
in1Mul29715 = tf.keras.layers.Input(shape=([1, 1]))
in0Con83193 = tf.keras.layers.Input(shape=([2, 3]))
in0Up_74562 = tf.keras.layers.Input(shape=([1, 1, 4]))
in0Con63614 = tf.keras.layers.Input(shape=([2, 2]))

Min76259 = keras.layers.Minimum(name = 'Min76259', )([in0Min76259,in1Min76259])
Res14019 = keras.layers.Reshape((2, 1), name = 'Res14019', )(Min76259)
Con29372 = keras.layers.Concatenate(axis=2, name = 'Con29372', )([Res14019,in0Con29372])
Max96032 = keras.layers.Maximum(name = 'Max96032', )([in0Max96032,in1Max96032])
Res97530 = keras.layers.Reshape((2, 2, 2), name = 'Res97530', )(Max96032)
Res96604 = keras.layers.Reshape((2, 4), name = 'Res96604', )(Res97530)
Mul29715 = keras.layers.Multiply(name = 'Mul29715', )([in0Mul29715,in1Mul29715])
Zer14379 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer14379', )(Mul29715)
Con83193 = keras.layers.Concatenate(axis=2, name = 'Con83193', )([Zer14379,in0Con83193])
Add84125 = keras.layers.Add(name = 'Add84125', )([Res96604,Con83193])
Mul40550 = keras.layers.Multiply(name = 'Mul40550', )([Con29372,Add84125])
Up_74562 = keras.layers.UpSampling2D(size=(1, 1), name = 'Up_74562', )(in0Up_74562)
Res4462 = keras.layers.Reshape((1, 4), name = 'Res4462', )(Up_74562)
Con51862 = keras.layers.Conv1D(2, (1),strides=(1), padding='valid', dilation_rate=(1), name = 'Con51862', )(Res4462)
Zer896 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer896', )(Con51862)
Con63614 = keras.layers.Concatenate(axis=2, name = 'Con63614', )([Zer896,in0Con63614])
Sub40897 = keras.layers.Subtract(name = 'Sub40897', )([Mul40550,Con63614])
Den55924 = keras.layers.Dense(1,name = 'Den55924', )(Sub40897)
model = tf.keras.models.Model(inputs=[in0Min76259,in1Min76259,in0Con29372,in0Max96032,in1Max96032,in0Mul29715,in1Mul29715,in0Con83193,in0Up_74562,in0Con63614], outputs=Den55924)
w = model.get_layer('Con51862').get_weights() 
w[0] = np.array([[[0.2389, 0.3852], [0.145, 0.8793], [0.2899, 0.8234], [0.8923, 0.5675]]])
w[1] = np.array([0, 0])
model.get_layer('Con51862').set_weights(w) 
w = model.get_layer('Den55924').get_weights() 
w[0] = np.array([[0.8257], [0.2534], [0.0612], [0.0603]])
w[1] = np.array([0.2999])
model.get_layer('Den55924').set_weights(w) 
in0Min76259 = tf.constant([[[[0.1272]], [[0.9088]]]])
in1Min76259 = tf.constant([[[[0.1173]], [[0.1806]]]])
in0Con29372 = tf.constant([[[0.9915, 0.4215, 0.2382], [0.3675, 0.1842, 0.427]]])
in0Max96032 = tf.constant([[[[[0.8261, 0.6095]], [[0.394, 0.6672]]], [[[0.8104, 0.67]], [[0.0464, 0.38]]]]])
in1Max96032 = tf.constant([[[[[0.5749, 0.2599]], [[0.8396, 0.0612]]], [[[0.2392, 0.0765]], [[0.1013, 0.16]]]]])
in0Mul29715 = tf.constant([[[0.384]]])
in1Mul29715 = tf.constant([[[0.6787]]])
in0Con83193 = tf.constant([[[0.9162, 0.3453, 0.5177], [0.3922, 0.019, 0.4966]]])
in0Up_74562 = tf.constant([[[[1.9389, 1.7414, 1.8246, 1.0552]]]])
in0Con63614 = tf.constant([[[0.4055, 0.7812], [0.7752, 0.8518]]])
print (np.array2string(model.predict([in0Min76259,in1Min76259,in0Con29372,in0Max96032,in1Max96032,in0Mul29715,in1Mul29715,in0Con83193,in0Up_74562,in0Con63614],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Den55924.png')

LMin76259 = minimum_layer([[[[[0.1272]], [[0.9088]]]], [[[[0.1173]], [[0.1806]]]]], Min76259), 
LRes14019 = reshape_layer(Min76259, [2, 1], Res14019), 
LCon29372 = concatenate_layer([Res14019,[[[0.9915, 0.4215, 0.2382], [0.3675, 0.1842, 0.427]]]], 2, Con29372), 
LMax96032 = maximum_layer([[[[[[0.8261, 0.6095]], [[0.394, 0.6672]]], [[[0.8104, 0.67]], [[0.0464, 0.38]]]]], [[[[[0.5749, 0.2599]], [[0.8396, 0.0612]]], [[[0.2392, 0.0765]], [[0.1013, 0.16]]]]]], Max96032), 
LRes97530 = reshape_layer(Max96032, [2, 2, 2], Res97530), 
LRes96604 = reshape_layer(Res97530, [2, 4], Res96604), 
LMul29715 = multiply_layer([[[[0.384]]], [[[0.6787]]]], Mul29715), 
LZer14379 = zero_padding1D_layer(Mul29715, 1, 0, Zer14379), 
LCon83193 = concatenate_layer([Zer14379,[[[0.9162, 0.3453, 0.5177], [0.3922, 0.019, 0.4966]]]], 2, Con83193), 
LAdd84125 = add_layer([Res96604,Con83193], Add84125), 
LMul40550 = multiply_layer([Con29372,Add84125], Mul40550), 
LUp_74562 = up_sampling2D_layer([[[[1.9389, 1.7414, 1.8246, 1.0552]]]], 1, 1, Up_74562), 
LRes4462 = reshape_layer(Up_74562, [1, 4], Res4462), 
LCon51862 = conv1D_layer(Res4462, 1,[[[0.2389, 0.3852], [0.145, 0.8793], [0.2899, 0.8234], [0.8923, 0.5675]]],[0, 0], 1, false, 1, Con51862), 
LZer896 = zero_padding1D_layer(Con51862, 1, 0, Zer896), 
LCon63614 = concatenate_layer([Zer896,[[[0.4055, 0.7812], [0.7752, 0.8518]]]], 2, Con63614), 
LSub40897 = subtract_layer(Mul40550,Con63614, Sub40897), 
LDen55924 = dense_layer(Sub40897, [[0.8257], [0.2534], [0.0612], [0.0603]],[0.2999], Den55924), 
exec_layers([LMin76259,LRes14019,LCon29372,LMax96032,LRes97530,LRes96604,LMul29715,LZer14379,LCon83193,LAdd84125,LMul40550,LUp_74562,LRes4462,LCon51862,LZer896,LCon63614,LSub40897,LDen55924],["Min76259","Res14019","Con29372","Max96032","Res97530","Res96604","Mul29715","Zer14379","Con83193","Add84125","Mul40550","Up_74562","Res4462","Con51862","Zer896","Con63614","Sub40897","Den55924"],Den55924,"Den55924")

Actual (Unparsed): [[[0.7388995], [-2.4312150]]]

Expected (Unparsed): [[[0.7388995152650001],[-2.4312149804254637]]]

Actual:   [[[0.7389], [-2.4312]]]

Expected: [[[0.7389], [-2.4312]]]