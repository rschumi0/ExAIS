import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul27583 = tf.keras.layers.Input(shape=([2, 2, 1]))
in1Mul27583 = tf.keras.layers.Input(shape=([2, 2, 1]))

Mul27583 = keras.layers.Multiply(name = 'Mul27583', )([in0Mul27583,in1Mul27583])
Glo47774 = keras.layers.GlobalMaxPool2D(name = 'Glo47774', )(Mul27583)
model = tf.keras.models.Model(inputs=[in0Mul27583,in1Mul27583], outputs=Glo47774)
in0Mul27583 = tf.constant([[[[0.5973], [0.57]], [[0.8218], [0.8145]]]])
in1Mul27583 = tf.constant([[[[0.833], [0.9009]], [[0.0218], [0.0343]]]])
print (np.array2string(model.predict([in0Mul27583,in1Mul27583],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo47774.png')

LMul27583 = multiply_layer([[[[[0.5973], [0.57]], [[0.8218], [0.8145]]]], [[[[0.833], [0.9009]], [[0.0218], [0.0343]]]]], Mul27583), 
LGlo47774 = global_max_pool2D_layer(Mul27583, Glo47774), 
exec_layers([LMul27583,LGlo47774],["Mul27583","Glo47774"],Glo47774,"Glo47774")

Actual (Unparsed): [[0.5135130]]

Expected (Unparsed): [[0.513513]]

Actual:   [[0.5136]]

Expected: [[0.5136]]