import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul68602 = tf.keras.layers.Input(shape=([2, 1, 1, 2]))
in1Mul68602 = tf.keras.layers.Input(shape=([2, 1, 1, 2]))
in0ELU27948 = tf.keras.layers.Input(shape=([2, 2, 1, 2]))

Mul68602 = keras.layers.Multiply(name = 'Mul68602', )([in0Mul68602,in1Mul68602])
Res66576 = keras.layers.Reshape((2, 1, 2), name = 'Res66576', )(Mul68602)
Zer38174 = keras.layers.ZeroPadding2D(padding=((2, 0), (3, 0)), name = 'Zer38174', )(Res66576)
ELU27948 = keras.layers.ELU(alpha=-4.546607484685454, name = 'ELU27948', input_shape=(2, 2, 1, 2))(in0ELU27948)
Res57682 = keras.layers.Reshape((2, 2, 2), name = 'Res57682', )(ELU27948)
Zer6451 = keras.layers.ZeroPadding2D(padding=((1, 1), (1, 1)), name = 'Zer6451', )(Res57682)
ELU3567 = keras.layers.ELU(alpha=4.1904602834057485, name = 'ELU3567', )(Zer6451)
Min49588 = keras.layers.Minimum(name = 'Min49588', )([Zer38174,ELU3567])
Mas49694 = keras.layers.Masking(mask_value=2, name = 'Mas49694', )(Min49588)
model = tf.keras.models.Model(inputs=[in0Mul68602,in1Mul68602,in0ELU27948], outputs=Mas49694)
in0Mul68602 = tf.constant([[[[[0.8397, 0.4949]]], [[[0.3661, 0.1658]]]]])
in1Mul68602 = tf.constant([[[[[0.7579, 0.443]]], [[[0.4252, 0.4227]]]]])
in0ELU27948 = tf.constant([[[[[0.6939, 0.1968]], [[0.9487, 0.6867]]], [[[0.641, 0.3081]], [[0.019, 0.3662]]]]])
print (np.array2string(model.predict([in0Mul68602,in1Mul68602,in0ELU27948],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Mas49694.png')

LMul68602 = multiply_layer([[[[[[0.8397, 0.4949]]], [[[0.3661, 0.1658]]]]], [[[[[0.7579, 0.443]]], [[[0.4252, 0.4227]]]]]], Mul68602), 
LRes66576 = reshape_layer(Mul68602, [2, 1, 2], Res66576), 
LZer38174 = zero_padding2D_layer(Res66576, 2, 0, 3, 0, Zer38174), 
LELU27948 = elu_layer([[[[[0.6939, 0.1968]], [[0.9487, 0.6867]]], [[[0.641, 0.3081]], [[0.019, 0.3662]]]]], -4.546607484685454, ELU27948), 
LRes57682 = reshape_layer(ELU27948, [2, 2, 2], Res57682), 
LZer6451 = zero_padding2D_layer(Res57682, 1, 1, 1, 1, Zer6451), 
LELU3567 = elu_layer(Zer6451, 4.1904602834057485, ELU3567), 
LMin49588 = minimum_layer([Zer38174,ELU3567], Min49588), 
LMas49694 = masking_layer(Min49588, 2, Mas49694), 
exec_layers([LMul68602,LRes66576,LZer38174,LELU27948,LRes57682,LZer6451,LELU3567,LMin49588,LMas49694],["Mul68602","Res66576","Zer38174","ELU27948","Res57682","Zer6451","ELU3567","Min49588","Mas49694"],Mas49694,"Mas49694")

Actual (Unparsed): [[[[0.0000000, 0.0000000], [0.0000000, 0.0000000], [0.0000000, 0.0000000], [0.0000000, 0.0000000]], [[0.0000000, 0.0000000], [0.0000000, 0.0000000], [0.0000000, 0.0000000], [0.0000000, 0.0000000]], [[0.0000000, 0.0000000], [0.0000000, 0.0000000], [0.0000000, 0.0000000], [0.0000000, 0.0000000]], [[0.0000000, 0.0000000], [0.0000000, 0.0000000], [0.0000000, 0.0000000], [0.0000000, 0.0000000]]]]

Expected (Unparsed): [[[[0,0],[0,0],[0,0],[0,0]],[[0,0],[0,0],[0,0],[0,0]],[[0,0],[0,0],[0,0],[0,0]],[[0,0],[0,0],[0,0],[0,0]]]]

Actual:   [[[[0, 0], [0, 0], [0, 0], [0, 0]], [[0, 0], [0, 0], [0, 0], [0, 0]], [[0, 0], [0, 0], [0, 0], [0, 0]], [[0, 0], [0, 0], [0, 0], [0, 0]]]]

Expected: [[[[0, 0], [0, 0], [0, 0], [0, 0]], [[0, 0], [0, 0], [0, 0], [0, 0]], [[0, 0], [0, 0], [0, 0], [0, 0]], [[0, 0], [0, 0], [0, 0], [0, 0]]]]