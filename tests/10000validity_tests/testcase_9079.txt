import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max50473 = tf.keras.layers.Input(shape=([2, 2, 1]))
in1Max50473 = tf.keras.layers.Input(shape=([2, 2, 1]))
in0Con57212 = tf.keras.layers.Input(shape=([2, 1]))
in0Sep54117 = tf.keras.layers.Input(shape=([2, 1]))

Max50473 = keras.layers.Maximum(name = 'Max50473', )([in0Max50473,in1Max50473])
Res16898 = keras.layers.Reshape((2, 2), name = 'Res16898', )(Max50473)
Con57212 = keras.layers.Concatenate(axis=2, name = 'Con57212', )([Res16898,in0Con57212])
Sep54117 = keras.layers.SeparableConv1D(3, (2),strides=(1), padding='same', name = 'Sep54117', )(in0Sep54117)
Max61609 = keras.layers.Maximum(name = 'Max61609', )([Con57212,Sep54117])
ELU81276 = keras.layers.ELU(alpha=-3.4521012180378, name = 'ELU81276', )(Max61609)
model = tf.keras.models.Model(inputs=[in0Max50473,in1Max50473,in0Con57212,in0Sep54117], outputs=ELU81276)
w = model.get_layer('Sep54117').get_weights() 
w[0] = np.array([[[0.6431]], [[0.7645]]])
w[1] = np.array([[[0.981, 0.649, 0.8724]]])
w[2] = np.array([0, 0, 0])
model.get_layer('Sep54117').set_weights(w) 
in0Max50473 = tf.constant([[[[0.1701], [0.9354]], [[0.4941], [0.0901]]]])
in1Max50473 = tf.constant([[[[0.6862], [0.8859]], [[0.742], [0.3347]]]])
in0Con57212 = tf.constant([[[0.6485], [0.0536]]])
in0Sep54117 = tf.constant([[[0.2779], [0.2536]]])
print (np.array2string(model.predict([in0Max50473,in1Max50473,in0Con57212,in0Sep54117],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='ELU81276.png')

LMax50473 = maximum_layer([[[[[0.1701], [0.9354]], [[0.4941], [0.0901]]]], [[[[0.6862], [0.8859]], [[0.742], [0.3347]]]]], Max50473), 
LRes16898 = reshape_layer(Max50473, [2, 2], Res16898), 
LCon57212 = concatenate_layer([Res16898,[[[0.6485], [0.0536]]]], 2, Con57212), 
LSep54117 = separable_conv1D_layer([[[0.2779], [0.2536]]], 2,[[[[0.6431]], [[0.7645]]],[[[0.981, 0.649, 0.8724]]]],[0, 0, 0], 1, true, Sep54117), 
LMax61609 = maximum_layer([Con57212,Sep54117], Max61609), 
LELU81276 = elu_layer(Max61609, -3.4521012180378, ELU81276), 
exec_layers([LMax50473,LRes16898,LCon57212,LSep54117,LMax61609,LELU81276],["Max50473","Res16898","Con57212","Sep54117","Max61609","ELU81276"],ELU81276,"ELU81276")

Actual (Unparsed): [[[0.6862000, 0.9354000, 0.6485000], [0.7420000, 0.3347000, 0.1422799]]]

Expected (Unparsed): [[[0.6862,0.9354,0.6485],[0.742,0.3347,0.14227985558399997]]]

Actual:   [[[0.6862, 0.9354, 0.6485], [0.742, 0.3347, 0.1423]]]

Expected: [[[0.6862, 0.9354, 0.6485], [0.742, 0.3347, 0.1423]]]