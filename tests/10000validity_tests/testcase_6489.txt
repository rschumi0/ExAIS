import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave47665 = tf.keras.layers.Input(shape=([2, 1, 2, 2]))
in1Ave47665 = tf.keras.layers.Input(shape=([2, 1, 2, 2]))

Ave47665 = keras.layers.Average(name = 'Ave47665', )([in0Ave47665,in1Ave47665])
Res17555 = keras.layers.Reshape((2, 1, 4), name = 'Res17555', )(Ave47665)
Cro51141 = keras.layers.Cropping2D(cropping=((1, 0), (0, 0)), name = 'Cro51141', )(Res17555)
Res94975 = keras.layers.Reshape((1, 4), name = 'Res94975', )(Cro51141)
Ave77511 = keras.layers.AveragePooling1D(pool_size=(1), name = 'Ave77511', )(Res94975)
Res94718 = keras.layers.Reshape((1, 4, 1), name = 'Res94718', )(Ave77511)
Res67997 = keras.layers.Reshape((1, 4, 1, 1), name = 'Res67997', )(Res94718)
Zer93918 = keras.layers.ZeroPadding3D(padding=((1, 1), (1, 1), (1, 1)), name = 'Zer93918', )(Res67997)
model = tf.keras.models.Model(inputs=[in0Ave47665,in1Ave47665], outputs=Zer93918)
in0Ave47665 = tf.constant([[[[[0.6013, 0.176], [0.61, 0.0175]]], [[[0.3037, 0.9234], [0.3838, 0.8542]]]]])
in1Ave47665 = tf.constant([[[[[0.7929, 0.9419], [0.5758, 0.4059]]], [[[0.6785, 0.7403], [0.9016, 0.0076]]]]])
print (np.array2string(model.predict([in0Ave47665,in1Ave47665],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Zer93918.png')

LAve47665 = average_layer([[[[[[0.6013, 0.176], [0.61, 0.0175]]], [[[0.3037, 0.9234], [0.3838, 0.8542]]]]], [[[[[0.7929, 0.9419], [0.5758, 0.4059]]], [[[0.6785, 0.7403], [0.9016, 0.0076]]]]]], Ave47665), 
LRes17555 = reshape_layer(Ave47665, [2, 1, 4], Res17555), 
LCro51141 = cropping2D_layer(Res17555, 1, 0, 0, 0, Cro51141), 
LRes94975 = reshape_layer(Cro51141, [1, 4], Res94975), 
LAve77511 = average_pooling1D_layer(Res94975, 1, Ave77511), 
LRes94718 = reshape_layer(Ave77511, [1, 4, 1], Res94718), 
LRes67997 = reshape_layer(Res94718, [1, 4, 1, 1], Res67997), 
LZer93918 = zero_padding3D_layer(Res67997, 1, 1, 1, 1, 1, 1, Zer93918), 
exec_layers([LAve47665,LRes17555,LCro51141,LRes94975,LAve77511,LRes94718,LRes67997,LZer93918],["Ave47665","Res17555","Cro51141","Res94975","Ave77511","Res94718","Res67997","Zer93918"],Zer93918,"Zer93918")

Actual (Unparsed): [[[[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.4911000], [0.0000000]], [[0.0000000], [0.8318500], [0.0000000]], [[0.0000000], [0.6427000], [0.0000000]], [[0.0000000], [0.4309000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]]]]

Expected (Unparsed): [[[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0.4911],[0]],[[0],[0.83185],[0]],[[0],[0.6426999999999999],[0]],[[0],[0.4309],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]]]]]

Actual:   [[[[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.4911], [0]], [[0], [0.8319], [0]], [[0], [0.6427], [0]], [[0], [0.4309], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]]]]

Expected: [[[[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.4911], [0]], [[0], [0.8319], [0]], [[0], [0.6427], [0]], [[0], [0.4309], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]]]]