import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add83641 = tf.keras.layers.Input(shape=([1, 1]))
in1Add83641 = tf.keras.layers.Input(shape=([1, 1]))
in0Con6896 = tf.keras.layers.Input(shape=([1, 1, 1]))
in0Cro17645 = tf.keras.layers.Input(shape=([2, 4, 1, 2]))

Add83641 = keras.layers.Add(name = 'Add83641', )([in0Add83641,in1Add83641])
Res674 = keras.layers.Reshape((1, 1, 1), name = 'Res674', )(Add83641)
Con6896 = keras.layers.Concatenate(axis=3, name = 'Con6896', )([Res674,in0Con6896])
Cro17645 = keras.layers.Cropping3D(cropping=((1, 0), (3, 0), (0, 0)), name = 'Cro17645', )(in0Cro17645)
Res64338 = keras.layers.Reshape((1, 1, 2), name = 'Res64338', )(Cro17645)
Dep97767 = keras.layers.DepthwiseConv2D((1, 1),strides=(1, 1), padding='same', name = 'Dep97767', )(Res64338)
Min67003 = keras.layers.Minimum(name = 'Min67003', )([Con6896,Dep97767])
model = tf.keras.models.Model(inputs=[in0Add83641,in1Add83641,in0Con6896,in0Cro17645], outputs=Min67003)
w = model.get_layer('Dep97767').get_weights() 
w[0] = np.array([[[[0.6374], [0.1859]]]])
w[1] = np.array([0, 0])
model.get_layer('Dep97767').set_weights(w) 
in0Add83641 = tf.constant([[[0.1391]]])
in1Add83641 = tf.constant([[[0.8415]]])
in0Con6896 = tf.constant([[[[0.8163]]]])
in0Cro17645 = tf.constant([[[[[1.4178, 1.6119]], [[1.1811, 1.5912]], [[1.934, 1.9803]], [[1.2089, 1.7863]]], [[[1.0216, 1.2912]], [[1.4106, 1.2447]], [[1.8177, 1.9674]], [[1.8754, 1.037]]]]])
print (np.array2string(model.predict([in0Add83641,in1Add83641,in0Con6896,in0Cro17645],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min67003.png')

LAdd83641 = add_layer([[[[0.1391]]], [[[0.8415]]]], Add83641), 
LRes674 = reshape_layer(Add83641, [1, 1, 1], Res674), 
LCon6896 = concatenate_layer([Res674,[[[[0.8163]]]]], 3, Con6896), 
LCro17645 = cropping3D_layer([[[[[1.4178, 1.6119]], [[1.1811, 1.5912]], [[1.934, 1.9803]], [[1.2089, 1.7863]]], [[[1.0216, 1.2912]], [[1.4106, 1.2447]], [[1.8177, 1.9674]], [[1.8754, 1.037]]]]], 1, 0, 3, 0, 0, 0, Cro17645), 
LRes64338 = reshape_layer(Cro17645, [1, 1, 2], Res64338), 
LDep97767 = depthwise_conv2D_layer(Res64338, 1, 1,[[[[0.6374], [0.1859]]]],[0, 0], 1, 1, true, Dep97767), 
LMin67003 = minimum_layer([Con6896,Dep97767], Min67003), 
exec_layers([LAdd83641,LRes674,LCon6896,LCro17645,LRes64338,LDep97767,LMin67003],["Add83641","Res674","Con6896","Cro17645","Res64338","Dep97767","Min67003"],Min67003,"Min67003")

Actual (Unparsed): [[[[0.9806000, 0.1927783]]]]

Expected (Unparsed): [[[[0.9806,0.19277829999999999]]]]

Actual:   [[[[0.9806, 0.1928]]]]

Expected: [[[[0.9806, 0.1928]]]]