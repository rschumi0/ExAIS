import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Lay76883 = tf.keras.layers.Input(shape=([3]))
in0Con58960 = tf.keras.layers.Input(shape=([3, 1, 1, 1]))
in0Add28891 = tf.keras.layers.Input(shape=([1, 1, 1, 2]))
in1Add28891 = tf.keras.layers.Input(shape=([1, 1, 1, 2]))

Lay76883 = keras.layers.LayerNormalization(axis=1, epsilon=1.167689866891449, name = 'Lay76883', )(in0Lay76883)
Res5043 = keras.layers.Reshape((3, 1), name = 'Res5043', )(Lay76883)
Res5476 = keras.layers.Reshape((3, 1, 1), name = 'Res5476', )(Res5043)
Res78021 = keras.layers.Reshape((3, 1, 1, 1), name = 'Res78021', )(Res5476)
Con58960 = keras.layers.Concatenate(axis=4, name = 'Con58960', )([Res78021,in0Con58960])
Add28891 = keras.layers.Add(name = 'Add28891', )([in0Add28891,in1Add28891])
Zer92247 = keras.layers.ZeroPadding3D(padding=((2, 0), (0, 0), (0, 0)), name = 'Zer92247', )(Add28891)
Mul57126 = keras.layers.Multiply(name = 'Mul57126', )([Con58960,Zer92247])
Res31130 = keras.layers.Reshape((3, 1, 2), name = 'Res31130', )(Mul57126)
Zer55984 = keras.layers.ZeroPadding2D(padding=((1, 1), (1, 1)), name = 'Zer55984', )(Res31130)
model = tf.keras.models.Model(inputs=[in0Lay76883,in0Con58960,in0Add28891,in1Add28891], outputs=Zer55984)
in0Lay76883 = tf.constant([[1.3576, 1.8306, 1.0897]])
in0Con58960 = tf.constant([[[[[0.8687]]], [[[0.1325]]], [[[0.9088]]]]])
in0Add28891 = tf.constant([[[[[0.3775, 0.5614]]]]])
in1Add28891 = tf.constant([[[[[0.5816, 0.6893]]]]])
print (np.array2string(model.predict([in0Lay76883,in0Con58960,in0Add28891,in1Add28891],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Zer55984.png')

LLay76883 = layer_normalization_layer([[1.3576, 1.8306, 1.0897]], 1, 1.167689866891449, Lay76883), 
LRes5043 = reshape_layer(Lay76883, [3, 1], Res5043), 
LRes5476 = reshape_layer(Res5043, [3, 1, 1], Res5476), 
LRes78021 = reshape_layer(Res5476, [3, 1, 1, 1], Res78021), 
LCon58960 = concatenate_layer([Res78021,[[[[[0.8687]]], [[[0.1325]]], [[[0.9088]]]]]], 4, Con58960), 
LAdd28891 = add_layer([[[[[[0.3775, 0.5614]]]]], [[[[[0.5816, 0.6893]]]]]], Add28891), 
LZer92247 = zero_padding3D_layer(Add28891, 2, 0, 0, 0, 0, 0, Zer92247), 
LMul57126 = multiply_layer([Con58960,Zer92247], Mul57126), 
LRes31130 = reshape_layer(Mul57126, [3, 1, 2], Res31130), 
LZer55984 = zero_padding2D_layer(Res31130, 1, 1, 1, 1, Zer55984), 
exec_layers([LLay76883,LRes5043,LRes5476,LRes78021,LCon58960,LAdd28891,LZer92247,LMul57126,LRes31130,LZer55984],["Lay76883","Res5043","Res5476","Res78021","Con58960","Add28891","Zer92247","Mul57126","Res31130","Zer55984"],Zer55984,"Zer55984")

Actual (Unparsed): [[[[0.0000000, 0.0000000], [0.0000000, 0.0000000], [0.0000000, 0.0000000]], [[0.0000000, 0.0000000], [-0.0000000, 0.0000000], [0.0000000, 0.0000000]], [[0.0000000, 0.0000000], [0.0000000, 0.0000000], [0.0000000, 0.0000000]], [[0.0000000, 0.0000000], [-0.2871451, 1.1366362], [0.0000000, 0.0000000]], [[0.0000000, 0.0000000], [0.0000000, 0.0000000], [0.0000000, 0.0000000]]]]

Expected (Unparsed): [[[[0,0],[0,0],[0,0]],[[0,0],[-0.0,0.0],[0,0]],[[0,0],[0.0,0.0],[0,0]],[[0,0],[-0.2871450838630451,1.1366361600000001],[0,0]],[[0,0],[0,0],[0,0]]]]

Actual:   [[[[0, 0], [0, 0], [0, 0]], [[0, 0], [-0, 0], [0, 0]], [[0, 0], [0, 0], [0, 0]], [[0, 0], [-0.2871, 1.1367], [0, 0]], [[0, 0], [0, 0], [0, 0]]]]

Expected: [[[[0, 0], [0, 0], [0, 0]], [[0, 0], [-0, 0], [0, 0]], [[0, 0], [0, 0], [0, 0]], [[0, 0], [-0.2871, 1.1367], [0, 0]], [[0, 0], [0, 0], [0, 0]]]]