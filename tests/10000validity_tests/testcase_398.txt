import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave76415 = tf.keras.layers.Input(shape=([2, 1]))
in1Ave76415 = tf.keras.layers.Input(shape=([2, 1]))
in0Ave63040 = tf.keras.layers.Input(shape=([2, 2, 1]))

Ave76415 = keras.layers.Average(name = 'Ave76415', )([in0Ave76415,in1Ave76415])
Lea10078 = keras.layers.LeakyReLU(alpha=4.65539836575186, name = 'Lea10078', )(Ave76415)
Res98371 = keras.layers.Reshape((2, 1, 1), name = 'Res98371', )(Lea10078)
Ave63040 = keras.layers.AveragePooling2D(pool_size=(1, 2), strides=(10, 2), padding='same', name = 'Ave63040', )(in0Ave63040)
Zer85336 = keras.layers.ZeroPadding2D(padding=((1, 0), (0, 0)), name = 'Zer85336', )(Ave63040)
Sub23290 = keras.layers.Subtract(name = 'Sub23290', )([Res98371,Zer85336])
model = tf.keras.models.Model(inputs=[in0Ave76415,in1Ave76415,in0Ave63040], outputs=Sub23290)
in0Ave76415 = tf.constant([[[0.4064], [0.5814]]])
in1Ave76415 = tf.constant([[[0.5182], [0.9139]]])
in0Ave63040 = tf.constant([[[[1.403], [1.1157]], [[1.7976], [1.878]]]])
print (np.array2string(model.predict([in0Ave76415,in1Ave76415,in0Ave63040],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sub23290.png')

LAve76415 = average_layer([[[[0.4064], [0.5814]]], [[[0.5182], [0.9139]]]], Ave76415), 
LLea10078 = leaky_relu_layer(Ave76415, 4.65539836575186, Lea10078), 
LRes98371 = reshape_layer(Lea10078, [2, 1, 1], Res98371), 
LAve63040 = average_pooling2D_layer([[[[1.403], [1.1157]], [[1.7976], [1.878]]]], 1, 2, 10, 2, true, Ave63040), 
LZer85336 = zero_padding2D_layer(Ave63040, 1, 0, 0, 0, Zer85336), 
LSub23290 = subtract_layer(Res98371,Zer85336, Sub23290), 
exec_layers([LAve76415,LLea10078,LRes98371,LAve63040,LZer85336,LSub23290],["Ave76415","Lea10078","Res98371","Ave63040","Zer85336","Sub23290"],Sub23290,"Sub23290")

Actual (Unparsed): [[[[0.4623000]], [[-0.5117000]]]]

Expected (Unparsed): [[[[0.4623]],[[-0.5116999999999999]]]]

Actual:   [[[[0.4623]], [[-0.5117]]]]

Expected: [[[[0.4623]], [[-0.5116]]]]