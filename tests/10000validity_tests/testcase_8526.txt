import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub64297 = tf.keras.layers.Input(shape=([3, 3, 3, 3]))
in1Sub64297 = tf.keras.layers.Input(shape=([3, 3, 3, 3]))
in0Mul77907 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))
in1Mul77907 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))
in0Con69980 = tf.keras.layers.Input(shape=([3, 3, 3, 2]))

Sub64297 = keras.layers.Subtract(name = 'Sub64297', )([in0Sub64297,in1Sub64297])
Mul77907 = keras.layers.Multiply(name = 'Mul77907', )([in0Mul77907,in1Mul77907])
Zer63645 = keras.layers.ZeroPadding3D(padding=((1, 0), (2, 0), (2, 0)), name = 'Zer63645', )(Mul77907)
Con69980 = keras.layers.Concatenate(axis=4, name = 'Con69980', )([Zer63645,in0Con69980])
Add42465 = keras.layers.Add(name = 'Add42465', )([Sub64297,Con69980])
model = tf.keras.models.Model(inputs=[in0Sub64297,in1Sub64297,in0Mul77907,in1Mul77907,in0Con69980], outputs=Add42465)
in0Sub64297 = tf.constant([[[[[0.873, 0.4855, 0.2584], [0.2024, 0.635, 0.4992], [0.6067, 0.6626, 0.6448]], [[0.8128, 0.946, 0.4589], [0.6649, 0.4814, 0.0531], [0.8834, 0.6569, 0.4057]], [[0.2071, 0.698, 0.813], [0.4547, 0.2869, 0.2432], [0.9067, 0.6094, 0.3271]]], [[[0.0773, 0.1074, 0.4532], [0.9926, 0.2037, 0.5155], [0.8379, 0.1283, 0.1433]], [[0.1967, 0.703, 0.1351], [0.4695, 0.4203, 0.8389], [0.4334, 0.9316, 0.1399]], [[0.8486, 0.6798, 0.9628], [0.4931, 0.6841, 0.7275], [0.1966, 0.2433, 0.9148]]], [[[0.5372, 0.5926, 0.6386], [0.3162, 0.3818, 0.9138], [0.1196, 0.4605, 0.7193]], [[0.5894, 0.6725, 0.7366], [0.0529, 0.4498, 0.3969], [0.6317, 0.947, 0.4223]], [[0.0291, 0.1634, 0.1197], [0.0452, 0.7515, 0.0712], [0.1959, 0.5702, 0.6011]]]]])
in1Sub64297 = tf.constant([[[[[0.7438, 0.2725, 0.5038], [0.1914, 0.8911, 0.9187], [0.6659, 0.2603, 0.6513]], [[0.6171, 0.2336, 0.7652], [0.1658, 0.9345, 0.7821], [0.862, 0.6513, 0.9071]], [[0.0331, 0.1239, 0.6524], [0.2199, 0.8799, 0.7825], [0.4657, 0.7673, 0.269]]], [[[0.6093, 0.6955, 0.0929], [0.6885, 0.2903, 0.5193], [0.0222, 0.3378, 0.7968]], [[0.5233, 0.5274, 0.5354], [0.3037, 0.9001, 0.4929], [0.5578, 0.6666, 0.3925]], [[0.5852, 0.8983, 0.3328], [0.6152, 0.8748, 0.8844], [0.8303, 0.2879, 0.2054]]], [[[0.6959, 0.6592, 0.4741], [0.5603, 0.0947, 0.4883], [0.1354, 0.8387, 0.5889]], [[0.0528, 0.1826, 0.5192], [0.3348, 0.0434, 0.7343], [0.6648, 0.8096, 0.5765]], [[0.4774, 0.6004, 0.1741], [0.5475, 0.8654, 0.3819], [0.2911, 0.28, 0.3857]]]]])
in0Mul77907 = tf.constant([[[[[0.8682]]], [[[0.5635]]]]])
in1Mul77907 = tf.constant([[[[[0.4054]]], [[[0.2841]]]]])
in0Con69980 = tf.constant([[[[[0.3399, 0.315], [0.7091, 0.9048], [0.5885, 0.4274]], [[0.2617, 0.9916], [0.3158, 0.9867], [0.8336, 0.2406]], [[0.2325, 0.573], [0.111, 0.089], [0.4112, 0.1153]]], [[[0.1275, 0.3377], [0.1948, 0.1742], [0.6189, 0.1114]], [[0.1529, 0.9157], [0.1999, 0.7117], [0.2047, 0.7136]], [[0.6894, 0.3439], [0.6382, 0.9103], [0.0369, 0.4235]]], [[[0.6462, 0.38], [0.2094, 0.9308], [0.1735, 0.1906]], [[0.087, 0.0684], [0.3222, 0.8384], [0.8854, 0.2991]], [[0.2988, 0.2439], [0.8733, 0.6967], [0.9032, 0.9404]]]]])
print (np.array2string(model.predict([in0Sub64297,in1Sub64297,in0Mul77907,in1Mul77907,in0Con69980],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add42465.png')

LSub64297 = subtract_layer([[[[[0.873, 0.4855, 0.2584], [0.2024, 0.635, 0.4992], [0.6067, 0.6626, 0.6448]], [[0.8128, 0.946, 0.4589], [0.6649, 0.4814, 0.0531], [0.8834, 0.6569, 0.4057]], [[0.2071, 0.698, 0.813], [0.4547, 0.2869, 0.2432], [0.9067, 0.6094, 0.3271]]], [[[0.0773, 0.1074, 0.4532], [0.9926, 0.2037, 0.5155], [0.8379, 0.1283, 0.1433]], [[0.1967, 0.703, 0.1351], [0.4695, 0.4203, 0.8389], [0.4334, 0.9316, 0.1399]], [[0.8486, 0.6798, 0.9628], [0.4931, 0.6841, 0.7275], [0.1966, 0.2433, 0.9148]]], [[[0.5372, 0.5926, 0.6386], [0.3162, 0.3818, 0.9138], [0.1196, 0.4605, 0.7193]], [[0.5894, 0.6725, 0.7366], [0.0529, 0.4498, 0.3969], [0.6317, 0.947, 0.4223]], [[0.0291, 0.1634, 0.1197], [0.0452, 0.7515, 0.0712], [0.1959, 0.5702, 0.6011]]]]], [[[[[0.7438, 0.2725, 0.5038], [0.1914, 0.8911, 0.9187], [0.6659, 0.2603, 0.6513]], [[0.6171, 0.2336, 0.7652], [0.1658, 0.9345, 0.7821], [0.862, 0.6513, 0.9071]], [[0.0331, 0.1239, 0.6524], [0.2199, 0.8799, 0.7825], [0.4657, 0.7673, 0.269]]], [[[0.6093, 0.6955, 0.0929], [0.6885, 0.2903, 0.5193], [0.0222, 0.3378, 0.7968]], [[0.5233, 0.5274, 0.5354], [0.3037, 0.9001, 0.4929], [0.5578, 0.6666, 0.3925]], [[0.5852, 0.8983, 0.3328], [0.6152, 0.8748, 0.8844], [0.8303, 0.2879, 0.2054]]], [[[0.6959, 0.6592, 0.4741], [0.5603, 0.0947, 0.4883], [0.1354, 0.8387, 0.5889]], [[0.0528, 0.1826, 0.5192], [0.3348, 0.0434, 0.7343], [0.6648, 0.8096, 0.5765]], [[0.4774, 0.6004, 0.1741], [0.5475, 0.8654, 0.3819], [0.2911, 0.28, 0.3857]]]]], Sub64297), 
LMul77907 = multiply_layer([[[[[[0.8682]]], [[[0.5635]]]]], [[[[[0.4054]]], [[[0.2841]]]]]], Mul77907), 
LZer63645 = zero_padding3D_layer(Mul77907, 1, 0, 2, 0, 2, 0, Zer63645), 
LCon69980 = concatenate_layer([Zer63645,[[[[[0.3399, 0.315], [0.7091, 0.9048], [0.5885, 0.4274]], [[0.2617, 0.9916], [0.3158, 0.9867], [0.8336, 0.2406]], [[0.2325, 0.573], [0.111, 0.089], [0.4112, 0.1153]]], [[[0.1275, 0.3377], [0.1948, 0.1742], [0.6189, 0.1114]], [[0.1529, 0.9157], [0.1999, 0.7117], [0.2047, 0.7136]], [[0.6894, 0.3439], [0.6382, 0.9103], [0.0369, 0.4235]]], [[[0.6462, 0.38], [0.2094, 0.9308], [0.1735, 0.1906]], [[0.087, 0.0684], [0.3222, 0.8384], [0.8854, 0.2991]], [[0.2988, 0.2439], [0.8733, 0.6967], [0.9032, 0.9404]]]]]], 4, Con69980), 
LAdd42465 = add_layer([Sub64297,Con69980], Add42465), 
exec_layers([LSub64297,LMul77907,LZer63645,LCon69980,LAdd42465],["Sub64297","Mul77907","Zer63645","Con69980","Add42465"],Add42465,"Add42465")

Actual (Unparsed): [[[[[0.1292000, 0.5529000, 0.0696000], [0.0110000, 0.4530000, 0.4853000], [-0.0592000, 0.9908000, 0.4209000]], [[0.1957000, 0.9741000, 0.6853000], [0.4991000, -0.1373000, 0.2577000], [0.0214000, 0.8392000, -0.2608000]], [[0.1740000, 0.8066000, 0.7336000], [0.2348000, -0.4820000, -0.4503000], [0.4410000, 0.2533000, 0.1734000]]], [[[-0.5320000, -0.4606000, 0.6980000], [0.3041000, 0.1082000, 0.1704000], [0.8157000, 0.4094000, -0.5421000]], [[-0.3266000, 0.3285000, 0.5154001], [0.1658000, -0.2799000, 1.0577000], [-0.1244000, 0.4697000, 0.4610000]], [[0.2634000, 0.4709000, 0.9739000], [-0.1221000, 0.4474999, 0.7534000], [-0.2817317, -0.0077000, 1.1329000]]], [[[-0.1587000, 0.5796000, 0.5445000], [-0.2441000, 0.4965000, 1.3563000], [-0.0158000, -0.2047000, 0.3209999]], [[0.5366000, 0.5769000, 0.2858000], [-0.2819000, 0.7286000, 0.5010000], [-0.0331000, 1.0228000, 0.1449000]], [[-0.4483000, -0.1382000, 0.1895000], [-0.5023000, 0.7594000, 0.3860000], [0.0648903, 1.1934000, 1.1558000]]]]]

Expected (Unparsed): [[[[[0.12919999999999998,0.5529,0.0696],[0.01100000000000001,0.45299999999999996,0.48530000000000006],[-0.05920000000000003,0.9908,0.42090000000000005]],[[0.19569999999999999,0.9741,0.6853],[0.49910000000000004,-0.13729999999999998,0.25770000000000004],[0.021399999999999975,0.8392000000000001,-0.26080000000000003]],[[0.17400000000000002,0.8066,0.7335999999999999],[0.23479999999999998,-0.482,-0.45030000000000003],[0.44099999999999995,0.2533000000000001,0.1734]]],[[[-0.5319999999999999,-0.46060000000000006,0.698],[0.30410000000000004,0.10819999999999999,0.17039999999999997],[0.8157,0.4094,-0.5421]],[[-0.3266,0.3285,0.5154],[0.16579999999999995,-0.27990000000000004,1.0577],[-0.12439999999999996,0.4697,0.46099999999999997]],[[0.26339999999999997,0.4709,0.9739],[-0.12209999999999999,0.4475,0.7534000000000001],[-0.2817317200000001,-0.0076999999999999985,1.1328999999999998]]],[[[-0.15869999999999995,0.5796,0.5445],[-0.24410000000000004,0.49649999999999994,1.3562999999999998],[-0.015799999999999995,-0.2047,0.32100000000000006]],[[0.5366000000000001,0.5769,0.28580000000000005],[-0.2819,0.7285999999999999,0.5010000000000001],[-0.03309999999999991,1.0228,0.14489999999999997]],[[-0.4483,-0.13820000000000005,0.1895],[-0.5023,0.7594,0.38599999999999995],[0.06489034999999999,1.1934,1.1558]]]]]

Actual:   [[[[[0.1292, 0.5529, 0.0696], [0.011, 0.453, 0.4853], [-0.0592, 0.9908, 0.4209]], [[0.1957, 0.9741, 0.6853], [0.4991, -0.1373, 0.2577], [0.0214, 0.8392, -0.2608]], [[0.174, 0.8066, 0.7336], [0.2348, -0.482, -0.4503], [0.441, 0.2533, 0.1734]]], [[[-0.532, -0.4606, 0.698], [0.3041, 0.1082, 0.1704], [0.8157, 0.4094, -0.5421]], [[-0.3266, 0.3285, 0.5155], [0.1658, -0.2799, 1.0577], [-0.1244, 0.4697, 0.461]], [[0.2634, 0.4709, 0.9739], [-0.1221, 0.4475, 0.7534], [-0.2817, -0.0077, 1.1329]]], [[[-0.1587, 0.5796, 0.5445], [-0.2441, 0.4965, 1.3563], [-0.0158, -0.2047, 0.321]], [[0.5366, 0.5769, 0.2858], [-0.2819, 0.7286, 0.501], [-0.0331, 1.0228, 0.1449]], [[-0.4483, -0.1382, 0.1895], [-0.5023, 0.7594, 0.386], [0.0649, 1.1934, 1.1558]]]]]

Expected: [[[[[0.1292, 0.5529, 0.0696], [0.0111, 0.453, 0.4854], [-0.0592, 0.9908, 0.421]], [[0.1957, 0.9741, 0.6853], [0.4992, -0.1372, 0.2578], [0.0214, 0.8393, -0.2608]], [[0.1741, 0.8066, 0.7336], [0.2348, -0.482, -0.4503], [0.441, 0.2534, 0.1734]]], [[[-0.5319, -0.4606, 0.698], [0.3042, 0.1082, 0.1704], [0.8157, 0.4094, -0.5421]], [[-0.3266, 0.3285, 0.5154], [0.1658, -0.2799, 1.0577], [-0.1243, 0.4697, 0.461]], [[0.2634, 0.4709, 0.9739], [-0.122, 0.4475, 0.7535], [-0.2817, -0.0076, 1.1329]]], [[[-0.1586, 0.5796, 0.5445], [-0.2441, 0.4965, 1.3563], [-0.0157, -0.2047, 0.3211]], [[0.5367, 0.5769, 0.2859], [-0.2819, 0.7286, 0.5011], [-0.033, 1.0228, 0.1449]], [[-0.4483, -0.1382, 0.1895], [-0.5023, 0.7594, 0.386], [0.0649, 1.1934, 1.1558]]]]]