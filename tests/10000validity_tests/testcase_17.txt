import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul69322 = tf.keras.layers.Input(shape=([2, 1, 2]))
in1Mul69322 = tf.keras.layers.Input(shape=([2, 1, 2]))
in0Zer58439 = tf.keras.layers.Input(shape=([4, 1]))
in0Cro16302 = tf.keras.layers.Input(shape=([1, 3]))

Mul69322 = keras.layers.Multiply(name = 'Mul69322', )([in0Mul69322,in1Mul69322])
Res10901 = keras.layers.Reshape((2, 2), name = 'Res10901', )(Mul69322)
Ave82837 = keras.layers.AveragePooling1D(pool_size=(1), strides=(1), padding='valid', name = 'Ave82837', )(Res10901)
Res61555 = keras.layers.Reshape((2, 2, 1), name = 'Res61555', )(Ave82837)
Glo64985 = keras.layers.GlobalAveragePooling2D(name = 'Glo64985', )(Res61555)
Res94427 = keras.layers.Reshape((1, 1), name = 'Res94427', )(Glo64985)
Res24372 = keras.layers.Reshape((1, 1, 1), name = 'Res24372', )(Res94427)
Res45312 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res45312', )(Res24372)
Zer37566 = keras.layers.ZeroPadding3D(padding=((5, 0), (0, 0), (0, 0)), name = 'Zer37566', )(Res45312)
Zer58439 = keras.layers.ZeroPadding1D(padding=((1, 1)), name = 'Zer58439', )(in0Zer58439)
Res35800 = keras.layers.Reshape((6, 1, 1), name = 'Res35800', )(Zer58439)
Res63187 = keras.layers.Reshape((6, 1, 1, 1), name = 'Res63187', )(Res35800)
Cro16302 = keras.layers.Cropping1D(cropping=((0, 0)), name = 'Cro16302', )(in0Cro16302)
Res74341 = keras.layers.Reshape((1, 3, 1), name = 'Res74341', )(Cro16302)
Res44034 = keras.layers.Reshape((1, 3, 1, 1), name = 'Res44034', )(Res74341)
Cro75430 = keras.layers.Cropping3D(cropping=((0, 0), (1, 1), (0, 0)), name = 'Cro75430', )(Res44034)
Zer49302 = keras.layers.ZeroPadding3D(padding=((5, 0), (0, 0), (0, 0)), name = 'Zer49302', )(Cro75430)
Mul69698 = keras.layers.Multiply(name = 'Mul69698', )([Res63187,Zer49302])
Min71518 = keras.layers.Minimum(name = 'Min71518', )([Zer37566,Mul69698])
model = tf.keras.models.Model(inputs=[in0Mul69322,in1Mul69322,in0Zer58439,in0Cro16302], outputs=Min71518)
in0Mul69322 = tf.constant([[[[0.6594, 0.7459]], [[0.7589, 0.232]]]])
in1Mul69322 = tf.constant([[[[0.4051, 0.2534]], [[0.2201, 0.6812]]]])
in0Zer58439 = tf.constant([[[1.0165], [1.016], [1.3223], [1.172]]])
in0Cro16302 = tf.constant([[[1.7128, 1.3649, 1.1521]]])
print (np.array2string(model.predict([in0Mul69322,in1Mul69322,in0Zer58439,in0Cro16302],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min71518.png')

LMul69322 = multiply_layer([[[[[0.6594, 0.7459]], [[0.7589, 0.232]]]], [[[[0.4051, 0.2534]], [[0.2201, 0.6812]]]]], Mul69322), 
LRes10901 = reshape_layer(Mul69322, [2, 2], Res10901), 
LAve82837 = average_pooling1D_layer(Res10901, 1, 1, false, Ave82837), 
LRes61555 = reshape_layer(Ave82837, [2, 2, 1], Res61555), 
LGlo64985 = global_average_pooling2D_layer(Res61555, Glo64985), 
LRes94427 = reshape_layer(Glo64985, [1, 1], Res94427), 
LRes24372 = reshape_layer(Res94427, [1, 1, 1], Res24372), 
LRes45312 = reshape_layer(Res24372, [1, 1, 1, 1], Res45312), 
LZer37566 = zero_padding3D_layer(Res45312, 5, 0, 0, 0, 0, 0, Zer37566), 
LZer58439 = zero_padding1D_layer([[[1.0165], [1.016], [1.3223], [1.172]]], 1, 1, Zer58439), 
LRes35800 = reshape_layer(Zer58439, [6, 1, 1], Res35800), 
LRes63187 = reshape_layer(Res35800, [6, 1, 1, 1], Res63187), 
LCro16302 = cropping1D_layer([[[1.7128, 1.3649, 1.1521]]], 0, 0, Cro16302), 
LRes74341 = reshape_layer(Cro16302, [1, 3, 1], Res74341), 
LRes44034 = reshape_layer(Res74341, [1, 3, 1, 1], Res44034), 
LCro75430 = cropping3D_layer(Res44034, 0, 0, 1, 1, 0, 0, Cro75430), 
LZer49302 = zero_padding3D_layer(Cro75430, 5, 0, 0, 0, 0, 0, Zer49302), 
LMul69698 = multiply_layer([Res63187,Zer49302], Mul69698), 
LMin71518 = minimum_layer([Zer37566,Mul69698], Min71518), 
exec_layers([LMul69322,LRes10901,LAve82837,LRes61555,LGlo64985,LRes94427,LRes24372,LRes45312,LZer37566,LZer58439,LRes35800,LRes63187,LCro16302,LRes74341,LRes44034,LCro75430,LZer49302,LMul69698,LMin71518],["Mul69322","Res10901","Ave82837","Res61555","Glo64985","Res94427","Res24372","Res45312","Zer37566","Zer58439","Res35800","Res63187","Cro16302","Res74341","Res44034","Cro75430","Zer49302","Mul69698","Min71518"],Min71518,"Min71518")

Actual (Unparsed): [[[[[0.0000000]]], [[[0.0000000]]], [[[0.0000000]]], [[[0.0000000]]], [[[0.0000000]]], [[[0.0000000]]]]]

Expected (Unparsed): [[[[[0]]],[[[0]]],[[[0]]],[[[0]]],[[[0]]],[[[0.0]]]]]

Actual:   [[[[[0]]], [[[0]]], [[[0]]], [[[0]]], [[[0]]], [[[0]]]]]

Expected: [[[[[0]]], [[[0]]], [[[0]]], [[[0]]], [[[0]]], [[[0]]]]]