import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0ReL19357 = tf.keras.layers.Input(shape=([1, 2]))
in0Glo63581 = tf.keras.layers.Input(shape=([1, 2, 1, 1]))
in0Con2919 = tf.keras.layers.Input(shape=([1]))
in0Mul62292 = tf.keras.layers.Input(shape=([1, 1]))
in1Mul62292 = tf.keras.layers.Input(shape=([1, 1]))

ReL19357 = keras.layers.ReLU(max_value=0.9153220672276772, negative_slope=3.2267680967726102, threshold=5.260400721739861, name = 'ReL19357', input_shape=(1, 2))(in0ReL19357)
Fla32872 = keras.layers.Flatten(name = 'Fla32872', )(ReL19357)
Glo63581 = keras.layers.GlobalMaxPool3D(name = 'Glo63581', )(in0Glo63581)
Con2919 = keras.layers.Concatenate(axis=1, name = 'Con2919', )([Glo63581,in0Con2919])
Ave36713 = keras.layers.Average(name = 'Ave36713', )([Fla32872,Con2919])
Res14228 = keras.layers.Reshape((2, 1), name = 'Res14228', )(Ave36713)
Mul62292 = keras.layers.Multiply(name = 'Mul62292', )([in0Mul62292,in1Mul62292])
Zer30147 = keras.layers.ZeroPadding1D(padding=((1, 1)), name = 'Zer30147', )(Mul62292)
Ave40775 = keras.layers.AveragePooling1D(pool_size=(2), name = 'Ave40775', )(Zer30147)
Zer13418 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer13418', )(Ave40775)
Add11132 = keras.layers.Add(name = 'Add11132', )([Res14228,Zer13418])
Res31722 = keras.layers.Reshape((2, 1, 1), name = 'Res31722', )(Add11132)
Ave93003 = keras.layers.AveragePooling2D(pool_size=(2, 1), name = 'Ave93003', )(Res31722)
model = tf.keras.models.Model(inputs=[in0ReL19357,in0Glo63581,in0Con2919,in0Mul62292,in1Mul62292], outputs=Ave93003)
in0ReL19357 = tf.constant([[[0.0065, 0.5914]]])
in0Glo63581 = tf.constant([[[[[1.6441]], [[1.3794]]]]])
in0Con2919 = tf.constant([[0.3487]])
in0Mul62292 = tf.constant([[[0.9825]]])
in1Mul62292 = tf.constant([[[0.46]]])
print (np.array2string(model.predict([in0ReL19357,in0Glo63581,in0Con2919,in0Mul62292,in1Mul62292],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Ave93003.png')

LReL19357 = relu_layer([[[0.0065, 0.5914]]], 0.9153220672276772, 3.2267680967726102, 5.260400721739861, ReL19357), 
LFla32872 = flatten_layer(ReL19357, Fla32872), 
LGlo63581 = global_max_pool3D_layer([[[[[1.6441]], [[1.3794]]]]], Glo63581), 
LCon2919 = concatenate_layer([Glo63581,[[0.3487]]], 1, Con2919), 
LAve36713 = average_layer([Fla32872,Con2919], Ave36713), 
LRes14228 = reshape_layer(Ave36713, [2, 1], Res14228), 
LMul62292 = multiply_layer([[[[0.9825]]], [[[0.46]]]], Mul62292), 
LZer30147 = zero_padding1D_layer(Mul62292, 1, 1, Zer30147), 
LAve40775 = average_pooling1D_layer(Zer30147, 2, Ave40775), 
LZer13418 = zero_padding1D_layer(Ave40775, 1, 0, Zer13418), 
LAdd11132 = add_layer([Res14228,Zer13418], Add11132), 
LRes31722 = reshape_layer(Add11132, [2, 1, 1], Res31722), 
LAve93003 = average_pooling2D_layer(Res31722, 2, 1, Ave93003), 
exec_layers([LReL19357,LFla32872,LGlo63581,LCon2919,LAve36713,LRes14228,LMul62292,LZer30147,LAve40775,LZer13418,LAdd11132,LRes31722,LAve93003],["ReL19357","Fla32872","Glo63581","Con2919","Ave36713","Res14228","Mul62292","Zer30147","Ave40775","Zer13418","Add11132","Res31722","Ave93003"],Ave93003,"Ave93003")

Actual (Unparsed): [[[[-7.3935379]]]]

Expected (Unparsed): [[[[-7.393537951309813]]]]

Actual:   [[[[-7.3935]]]]

Expected: [[[[-7.3935]]]]