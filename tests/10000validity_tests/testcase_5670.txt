import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add27599 = tf.keras.layers.Input(shape=([2, 2, 1, 1]))
in1Add27599 = tf.keras.layers.Input(shape=([2, 2, 1, 1]))

Add27599 = keras.layers.Add(name = 'Add27599', )([in0Add27599,in1Add27599])
Res98161 = keras.layers.Reshape((2, 2, 1), name = 'Res98161', )(Add27599)
Glo91120 = keras.layers.GlobalAveragePooling2D(name = 'Glo91120', )(Res98161)
model = tf.keras.models.Model(inputs=[in0Add27599,in1Add27599], outputs=Glo91120)
in0Add27599 = tf.constant([[[[[0.7767]], [[0.3661]]], [[[0.8092]], [[0.6901]]]]])
in1Add27599 = tf.constant([[[[[0.6132]], [[0.1914]]], [[[0.7611]], [[0.4818]]]]])
print (np.array2string(model.predict([in0Add27599,in1Add27599],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo91120.png')

LAdd27599 = add_layer([[[[[[0.7767]], [[0.3661]]], [[[0.8092]], [[0.6901]]]]], [[[[[0.6132]], [[0.1914]]], [[[0.7611]], [[0.4818]]]]]], Add27599), 
LRes98161 = reshape_layer(Add27599, [2, 2, 1], Res98161), 
LGlo91120 = global_average_pooling2D_layer(Res98161, Glo91120), 
exec_layers([LAdd27599,LRes98161,LGlo91120],["Add27599","Res98161","Glo91120"],Glo91120,"Glo91120")

Actual (Unparsed): [[1.1724000]]

Expected (Unparsed): [[1.1724]]

Actual:   [[1.1724]]

Expected: [[1.1724]]