import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add71353 = tf.keras.layers.Input(shape=([2, 2, 2, 2]))
in1Add71353 = tf.keras.layers.Input(shape=([2, 2, 2, 2]))
in0Con6861 = tf.keras.layers.Input(shape=([16]))
in0Max14374 = tf.keras.layers.Input(shape=([1, 2, 1, 1]))
in1Max14374 = tf.keras.layers.Input(shape=([1, 2, 1, 1]))
in0Con80306 = tf.keras.layers.Input(shape=([22]))
in0Min33252 = tf.keras.layers.Input(shape=([1, 1, 1, 1]))
in1Min33252 = tf.keras.layers.Input(shape=([1, 1, 1, 1]))
in0Con69407 = tf.keras.layers.Input(shape=([23]))
in0Fla89742 = tf.keras.layers.Input(shape=([4, 2, 3]))

Add71353 = keras.layers.Add(name = 'Add71353', )([in0Add71353,in1Add71353])
Res69918 = keras.layers.Reshape((2, 2, 4), name = 'Res69918', )(Add71353)
Max96114 = keras.layers.MaxPool2D(pool_size=(1, 2), name = 'Max96114', )(Res69918)
Res68027 = keras.layers.Reshape((2, 4), name = 'Res68027', )(Max96114)
Fla98109 = keras.layers.Flatten(name = 'Fla98109', )(Res68027)
Con6861 = keras.layers.Concatenate(axis=1, name = 'Con6861', )([Fla98109,in0Con6861])
Max14374 = keras.layers.Maximum(name = 'Max14374', )([in0Max14374,in1Max14374])
Res62934 = keras.layers.Reshape((1, 2, 1), name = 'Res62934', )(Max14374)
Res50553 = keras.layers.Reshape((1, 2), name = 'Res50553', )(Res62934)
Fla72913 = keras.layers.Flatten(name = 'Fla72913', )(Res50553)
Con80306 = keras.layers.Concatenate(axis=1, name = 'Con80306', )([Fla72913,in0Con80306])
Min33252 = keras.layers.Minimum(name = 'Min33252', )([in0Min33252,in1Min33252])
Res45181 = keras.layers.Reshape((1, 1, 1), name = 'Res45181', )(Min33252)
Res61275 = keras.layers.Reshape((1, 1), name = 'Res61275', )(Res45181)
Fla62971 = keras.layers.Flatten(name = 'Fla62971', )(Res61275)
Con69407 = keras.layers.Concatenate(axis=1, name = 'Con69407', )([Fla62971,in0Con69407])
Fla89742 = keras.layers.Flatten(name = 'Fla89742', )(in0Fla89742)
Add98798 = keras.layers.Add(name = 'Add98798', )([Con69407,Fla89742])
Add84930 = keras.layers.Add(name = 'Add84930', )([Con80306,Add98798])
Add35268 = keras.layers.Add(name = 'Add35268', )([Con6861,Add84930])
model = tf.keras.models.Model(inputs=[in0Add71353,in1Add71353,in0Con6861,in0Max14374,in1Max14374,in0Con80306,in0Min33252,in1Min33252,in0Con69407,in0Fla89742], outputs=Add35268)
in0Add71353 = tf.constant([[[[[0.2777, 0.2708], [0.1643, 0.3775]], [[0.5978, 0.9405], [0.6662, 0.808]]], [[[0.0693, 0.2822], [0.1626, 0.1615]], [[0.6462, 0.8366], [0.4877, 0.9596]]]]])
in1Add71353 = tf.constant([[[[[0.5393, 0.3443], [0.3124, 0.8269]], [[0.9209, 0.1438], [0.3185, 0.4623]]], [[[0.446, 0.0124], [0.7145, 0.4714]], [[0.5789, 0.9764], [0.6657, 0.2041]]]]])
in0Con6861 = tf.constant([[0.6279, 0.6588, 0.5009, 0.7151, 0.8813, 0.1412, 0.0561, 0.2518, 0.5067, 0.8072, 0.8063, 0.6729, 0.4757, 0.8997, 0.3481, 0.937]])
in0Max14374 = tf.constant([[[[[0.6088]], [[0.1435]]]]])
in1Max14374 = tf.constant([[[[[0.185]], [[0.4752]]]]])
in0Con80306 = tf.constant([[0.5006, 0.3137, 0.4228, 0.8551, 0.5847, 0.7386, 0.2821, 0.4354, 0.9116, 0.0026, 0.5955, 0.9332, 0.3722, 0.9904, 0.1153, 0.9553, 0.8433, 0.8651, 0.0736, 0.6056, 0.1851, 0.2009]])
in0Min33252 = tf.constant([[[[[0.5394]]]]])
in1Min33252 = tf.constant([[[[[0.7966]]]]])
in0Con69407 = tf.constant([[0.3367, 0.5413, 0.8972, 0.6595, 0.8902, 0.484, 0.8955, 0.9924, 0.4481, 0.7342, 0.7631, 0.398, 0.7234, 0.3178, 0.0582, 0.4692, 0.1701, 0.4827, 0.2858, 0.2117, 0.1133, 0.2338, 0.9739]])
in0Fla89742 = tf.constant([[[[1.911, 1.9315, 1.7474], [1.8281, 1.9847, 1.8744]], [[1.4152, 1.0905, 1.9309], [1.5454, 1.2681, 1.3936]], [[1.0461, 1.2407, 1.0707], [1.6875, 1.3024, 1.1313]], [[1.6694, 1.4354, 1.1859], [1.3358, 1.1091, 1.3052]]]])
print (np.array2string(model.predict([in0Add71353,in1Add71353,in0Con6861,in0Max14374,in1Max14374,in0Con80306,in0Min33252,in1Min33252,in0Con69407,in0Fla89742],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add35268.png')

LAdd71353 = add_layer([[[[[[0.2777, 0.2708], [0.1643, 0.3775]], [[0.5978, 0.9405], [0.6662, 0.808]]], [[[0.0693, 0.2822], [0.1626, 0.1615]], [[0.6462, 0.8366], [0.4877, 0.9596]]]]], [[[[[0.5393, 0.3443], [0.3124, 0.8269]], [[0.9209, 0.1438], [0.3185, 0.4623]]], [[[0.446, 0.0124], [0.7145, 0.4714]], [[0.5789, 0.9764], [0.6657, 0.2041]]]]]], Add71353), 
LRes69918 = reshape_layer(Add71353, [2, 2, 4], Res69918), 
LMax96114 = max_pool2D_layer(Res69918, 1, 2, Max96114), 
LRes68027 = reshape_layer(Max96114, [2, 4], Res68027), 
LFla98109 = flatten_layer(Res68027, Fla98109), 
LCon6861 = concatenate_layer([Fla98109,[[0.6279, 0.6588, 0.5009, 0.7151, 0.8813, 0.1412, 0.0561, 0.2518, 0.5067, 0.8072, 0.8063, 0.6729, 0.4757, 0.8997, 0.3481, 0.937]]], 1, Con6861), 
LMax14374 = maximum_layer([[[[[[0.6088]], [[0.1435]]]]], [[[[[0.185]], [[0.4752]]]]]], Max14374), 
LRes62934 = reshape_layer(Max14374, [1, 2, 1], Res62934), 
LRes50553 = reshape_layer(Res62934, [1, 2], Res50553), 
LFla72913 = flatten_layer(Res50553, Fla72913), 
LCon80306 = concatenate_layer([Fla72913,[[0.5006, 0.3137, 0.4228, 0.8551, 0.5847, 0.7386, 0.2821, 0.4354, 0.9116, 0.0026, 0.5955, 0.9332, 0.3722, 0.9904, 0.1153, 0.9553, 0.8433, 0.8651, 0.0736, 0.6056, 0.1851, 0.2009]]], 1, Con80306), 
LMin33252 = minimum_layer([[[[[[0.5394]]]]], [[[[[0.7966]]]]]], Min33252), 
LRes45181 = reshape_layer(Min33252, [1, 1, 1], Res45181), 
LRes61275 = reshape_layer(Res45181, [1, 1], Res61275), 
LFla62971 = flatten_layer(Res61275, Fla62971), 
LCon69407 = concatenate_layer([Fla62971,[[0.3367, 0.5413, 0.8972, 0.6595, 0.8902, 0.484, 0.8955, 0.9924, 0.4481, 0.7342, 0.7631, 0.398, 0.7234, 0.3178, 0.0582, 0.4692, 0.1701, 0.4827, 0.2858, 0.2117, 0.1133, 0.2338, 0.9739]]], 1, Con69407), 
LFla89742 = flatten_layer([[[[1.911, 1.9315, 1.7474], [1.8281, 1.9847, 1.8744]], [[1.4152, 1.0905, 1.9309], [1.5454, 1.2681, 1.3936]], [[1.0461, 1.2407, 1.0707], [1.6875, 1.3024, 1.1313]], [[1.6694, 1.4354, 1.1859], [1.3358, 1.1091, 1.3052]]]], Fla89742), 
LAdd98798 = add_layer([Con69407,Fla89742], Add98798), 
LAdd84930 = add_layer([Con80306,Add98798], Add84930), 
LAdd35268 = add_layer([Con6861,Add84930], Add35268), 
exec_layers([LAdd71353,LRes69918,LMax96114,LRes68027,LFla98109,LCon6861,LMax14374,LRes62934,LRes50553,LFla72913,LCon80306,LMin33252,LRes45181,LRes61275,LFla62971,LCon69407,LFla89742,LAdd98798,LAdd84930,LAdd35268],["Add71353","Res69918","Max96114","Res68027","Fla98109","Con6861","Max14374","Res62934","Res50553","Fla72913","Con80306","Min33252","Res45181","Res61275","Fla62971","Con69407","Fla89742","Add98798","Add84930","Add35268"],Add35268,"Add35268")

Actual (Unparsed): [[4.5779000, 3.8277000, 3.7740000, 4.3093000, 4.2921000, 5.4327000, 3.6373000, 3.8883000, 3.8333000, 3.0877000, 3.4148000, 2.8744000, 2.9209000, 3.0385000, 1.8168000, 2.9879000, 2.3936000, 3.0639000, 3.8016999, 3.2592001, 1.9469000, 2.9544000, 1.8761000, 3.4170000]]

Expected (Unparsed): [[4.5779,3.8277,3.774,4.3092999999999995,4.2921,5.4327000000000005,3.6373,3.8883,3.8333,3.0877,3.4148,2.8744,2.9209,3.0385,1.8168,2.9879,2.3936,3.0639,3.8017000000000003,3.2592,1.9469,2.9544,1.8761,3.417]]

Actual:   [[4.5779, 3.8277, 3.774, 4.3093, 4.2921, 5.4327, 3.6373, 3.8883, 3.8333, 3.0877, 3.4148, 2.8744, 2.9209, 3.0385, 1.8168, 2.9879, 2.3936, 3.0639, 3.8017, 3.2593, 1.9469, 2.9544, 1.8761, 3.417]]

Expected: [[4.5779, 3.8277, 3.774, 4.3093, 4.2921, 5.4328, 3.6373, 3.8883, 3.8333, 3.0877, 3.4148, 2.8744, 2.9209, 3.0385, 1.8168, 2.9879, 2.3936, 3.0639, 3.8018, 3.2592, 1.9469, 2.9544, 1.8761, 3.417]]