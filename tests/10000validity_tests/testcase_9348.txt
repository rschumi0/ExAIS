import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min62559 = tf.keras.layers.Input(shape=([1, 1, 2]))
in1Min62559 = tf.keras.layers.Input(shape=([1, 1, 2]))
in0Con6243 = tf.keras.layers.Input(shape=([1, 1, 2, 1]))
in0Add65944 = tf.keras.layers.Input(shape=([1, 1, 1]))
in1Add65944 = tf.keras.layers.Input(shape=([1, 1, 1]))
in0Con94921 = tf.keras.layers.Input(shape=([1, 1, 1, 1]))
in0Cro33398 = tf.keras.layers.Input(shape=([2, 4, 4, 2]))

Min62559 = keras.layers.Minimum(name = 'Min62559', )([in0Min62559,in1Min62559])
Res26106 = keras.layers.Reshape((1, 1, 2, 1), name = 'Res26106', )(Min62559)
Con6243 = keras.layers.Concatenate(axis=4, name = 'Con6243', )([Res26106,in0Con6243])
Add65944 = keras.layers.Add(name = 'Add65944', )([in0Add65944,in1Add65944])
Res11450 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res11450', )(Add65944)
Con94921 = keras.layers.Concatenate(axis=4, name = 'Con94921', )([Res11450,in0Con94921])
Cro33398 = keras.layers.Cropping3D(cropping=((1, 0), (3, 0), (0, 3)), name = 'Cro33398', )(in0Cro33398)
Mas52744 = keras.layers.Masking(mask_value=2, name = 'Mas52744', )(Cro33398)
Add1515 = keras.layers.Add(name = 'Add1515', )([Con94921,Mas52744])
Zer59792 = keras.layers.ZeroPadding3D(padding=((0, 0), (0, 0), (1, 0)), name = 'Zer59792', )(Add1515)
Sub21387 = keras.layers.Subtract(name = 'Sub21387', )([Con6243,Zer59792])
Res38346 = keras.layers.Reshape((1, 1, 4), name = 'Res38346', )(Sub21387)
Glo84205 = keras.layers.GlobalAveragePooling2D(name = 'Glo84205', )(Res38346)
model = tf.keras.models.Model(inputs=[in0Min62559,in1Min62559,in0Con6243,in0Add65944,in1Add65944,in0Con94921,in0Cro33398], outputs=Glo84205)
in0Min62559 = tf.constant([[[[0.1294, 0.9173]]]])
in1Min62559 = tf.constant([[[[0.5361, 0.8814]]]])
in0Con6243 = tf.constant([[[[[0.8091], [0.4176]]]]])
in0Add65944 = tf.constant([[[[0.8419]]]])
in1Add65944 = tf.constant([[[[0.6125]]]])
in0Con94921 = tf.constant([[[[[0.7905]]]]])
in0Cro33398 = tf.constant([[[[[1.1753, 1.9182], [1.2896, 1.697], [1.5141, 1.579], [1.7499, 1.3483]], [[1.1476, 1.8936], [1.0254, 1.3993], [1.7111, 1.9288], [1.2191, 1.234]], [[1.1803, 1.1869], [1.9164, 1.4734], [1.4454, 1.2869], [1.9885, 1.5362]], [[1.9627, 1.249], [1.7295, 1.2639], [1.5526, 1.1958], [1.3258, 1.9305]]], [[[1.9636, 1.3076], [1.7154, 1.1246], [1.6485, 1.4261], [1.7435, 1.1864]], [[1.3093, 1.7873], [1.1433, 1.1113], [1.1622, 1.9805], [1.2819, 1.0882]], [[1.5419, 1.3839], [1.7949, 1.1333], [1.423, 1.0035], [1.2078, 1.5992]], [[1.6693, 1.8572], [1.391, 1.693], [1.338, 1.7872], [1.2253, 1.5209]]]]])
print (np.array2string(model.predict([in0Min62559,in1Min62559,in0Con6243,in0Add65944,in1Add65944,in0Con94921,in0Cro33398],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo84205.png')

LMin62559 = minimum_layer([[[[[0.1294, 0.9173]]]], [[[[0.5361, 0.8814]]]]], Min62559), 
LRes26106 = reshape_layer(Min62559, [1, 1, 2, 1], Res26106), 
LCon6243 = concatenate_layer([Res26106,[[[[[0.8091], [0.4176]]]]]], 4, Con6243), 
LAdd65944 = add_layer([[[[[0.8419]]]], [[[[0.6125]]]]], Add65944), 
LRes11450 = reshape_layer(Add65944, [1, 1, 1, 1], Res11450), 
LCon94921 = concatenate_layer([Res11450,[[[[[0.7905]]]]]], 4, Con94921), 
LCro33398 = cropping3D_layer([[[[[1.1753, 1.9182], [1.2896, 1.697], [1.5141, 1.579], [1.7499, 1.3483]], [[1.1476, 1.8936], [1.0254, 1.3993], [1.7111, 1.9288], [1.2191, 1.234]], [[1.1803, 1.1869], [1.9164, 1.4734], [1.4454, 1.2869], [1.9885, 1.5362]], [[1.9627, 1.249], [1.7295, 1.2639], [1.5526, 1.1958], [1.3258, 1.9305]]], [[[1.9636, 1.3076], [1.7154, 1.1246], [1.6485, 1.4261], [1.7435, 1.1864]], [[1.3093, 1.7873], [1.1433, 1.1113], [1.1622, 1.9805], [1.2819, 1.0882]], [[1.5419, 1.3839], [1.7949, 1.1333], [1.423, 1.0035], [1.2078, 1.5992]], [[1.6693, 1.8572], [1.391, 1.693], [1.338, 1.7872], [1.2253, 1.5209]]]]], 1, 0, 3, 0, 0, 3, Cro33398), 
LMas52744 = masking_layer(Cro33398, 2, Mas52744), 
LAdd1515 = add_layer([Con94921,Mas52744], Add1515), 
LZer59792 = zero_padding3D_layer(Add1515, 0, 0, 0, 0, 1, 0, Zer59792), 
LSub21387 = subtract_layer(Con6243,Zer59792, Sub21387), 
LRes38346 = reshape_layer(Sub21387, [1, 1, 4], Res38346), 
LGlo84205 = global_average_pooling2D_layer(Res38346, Glo84205), 
exec_layers([LMin62559,LRes26106,LCon6243,LAdd65944,LRes11450,LCon94921,LCro33398,LMas52744,LAdd1515,LZer59792,LSub21387,LRes38346,LGlo84205],["Min62559","Res26106","Con6243","Add65944","Res11450","Con94921","Cro33398","Mas52744","Add1515","Zer59792","Sub21387","Res38346","Glo84205"],Glo84205,"Glo84205")

Actual (Unparsed): [[0.1294000, 0.8091000, -2.2423000, -2.2301000]]

Expected (Unparsed): [[0.1294,0.8091,-2.2423,-2.2300999999999997]]

Actual:   [[0.1294, 0.8091, -2.2423, -2.2301]]

Expected: [[0.1294, 0.8091, -2.2423, -2.23]]