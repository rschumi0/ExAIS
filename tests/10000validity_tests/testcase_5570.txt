import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot79777 = tf.keras.layers.Input(shape=([3]))
in1Dot79777 = tf.keras.layers.Input(shape=([3]))

Dot79777 = keras.layers.Dot(axes=(1, 1), name = 'Dot79777', )([in0Dot79777,in1Dot79777])
Res77504 = keras.layers.Reshape((1, 1), name = 'Res77504', )(Dot79777)
Res73158 = keras.layers.Reshape((1, 1, 1), name = 'Res73158', )(Res77504)
Con63862 = keras.layers.Conv2D(3, (1, 1),strides=(1, 1), padding='valid', dilation_rate=(1, 1), name = 'Con63862', )(Res73158)
Res93347 = keras.layers.Reshape((1, 1, 3, 1), name = 'Res93347', )(Con63862)
Glo86757 = keras.layers.GlobalAveragePooling3D(name = 'Glo86757', )(Res93347)
Den44240 = keras.layers.Dense(1,name = 'Den44240', )(Glo86757)
model = tf.keras.models.Model(inputs=[in0Dot79777,in1Dot79777], outputs=Den44240)
w = model.get_layer('Con63862').get_weights() 
w[0] = np.array([[[[0.1642, 0.6403, 0.7595]]]])
w[1] = np.array([0, 0, 0])
model.get_layer('Con63862').set_weights(w) 
w = model.get_layer('Den44240').get_weights() 
w[0] = np.array([[0.6314]])
w[1] = np.array([0.7781])
model.get_layer('Den44240').set_weights(w) 
in0Dot79777 = tf.constant([[0.9038, 0.6303, 0.7024]])
in1Dot79777 = tf.constant([[0.5248, 0.9261, 0.5939]])
print (np.array2string(model.predict([in0Dot79777,in1Dot79777],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Den44240.png')

LDot79777 = dot_layer([[0.9038, 0.6303, 0.7024]], [[0.5248, 0.9261, 0.5939]], 1, 1, Dot79777), 
LRes77504 = reshape_layer(Dot79777, [1, 1], Res77504), 
LRes73158 = reshape_layer(Res77504, [1, 1, 1], Res73158), 
LCon63862 = conv2D_layer(Res73158, 1, 1,[[[[0.1642, 0.6403, 0.7595]]]],[0, 0, 0], 1, 1, false, 1, 1, Con63862), 
LRes93347 = reshape_layer(Con63862, [1, 1, 3, 1], Res93347), 
LGlo86757 = global_average_pooling3D_layer(Res93347, Glo86757), 
LDen44240 = dense_layer(Glo86757, [[0.6314]],[0.7781], Den44240), 
exec_layers([LDot79777,LRes77504,LRes73158,LCon63862,LRes93347,LGlo86757,LDen44240],["Dot79777","Res77504","Res73158","Con63862","Res93347","Glo86757","Den44240"],Den44240,"Den44240")

Actual (Unparsed): [[1.2636882]]

Expected (Unparsed): [[1.2636882371510425]]

Actual:   [[1.2637]]

Expected: [[1.2637]]