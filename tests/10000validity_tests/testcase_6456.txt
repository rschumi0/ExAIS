import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Loc51515 = tf.keras.layers.Input(shape=([2, 2]))

Loc51515 = keras.layers.LocallyConnected1D(2, (1),strides=(1), name = 'Loc51515', )(in0Loc51515)
Sof56166 = keras.layers.Softmax(axis=1, name = 'Sof56166', )(Loc51515)
model = tf.keras.models.Model(inputs=[in0Loc51515], outputs=Sof56166)
w = model.get_layer('Loc51515').get_weights() 
w[0] = np.array([[[0.5681, 0.6465], [0.6478, 0.2985]], [[0.211, 0.6015], [0.8575, 0.3056]]])
w[1] = np.array([[0, 0], [0, 0]])
model.get_layer('Loc51515').set_weights(w) 
in0Loc51515 = tf.constant([[[0.1495, 0.8884], [0.951, 0.7715]]])
print (np.array2string(model.predict([in0Loc51515],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sof56166.png')

LLoc51515 = locally_connected1D_layer([[[0.1495, 0.8884], [0.951, 0.7715]]], 1,[[[0.5681, 0.6465], [0.6478, 0.2985]], [[0.211, 0.6015], [0.8575, 0.3056]]],[[0, 0], [0, 0]], 1, Loc51515), 
LSof56166 = softmax_layer(Loc51515, 1, Sof56166), 
exec_layers([LLoc51515,LSof56166],["Loc51515","Sof56166"],Sof56166,"Sof56166")

Actual (Unparsed): [[[0.4497240, 0.3903223], [0.5502760, 0.6096777]]]

Expected (Unparsed): [[[0.4497240319918606,0.3903222759146847],[0.5502759680081394,0.6096777240853153]]]

Actual:   [[[0.4498, 0.3904], [0.5503, 0.6097]]]

Expected: [[[0.4498, 0.3904], [0.5503, 0.6097]]]