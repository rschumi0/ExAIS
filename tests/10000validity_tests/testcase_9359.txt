import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Zer50930 = tf.keras.layers.Input(shape=([3, 2]))

Zer50930 = keras.layers.ZeroPadding1D(padding=((1, 1)), name = 'Zer50930', )(in0Zer50930)
LST11158 = keras.layers.LSTM(3,recurrent_activation='sigmoid', name = 'LST11158', )(Zer50930)
Lay97417 = keras.layers.LayerNormalization(axis=1, epsilon=2.9511457721474743, name = 'Lay97417', )(LST11158)
Res78514 = keras.layers.Reshape((3, 1), name = 'Res78514', )(Lay97417)
Con27450 = keras.layers.Conv1D(4, (1),strides=(7), padding='valid', dilation_rate=(1), name = 'Con27450', )(Res78514)
Cro98864 = keras.layers.Cropping1D(cropping=((0, 0)), name = 'Cro98864', )(Con27450)
model = tf.keras.models.Model(inputs=[in0Zer50930], outputs=Cro98864)
w = model.get_layer('LST11158').get_weights() 
w[0] = np.array([[4, 6, 3, 2, 9, 9, 2, 2, 3, 8, 9, 9], [5, 10, 4, 9, 3, 1, 4, 7, 10, 2, 3, 3]])
w[1] = np.array([[2, 8, 4, 8, 10, 5, 7, 6, 8, 5, 2, 8], [1, 9, 3, 10, 2, 9, 8, 10, 3, 2, 6, 1], [7, 5, 6, 9, 7, 1, 4, 3, 1, 6, 1, 2]])
w[2] = np.array([10, 2, 8, 8, 1, 6, 5, 7, 3, 3, 4, 3])
model.get_layer('LST11158').set_weights(w) 
w = model.get_layer('Con27450').get_weights() 
w[0] = np.array([[[0.2288, 0.4949, 0.5341, 0.6845]]])
w[1] = np.array([0, 0, 0, 0])
model.get_layer('Con27450').set_weights(w) 
in0Zer50930 = tf.constant([[[1.4409, 1.3159], [1.8058, 1.0393], [1.683, 1.8101]]])
print (np.array2string(model.predict([in0Zer50930],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Cro98864.png')

LZer50930 = zero_padding1D_layer([[[1.4409, 1.3159], [1.8058, 1.0393], [1.683, 1.8101]]], 1, 1, Zer50930), 
LLST11158 = lstm_layer(Zer50930,[[4, 6, 3, 2, 9, 9, 2, 2, 3, 8, 9, 9], [5, 10, 4, 9, 3, 1, 4, 7, 10, 2, 3, 3]],[[2, 8, 4, 8, 10, 5, 7, 6, 8, 5, 2, 8], [1, 9, 3, 10, 2, 9, 8, 10, 3, 2, 6, 1], [7, 5, 6, 9, 7, 1, 4, 3, 1, 6, 1, 2]],[10, 2, 8, 8, 1, 6, 5, 7, 3, 3, 4, 3], LST11158), 
LLay97417 = layer_normalization_layer(LST11158, 1, 2.9511457721474743, Lay97417), 
LRes78514 = reshape_layer(Lay97417, [3, 1], Res78514), 
LCon27450 = conv1D_layer(Res78514, 1,[[[0.2288, 0.4949, 0.5341, 0.6845]]],[0, 0, 0, 0], 7, false, 1, Con27450), 
LCro98864 = cropping1D_layer(Con27450, 0, 0, Cro98864), 
exec_layers([LZer50930,LLST11158,LLay97417,LRes78514,LCon27450,LCro98864],["Zer50930","LST11158","Lay97417","Res78514","Con27450","Cro98864"],Cro98864,"Cro98864")

Actual (Unparsed): [[[0.0000013, 0.0000027, 0.0000029, 0.0000038]]]

Expected (Unparsed): [[[1.2539259626712572e-6,2.7122725477535196e-6,2.927106016882511e-6,3.751365041295785e-6]]]

Actual:   [[[0, 0, 0, 0]]]

Expected: [[[0, 0, 0, 0]]]