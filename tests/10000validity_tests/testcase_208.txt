import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add17621 = tf.keras.layers.Input(shape=([1, 1, 1]))
in1Add17621 = tf.keras.layers.Input(shape=([1, 1, 1]))
in0Dot74662 = tf.keras.layers.Input(shape=([3]))
in1Dot74662 = tf.keras.layers.Input(shape=([3]))
in0Con30935 = tf.keras.layers.Input(shape=([1, 1]))
in0Min769 = tf.keras.layers.Input(shape=([1, 2]))
in1Min769 = tf.keras.layers.Input(shape=([1, 2]))

Add17621 = keras.layers.Add(name = 'Add17621', )([in0Add17621,in1Add17621])
Res58895 = keras.layers.Reshape((1, 1), name = 'Res58895', )(Add17621)
Dot74662 = keras.layers.Dot(axes=(1, 1), name = 'Dot74662', )([in0Dot74662,in1Dot74662])
Fla92660 = keras.layers.Flatten(name = 'Fla92660', )(Dot74662)
Res39342 = keras.layers.Reshape((1, 1), name = 'Res39342', )(Fla92660)
Ave94100 = keras.layers.AveragePooling1D(pool_size=(1), name = 'Ave94100', )(Res39342)
Add67390 = keras.layers.Add(name = 'Add67390', )([Res58895,Ave94100])
Con30935 = keras.layers.Concatenate(axis=2, name = 'Con30935', )([Add67390,in0Con30935])
Min769 = keras.layers.Minimum(name = 'Min769', )([in0Min769,in1Min769])
Add77792 = keras.layers.Add(name = 'Add77792', )([Con30935,Min769])
model = tf.keras.models.Model(inputs=[in0Add17621,in1Add17621,in0Dot74662,in1Dot74662,in0Con30935,in0Min769,in1Min769], outputs=Add77792)
in0Add17621 = tf.constant([[[[0.9779]]]])
in1Add17621 = tf.constant([[[[0.2246]]]])
in0Dot74662 = tf.constant([[0.4674, 0.0128, 0.001]])
in1Dot74662 = tf.constant([[0.9832, 0.6392, 0.2753]])
in0Con30935 = tf.constant([[[0.5387]]])
in0Min769 = tf.constant([[[0.1152, 0.5097]]])
in1Min769 = tf.constant([[[0.7716, 0.3167]]])
print (np.array2string(model.predict([in0Add17621,in1Add17621,in0Dot74662,in1Dot74662,in0Con30935,in0Min769,in1Min769],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add77792.png')

LAdd17621 = add_layer([[[[[0.9779]]]], [[[[0.2246]]]]], Add17621), 
LRes58895 = reshape_layer(Add17621, [1, 1], Res58895), 
LDot74662 = dot_layer([[0.4674, 0.0128, 0.001]], [[0.9832, 0.6392, 0.2753]], 1, 1, Dot74662), 
LFla92660 = flatten_layer(Dot74662, Fla92660), 
LRes39342 = reshape_layer(Fla92660, [1, 1], Res39342), 
LAve94100 = average_pooling1D_layer(Res39342, 1, Ave94100), 
LAdd67390 = add_layer([Res58895,Ave94100], Add67390), 
LCon30935 = concatenate_layer([Add67390,[[[0.5387]]]], 2, Con30935), 
LMin769 = minimum_layer([[[[0.1152, 0.5097]]], [[[0.7716, 0.3167]]]], Min769), 
LAdd77792 = add_layer([Con30935,Min769], Add77792), 
exec_layers([LAdd17621,LRes58895,LDot74662,LFla92660,LRes39342,LAve94100,LAdd67390,LCon30935,LMin769,LAdd77792],["Add17621","Res58895","Dot74662","Fla92660","Res39342","Ave94100","Add67390","Con30935","Min769","Add77792"],Add77792,"Add77792")

Actual (Unparsed): [[[1.7857048, 0.8554000]]]

Expected (Unparsed): [[[1.7857047399999997,0.8553999999999999]]]

Actual:   [[[1.7858, 0.8554]]]

Expected: [[[1.7858, 0.8554]]]