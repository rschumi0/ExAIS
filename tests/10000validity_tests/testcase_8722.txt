import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot60403 = tf.keras.layers.Input(shape=([2]))
in1Dot60403 = tf.keras.layers.Input(shape=([2]))
in0Cro69176 = tf.keras.layers.Input(shape=([2, 1]))

Dot60403 = keras.layers.Dot(axes=(1, 1), name = 'Dot60403', )([in0Dot60403,in1Dot60403])
Res93968 = keras.layers.Reshape((1, 1), name = 'Res93968', )(Dot60403)
Cro69176 = keras.layers.Cropping1D(cropping=((1, 0)), name = 'Cro69176', )(in0Cro69176)
Max36114 = keras.layers.Maximum(name = 'Max36114', )([Res93968,Cro69176])
Res77508 = keras.layers.Reshape((1, 1, 1), name = 'Res77508', )(Max36114)
Res97979 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res97979', )(Res77508)
Glo85976 = keras.layers.GlobalAveragePooling3D(name = 'Glo85976', )(Res97979)
model = tf.keras.models.Model(inputs=[in0Dot60403,in1Dot60403,in0Cro69176], outputs=Glo85976)
in0Dot60403 = tf.constant([[0.7852, 0.3992]])
in1Dot60403 = tf.constant([[0.528, 0.7179]])
in0Cro69176 = tf.constant([[[1.0288], [1.1213]]])
print (np.array2string(model.predict([in0Dot60403,in1Dot60403,in0Cro69176],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo85976.png')

LDot60403 = dot_layer([[0.7852, 0.3992]], [[0.528, 0.7179]], 1, 1, Dot60403), 
LRes93968 = reshape_layer(Dot60403, [1, 1], Res93968), 
LCro69176 = cropping1D_layer([[[1.0288], [1.1213]]], 1, 0, Cro69176), 
LMax36114 = maximum_layer([Res93968,Cro69176], Max36114), 
LRes77508 = reshape_layer(Max36114, [1, 1, 1], Res77508), 
LRes97979 = reshape_layer(Res77508, [1, 1, 1, 1], Res97979), 
LGlo85976 = global_average_pooling3D_layer(Res97979, Glo85976), 
exec_layers([LDot60403,LRes93968,LCro69176,LMax36114,LRes77508,LRes97979,LGlo85976],["Dot60403","Res93968","Cro69176","Max36114","Res77508","Res97979","Glo85976"],Glo85976,"Glo85976")

Actual (Unparsed): [[1.1213000]]

Expected (Unparsed): [[1.1213]]

Actual:   [[1.1213]]

Expected: [[1.1213]]