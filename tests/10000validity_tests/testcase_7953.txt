import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max39377 = tf.keras.layers.Input(shape=([2, 1, 1, 2]))
in1Max39377 = tf.keras.layers.Input(shape=([2, 1, 1, 2]))
in0Max62188 = tf.keras.layers.Input(shape=([2, 1]))
in1Max62188 = tf.keras.layers.Input(shape=([2, 1]))
in0Con65966 = tf.keras.layers.Input(shape=([2, 1]))

Max39377 = keras.layers.Maximum(name = 'Max39377', )([in0Max39377,in1Max39377])
Res54632 = keras.layers.Reshape((2, 1, 2), name = 'Res54632', )(Max39377)
Res24299 = keras.layers.Reshape((2, 2), name = 'Res24299', )(Res54632)
Max62188 = keras.layers.Maximum(name = 'Max62188', )([in0Max62188,in1Max62188])
Con65966 = keras.layers.Concatenate(axis=2, name = 'Con65966', )([Max62188,in0Con65966])
Min44669 = keras.layers.Minimum(name = 'Min44669', )([Res24299,Con65966])
Res53693 = keras.layers.Reshape((2, 2, 1), name = 'Res53693', )(Min44669)
Res43512 = keras.layers.Reshape((2, 2, 1, 1), name = 'Res43512', )(Res53693)
Glo75860 = keras.layers.GlobalAveragePooling3D(name = 'Glo75860', )(Res43512)
model = tf.keras.models.Model(inputs=[in0Max39377,in1Max39377,in0Max62188,in1Max62188,in0Con65966], outputs=Glo75860)
in0Max39377 = tf.constant([[[[[0.0424, 0.5033]]], [[[0.5416, 0.8096]]]]])
in1Max39377 = tf.constant([[[[[0.2961, 0.5562]]], [[[0.6794, 0.5975]]]]])
in0Max62188 = tf.constant([[[0.6558], [0.195]]])
in1Max62188 = tf.constant([[[0.1316], [0.3851]]])
in0Con65966 = tf.constant([[[0.5146], [0.785]]])
print (np.array2string(model.predict([in0Max39377,in1Max39377,in0Max62188,in1Max62188,in0Con65966],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo75860.png')

LMax39377 = maximum_layer([[[[[[0.0424, 0.5033]]], [[[0.5416, 0.8096]]]]], [[[[[0.2961, 0.5562]]], [[[0.6794, 0.5975]]]]]], Max39377), 
LRes54632 = reshape_layer(Max39377, [2, 1, 2], Res54632), 
LRes24299 = reshape_layer(Res54632, [2, 2], Res24299), 
LMax62188 = maximum_layer([[[[0.6558], [0.195]]], [[[0.1316], [0.3851]]]], Max62188), 
LCon65966 = concatenate_layer([Max62188,[[[0.5146], [0.785]]]], 2, Con65966), 
LMin44669 = minimum_layer([Res24299,Con65966], Min44669), 
LRes53693 = reshape_layer(Min44669, [2, 2, 1], Res53693), 
LRes43512 = reshape_layer(Res53693, [2, 2, 1, 1], Res43512), 
LGlo75860 = global_average_pooling3D_layer(Res43512, Glo75860), 
exec_layers([LMax39377,LRes54632,LRes24299,LMax62188,LCon65966,LMin44669,LRes53693,LRes43512,LGlo75860],["Max39377","Res54632","Res24299","Max62188","Con65966","Min44669","Res53693","Res43512","Glo75860"],Glo75860,"Glo75860")

Actual (Unparsed): [[0.4952000]]

Expected (Unparsed): [[0.4952]]

Actual:   [[0.4952]]

Expected: [[0.4952]]