import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave1048 = tf.keras.layers.Input(shape=([2, 1]))
in1Ave1048 = tf.keras.layers.Input(shape=([2, 1]))
in0Mul54416 = tf.keras.layers.Input(shape=([1, 1, 1, 1]))
in1Mul54416 = tf.keras.layers.Input(shape=([1, 1, 1, 1]))

Ave1048 = keras.layers.Average(name = 'Ave1048', )([in0Ave1048,in1Ave1048])
Res32681 = keras.layers.Reshape((2, 1, 1), name = 'Res32681', )(Ave1048)
Res58244 = keras.layers.Reshape((2, 1, 1, 1), name = 'Res58244', )(Res32681)
Zer44528 = keras.layers.ZeroPadding3D(padding=((0, 0), (0, 0), (1, 0)), name = 'Zer44528', )(Res58244)
Mul54416 = keras.layers.Multiply(name = 'Mul54416', )([in0Mul54416,in1Mul54416])
Up_33362 = keras.layers.UpSampling3D(size=(2, 1, 2), name = 'Up_33362', )(Mul54416)
Add71745 = keras.layers.Add(name = 'Add71745', )([Zer44528,Up_33362])
model = tf.keras.models.Model(inputs=[in0Ave1048,in1Ave1048,in0Mul54416,in1Mul54416], outputs=Add71745)
in0Ave1048 = tf.constant([[[0.9513], [0.9307]]])
in1Ave1048 = tf.constant([[[0.9419], [0.0385]]])
in0Mul54416 = tf.constant([[[[[0.058]]]]])
in1Mul54416 = tf.constant([[[[[0.8878]]]]])
print (np.array2string(model.predict([in0Ave1048,in1Ave1048,in0Mul54416,in1Mul54416],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add71745.png')

LAve1048 = average_layer([[[[0.9513], [0.9307]]], [[[0.9419], [0.0385]]]], Ave1048), 
LRes32681 = reshape_layer(Ave1048, [2, 1, 1], Res32681), 
LRes58244 = reshape_layer(Res32681, [2, 1, 1, 1], Res58244), 
LZer44528 = zero_padding3D_layer(Res58244, 0, 0, 0, 0, 1, 0, Zer44528), 
LMul54416 = multiply_layer([[[[[[0.058]]]]], [[[[[0.8878]]]]]], Mul54416), 
LUp_33362 = up_sampling3D_layer(Mul54416, 2, 1, 2, Up_33362), 
LAdd71745 = add_layer([Zer44528,Up_33362], Add71745), 
exec_layers([LAve1048,LRes32681,LRes58244,LZer44528,LMul54416,LUp_33362,LAdd71745],["Ave1048","Res32681","Res58244","Zer44528","Mul54416","Up_33362","Add71745"],Add71745,"Add71745")

Actual (Unparsed): [[[[[0.0514924], [0.9980924]]], [[[0.0514924], [0.5360924]]]]]

Expected (Unparsed): [[[[[0.05149240000000001],[0.9980924]]],[[[0.05149240000000001],[0.5360924]]]]]

Actual:   [[[[[0.0515], [0.9981]]], [[[0.0515], [0.5361]]]]]

Expected: [[[[[0.0515], [0.9981]]], [[[0.0515], [0.5361]]]]]