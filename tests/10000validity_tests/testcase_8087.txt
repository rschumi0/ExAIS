import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul96324 = tf.keras.layers.Input(shape=([1, 2, 1, 2]))
in1Mul96324 = tf.keras.layers.Input(shape=([1, 2, 1, 2]))
in0Min55272 = tf.keras.layers.Input(shape=([1, 2]))
in1Min55272 = tf.keras.layers.Input(shape=([1, 2]))
in0Con32086 = tf.keras.layers.Input(shape=([1, 2]))
in0Glo66629 = tf.keras.layers.Input(shape=([2, 2]))
in0Glo78370 = tf.keras.layers.Input(shape=([1, 1, 2, 2]))
in0Min27028 = tf.keras.layers.Input(shape=([1, 1, 1]))
in1Min27028 = tf.keras.layers.Input(shape=([1, 1, 1]))

Mul96324 = keras.layers.Multiply(name = 'Mul96324', )([in0Mul96324,in1Mul96324])
Res15177 = keras.layers.Reshape((1, 2, 2), name = 'Res15177', )(Mul96324)
Res45161 = keras.layers.Reshape((1, 4), name = 'Res45161', )(Res15177)
Max70173 = keras.layers.MaxPool1D(pool_size=(1), strides=(1), padding='same', name = 'Max70173', )(Res45161)
Min55272 = keras.layers.Minimum(name = 'Min55272', )([in0Min55272,in1Min55272])
Con32086 = keras.layers.Concatenate(axis=2, name = 'Con32086', )([Min55272,in0Con32086])
Min82785 = keras.layers.Minimum(name = 'Min82785', )([Max70173,Con32086])
Res42407 = keras.layers.Reshape((1, 4, 1), name = 'Res42407', )(Min82785)
Zer73557 = keras.layers.ZeroPadding2D(padding=((1, 0), (3, 0)), name = 'Zer73557', )(Res42407)
Glo66629 = keras.layers.GlobalMaxPool1D(name = 'Glo66629', )(in0Glo66629)
Res79326 = keras.layers.Reshape((2, 1), name = 'Res79326', )(Glo66629)
Res80839 = keras.layers.Reshape((2, 1, 1), name = 'Res80839', )(Res79326)
Max1073 = keras.layers.MaxPool2D(pool_size=(1, 1), name = 'Max1073', )(Res80839)
Glo78370 = keras.layers.GlobalMaxPool3D(name = 'Glo78370', )(in0Glo78370)
Res54518 = keras.layers.Reshape((2, 1), name = 'Res54518', )(Glo78370)
Res38435 = keras.layers.Reshape((2, 1, 1), name = 'Res38435', )(Res54518)
Min27028 = keras.layers.Minimum(name = 'Min27028', )([in0Min27028,in1Min27028])
Zer80003 = keras.layers.ZeroPadding2D(padding=((1, 0), (0, 0)), name = 'Zer80003', )(Min27028)
Add48080 = keras.layers.Add(name = 'Add48080', )([Res38435,Zer80003])
Max6021 = keras.layers.Maximum(name = 'Max6021', )([Max1073,Add48080])
Zer30550 = keras.layers.ZeroPadding2D(padding=((1, 1), (1, 1)), name = 'Zer30550', )(Max6021)
Max86430 = keras.layers.MaxPool2D(pool_size=(2, 2), name = 'Max86430', )(Zer30550)
Zer54774 = keras.layers.ZeroPadding2D(padding=((0, 0), (6, 0)), name = 'Zer54774', )(Max86430)
Add64192 = keras.layers.Add(name = 'Add64192', )([Zer73557,Zer54774])
model = tf.keras.models.Model(inputs=[in0Mul96324,in1Mul96324,in0Min55272,in1Min55272,in0Con32086,in0Glo66629,in0Glo78370,in0Min27028,in1Min27028], outputs=Add64192)
in0Mul96324 = tf.constant([[[[[0.0754, 0.6516]], [[0.2179, 0.158]]]]])
in1Mul96324 = tf.constant([[[[[0.7704, 0.4239]], [[0.9295, 0.3295]]]]])
in0Min55272 = tf.constant([[[0.3281, 0.8507]]])
in1Min55272 = tf.constant([[[0.7729, 0.184]]])
in0Con32086 = tf.constant([[[0.3975, 0.0258]]])
in0Glo66629 = tf.constant([[[1.3643, 1.5644], [1.2345, 1.8318]]])
in0Glo78370 = tf.constant([[[[[1.9539, 1.4433], [1.9605, 1.0216]]]]])
in0Min27028 = tf.constant([[[[0.8359]]]])
in1Min27028 = tf.constant([[[[0.7005]]]])
print (np.array2string(model.predict([in0Mul96324,in1Mul96324,in0Min55272,in1Min55272,in0Con32086,in0Glo66629,in0Glo78370,in0Min27028,in1Min27028],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add64192.png')

LMul96324 = multiply_layer([[[[[[0.0754, 0.6516]], [[0.2179, 0.158]]]]], [[[[[0.7704, 0.4239]], [[0.9295, 0.3295]]]]]], Mul96324), 
LRes15177 = reshape_layer(Mul96324, [1, 2, 2], Res15177), 
LRes45161 = reshape_layer(Res15177, [1, 4], Res45161), 
LMax70173 = max_pool1D_layer(Res45161, 1, 1, true, Max70173), 
LMin55272 = minimum_layer([[[[0.3281, 0.8507]]], [[[0.7729, 0.184]]]], Min55272), 
LCon32086 = concatenate_layer([Min55272,[[[0.3975, 0.0258]]]], 2, Con32086), 
LMin82785 = minimum_layer([Max70173,Con32086], Min82785), 
LRes42407 = reshape_layer(Min82785, [1, 4, 1], Res42407), 
LZer73557 = zero_padding2D_layer(Res42407, 1, 0, 3, 0, Zer73557), 
LGlo66629 = global_max_pool1D_layer([[[1.3643, 1.5644], [1.2345, 1.8318]]], Glo66629), 
LRes79326 = reshape_layer(Glo66629, [2, 1], Res79326), 
LRes80839 = reshape_layer(Res79326, [2, 1, 1], Res80839), 
LMax1073 = max_pool2D_layer(Res80839, 1, 1, Max1073), 
LGlo78370 = global_max_pool3D_layer([[[[[1.9539, 1.4433], [1.9605, 1.0216]]]]], Glo78370), 
LRes54518 = reshape_layer(Glo78370, [2, 1], Res54518), 
LRes38435 = reshape_layer(Res54518, [2, 1, 1], Res38435), 
LMin27028 = minimum_layer([[[[[0.8359]]]], [[[[0.7005]]]]], Min27028), 
LZer80003 = zero_padding2D_layer(Min27028, 1, 0, 0, 0, Zer80003), 
LAdd48080 = add_layer([Res38435,Zer80003], Add48080), 
LMax6021 = maximum_layer([Max1073,Add48080], Max6021), 
LZer30550 = zero_padding2D_layer(Max6021, 1, 1, 1, 1, Zer30550), 
LMax86430 = max_pool2D_layer(Zer30550, 2, 2, Max86430), 
LZer54774 = zero_padding2D_layer(Max86430, 0, 0, 6, 0, Zer54774), 
LAdd64192 = add_layer([Zer73557,Zer54774], Add64192), 
exec_layers([LMul96324,LRes15177,LRes45161,LMax70173,LMin55272,LCon32086,LMin82785,LRes42407,LZer73557,LGlo66629,LRes79326,LRes80839,LMax1073,LGlo78370,LRes54518,LRes38435,LMin27028,LZer80003,LAdd48080,LMax6021,LZer30550,LMax86430,LZer54774,LAdd64192],["Mul96324","Res15177","Res45161","Max70173","Min55272","Con32086","Min82785","Res42407","Zer73557","Glo66629","Res79326","Res80839","Max1073","Glo78370","Res54518","Res38435","Min27028","Zer80003","Add48080","Max6021","Zer30550","Max86430","Zer54774","Add64192"],Add64192,"Add64192")

Actual (Unparsed): [[[[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [1.9605000]], [[0.0000000], [0.0000000], [0.0000000], [0.0580882], [0.1840000], [0.2025380], [2.1696000]]]]

Expected (Unparsed): [[[[0],[0],[0],[0],[0],[0],[1.9605]],[[0],[0],[0],[0.05808815999999999],[0.184],[0.20253805],[2.1696]]]]

Actual:   [[[[0], [0], [0], [0], [0], [0], [1.9605]], [[0], [0], [0], [0.0581], [0.184], [0.2026], [2.1696]]]]

Expected: [[[[0], [0], [0], [0], [0], [0], [1.9605]], [[0], [0], [0], [0.0581], [0.184], [0.2026], [2.1696]]]]