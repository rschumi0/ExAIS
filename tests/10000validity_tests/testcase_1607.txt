import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Con9559 = tf.keras.layers.Input(shape=([1, 2, 2]))

Con9559 = keras.layers.Conv2DTranspose(2, (1, 2),strides=(1, 7), padding='valid', name = 'Con9559', )(in0Con9559)
Res95794 = keras.layers.Reshape((1, 28), name = 'Res95794', )(Con9559)
Max1623 = keras.layers.MaxPool1D(pool_size=(1), name = 'Max1623', )(Res95794)
model = tf.keras.models.Model(inputs=[in0Con9559], outputs=Max1623)
w = model.get_layer('Con9559').get_weights() 
w[0] = np.array([[[[0.9267, 0.7053], [0.7504, 0.0157]], [[0.4498, 0.433], [0.2331, 0.7412]]]])
w[1] = np.array([0, 0])
model.get_layer('Con9559').set_weights(w) 
in0Con9559 = tf.constant([[[[0.8458, 0.6554], [0.7738, 0.4373]]]])
print (np.array2string(model.predict([in0Con9559],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max1623.png')

LCon9559 = conv2D_transpose_layer([[[[0.8458, 0.6554], [0.7738, 0.4373]]]], 1, 2,[[[[0.9267, 0.7053], [0.7504, 0.0157]], [[0.4498, 0.433], [0.2331, 0.7412]]]],[0, 0], 1, 7, false, Con9559), 
LRes95794 = reshape_layer(Con9559, [1, 28], Res95794), 
LMax1623 = max_pool1D_layer(Res95794, 1, Max1623), 
exec_layers([LCon9559,LRes95794,LMax1623],["Con9559","Res95794","Max1623"],Max1623,"Max1623")

Actual (Unparsed): [[[1.2460564, 0.6449781, 0.6642290, 0.6829384, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 1.0255082, 0.5875251, 0.5374061, 0.5044995, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000]]]

Expected (Unparsed): [[[1.24605648,0.6449781,0.6642290399999999,0.6829384599999999,0,0,0,0,0,0,0,0,0,0,1.02550815,0.58752513,0.53740614,0.5044995400000001,0,0,0,0,0,0,0,0,0,0]]]

Actual:   [[[1.2461, 0.645, 0.6643, 0.683, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1.0256, 0.5876, 0.5375, 0.5045, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]]]

Expected: [[[1.2461, 0.645, 0.6643, 0.683, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1.0256, 0.5876, 0.5375, 0.5045, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]]]