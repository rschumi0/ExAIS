import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Cro28194 = tf.keras.layers.Input(shape=([4, 3, 4]))

Cro28194 = keras.layers.Cropping2D(cropping=((2, 0), (2, 0)), name = 'Cro28194', )(in0Cro28194)
Glo91699 = keras.layers.GlobalMaxPool2D(name = 'Glo91699', )(Cro28194)
Res97454 = keras.layers.Reshape((4, 1), name = 'Res97454', )(Glo91699)
Den35951 = keras.layers.Dense(1,name = 'Den35951', )(Res97454)
model = tf.keras.models.Model(inputs=[in0Cro28194], outputs=Den35951)
w = model.get_layer('Den35951').get_weights() 
w[0] = np.array([[0.7639]])
w[1] = np.array([0.7663])
model.get_layer('Den35951').set_weights(w) 
in0Cro28194 = tf.constant([[[[1.4688, 1.6387, 1.732, 1.8224], [1.2172, 1.7463, 1.4339, 1.6688], [1.98, 1.0776, 1.7931, 1.7612]], [[1.9722, 1.8711, 1.0909, 1.5925], [1.4045, 1.0226, 1.6373, 1.5886], [1.8384, 1.0691, 1.9591, 1.0356]], [[1.5855, 1.335, 1.5329, 1.3838], [1.5501, 1.3609, 1.1092, 1.4381], [1.4719, 1.5834, 1.8763, 1.0536]], [[1.6127, 1.8585, 1.9351, 1.3493], [1.5459, 1.8289, 1.818, 1.1238], [1.8626, 1.324, 1.073, 1.1106]]]])
print (np.array2string(model.predict([in0Cro28194],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Den35951.png')

LCro28194 = cropping2D_layer([[[[1.4688, 1.6387, 1.732, 1.8224], [1.2172, 1.7463, 1.4339, 1.6688], [1.98, 1.0776, 1.7931, 1.7612]], [[1.9722, 1.8711, 1.0909, 1.5925], [1.4045, 1.0226, 1.6373, 1.5886], [1.8384, 1.0691, 1.9591, 1.0356]], [[1.5855, 1.335, 1.5329, 1.3838], [1.5501, 1.3609, 1.1092, 1.4381], [1.4719, 1.5834, 1.8763, 1.0536]], [[1.6127, 1.8585, 1.9351, 1.3493], [1.5459, 1.8289, 1.818, 1.1238], [1.8626, 1.324, 1.073, 1.1106]]]], 2, 0, 2, 0, Cro28194), 
LGlo91699 = global_max_pool2D_layer(Cro28194, Glo91699), 
LRes97454 = reshape_layer(Glo91699, [4, 1], Res97454), 
LDen35951 = dense_layer(Res97454, [[0.7639]],[0.7663], Den35951), 
exec_layers([LCro28194,LGlo91699,LRes97454,LDen35951],["Cro28194","Glo91699","Res97454","Den35951"],Den35951,"Den35951")

Actual (Unparsed): [[[2.1891401], [1.9758593], [2.1996056], [1.6146873]]]

Expected (Unparsed): [[[2.18914014],[1.97585926],[2.19960557],[1.6146873400000001]]]

Actual:   [[[2.1892], [1.9759], [2.1997], [1.6147]]]

Expected: [[[2.1892], [1.9759], [2.1997], [1.6147]]]