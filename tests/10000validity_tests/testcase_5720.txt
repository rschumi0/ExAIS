import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Per89269 = tf.keras.layers.Input(shape=([4, 3]))

Per89269 = keras.layers.Permute((2,1), name = 'Per89269',)(in0Per89269)
Max41326 = keras.layers.MaxPool1D(pool_size=(1), strides=(1), padding='same', name = 'Max41326', )(Per89269)
model = tf.keras.models.Model(inputs=[in0Per89269], outputs=Max41326)
in0Per89269 = tf.constant([[[1.136, 1.007, 1.4397], [1.1085, 1.6626, 1.8498], [1.5708, 1.0915, 1.7463], [1.5733, 1.7062, 1.2536]]])
print (np.array2string(model.predict([in0Per89269],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max41326.png')

LPer89269 = permute_layer([[[1.136, 1.007, 1.4397], [1.1085, 1.6626, 1.8498], [1.5708, 1.0915, 1.7463], [1.5733, 1.7062, 1.2536]]], 2,1, Per89269), 
LMax41326 = max_pool1D_layer(Per89269, 1, 1, true, Max41326), 
exec_layers([LPer89269,LMax41326],["Per89269","Max41326"],Max41326,"Max41326")

Actual (Unparsed): [[[1.1360000, 1.1085000, 1.5707999, 1.5733000], [1.0070000, 1.6626000, 1.0915000, 1.7062000], [1.4397000, 1.8498000, 1.7463000, 1.2536000]]]

Expected (Unparsed): [[[1.136,1.1085,1.5708,1.5733],[1.007,1.6626,1.0915,1.7062],[1.4397,1.8498,1.7463,1.2536]]]

Actual:   [[[1.136, 1.1085, 1.5708, 1.5733], [1.007, 1.6626, 1.0915, 1.7062], [1.4397, 1.8498, 1.7463, 1.2536]]]

Expected: [[[1.136, 1.1085, 1.5708, 1.5733], [1.007, 1.6626, 1.0915, 1.7062], [1.4397, 1.8498, 1.7463, 1.2536]]]