import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Cro66099 = tf.keras.layers.Input(shape=([3, 1, 2, 1]))
in0Min51648 = tf.keras.layers.Input(shape=([2, 1]))
in1Min51648 = tf.keras.layers.Input(shape=([2, 1]))

Cro66099 = keras.layers.Cropping3D(cropping=((0, 0), (0, 0), (1, 0)), name = 'Cro66099', )(in0Cro66099)
Glo16280 = keras.layers.GlobalAveragePooling3D(name = 'Glo16280', )(Cro66099)
Res20657 = keras.layers.Reshape((1, 1), name = 'Res20657', )(Glo16280)
Zer5348 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer5348', )(Res20657)
Min51648 = keras.layers.Minimum(name = 'Min51648', )([in0Min51648,in1Min51648])
Mul12785 = keras.layers.Multiply(name = 'Mul12785', )([Zer5348,Min51648])
Res58850 = keras.layers.Reshape((2, 1, 1), name = 'Res58850', )(Mul12785)
Res57135 = keras.layers.Reshape((2, 1, 1, 1), name = 'Res57135', )(Res58850)
Zer10326 = keras.layers.ZeroPadding3D(padding=((1, 1), (1, 1), (1, 1)), name = 'Zer10326', )(Res57135)
Cro39413 = keras.layers.Cropping3D(cropping=((0, 0), (2, 0), (0, 0)), name = 'Cro39413', )(Zer10326)
Res29198 = keras.layers.Reshape((4, 1, 3), name = 'Res29198', )(Cro39413)
Glo1461 = keras.layers.GlobalAveragePooling2D(name = 'Glo1461', )(Res29198)
model = tf.keras.models.Model(inputs=[in0Cro66099,in0Min51648,in1Min51648], outputs=Glo1461)
in0Cro66099 = tf.constant([[[[[1.3427], [1.5025]]], [[[1.5006], [1.6235]]], [[[1.8462], [1.5625]]]]])
in0Min51648 = tf.constant([[[0.1017], [0.8738]]])
in1Min51648 = tf.constant([[[0.8048], [0.7412]]])
print (np.array2string(model.predict([in0Cro66099,in0Min51648,in1Min51648],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo1461.png')

LCro66099 = cropping3D_layer([[[[[1.3427], [1.5025]]], [[[1.5006], [1.6235]]], [[[1.8462], [1.5625]]]]], 0, 0, 0, 0, 1, 0, Cro66099), 
LGlo16280 = global_average_pooling3D_layer(Cro66099, Glo16280), 
LRes20657 = reshape_layer(Glo16280, [1, 1], Res20657), 
LZer5348 = zero_padding1D_layer(Res20657, 1, 0, Zer5348), 
LMin51648 = minimum_layer([[[[0.1017], [0.8738]]], [[[0.8048], [0.7412]]]], Min51648), 
LMul12785 = multiply_layer([Zer5348,Min51648], Mul12785), 
LRes58850 = reshape_layer(Mul12785, [2, 1, 1], Res58850), 
LRes57135 = reshape_layer(Res58850, [2, 1, 1, 1], Res57135), 
LZer10326 = zero_padding3D_layer(Res57135, 1, 1, 1, 1, 1, 1, Zer10326), 
LCro39413 = cropping3D_layer(Zer10326, 0, 0, 2, 0, 0, 0, Cro39413), 
LRes29198 = reshape_layer(Cro39413, [4, 1, 3], Res29198), 
LGlo1461 = global_average_pooling2D_layer(Res29198, Glo1461), 
exec_layers([LCro66099,LGlo16280,LRes20657,LZer5348,LMin51648,LMul12785,LRes58850,LRes57135,LZer10326,LCro39413,LRes29198,LGlo1461],["Cro66099","Glo16280","Res20657","Zer5348","Min51648","Mul12785","Res58850","Res57135","Zer10326","Cro39413","Res29198","Glo1461"],Glo1461,"Glo1461")

Actual (Unparsed): [[0.0000000, 0.0000000, 0.0000000]]

Expected (Unparsed): [[0,0,0]]

Actual:   [[0, 0, 0]]

Expected: [[0, 0, 0]]