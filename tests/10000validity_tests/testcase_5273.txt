import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Fla27172 = tf.keras.layers.Input(shape=([2]))

Fla27172 = keras.layers.Flatten(name = 'Fla27172', )(in0Fla27172)
Lea39943 = keras.layers.LeakyReLU(alpha=5.12776548227237, name = 'Lea39943', )(Fla27172)
Res86448 = keras.layers.Reshape((2, 1), name = 'Res86448', )(Lea39943)
Res76885 = keras.layers.Reshape((2, 1, 1), name = 'Res76885', )(Res86448)
Res31892 = keras.layers.Reshape((2, 1, 1, 1), name = 'Res31892', )(Res76885)
Cro15182 = keras.layers.Cropping3D(cropping=((1, 0), (0, 0), (0, 0)), name = 'Cro15182', )(Res31892)
Res64646 = keras.layers.Reshape((1, 1, 1), name = 'Res64646', )(Cro15182)
Glo40216 = keras.layers.GlobalAveragePooling2D(name = 'Glo40216', )(Res64646)
Res91936 = keras.layers.Reshape((1, 1), name = 'Res91936', )(Glo40216)
Res17527 = keras.layers.Reshape((1, 1, 1), name = 'Res17527', )(Res91936)
Dep91208 = keras.layers.DepthwiseConv2D((1, 1),strides=(1, 1), padding='same', name = 'Dep91208', )(Res17527)
model = tf.keras.models.Model(inputs=[in0Fla27172], outputs=Dep91208)
w = model.get_layer('Dep91208').get_weights() 
w[0] = np.array([[[[0.7645]]]])
w[1] = np.array([0])
model.get_layer('Dep91208').set_weights(w) 
in0Fla27172 = tf.constant([[1.3576, 1.1899]])
print (np.array2string(model.predict([in0Fla27172],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Dep91208.png')

LFla27172 = flatten_layer([[1.3576, 1.1899]], Fla27172), 
LLea39943 = leaky_relu_layer(Fla27172, 5.12776548227237, Lea39943), 
LRes86448 = reshape_layer(Lea39943, [2, 1], Res86448), 
LRes76885 = reshape_layer(Res86448, [2, 1, 1], Res76885), 
LRes31892 = reshape_layer(Res76885, [2, 1, 1, 1], Res31892), 
LCro15182 = cropping3D_layer(Res31892, 1, 0, 0, 0, 0, 0, Cro15182), 
LRes64646 = reshape_layer(Cro15182, [1, 1, 1], Res64646), 
LGlo40216 = global_average_pooling2D_layer(Res64646, Glo40216), 
LRes91936 = reshape_layer(Glo40216, [1, 1], Res91936), 
LRes17527 = reshape_layer(Res91936, [1, 1, 1], Res17527), 
LDep91208 = depthwise_conv2D_layer(Res17527, 1, 1,[[[[0.7645]]]],[0], 1, 1, true, Dep91208), 
exec_layers([LFla27172,LLea39943,LRes86448,LRes76885,LRes31892,LCro15182,LRes64646,LGlo40216,LRes91936,LRes17527,LDep91208],["Fla27172","Lea39943","Res86448","Res76885","Res31892","Cro15182","Res64646","Glo40216","Res91936","Res17527","Dep91208"],Dep91208,"Dep91208")

Actual (Unparsed): [[[[0.9096786]]]]

Expected (Unparsed): [[[[0.9096785499999999]]]]

Actual:   [[[[0.9097]]]]

Expected: [[[[0.9097]]]]