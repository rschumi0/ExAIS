import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo24930 = tf.keras.layers.Input(shape=([2, 1, 2]))
in0Con44843 = tf.keras.layers.Input(shape=([2, 3]))
in0Add9357 = tf.keras.layers.Input(shape=([1, 2, 2, 1]))
in1Add9357 = tf.keras.layers.Input(shape=([1, 2, 2, 1]))

Glo24930 = keras.layers.GlobalAveragePooling2D(name = 'Glo24930', )(in0Glo24930)
Res81944 = keras.layers.Reshape((2, 1), name = 'Res81944', )(Glo24930)
Con44843 = keras.layers.Concatenate(axis=2, name = 'Con44843', )([Res81944,in0Con44843])
Add9357 = keras.layers.Add(name = 'Add9357', )([in0Add9357,in1Add9357])
Res11527 = keras.layers.Reshape((1, 2, 2), name = 'Res11527', )(Add9357)
Res9707 = keras.layers.Reshape((1, 4), name = 'Res9707', )(Res11527)
Dot7504 = keras.layers.Dot(axes=(2, 2), name = 'Dot7504', )([Con44843,Res9707])
model = tf.keras.models.Model(inputs=[in0Glo24930,in0Con44843,in0Add9357,in1Add9357], outputs=Dot7504)
in0Glo24930 = tf.constant([[[[1.8762, 1.7807]], [[1.0387, 1.6525]]]])
in0Con44843 = tf.constant([[[0.8, 0.4018, 0.4263], [0.4846, 0.8364, 0.4981]]])
in0Add9357 = tf.constant([[[[[0.1002], [0.2431]], [[0.6585], [0.8491]]]]])
in1Add9357 = tf.constant([[[[[0.2098], [0.0842]], [[0.9961], [0.8668]]]]])
print (np.array2string(model.predict([in0Glo24930,in0Con44843,in0Add9357,in1Add9357],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Dot7504.png')

LGlo24930 = global_average_pooling2D_layer([[[[1.8762, 1.7807]], [[1.0387, 1.6525]]]], Glo24930), 
LRes81944 = reshape_layer(Glo24930, [2, 1], Res81944), 
LCon44843 = concatenate_layer([Res81944,[[[0.8, 0.4018, 0.4263], [0.4846, 0.8364, 0.4981]]]], 2, Con44843), 
LAdd9357 = add_layer([[[[[[0.1002], [0.2431]], [[0.6585], [0.8491]]]]], [[[[[0.2098], [0.0842]], [[0.9961], [0.8668]]]]]], Add9357), 
LRes11527 = reshape_layer(Add9357, [1, 2, 2], Res11527), 
LRes9707 = reshape_layer(Res11527, [1, 4], Res9707), 
LDot7504 = dot_layer(Con44843,Res9707, 2, 2, Dot7504), 
exec_layers([LGlo24930,LRes81944,LCon44843,LAdd9357,LRes11527,LRes9707,LDot7504],["Glo24930","Res81944","Con44843","Add9357","Res11527","Res9707","Dot7504"],Dot7504,"Dot7504")

Actual (Unparsed): [[[2.1099560], [2.9293528]]]

Expected (Unparsed): [[[2.10995595],[2.92935281]]]

Actual:   [[[2.11], [2.9294]]]

Expected: [[[2.11], [2.9294]]]