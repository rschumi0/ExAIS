import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add21824 = tf.keras.layers.Input(shape=([1, 2, 2]))
in1Add21824 = tf.keras.layers.Input(shape=([1, 2, 2]))

Add21824 = keras.layers.Add(name = 'Add21824', )([in0Add21824,in1Add21824])
Con52844 = keras.layers.Conv2D(3, (1, 2),strides=(1, 1), padding='same', dilation_rate=(1, 1), name = 'Con52844', )(Add21824)
Res24934 = keras.layers.Reshape((1, 6), name = 'Res24934', )(Con52844)
Zer64304 = keras.layers.ZeroPadding1D(padding=((1, 1)), name = 'Zer64304', )(Res24934)
model = tf.keras.models.Model(inputs=[in0Add21824,in1Add21824], outputs=Zer64304)
w = model.get_layer('Con52844').get_weights() 
w[0] = np.array([[[[0.3267, 0.5971, 0.9751], [0.6454, 0.0266, 0.5253]], [[0.0701, 0.9135, 0.6126], [0.9762, 0.9989, 0.9758]]]])
w[1] = np.array([0, 0, 0])
model.get_layer('Con52844').set_weights(w) 
in0Add21824 = tf.constant([[[[0.4553, 0.0328], [0.5366, 0.6125]]]])
in1Add21824 = tf.constant([[[[0.1339, 0.5301], [0.0796, 0.618]]]])
print (np.array2string(model.predict([in0Add21824,in1Add21824],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Zer64304.png')

LAdd21824 = add_layer([[[[[0.4553, 0.0328], [0.5366, 0.6125]]]], [[[[0.1339, 0.5301], [0.0796, 0.618]]]]], Add21824), 
LCon52844 = conv2D_layer(Add21824, 1, 2,[[[[0.3267, 0.5971, 0.9751], [0.6454, 0.0266, 0.5253]], [[0.0701, 0.9135, 0.6126], [0.9762, 0.9989, 0.9758]]]],[0, 0, 0], 1, 1, true, 1, 1, Con52844), 
LRes24934 = reshape_layer(Con52844, [1, 6], Res24934), 
LZer64304 = zero_padding1D_layer(Res24934, 1, 1, Zer64304), 
exec_layers([LAdd21824,LCon52844,LRes24934,LZer64304],["Add21824","Con52844","Res24934","Zer64304"],Zer64304,"Zer64304")

Actual (Unparsed): [[[0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000], [1.8001970, 2.1588296, 2.4484263, 0.9954772, 0.4006643, 1.2472383], [0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000]]]

Expected (Unparsed): [[[0,0,0,0,0,0],[1.8001970200000001,2.15882961,2.4484263100000003,0.99547724,0.40066431999999996,1.24723827],[0,0,0,0,0,0]]]

Actual:   [[[0, 0, 0, 0, 0, 0], [1.8002, 2.1589, 2.4485, 0.9955, 0.4007, 1.2473], [0, 0, 0, 0, 0, 0]]]

Expected: [[[0, 0, 0, 0, 0, 0], [1.8002, 2.1589, 2.4485, 0.9955, 0.4007, 1.2473], [0, 0, 0, 0, 0, 0]]]