import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot85648 = tf.keras.layers.Input(shape=([2, 2]))
in1Dot85648 = tf.keras.layers.Input(shape=([2, 2]))

Dot85648 = keras.layers.Dot(axes=(2, 1), name = 'Dot85648', )([in0Dot85648,in1Dot85648])
Mas65017 = keras.layers.Masking(mask_value=2, name = 'Mas65017', )(Dot85648)
model = tf.keras.models.Model(inputs=[in0Dot85648,in1Dot85648], outputs=Mas65017)
in0Dot85648 = tf.constant([[[0.2362, 0.4052], [0.9668, 0.1063]]])
in1Dot85648 = tf.constant([[[0.9672, 0.6161], [0.2934, 0.0657]]])
print (np.array2string(model.predict([in0Dot85648,in1Dot85648],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Mas65017.png')

LDot85648 = dot_layer([[[0.2362, 0.4052], [0.9668, 0.1063]]], [[[0.9672, 0.6161], [0.2934, 0.0657]]], 2, 1, Dot85648), 
LMas65017 = masking_layer(Dot85648, 2, Mas65017), 
exec_layers([LDot85648,LMas65017],["Dot85648","Mas65017"],Mas65017,"Mas65017")

Actual (Unparsed): [[[0.3473383, 0.1721445], [0.9662773, 0.6026294]]]

Expected (Unparsed): [[[0.34733832,0.17214446],[0.96627738,0.6026293899999999]]]

Actual:   [[[0.3474, 0.1722], [0.9663, 0.6027]]]

Expected: [[[0.3474, 0.1722], [0.9663, 0.6027]]]