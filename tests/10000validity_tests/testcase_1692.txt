import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub7174 = tf.keras.layers.Input(shape=([3, 2]))
in1Sub7174 = tf.keras.layers.Input(shape=([3, 2]))
in0Min81619 = tf.keras.layers.Input(shape=([2, 1, 2]))
in1Min81619 = tf.keras.layers.Input(shape=([2, 1, 2]))
in0Con27709 = tf.keras.layers.Input(shape=([3, 2, 3]))
in0Cro19257 = tf.keras.layers.Input(shape=([2, 2, 4]))

Sub7174 = keras.layers.Subtract(name = 'Sub7174', )([in0Sub7174,in1Sub7174])
Min81619 = keras.layers.Minimum(name = 'Min81619', )([in0Min81619,in1Min81619])
Res5366 = keras.layers.Reshape((2, 2), name = 'Res5366', )(Min81619)
Con92075 = keras.layers.Conv1D(2, (2),strides=(1), padding='valid', dilation_rate=(1), name = 'Con92075', )(Res5366)
Zer20847 = keras.layers.ZeroPadding1D(padding=((2, 0)), name = 'Zer20847', )(Con92075)
Min72475 = keras.layers.Minimum(name = 'Min72475', )([Sub7174,Zer20847])
Res38075 = keras.layers.Reshape((3, 2, 1), name = 'Res38075', )(Min72475)
Con27709 = keras.layers.Concatenate(axis=3, name = 'Con27709', )([Res38075,in0Con27709])
Cro19257 = keras.layers.Cropping2D(cropping=((1, 0), (1, 0)), name = 'Cro19257', )(in0Cro19257)
Zer3772 = keras.layers.ZeroPadding2D(padding=((2, 0), (1, 0)), name = 'Zer3772', )(Cro19257)
Min46033 = keras.layers.Minimum(name = 'Min46033', )([Con27709,Zer3772])
Res923 = keras.layers.Reshape((3, 8), name = 'Res923', )(Min46033)
Con64924 = keras.layers.Conv1D(2, (1),strides=(6), padding='valid', dilation_rate=(1), name = 'Con64924', )(Res923)
model = tf.keras.models.Model(inputs=[in0Sub7174,in1Sub7174,in0Min81619,in1Min81619,in0Con27709,in0Cro19257], outputs=Con64924)
w = model.get_layer('Con92075').get_weights() 
w[0] = np.array([[[0.0815, 0.1172], [0.2481, 0.521]], [[0.5531, 0.6523], [0.8319, 0.6799]]])
w[1] = np.array([0, 0])
model.get_layer('Con92075').set_weights(w) 
w = model.get_layer('Con64924').get_weights() 
w[0] = np.array([[[0.2614, 0.6034], [0.0214, 0.0354], [0.5188, 0.9035], [0.6619, 0.9737], [0.6424, 0.4215], [0.8222, 0.2666], [0.343, 0.8157], [0.7521, 0.0969]]])
w[1] = np.array([0, 0])
model.get_layer('Con64924').set_weights(w) 
in0Sub7174 = tf.constant([[[0.5953, 0.6899], [0.5724, 0.4861], [0.7893, 0.2974]]])
in1Sub7174 = tf.constant([[[0.5417, 0.5612], [0.0479, 0.7783], [0.7266, 0.7488]]])
in0Min81619 = tf.constant([[[[0.3095, 0.5432]], [[0.4603, 0.6571]]]])
in1Min81619 = tf.constant([[[[0.2168, 0.0756]], [[0.5507, 0.9013]]]])
in0Con27709 = tf.constant([[[[0.5255, 0.4637, 0.4961], [0.5182, 0.6258, 0.7771]], [[0.3308, 0.4194, 0.3397], [0.151, 0.5122, 0.4014]], [[0.1773, 0.9819, 0.2519], [0.2392, 0.8432, 0.1883]]]])
in0Cro19257 = tf.constant([[[[1.892, 1.3573, 1.0527, 1.8145], [1.6319, 1.6286, 1.441, 1.9825]], [[1.5423, 1.2636, 1.1991, 1.2753], [1.9441, 1.4607, 1.4197, 1.3564]]]])
print (np.array2string(model.predict([in0Sub7174,in1Sub7174,in0Min81619,in1Min81619,in0Con27709,in0Cro19257],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Con64924.png')

LSub7174 = subtract_layer([[[0.5953, 0.6899], [0.5724, 0.4861], [0.7893, 0.2974]]], [[[0.5417, 0.5612], [0.0479, 0.7783], [0.7266, 0.7488]]], Sub7174), 
LMin81619 = minimum_layer([[[[[0.3095, 0.5432]], [[0.4603, 0.6571]]]], [[[[0.2168, 0.0756]], [[0.5507, 0.9013]]]]], Min81619), 
LRes5366 = reshape_layer(Min81619, [2, 2], Res5366), 
LCon92075 = conv1D_layer(Res5366, 2,[[[0.0815, 0.1172], [0.2481, 0.521]], [[0.5531, 0.6523], [0.8319, 0.6799]]],[0, 0], 1, false, 1, Con92075), 
LZer20847 = zero_padding1D_layer(Con92075, 2, 0, Zer20847), 
LMin72475 = minimum_layer([Sub7174,Zer20847], Min72475), 
LRes38075 = reshape_layer(Min72475, [3, 2, 1], Res38075), 
LCon27709 = concatenate_layer([Res38075,[[[[0.5255, 0.4637, 0.4961], [0.5182, 0.6258, 0.7771]], [[0.3308, 0.4194, 0.3397], [0.151, 0.5122, 0.4014]], [[0.1773, 0.9819, 0.2519], [0.2392, 0.8432, 0.1883]]]]], 3, Con27709), 
LCro19257 = cropping2D_layer([[[[1.892, 1.3573, 1.0527, 1.8145], [1.6319, 1.6286, 1.441, 1.9825]], [[1.5423, 1.2636, 1.1991, 1.2753], [1.9441, 1.4607, 1.4197, 1.3564]]]], 1, 0, 1, 0, Cro19257), 
LZer3772 = zero_padding2D_layer(Cro19257, 2, 0, 1, 0, Zer3772), 
LMin46033 = minimum_layer([Con27709,Zer3772], Min46033), 
LRes923 = reshape_layer(Min46033, [3, 8], Res923), 
LCon64924 = conv1D_layer(Res923, 1,[[[0.2614, 0.6034], [0.0214, 0.0354], [0.5188, 0.9035], [0.6619, 0.9737], [0.6424, 0.4215], [0.8222, 0.2666], [0.343, 0.8157], [0.7521, 0.0969]]],[0, 0], 6, false, 1, Con64924), 
exec_layers([LSub7174,LMin81619,LRes5366,LCon92075,LZer20847,LMin72475,LRes38075,LCon27709,LCro19257,LZer3772,LMin46033,LRes923,LCon64924],["Sub7174","Min81619","Res5366","Con92075","Zer20847","Min72475","Res38075","Con27709","Cro19257","Zer3772","Min46033","Res923","Con64924"],Con64924,"Con64924")

Actual (Unparsed): [[[0.0000000, 0.0000000]]]

Expected (Unparsed): [[[0.0,0.0]]]

Actual:   [[[0, 0]]]

Expected: [[[0, 0]]]