import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot3637 = tf.keras.layers.Input(shape=([2]))
in1Dot3637 = tf.keras.layers.Input(shape=([2]))
in0Con83098 = tf.keras.layers.Input(shape=([1, 1]))
in0Ave59110 = tf.keras.layers.Input(shape=([1, 2]))
in1Ave59110 = tf.keras.layers.Input(shape=([1, 2]))

Dot3637 = keras.layers.Dot(axes=(1, 1), name = 'Dot3637', )([in0Dot3637,in1Dot3637])
Res14553 = keras.layers.Reshape((1, 1), name = 'Res14553', )(Dot3637)
Con83098 = keras.layers.Concatenate(axis=2, name = 'Con83098', )([Res14553,in0Con83098])
Ave59110 = keras.layers.Average(name = 'Ave59110', )([in0Ave59110,in1Ave59110])
Mul22313 = keras.layers.Multiply(name = 'Mul22313', )([Con83098,Ave59110])
Glo82726 = keras.layers.GlobalAveragePooling1D(name = 'Glo82726', )(Mul22313)
model = tf.keras.models.Model(inputs=[in0Dot3637,in1Dot3637,in0Con83098,in0Ave59110,in1Ave59110], outputs=Glo82726)
in0Dot3637 = tf.constant([[0.1566, 0.4731]])
in1Dot3637 = tf.constant([[0.4604, 0.4225]])
in0Con83098 = tf.constant([[[0.3474]]])
in0Ave59110 = tf.constant([[[0.875, 0.1671]]])
in1Ave59110 = tf.constant([[[0.8038, 0.0987]]])
print (np.array2string(model.predict([in0Dot3637,in1Dot3637,in0Con83098,in0Ave59110,in1Ave59110],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo82726.png')

LDot3637 = dot_layer([[0.1566, 0.4731]], [[0.4604, 0.4225]], 1, 1, Dot3637), 
LRes14553 = reshape_layer(Dot3637, [1, 1], Res14553), 
LCon83098 = concatenate_layer([Res14553,[[[0.3474]]]], 2, Con83098), 
LAve59110 = average_layer([[[[0.875, 0.1671]]], [[[0.8038, 0.0987]]]], Ave59110), 
LMul22313 = multiply_layer([Con83098,Ave59110], Mul22313), 
LGlo82726 = global_average_pooling1D_layer(Mul22313, Glo82726), 
exec_layers([LDot3637,LRes14553,LCon83098,LAve59110,LMul22313,LGlo82726],["Dot3637","Res14553","Con83098","Ave59110","Mul22313","Glo82726"],Glo82726,"Glo82726")

Actual (Unparsed): [[0.2283029, 0.0461695]]

Expected (Unparsed): [[0.22830285756599997,0.046169459999999996]]

Actual:   [[0.2284, 0.0462]]

Expected: [[0.2284, 0.0462]]