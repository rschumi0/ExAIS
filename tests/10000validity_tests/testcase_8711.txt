import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max67382 = tf.keras.layers.Input(shape=([2, 2, 1]))
in1Max67382 = tf.keras.layers.Input(shape=([2, 2, 1]))

Max67382 = keras.layers.Maximum(name = 'Max67382', )([in0Max67382,in1Max67382])
Res58732 = keras.layers.Reshape((2, 2), name = 'Res58732', )(Max67382)
PRe90788 = keras.layers.PReLU(name = 'PRe90788', )(Res58732)
Up_71576 = keras.layers.UpSampling1D(size=(2), name = 'Up_71576', )(PRe90788)
model = tf.keras.models.Model(inputs=[in0Max67382,in1Max67382], outputs=Up_71576)
w = model.get_layer('PRe90788').get_weights() 
w[0] = np.array([[0.7471, 0.6631], [0.6172, 0.4197]])
model.get_layer('PRe90788').set_weights(w) 
in0Max67382 = tf.constant([[[[0.5487], [0.2455]], [[0.9367], [0.2535]]]])
in1Max67382 = tf.constant([[[[0.92], [0.9021]], [[0.6915], [0.1934]]]])
print (np.array2string(model.predict([in0Max67382,in1Max67382],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Up_71576.png')

LMax67382 = maximum_layer([[[[[0.5487], [0.2455]], [[0.9367], [0.2535]]]], [[[[0.92], [0.9021]], [[0.6915], [0.1934]]]]], Max67382), 
LRes58732 = reshape_layer(Max67382, [2, 2], Res58732), 
LPRe90788 = prelu_layer(Res58732, [[0.7471, 0.6631], [0.6172, 0.4197]], PRe90788), 
LUp_71576 = up_sampling1D_layer(PRe90788, 2, Up_71576), 
exec_layers([LMax67382,LRes58732,LPRe90788,LUp_71576],["Max67382","Res58732","PRe90788","Up_71576"],Up_71576,"Up_71576")

Actual (Unparsed): [[[0.9200000, 0.9021000], [0.9200000, 0.9021000], [0.9367000, 0.2535000], [0.9367000, 0.2535000]]]

Expected (Unparsed): [[[0.92,0.9021],[0.92,0.9021],[0.9367,0.2535],[0.9367,0.2535]]]

Actual:   [[[0.92, 0.9021], [0.92, 0.9021], [0.9367, 0.2535], [0.9367, 0.2535]]]

Expected: [[[0.92, 0.9021], [0.92, 0.9021], [0.9367, 0.2535], [0.9367, 0.2535]]]