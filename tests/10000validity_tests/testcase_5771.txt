import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Lay63550 = tf.keras.layers.Input(shape=([1, 2]))
in0Con22514 = tf.keras.layers.Input(shape=([2, 5, 1]))
in0Cro2868 = tf.keras.layers.Input(shape=([4, 4, 3]))
in0Min90752 = tf.keras.layers.Input(shape=([1, 1, 2]))
in1Min90752 = tf.keras.layers.Input(shape=([1, 1, 2]))
in0Con58851 = tf.keras.layers.Input(shape=([2, 1, 1]))

Lay63550 = keras.layers.LayerNormalization(axis=2, epsilon=1.2754393869076444, name = 'Lay63550', )(in0Lay63550)
Res24369 = keras.layers.Reshape((1, 2, 1), name = 'Res24369', )(Lay63550)
Con32416 = keras.layers.Conv2DTranspose(2, (1, 2),strides=(1, 1), padding='valid', name = 'Con32416', )(Res24369)
Zer5964 = keras.layers.ZeroPadding2D(padding=((1, 0), (2, 0)), name = 'Zer5964', )(Con32416)
Con22514 = keras.layers.Concatenate(axis=3, name = 'Con22514', )([Zer5964,in0Con22514])
Cro2868 = keras.layers.Cropping2D(cropping=((2, 0), (3, 0)), name = 'Cro2868', )(in0Cro2868)
Min90752 = keras.layers.Minimum(name = 'Min90752', )([in0Min90752,in1Min90752])
Zer96129 = keras.layers.ZeroPadding2D(padding=((1, 0), (0, 0)), name = 'Zer96129', )(Min90752)
Con58851 = keras.layers.Concatenate(axis=3, name = 'Con58851', )([Zer96129,in0Con58851])
Add75143 = keras.layers.Add(name = 'Add75143', )([Cro2868,Con58851])
Zer37860 = keras.layers.ZeroPadding2D(padding=((0, 0), (4, 0)), name = 'Zer37860', )(Add75143)
Add25875 = keras.layers.Add(name = 'Add25875', )([Con22514,Zer37860])
model = tf.keras.models.Model(inputs=[in0Lay63550,in0Con22514,in0Cro2868,in0Min90752,in1Min90752,in0Con58851], outputs=Add25875)
w = model.get_layer('Con32416').get_weights() 
w[0] = np.array([[[[0.1361], [0.6933]], [[0.6873], [0.9309]]]])
w[1] = np.array([0, 0])
model.get_layer('Con32416').set_weights(w) 
in0Lay63550 = tf.constant([[[1.4515, 1.3969]]])
in0Con22514 = tf.constant([[[[0.483], [0.6272], [0.6047], [0.7941], [0.2092]], [[0.1001], [0.6066], [0.5978], [0.8902], [0.0633]]]])
in0Cro2868 = tf.constant([[[[1.2491, 1.0671, 1.104], [1.1537, 1.1782, 1.0048], [1.0655, 1.5576, 1.3664], [1.2435, 1.718, 1.6451]], [[1.0573, 1.5647, 1.2728], [1.3235, 1.6902, 1.0987], [1.6055, 1.7145, 1.1707], [1.7837, 1.7986, 1.3924]], [[1.1648, 1.5422, 1.1772], [1.4126, 1.6527, 1.7452], [1.1264, 1.5387, 1.3117], [1.0013, 1.3918, 1.7475]], [[1.0366, 1.4282, 1.8801], [1.9133, 1.0514, 1.344], [1.2021, 1.5568, 1.619], [1.7485, 1.3298, 1.6804]]]])
in0Min90752 = tf.constant([[[[0.3109, 0.0578]]]])
in1Min90752 = tf.constant([[[[0.7745, 0.0063]]]])
in0Con58851 = tf.constant([[[[0.9425]], [[0.7437]]]])
print (np.array2string(model.predict([in0Lay63550,in0Con22514,in0Cro2868,in0Min90752,in1Min90752,in0Con58851],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add25875.png')

LLay63550 = layer_normalization_layer([[[1.4515, 1.3969]]], 2, 1.2754393869076444, Lay63550), 
LRes24369 = reshape_layer(Lay63550, [1, 2, 1], Res24369), 
LCon32416 = conv2D_transpose_layer(Res24369, 1, 2,[[[[0.1361], [0.6933]], [[0.6873], [0.9309]]]],[0, 0], 1, 1, false, Con32416), 
LZer5964 = zero_padding2D_layer(Con32416, 1, 0, 2, 0, Zer5964), 
LCon22514 = concatenate_layer([Zer5964,[[[[0.483], [0.6272], [0.6047], [0.7941], [0.2092]], [[0.1001], [0.6066], [0.5978], [0.8902], [0.0633]]]]], 3, Con22514), 
LCro2868 = cropping2D_layer([[[[1.2491, 1.0671, 1.104], [1.1537, 1.1782, 1.0048], [1.0655, 1.5576, 1.3664], [1.2435, 1.718, 1.6451]], [[1.0573, 1.5647, 1.2728], [1.3235, 1.6902, 1.0987], [1.6055, 1.7145, 1.1707], [1.7837, 1.7986, 1.3924]], [[1.1648, 1.5422, 1.1772], [1.4126, 1.6527, 1.7452], [1.1264, 1.5387, 1.3117], [1.0013, 1.3918, 1.7475]], [[1.0366, 1.4282, 1.8801], [1.9133, 1.0514, 1.344], [1.2021, 1.5568, 1.619], [1.7485, 1.3298, 1.6804]]]], 2, 0, 3, 0, Cro2868), 
LMin90752 = minimum_layer([[[[[0.3109, 0.0578]]]], [[[[0.7745, 0.0063]]]]], Min90752), 
LZer96129 = zero_padding2D_layer(Min90752, 1, 0, 0, 0, Zer96129), 
LCon58851 = concatenate_layer([Zer96129,[[[[0.9425]], [[0.7437]]]]], 3, Con58851), 
LAdd75143 = add_layer([Cro2868,Con58851], Add75143), 
LZer37860 = zero_padding2D_layer(Add75143, 0, 0, 4, 0, Zer37860), 
LAdd25875 = add_layer([Con22514,Zer37860], Add25875), 
exec_layers([LLay63550,LRes24369,LCon32416,LZer5964,LCon22514,LCro2868,LMin90752,LZer96129,LCon58851,LAdd75143,LZer37860,LAdd25875],["Lay63550","Res24369","Con32416","Zer5964","Con22514","Cro2868","Min90752","Zer96129","Con58851","Add75143","Zer37860","Add25875"],Add25875,"Add25875")

Actual (Unparsed): [[[[0.0000000, 0.0000000, 0.4830000], [0.0000000, 0.0000000, 0.6272000], [0.0000000, 0.0000000, 0.6047000], [0.0000000, 0.0000000, 0.7941000], [1.0013000, 1.3918000, 2.8991999]], [[0.0000000, 0.0000000, 0.1001000], [0.0000000, 0.0000000, 0.6066000], [0.0032890, 0.0167543, 0.5978000], [0.0133203, 0.0057419, 0.8902000], [2.0427907, 1.3136038, 2.4874000]]]]

Expected (Unparsed): [[[[0,0,0.483],[0,0,0.6272],[0,0,0.6047],[0,0,0.7941],[1.0013,1.3918,2.8992]],[[0,0,0.1001],[0,0,0.6066],[0.003289001029045474,0.0167543307379664,0.5978],[0.013320333337324535,0.005741856315218386,0.8902],[2.04279066563363,1.3136038129468155,2.4874]]]]

Actual:   [[[[0, 0, 0.483], [0, 0, 0.6272], [0, 0, 0.6047], [0, 0, 0.7941], [1.0013, 1.3918, 2.8992]], [[0, 0, 0.1001], [0, 0, 0.6066], [0.0033, 0.0168, 0.5978], [0.0134, 0.0058, 0.8902], [2.0428, 1.3137, 2.4874]]]]

Expected: [[[[0, 0, 0.483], [0, 0, 0.6272], [0, 0, 0.6047], [0, 0, 0.7941], [1.0013, 1.3918, 2.8992]], [[0, 0, 0.1001], [0, 0, 0.6066], [0.0033, 0.0168, 0.5978], [0.0134, 0.0058, 0.8902], [2.0428, 1.3137, 2.4874]]]]