import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Per2632 = tf.keras.layers.Input(shape=([4, 1]))
in0Max87350 = tf.keras.layers.Input(shape=([1, 1, 2, 1]))
in1Max87350 = tf.keras.layers.Input(shape=([1, 1, 2, 1]))

Per2632 = keras.layers.Permute((1,2), name = 'Per2632',)(in0Per2632)
Res35824 = keras.layers.Reshape((4, 1, 1), name = 'Res35824', )(Per2632)
Res3655 = keras.layers.Reshape((4, 1, 1, 1), name = 'Res3655', )(Res35824)
Zer58534 = keras.layers.ZeroPadding3D(padding=((0, 0), (0, 0), (2, 0)), name = 'Zer58534', )(Res3655)
Max87350 = keras.layers.Maximum(name = 'Max87350', )([in0Max87350,in1Max87350])
Zer57476 = keras.layers.ZeroPadding3D(padding=((3, 0), (0, 0), (1, 0)), name = 'Zer57476', )(Max87350)
Add26658 = keras.layers.Add(name = 'Add26658', )([Zer58534,Zer57476])
ELU44833 = keras.layers.ELU(alpha=9.770170215890374, name = 'ELU44833', )(Add26658)
model = tf.keras.models.Model(inputs=[in0Per2632,in0Max87350,in1Max87350], outputs=ELU44833)
in0Per2632 = tf.constant([[[1.7895], [1.1086], [1.4304], [1.4827]]])
in0Max87350 = tf.constant([[[[[0.1456], [0.5978]]]]])
in1Max87350 = tf.constant([[[[[0.8493], [0.6686]]]]])
print (np.array2string(model.predict([in0Per2632,in0Max87350,in1Max87350],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='ELU44833.png')

LPer2632 = permute_layer([[[1.7895], [1.1086], [1.4304], [1.4827]]], 1,2, Per2632), 
LRes35824 = reshape_layer(Per2632, [4, 1, 1], Res35824), 
LRes3655 = reshape_layer(Res35824, [4, 1, 1, 1], Res3655), 
LZer58534 = zero_padding3D_layer(Res3655, 0, 0, 0, 0, 2, 0, Zer58534), 
LMax87350 = maximum_layer([[[[[[0.1456], [0.5978]]]]], [[[[[0.8493], [0.6686]]]]]], Max87350), 
LZer57476 = zero_padding3D_layer(Max87350, 3, 0, 0, 0, 1, 0, Zer57476), 
LAdd26658 = add_layer([Zer58534,Zer57476], Add26658), 
LELU44833 = elu_layer(Add26658, 9.770170215890374, ELU44833), 
exec_layers([LPer2632,LRes35824,LRes3655,LZer58534,LMax87350,LZer57476,LAdd26658,LELU44833],["Per2632","Res35824","Res3655","Zer58534","Max87350","Zer57476","Add26658","ELU44833"],ELU44833,"ELU44833")

Actual (Unparsed): [[[[[0.0000000], [0.0000000], [1.7895000]]], [[[0.0000000], [0.0000000], [1.1086000]]], [[[0.0000000], [0.0000000], [1.4304000]]], [[[0.0000000], [0.8493000], [2.1513000]]]]]

Expected (Unparsed): [[[[[0],[0],[1.7895]]],[[[0],[0],[1.1086]]],[[[0],[0],[1.4304]]],[[[0],[0.8493],[2.1513]]]]]

Actual:   [[[[[0], [0], [1.7895]]], [[[0], [0], [1.1086]]], [[[0], [0], [1.4304]]], [[[0], [0.8493], [2.1513]]]]]

Expected: [[[[[0], [0], [1.7895]]], [[[0], [0], [1.1086]]], [[[0], [0], [1.4304]]], [[[0], [0.8493], [2.1513]]]]]