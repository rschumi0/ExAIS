import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot86842 = tf.keras.layers.Input(shape=([3]))
in1Dot86842 = tf.keras.layers.Input(shape=([3]))
in0Dot41162 = tf.keras.layers.Input(shape=([3]))
in1Dot41162 = tf.keras.layers.Input(shape=([3]))

Dot86842 = keras.layers.Dot(axes=(1, 1), name = 'Dot86842', )([in0Dot86842,in1Dot86842])
Dot41162 = keras.layers.Dot(axes=(1, 1), name = 'Dot41162', )([in0Dot41162,in1Dot41162])
Max49957 = keras.layers.Maximum(name = 'Max49957', )([Dot86842,Dot41162])
Lay64915 = keras.layers.LayerNormalization(axis=1, epsilon=1.5703895344294707, name = 'Lay64915', )(Max49957)
model = tf.keras.models.Model(inputs=[in0Dot86842,in1Dot86842,in0Dot41162,in1Dot41162], outputs=Lay64915)
in0Dot86842 = tf.constant([[0.3971, 0.2174, 0.4807]])
in1Dot86842 = tf.constant([[0.787, 0.4758, 0.275]])
in0Dot41162 = tf.constant([[0.037, 0.8664, 0.9978]])
in1Dot41162 = tf.constant([[0.185, 0.0075, 0.8178]])
print (np.array2string(model.predict([in0Dot86842,in1Dot86842,in0Dot41162,in1Dot41162],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Lay64915.png')

LDot86842 = dot_layer([[0.3971, 0.2174, 0.4807]], [[0.787, 0.4758, 0.275]], 1, 1, Dot86842), 
LDot41162 = dot_layer([[0.037, 0.8664, 0.9978]], [[0.185, 0.0075, 0.8178]], 1, 1, Dot41162), 
LMax49957 = maximum_layer([Dot86842,Dot41162], Max49957), 
LLay64915 = layer_normalization_layer(Max49957, 1, 1.5703895344294707, Lay64915), 
exec_layers([LDot86842,LDot41162,LMax49957,LLay64915],["Dot86842","Dot41162","Max49957","Lay64915"],Lay64915,"Lay64915")

Actual (Unparsed): [[0.0000000]]

Expected (Unparsed): [[0.0]]

Actual:   [[0]]

Expected: [[0]]