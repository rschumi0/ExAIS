import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add87226 = tf.keras.layers.Input(shape=([2, 1]))
in1Add87226 = tf.keras.layers.Input(shape=([2, 1]))
in0Up_15450 = tf.keras.layers.Input(shape=([4, 3]))

Add87226 = keras.layers.Add(name = 'Add87226', )([in0Add87226,in1Add87226])
Res50795 = keras.layers.Reshape((2, 1, 1), name = 'Res50795', )(Add87226)
Up_15450 = keras.layers.UpSampling1D(size=(2), name = 'Up_15450', )(in0Up_15450)
Res41299 = keras.layers.Reshape((8, 3, 1), name = 'Res41299', )(Up_15450)
Ave69016 = keras.layers.AveragePooling2D(pool_size=(7, 3), strides=(1, 2), padding='valid', name = 'Ave69016', )(Res41299)
Max6053 = keras.layers.Maximum(name = 'Max6053', )([Res50795,Ave69016])
Res23798 = keras.layers.Reshape((2, 1, 1, 1), name = 'Res23798', )(Max6053)
Glo33533 = keras.layers.GlobalMaxPool3D(name = 'Glo33533', )(Res23798)
model = tf.keras.models.Model(inputs=[in0Add87226,in1Add87226,in0Up_15450], outputs=Glo33533)
in0Add87226 = tf.constant([[[0.821], [0.9901]]])
in1Add87226 = tf.constant([[[0.2074], [0.8047]]])
in0Up_15450 = tf.constant([[[1.7102, 1.2816, 1.2964], [1.3294, 1.3508, 1.6643], [1.3534, 1.3215, 1.212], [1.8818, 1.0457, 1.6208]]])
print (np.array2string(model.predict([in0Add87226,in1Add87226,in0Up_15450],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo33533.png')

LAdd87226 = add_layer([[[[0.821], [0.9901]]], [[[0.2074], [0.8047]]]], Add87226), 
LRes50795 = reshape_layer(Add87226, [2, 1, 1], Res50795), 
LUp_15450 = up_sampling1D_layer([[[1.7102, 1.2816, 1.2964], [1.3294, 1.3508, 1.6643], [1.3534, 1.3215, 1.212], [1.8818, 1.0457, 1.6208]]], 2, Up_15450), 
LRes41299 = reshape_layer(Up_15450, [8, 3, 1], Res41299), 
LAve69016 = average_pooling2D_layer(Res41299, 7, 3, 1, 2, false, Ave69016), 
LMax6053 = maximum_layer([Res50795,Ave69016], Max6053), 
LRes23798 = reshape_layer(Max6053, [2, 1, 1, 1], Res23798), 
LGlo33533 = global_max_pool3D_layer(Res23798, Glo33533), 
exec_layers([LAdd87226,LRes50795,LUp_15450,LRes41299,LAve69016,LMax6053,LRes23798,LGlo33533],["Add87226","Res50795","Up_15450","Res41299","Ave69016","Max6053","Res23798","Glo33533"],Glo33533,"Glo33533")

Actual (Unparsed): [[1.7948000]]

Expected (Unparsed): [[1.7948]]

Actual:   [[1.7948]]

Expected: [[1.7948]]