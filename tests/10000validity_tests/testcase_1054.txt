import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo24180 = tf.keras.layers.Input(shape=([1, 2]))

Glo24180 = keras.layers.GlobalAveragePooling1D(name = 'Glo24180', )(in0Glo24180)
Res18628 = keras.layers.Reshape((2, 1), name = 'Res18628', )(Glo24180)
Loc63818 = keras.layers.LocallyConnected1D(2, (1),strides=(1), name = 'Loc63818', )(Res18628)
model = tf.keras.models.Model(inputs=[in0Glo24180], outputs=Loc63818)
w = model.get_layer('Loc63818').get_weights() 
w[0] = np.array([[[0.4162, 0.12]], [[0.8798, 0.3643]]])
w[1] = np.array([[0, 0], [0, 0]])
model.get_layer('Loc63818').set_weights(w) 
in0Glo24180 = tf.constant([[[1.3361, 1.5764]]])
print (np.array2string(model.predict([in0Glo24180],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Loc63818.png')

LGlo24180 = global_average_pooling1D_layer([[[1.3361, 1.5764]]], Glo24180), 
LRes18628 = reshape_layer(Glo24180, [2, 1], Res18628), 
LLoc63818 = locally_connected1D_layer(Res18628, 1,[[[0.4162, 0.12]], [[0.8798, 0.3643]]],[[0, 0], [0, 0]], 1, Loc63818), 
exec_layers([LGlo24180,LRes18628,LLoc63818],["Glo24180","Res18628","Loc63818"],Loc63818,"Loc63818")

Actual (Unparsed): [[[0.5560848, 0.1603320], [1.3869168, 0.5742825]]]

Expected (Unparsed): [[[0.55608482,0.160332],[1.38691672,0.57428252]]]

Actual:   [[[0.5561, 0.1604], [1.387, 0.5743]]]

Expected: [[[0.5561, 0.1604], [1.387, 0.5743]]]