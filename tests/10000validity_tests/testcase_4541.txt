import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add63125 = tf.keras.layers.Input(shape=([2, 2, 2, 2]))
in1Add63125 = tf.keras.layers.Input(shape=([2, 2, 2, 2]))
in0Max75075 = tf.keras.layers.Input(shape=([2, 1, 2]))
in1Max75075 = tf.keras.layers.Input(shape=([2, 1, 2]))
in0Con77286 = tf.keras.layers.Input(shape=([2, 2, 2]))
in0Max60966 = tf.keras.layers.Input(shape=([2, 2]))
in1Max60966 = tf.keras.layers.Input(shape=([2, 2]))
in0Min81650 = tf.keras.layers.Input(shape=([1, 2]))
in1Min81650 = tf.keras.layers.Input(shape=([1, 2]))
in0Con29644 = tf.keras.layers.Input(shape=([2, 6]))

Add63125 = keras.layers.Add(name = 'Add63125', )([in0Add63125,in1Add63125])
Res47277 = keras.layers.Reshape((2, 2, 4), name = 'Res47277', )(Add63125)
Max75075 = keras.layers.Maximum(name = 'Max75075', )([in0Max75075,in1Max75075])
Zer31450 = keras.layers.ZeroPadding2D(padding=((0, 0), (1, 0)), name = 'Zer31450', )(Max75075)
Con77286 = keras.layers.Concatenate(axis=3, name = 'Con77286', )([Zer31450,in0Con77286])
Ave98054 = keras.layers.Average(name = 'Ave98054', )([Res47277,Con77286])
Res99501 = keras.layers.Reshape((2, 8), name = 'Res99501', )(Ave98054)
Max60966 = keras.layers.Maximum(name = 'Max60966', )([in0Max60966,in1Max60966])
Min81650 = keras.layers.Minimum(name = 'Min81650', )([in0Min81650,in1Min81650])
Zer72399 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer72399', )(Min81650)
Min88062 = keras.layers.Minimum(name = 'Min88062', )([Max60966,Zer72399])
Con29644 = keras.layers.Concatenate(axis=2, name = 'Con29644', )([Min88062,in0Con29644])
Add77976 = keras.layers.Add(name = 'Add77976', )([Res99501,Con29644])
model = tf.keras.models.Model(inputs=[in0Add63125,in1Add63125,in0Max75075,in1Max75075,in0Con77286,in0Max60966,in1Max60966,in0Min81650,in1Min81650,in0Con29644], outputs=Add77976)
in0Add63125 = tf.constant([[[[[0.751, 0.2127], [0.7803, 0.8192]], [[0.3019, 0.6385], [0.453, 0.2342]]], [[[0.5934, 0.178], [0.9959, 0.9198]], [[0.0278, 0.3487], [0.7182, 0.4963]]]]])
in1Add63125 = tf.constant([[[[[0.0861, 0.6631], [0.0122, 0.0553]], [[0.8317, 0.9632], [0.0443, 0.1433]]], [[[0.417, 0.5963], [0.4096, 0.4289]], [[0.9104, 0.1943], [0.1138, 0.6311]]]]])
in0Max75075 = tf.constant([[[[0.4222, 0.3286]], [[0.169, 0.6807]]]])
in1Max75075 = tf.constant([[[[0.9438, 0.8505]], [[0.2914, 0.0223]]]])
in0Con77286 = tf.constant([[[[0.0943, 0.5455], [0.4304, 0.5252]], [[0.4534, 0.3813], [0.891, 0.2594]]]])
in0Max60966 = tf.constant([[[0.5356, 0.3], [0.6795, 0.4227]]])
in1Max60966 = tf.constant([[[0.4996, 0.3681], [0.6109, 0.6469]]])
in0Min81650 = tf.constant([[[0.9544, 0.0303]]])
in1Min81650 = tf.constant([[[0.6512, 0.8866]]])
in0Con29644 = tf.constant([[[0.6399, 0.1175, 0.9541, 0.5943, 0.8225, 0.5079], [0.8923, 0.1289, 0.8798, 0.9985, 0.4537, 0.3406]]])
print (np.array2string(model.predict([in0Add63125,in1Add63125,in0Max75075,in1Max75075,in0Con77286,in0Max60966,in1Max60966,in0Min81650,in1Min81650,in0Con29644],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add77976.png')

LAdd63125 = add_layer([[[[[[0.751, 0.2127], [0.7803, 0.8192]], [[0.3019, 0.6385], [0.453, 0.2342]]], [[[0.5934, 0.178], [0.9959, 0.9198]], [[0.0278, 0.3487], [0.7182, 0.4963]]]]], [[[[[0.0861, 0.6631], [0.0122, 0.0553]], [[0.8317, 0.9632], [0.0443, 0.1433]]], [[[0.417, 0.5963], [0.4096, 0.4289]], [[0.9104, 0.1943], [0.1138, 0.6311]]]]]], Add63125), 
LRes47277 = reshape_layer(Add63125, [2, 2, 4], Res47277), 
LMax75075 = maximum_layer([[[[[0.4222, 0.3286]], [[0.169, 0.6807]]]], [[[[0.9438, 0.8505]], [[0.2914, 0.0223]]]]], Max75075), 
LZer31450 = zero_padding2D_layer(Max75075, 0, 0, 1, 0, Zer31450), 
LCon77286 = concatenate_layer([Zer31450,[[[[0.0943, 0.5455], [0.4304, 0.5252]], [[0.4534, 0.3813], [0.891, 0.2594]]]]], 3, Con77286), 
LAve98054 = average_layer([Res47277,Con77286], Ave98054), 
LRes99501 = reshape_layer(Ave98054, [2, 8], Res99501), 
LMax60966 = maximum_layer([[[[0.5356, 0.3], [0.6795, 0.4227]]], [[[0.4996, 0.3681], [0.6109, 0.6469]]]], Max60966), 
LMin81650 = minimum_layer([[[[0.9544, 0.0303]]], [[[0.6512, 0.8866]]]], Min81650), 
LZer72399 = zero_padding1D_layer(Min81650, 1, 0, Zer72399), 
LMin88062 = minimum_layer([Max60966,Zer72399], Min88062), 
LCon29644 = concatenate_layer([Min88062,[[[0.6399, 0.1175, 0.9541, 0.5943, 0.8225, 0.5079], [0.8923, 0.1289, 0.8798, 0.9985, 0.4537, 0.3406]]]], 2, Con29644), 
LAdd77976 = add_layer([Res99501,Con29644], Add77976), 
exec_layers([LAdd63125,LRes47277,LMax75075,LZer31450,LCon77286,LAve98054,LRes99501,LMax60966,LMin81650,LZer72399,LMin88062,LCon29644,LAdd77976],["Add63125","Res47277","Max75075","Zer31450","Con77286","Ave98054","Res99501","Max60966","Min81650","Zer72399","Min88062","Con29644","Add77976"],Add77976,"Add77976")

Actual (Unparsed): [[[0.4185500, 0.4379000, 1.0833000, 0.8275000, 1.9928000, 1.8203999, 1.2863500, 0.9592500], [1.1564000, 0.4174500, 1.8217500, 0.9939000, 1.4946000, 1.6103500, 1.3152000, 1.0340000]]]

Expected (Unparsed): [[[0.41855,0.4379,1.0833,0.8274999999999999,1.9928,1.8204,1.28635,0.95925],[1.1564,0.41745,1.82175,0.9939,1.4946000000000002,1.61035,1.3152,1.034]]]

Actual:   [[[0.4186, 0.4379, 1.0833, 0.8275, 1.9928, 1.8204, 1.2864, 0.9593], [1.1564, 0.4175, 1.8218, 0.9939, 1.4946, 1.6104, 1.3152, 1.034]]]

Expected: [[[0.4186, 0.4379, 1.0833, 0.8275, 1.9928, 1.8204, 1.2864, 0.9593], [1.1564, 0.4175, 1.8218, 0.9939, 1.4947, 1.6104, 1.3152, 1.034]]]