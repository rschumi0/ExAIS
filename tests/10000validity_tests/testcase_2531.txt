import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot81355 = tf.keras.layers.Input(shape=([2, 3]))
in1Dot81355 = tf.keras.layers.Input(shape=([2, 3]))
in0Max57537 = tf.keras.layers.Input(shape=([1, 1]))
in1Max57537 = tf.keras.layers.Input(shape=([1, 1]))
in0Con6189 = tf.keras.layers.Input(shape=([2, 1]))

Dot81355 = keras.layers.Dot(axes=(2, 2), name = 'Dot81355', )([in0Dot81355,in1Dot81355])
Max57537 = keras.layers.Maximum(name = 'Max57537', )([in0Max57537,in1Max57537])
Zer93543 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer93543', )(Max57537)
Con6189 = keras.layers.Concatenate(axis=2, name = 'Con6189', )([Zer93543,in0Con6189])
Ave11290 = keras.layers.Average(name = 'Ave11290', )([Dot81355,Con6189])
model = tf.keras.models.Model(inputs=[in0Dot81355,in1Dot81355,in0Max57537,in1Max57537,in0Con6189], outputs=Ave11290)
in0Dot81355 = tf.constant([[[0.3119, 0.7499, 0.8493], [0.6162, 0.9351, 0.8083]]])
in1Dot81355 = tf.constant([[[0.1243, 0.1482, 0.755], [0.8167, 0.3885, 0.6394]]])
in0Max57537 = tf.constant([[[0.6314]]])
in1Max57537 = tf.constant([[[0.2789]]])
in0Con6189 = tf.constant([[[0.7699], [0.0383]]])
print (np.array2string(model.predict([in0Dot81355,in1Dot81355,in0Max57537,in1Max57537,in0Con6189],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Ave11290.png')

LDot81355 = dot_layer([[[0.3119, 0.7499, 0.8493], [0.6162, 0.9351, 0.8083]]], [[[0.1243, 0.1482, 0.755], [0.8167, 0.3885, 0.6394]]], 2, 2, Dot81355), 
LMax57537 = maximum_layer([[[[0.6314]]], [[[0.2789]]]], Max57537), 
LZer93543 = zero_padding1D_layer(Max57537, 1, 0, Zer93543), 
LCon6189 = concatenate_layer([Zer93543,[[[0.7699], [0.0383]]]], 2, Con6189), 
LAve11290 = average_layer([Dot81355,Con6189], Ave11290), 
exec_layers([LDot81355,LMax57537,LZer93543,LCon6189,LAve11290],["Dot81355","Max57537","Zer93543","Con6189","Ave11290"],Ave11290,"Ave11290")

Actual (Unparsed): [[[0.3955629, 0.9295037], [0.7284210, 0.7108320]]]

Expected (Unparsed): [[[0.395562925,0.9295036500000001],[0.72842099,0.710831955]]]

Actual:   [[[0.3956, 0.9296], [0.7285, 0.7109]]]

Expected: [[[0.3956, 0.9296], [0.7285, 0.7109]]]