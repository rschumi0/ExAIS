import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Cro62019 = tf.keras.layers.Input(shape=([1, 3, 3]))
in0Glo47832 = tf.keras.layers.Input(shape=([1, 1]))
in0Con23840 = tf.keras.layers.Input(shape=([5]))

Cro62019 = keras.layers.Cropping2D(cropping=((0, 0), (0, 0)), name = 'Cro62019', )(in0Cro62019)
Cro26590 = keras.layers.Cropping2D(cropping=((0, 0), (1, 0)), name = 'Cro26590', )(Cro62019)
Res31339 = keras.layers.Reshape((1, 6), name = 'Res31339', )(Cro26590)
Fla45169 = keras.layers.Flatten(name = 'Fla45169', )(Res31339)
Glo47832 = keras.layers.GlobalAveragePooling1D(name = 'Glo47832', )(in0Glo47832)
Con23840 = keras.layers.Concatenate(axis=1, name = 'Con23840', )([Glo47832,in0Con23840])
Mul38671 = keras.layers.Multiply(name = 'Mul38671', )([Fla45169,Con23840])
Res19002 = keras.layers.Reshape((6, 1), name = 'Res19002', )(Mul38671)
Res23728 = keras.layers.Reshape((6, 1, 1), name = 'Res23728', )(Res19002)
Res3145 = keras.layers.Reshape((6, 1, 1, 1), name = 'Res3145', )(Res23728)
Cro51462 = keras.layers.Cropping3D(cropping=((1, 3), (0, 0), (0, 0)), name = 'Cro51462', )(Res3145)
model = tf.keras.models.Model(inputs=[in0Cro62019,in0Glo47832,in0Con23840], outputs=Cro51462)
in0Cro62019 = tf.constant([[[[1.6276, 1.9103, 1.1611], [1.1477, 1.6312, 1.7877], [1.2048, 1.426, 1.7112]]]])
in0Glo47832 = tf.constant([[[1.4423]]])
in0Con23840 = tf.constant([[0.8921, 0.9471, 0.4144, 0.4209, 0.6699]])
print (np.array2string(model.predict([in0Cro62019,in0Glo47832,in0Con23840],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Cro51462.png')

LCro62019 = cropping2D_layer([[[[1.6276, 1.9103, 1.1611], [1.1477, 1.6312, 1.7877], [1.2048, 1.426, 1.7112]]]], 0, 0, 0, 0, Cro62019), 
LCro26590 = cropping2D_layer(Cro62019, 0, 0, 1, 0, Cro26590), 
LRes31339 = reshape_layer(Cro26590, [1, 6], Res31339), 
LFla45169 = flatten_layer(Res31339, Fla45169), 
LGlo47832 = global_average_pooling1D_layer([[[1.4423]]], Glo47832), 
LCon23840 = concatenate_layer([Glo47832,[[0.8921, 0.9471, 0.4144, 0.4209, 0.6699]]], 1, Con23840), 
LMul38671 = multiply_layer([Fla45169,Con23840], Mul38671), 
LRes19002 = reshape_layer(Mul38671, [6, 1], Res19002), 
LRes23728 = reshape_layer(Res19002, [6, 1, 1], Res23728), 
LRes3145 = reshape_layer(Res23728, [6, 1, 1, 1], Res3145), 
LCro51462 = cropping3D_layer(Res3145, 1, 3, 0, 0, 0, 0, Cro51462), 
exec_layers([LCro62019,LCro26590,LRes31339,LFla45169,LGlo47832,LCon23840,LMul38671,LRes19002,LRes23728,LRes3145,LCro51462],["Cro62019","Cro26590","Res31339","Fla45169","Glo47832","Con23840","Mul38671","Res19002","Res23728","Res3145","Cro51462"],Cro51462,"Cro51462")

Actual (Unparsed): [[[[[1.4551934]]], [[[1.6931307]]]]]

Expected (Unparsed): [[[[[1.45519352]]],[[[1.6931306700000002]]]]]

Actual:   [[[[[1.4552]]], [[[1.6932]]]]]

Expected: [[[[[1.4552]]], [[[1.6932]]]]]