import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sep43541 = tf.keras.layers.Input(shape=([2, 1, 2]))

Sep43541 = keras.layers.SeparableConv2D(2, (1, 1),strides=(2, 2), padding='same', name = 'Sep43541', )(in0Sep43541)
Res25161 = keras.layers.Reshape((1, 1, 2, 1), name = 'Res25161', )(Sep43541)
Con7344 = keras.layers.Conv3DTranspose(3, (1, 1, 1),strides=(1, 1, 1), padding='same', name = 'Con7344', )(Res25161)
Bat69059 = keras.layers.BatchNormalization(axis=3, epsilon=0.19753906575124075,  name = 'Bat69059', )(Con7344)
model = tf.keras.models.Model(inputs=[in0Sep43541], outputs=Bat69059)
w = model.get_layer('Sep43541').get_weights() 
w[0] = np.array([[[[0.5682], [0.2103]]]])
w[1] = np.array([[[[0.3028, 0.1103], [0.846, 0.8465]]]])
w[2] = np.array([0, 0])
model.get_layer('Sep43541').set_weights(w) 
w = model.get_layer('Con7344').get_weights() 
w[0] = np.array([[[[[0.2365], [0.4164], [0.4867]]]]])
w[1] = np.array([0, 0, 0])
model.get_layer('Con7344').set_weights(w) 
w = model.get_layer('Bat69059').get_weights() 
w[0] = np.array([0.6585, 0.5269])
w[1] = np.array([0.4238, 0.0301])
w[2] = np.array([0.5792, 0.3919])
w[3] = np.array([0.8115, 0.3229])
model.get_layer('Bat69059').set_weights(w) 
in0Sep43541 = tf.constant([[[[0.6095, 0.581]], [[0.8875, 0.2132]]]])
print (np.array2string(model.predict([in0Sep43541],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Bat69059.png')

LSep43541 = separable_conv2D_layer([[[[0.6095, 0.581]], [[0.8875, 0.2132]]]], 1, 1,[[[[[0.5682], [0.2103]]]],[[[[0.3028, 0.1103], [0.846, 0.8465]]]]],[0, 0], 2, 2, true, Sep43541), 
LRes25161 = reshape_layer(Sep43541, [1, 1, 2, 1], Res25161), 
LCon7344 = conv3D_transpose_layer(Res25161, 1, 1, 1,[[[[[0.2365], [0.4164], [0.4867]]]]],[0, 0, 0], 1, 1, 1, true, Con7344), 
LBat69059 = batch_normalization_layer(Con7344, 3, 0.19753906575124075, [0.6585, 0.5269], [0.4238, 0.0301], [0.5792, 0.3919], [0.8115, 0.3229], Bat69059), 
exec_layers([LSep43541,LRes25161,LCon7344,LBat69059],["Sep43541","Res25161","Con7344","Bat69059"],Bat69059,"Bat69059")

Actual (Unparsed): [[[[[0.0763926, 0.1009500, 0.1105464], [-0.2316685, -0.2130595, -0.2057876]]]]]

Expected (Unparsed): [[[[[0.07639260187484442,0.10095000628929796,0.1105463683256297],[-0.23166846322896115,-0.21305945814482688,-0.20578756788682445]]]]]

Actual:   [[[[[0.0764, 0.101, 0.1106], [-0.2316, -0.213, -0.2057]]]]]

Expected: [[[[[0.0764, 0.101, 0.1106], [-0.2316, -0.213, -0.2057]]]]]