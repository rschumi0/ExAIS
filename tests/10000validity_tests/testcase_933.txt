import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0GRU51185 = tf.keras.layers.Input(shape=([1, 1]))

GRU51185 = keras.layers.GRU(1,reset_after=False, recurrent_activation='sigmoid', name = 'GRU51185', )(in0GRU51185)
Res74772 = keras.layers.Reshape((1, 1), name = 'Res74772', )(GRU51185)
Glo66077 = keras.layers.GlobalAveragePooling1D(name = 'Glo66077', )(Res74772)
model = tf.keras.models.Model(inputs=[in0GRU51185], outputs=Glo66077)
w = model.get_layer('GRU51185').get_weights() 
w[0] = np.array([[4, 9, 2]])
w[1] = np.array([[6, 2, 6]])
w[2] = np.array([8, 1, 1])
model.get_layer('GRU51185').set_weights(w) 
in0GRU51185 = tf.constant([[[5]]])
print (np.array2string(model.predict([in0GRU51185],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo66077.png')

LGRU51185 = gru_layer([[[5]]],[[4, 9, 2]],[[6, 2, 6]],[8, 1, 1], false, GRU51185), 
LRes74772 = reshape_layer(GRU51185, [1, 1], Res74772), 
LGlo66077 = global_average_pooling1D_layer(Res74772, Glo66077), 
exec_layers([LGRU51185,LRes74772,LGlo66077],["GRU51185","Res74772","Glo66077"],Glo66077,"Glo66077")

Actual (Unparsed): [[0.0000000]]

Expected (Unparsed): [[6.914468993507937e-13]]

Actual:   [[0]]

Expected: [[0]]