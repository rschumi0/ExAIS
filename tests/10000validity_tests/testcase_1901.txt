import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add79376 = tf.keras.layers.Input(shape=([2, 1]))
in1Add79376 = tf.keras.layers.Input(shape=([2, 1]))
in0Up_12563 = tf.keras.layers.Input(shape=([3, 3]))
in0Con58438 = tf.keras.layers.Input(shape=([1, 1]))
in0Max75120 = tf.keras.layers.Input(shape=([1, 2, 1]))
in0Mul93840 = tf.keras.layers.Input(shape=([2, 2, 1, 2]))
in1Mul93840 = tf.keras.layers.Input(shape=([2, 2, 1, 2]))

Add79376 = keras.layers.Add(name = 'Add79376', )([in0Add79376,in1Add79376])
Zer14974 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer14974', )(Add79376)
Up_12563 = keras.layers.UpSampling1D(size=(1), name = 'Up_12563', )(in0Up_12563)
Dot55343 = keras.layers.Dot(axes=(1, 1), name = 'Dot55343', )([Zer14974,Up_12563])
Con58438 = keras.layers.Concatenate(axis=2, name = 'Con58438', )([Dot55343,in0Con58438])
Max75120 = keras.layers.MaxPool2D(pool_size=(1, 1), strides=(1, 1), padding='same', name = 'Max75120', )(in0Max75120)
Res83042 = keras.layers.Reshape((1, 2), name = 'Res83042', )(Max75120)
Glo86516 = keras.layers.GlobalMaxPool1D(name = 'Glo86516', )(Res83042)
Fla70466 = keras.layers.Flatten(name = 'Fla70466', )(Glo86516)
Res72483 = keras.layers.Reshape((2, 1), name = 'Res72483', )(Fla70466)
Mul93840 = keras.layers.Multiply(name = 'Mul93840', )([in0Mul93840,in1Mul93840])
Res7375 = keras.layers.Reshape((2, 2, 2), name = 'Res7375', )(Mul93840)
Res94400 = keras.layers.Reshape((2, 4), name = 'Res94400', )(Res7375)
Dot36180 = keras.layers.Dot(axes=(1, 1), name = 'Dot36180', )([Res72483,Res94400])
Min98266 = keras.layers.Minimum(name = 'Min98266', )([Con58438,Dot36180])
model = tf.keras.models.Model(inputs=[in0Add79376,in1Add79376,in0Up_12563,in0Con58438,in0Max75120,in0Mul93840,in1Mul93840], outputs=Min98266)
in0Add79376 = tf.constant([[[0.3034], [0.6456]]])
in1Add79376 = tf.constant([[[0.1098], [0.6798]]])
in0Up_12563 = tf.constant([[[1.6653, 1.4468, 1.5869], [1.4675, 1.7181, 1.6325], [1.6421, 1.45, 1.2498]]])
in0Con58438 = tf.constant([[[0.2766]]])
in0Max75120 = tf.constant([[[[1.4438], [1.655]]]])
in0Mul93840 = tf.constant([[[[[0.7335, 0.0264]], [[0.6211, 0.4581]]], [[[0.8264, 0.0453]], [[0.0244, 0.2883]]]]])
in1Mul93840 = tf.constant([[[[[0.0328, 0.6877]], [[0.4368, 0.4887]]], [[[0.5239, 0.5187]], [[0.1037, 0.6616]]]]])
print (np.array2string(model.predict([in0Add79376,in1Add79376,in0Up_12563,in0Con58438,in0Max75120,in0Mul93840,in1Mul93840],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min98266.png')

LAdd79376 = add_layer([[[[0.3034], [0.6456]]], [[[0.1098], [0.6798]]]], Add79376), 
LZer14974 = zero_padding1D_layer(Add79376, 1, 0, Zer14974), 
LUp_12563 = up_sampling1D_layer([[[1.6653, 1.4468, 1.5869], [1.4675, 1.7181, 1.6325], [1.6421, 1.45, 1.2498]]], 1, Up_12563), 
LDot55343 = dot_layer(Zer14974,Up_12563, 1, 1, Dot55343), 
LCon58438 = concatenate_layer([Dot55343,[[[0.2766]]]], 2, Con58438), 
LMax75120 = max_pool2D_layer([[[[1.4438], [1.655]]]], 1, 1, 1, 1, true, Max75120), 
LRes83042 = reshape_layer(Max75120, [1, 2], Res83042), 
LGlo86516 = global_max_pool1D_layer(Res83042, Glo86516), 
LFla70466 = flatten_layer(Glo86516, Fla70466), 
LRes72483 = reshape_layer(Fla70466, [2, 1], Res72483), 
LMul93840 = multiply_layer([[[[[[0.7335, 0.0264]], [[0.6211, 0.4581]]], [[[0.8264, 0.0453]], [[0.0244, 0.2883]]]]], [[[[[0.0328, 0.6877]], [[0.4368, 0.4887]]], [[[0.5239, 0.5187]], [[0.1037, 0.6616]]]]]], Mul93840), 
LRes7375 = reshape_layer(Mul93840, [2, 2, 2], Res7375), 
LRes94400 = reshape_layer(Res7375, [2, 4], Res94400), 
LDot36180 = dot_layer(Res72483,Res94400, 1, 1, Dot36180), 
LMin98266 = minimum_layer([Con58438,Dot36180], Min98266), 
exec_layers([LAdd79376,LZer14974,LUp_12563,LDot55343,LCon58438,LMax75120,LRes83042,LGlo86516,LFla70466,LRes72483,LMul93840,LRes7375,LRes94400,LDot36180,LMin98266],["Add79376","Zer14974","Up_12563","Dot55343","Con58438","Max75120","Res83042","Glo86516","Fla70466","Res72483","Mul93840","Res7375","Res94400","Dot36180","Min98266"],Min98266,"Min98266")

Actual (Unparsed): [[[0.7512699, 0.0651003, 0.3958855, 0.2766000]]]

Expected (Unparsed): [[[0.7512699342400001,0.065100310314,0.39588547122400003,0.2766]]]

Actual:   [[[0.7513, 0.0652, 0.3959, 0.2766]]]

Expected: [[[0.7513, 0.0652, 0.3959, 0.2766]]]