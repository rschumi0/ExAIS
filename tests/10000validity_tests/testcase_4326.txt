import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave24629 = tf.keras.layers.Input(shape=([2, 2, 1]))
in1Ave24629 = tf.keras.layers.Input(shape=([2, 2, 1]))

Ave24629 = keras.layers.Average(name = 'Ave24629', )([in0Ave24629,in1Ave24629])
Res68807 = keras.layers.Reshape((2, 2), name = 'Res68807', )(Ave24629)
Glo87353 = keras.layers.GlobalAveragePooling1D(name = 'Glo87353', )(Res68807)
Res15615 = keras.layers.Reshape((2, 1), name = 'Res15615', )(Glo87353)
Zer97983 = keras.layers.ZeroPadding1D(padding=((1, 1)), name = 'Zer97983', )(Res15615)
model = tf.keras.models.Model(inputs=[in0Ave24629,in1Ave24629], outputs=Zer97983)
in0Ave24629 = tf.constant([[[[0.5606], [0.8607]], [[0.413], [0.5249]]]])
in1Ave24629 = tf.constant([[[[0.541], [0.2865]], [[0.9224], [0.6885]]]])
print (np.array2string(model.predict([in0Ave24629,in1Ave24629],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Zer97983.png')

LAve24629 = average_layer([[[[[0.5606], [0.8607]], [[0.413], [0.5249]]]], [[[[0.541], [0.2865]], [[0.9224], [0.6885]]]]], Ave24629), 
LRes68807 = reshape_layer(Ave24629, [2, 2], Res68807), 
LGlo87353 = global_average_pooling1D_layer(Res68807, Glo87353), 
LRes15615 = reshape_layer(Glo87353, [2, 1], Res15615), 
LZer97983 = zero_padding1D_layer(Res15615, 1, 1, Zer97983), 
exec_layers([LAve24629,LRes68807,LGlo87353,LRes15615,LZer97983],["Ave24629","Res68807","Glo87353","Res15615","Zer97983"],Zer97983,"Zer97983")

Actual (Unparsed): [[[0.0000000], [0.6092500], [0.5901500], [0.0000000]]]

Expected (Unparsed): [[[0],[0.60925],[0.59015],[0]]]

Actual:   [[[0], [0.6093], [0.5902], [0]]]

Expected: [[[0], [0.6093], [0.5902], [0]]]