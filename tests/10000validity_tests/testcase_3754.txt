import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul41340 = tf.keras.layers.Input(shape=([1, 1, 1]))
in1Mul41340 = tf.keras.layers.Input(shape=([1, 1, 1]))
in0Up_14428 = tf.keras.layers.Input(shape=([1, 3, 2, 1]))

Mul41340 = keras.layers.Multiply(name = 'Mul41340', )([in0Mul41340,in1Mul41340])
Res44251 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res44251', )(Mul41340)
Glo77774 = keras.layers.GlobalMaxPool3D(name = 'Glo77774', )(Res44251)
Res18431 = keras.layers.Reshape((1, 1), name = 'Res18431', )(Glo77774)
Res57726 = keras.layers.Reshape((1, 1, 1), name = 'Res57726', )(Res18431)
Res96442 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res96442', )(Res57726)
Zer49813 = keras.layers.ZeroPadding3D(padding=((1, 0), (5, 0), (3, 0)), name = 'Zer49813', )(Res96442)
Up_14428 = keras.layers.UpSampling3D(size=(2, 2, 2), name = 'Up_14428', )(in0Up_14428)
Sub10580 = keras.layers.Subtract(name = 'Sub10580', )([Zer49813,Up_14428])
Res75132 = keras.layers.Reshape((2, 6, 4), name = 'Res75132', )(Sub10580)
Glo29913 = keras.layers.GlobalAveragePooling2D(name = 'Glo29913', )(Res75132)
model = tf.keras.models.Model(inputs=[in0Mul41340,in1Mul41340,in0Up_14428], outputs=Glo29913)
in0Mul41340 = tf.constant([[[[0.2101]]]])
in1Mul41340 = tf.constant([[[[0.2085]]]])
in0Up_14428 = tf.constant([[[[[1.4027], [1.5596]], [[1.1662], [1.9012]], [[1.1712], [1.8355]]]]])
print (np.array2string(model.predict([in0Mul41340,in1Mul41340,in0Up_14428],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo29913.png')

LMul41340 = multiply_layer([[[[[0.2101]]]], [[[[0.2085]]]]], Mul41340), 
LRes44251 = reshape_layer(Mul41340, [1, 1, 1, 1], Res44251), 
LGlo77774 = global_max_pool3D_layer(Res44251, Glo77774), 
LRes18431 = reshape_layer(Glo77774, [1, 1], Res18431), 
LRes57726 = reshape_layer(Res18431, [1, 1, 1], Res57726), 
LRes96442 = reshape_layer(Res57726, [1, 1, 1, 1], Res96442), 
LZer49813 = zero_padding3D_layer(Res96442, 1, 0, 5, 0, 3, 0, Zer49813), 
LUp_14428 = up_sampling3D_layer([[[[[1.4027], [1.5596]], [[1.1662], [1.9012]], [[1.1712], [1.8355]]]]], 2, 2, 2, Up_14428), 
LSub10580 = subtract_layer(Zer49813,Up_14428, Sub10580), 
LRes75132 = reshape_layer(Sub10580, [2, 6, 4], Res75132), 
LGlo29913 = global_average_pooling2D_layer(Res75132, Glo29913), 
exec_layers([LMul41340,LRes44251,LGlo77774,LRes18431,LRes57726,LRes96442,LZer49813,LUp_14428,LSub10580,LRes75132,LGlo29913],["Mul41340","Res44251","Glo77774","Res18431","Res57726","Res96442","Zer49813","Up_14428","Sub10580","Res75132","Glo29913"],Glo29913,"Glo29913")

Actual (Unparsed): [[-1.2467000, -1.2467000, -1.7654334, -1.7617829]]

Expected (Unparsed): [[-1.2467000000000004,-1.2467000000000004,-1.7654333333333332,-1.7617828458333333]]

Actual:   [[-1.2467, -1.2467, -1.7654, -1.7617]]

Expected: [[-1.2467, -1.2467, -1.7654, -1.7617]]