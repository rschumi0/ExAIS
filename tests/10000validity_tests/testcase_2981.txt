import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add45638 = tf.keras.layers.Input(shape=([1, 2]))
in1Add45638 = tf.keras.layers.Input(shape=([1, 2]))

Add45638 = keras.layers.Add(name = 'Add45638', )([in0Add45638,in1Add45638])
Res54663 = keras.layers.Reshape((1, 2, 1), name = 'Res54663', )(Add45638)
Res51627 = keras.layers.Reshape((1, 2, 1, 1), name = 'Res51627', )(Res54663)
Up_65529 = keras.layers.UpSampling3D(size=(1, 2, 1), name = 'Up_65529', )(Res51627)
Res38392 = keras.layers.Reshape((1, 4, 1), name = 'Res38392', )(Up_65529)
Res15902 = keras.layers.Reshape((1, 4), name = 'Res15902', )(Res38392)
Sep24850 = keras.layers.SeparableConv1D(4, (1),strides=(1), padding='same', name = 'Sep24850', )(Res15902)
model = tf.keras.models.Model(inputs=[in0Add45638,in1Add45638], outputs=Sep24850)
w = model.get_layer('Sep24850').get_weights() 
w[0] = np.array([[[0.3352], [0.738], [0.1114], [0.7258]]])
w[1] = np.array([[[0.1791, 0.2834, 0.4728, 0.2561], [0.944, 0.1562, 0.9241, 0.2117], [0.8477, 0.614, 0.4635, 0.5558], [0.7308, 0.8239, 0.0017, 0.054]]])
w[2] = np.array([0, 0, 0, 0])
model.get_layer('Sep24850').set_weights(w) 
in0Add45638 = tf.constant([[[0.1127, 0.7513]]])
in1Add45638 = tf.constant([[[0.4018, 0.2652]]])
print (np.array2string(model.predict([in0Add45638,in1Add45638],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sep24850.png')

LAdd45638 = add_layer([[[[0.1127, 0.7513]]], [[[0.4018, 0.2652]]]], Add45638), 
LRes54663 = reshape_layer(Add45638, [1, 2, 1], Res54663), 
LRes51627 = reshape_layer(Res54663, [1, 2, 1, 1], Res51627), 
LUp_65529 = up_sampling3D_layer(Res51627, 1, 2, 1, Up_65529), 
LRes38392 = reshape_layer(Up_65529, [1, 4, 1], Res38392), 
LRes15902 = reshape_layer(Res38392, [1, 4], Res15902), 
LSep24850 = separable_conv1D_layer(Res15902, 1,[[[[0.3352], [0.738], [0.1114], [0.7258]]],[[[0.1791, 0.2834, 0.4728, 0.2561], [0.944, 0.1562, 0.9241, 0.2117], [0.8477, 0.614, 0.4635, 0.5558], [0.7308, 0.8239, 0.0017, 0.054]]]],[0, 0, 0, 0], 1, true, Sep24850), 
exec_layers([LAdd45638,LRes54663,LRes51627,LUp_65529,LRes38392,LRes15902,LSep24850],["Add45638","Res54663","Res51627","Up_65529","Res38392","Res15902","Sep24850"],Sep24850,"Sep24850")

Actual (Unparsed): [[[1.0244838, 0.7855661, 0.4861611, 0.2273274]]]

Expected (Unparsed): [[[1.02448382057,0.78556616619,0.4861610492599999,0.22732743392]]]

Actual:   [[[1.0245, 0.7856, 0.4862, 0.2274]]]

Expected: [[[1.0245, 0.7856, 0.4862, 0.2274]]]