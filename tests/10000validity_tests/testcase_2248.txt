import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub14330 = tf.keras.layers.Input(shape=([2]))
in1Sub14330 = tf.keras.layers.Input(shape=([2]))

Sub14330 = keras.layers.Subtract(name = 'Sub14330', )([in0Sub14330,in1Sub14330])
Res68610 = keras.layers.Reshape((2, 1), name = 'Res68610', )(Sub14330)
Cro88797 = keras.layers.Cropping1D(cropping=((1, 0)), name = 'Cro88797', )(Res68610)
LST25207 = keras.layers.LSTM(2,recurrent_activation='sigmoid', name = 'LST25207', )(Cro88797)
model = tf.keras.models.Model(inputs=[in0Sub14330,in1Sub14330], outputs=LST25207)
w = model.get_layer('LST25207').get_weights() 
w[0] = np.array([[1, 3, 7, 5, 4, 5, 6, 7]])
w[1] = np.array([[5, 4, 9, 1, 9, 5, 6, 10], [6, 2, 9, 5, 2, 4, 10, 9]])
w[2] = np.array([4, 10, 10, 5, 1, 2, 3, 4])
model.get_layer('LST25207').set_weights(w) 
in0Sub14330 = tf.constant([[0.0948, 0.0639]])
in1Sub14330 = tf.constant([[0.5566, 0.9035]])
print (np.array2string(model.predict([in0Sub14330,in1Sub14330],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='LST25207.png')

LSub14330 = subtract_layer([[0.0948, 0.0639]], [[0.5566, 0.9035]], Sub14330), 
LRes68610 = reshape_layer(Sub14330, [2, 1], Res68610), 
LCro88797 = cropping1D_layer(Res68610, 1, 0, Cro88797), 
LLST25207 = lstm_layer(Cro88797,[[1, 3, 7, 5, 4, 5, 6, 7]],[[5, 4, 9, 1, 9, 5, 6, 10], [6, 2, 9, 5, 2, 4, 10, 9]],[4, 10, 10, 5, 1, 2, 3, 4], LST25207), 
exec_layers([LSub14330,LRes68610,LCro88797,LLST25207],["Sub14330","Res68610","Cro88797","LST25207"],LST25207,"LST25207")

Actual (Unparsed): [[-0.0849016, -0.0996573]]

Expected (Unparsed): [[-0.08490158075125036,-0.09965730810153722]]

Actual:   [[-0.0849, -0.0996]]

Expected: [[-0.0849, -0.0996]]