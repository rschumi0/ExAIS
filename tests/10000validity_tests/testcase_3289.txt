import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Lea58425 = tf.keras.layers.Input(shape=([1, 2, 1, 1]))

Lea58425 = keras.layers.LeakyReLU(alpha=2.434851168965716, name = 'Lea58425', input_shape=(1, 2, 1, 1))(in0Lea58425)
Res64002 = keras.layers.Reshape((1, 2, 1), name = 'Res64002', )(Lea58425)
Res97459 = keras.layers.Reshape((1, 2), name = 'Res97459', )(Res64002)
GRU2267 = keras.layers.GRU(1,reset_after=True, recurrent_activation='sigmoid', name = 'GRU2267', )(Res97459)
Res31617 = keras.layers.Reshape((1, 1), name = 'Res31617', )(GRU2267)
Res15552 = keras.layers.Reshape((1, 1, 1), name = 'Res15552', )(Res31617)
Up_86163 = keras.layers.UpSampling2D(size=(1, 1), name = 'Up_86163', )(Res15552)
model = tf.keras.models.Model(inputs=[in0Lea58425], outputs=Up_86163)
w = model.get_layer('GRU2267').get_weights() 
w[0] = np.array([[10, 4, 6], [3, 6, 2]])
w[1] = np.array([[3, 1, 8]])
w[2] = np.array([[1, 8, 1], [9, 4, 10]])
model.get_layer('GRU2267').set_weights(w) 
in0Lea58425 = tf.constant([[[[[0.5548]], [[0.0971]]]]])
print (np.array2string(model.predict([in0Lea58425],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Up_86163.png')

LLea58425 = leaky_relu_layer([[[[[0.5548]], [[0.0971]]]]], 2.434851168965716, Lea58425), 
LRes64002 = reshape_layer(Lea58425, [1, 2, 1], Res64002), 
LRes97459 = reshape_layer(Res64002, [1, 2], Res97459), 
LGRU2267 = gru_layer(Res97459,[[10, 4, 6], [3, 6, 2]],[[3, 1, 8]],[[1, 8, 1], [9, 4, 10]], true, GRU2267), 
LRes31617 = reshape_layer(GRU2267, [1, 1], Res31617), 
LRes15552 = reshape_layer(Res31617, [1, 1, 1], Res15552), 
LUp_86163 = up_sampling2D_layer(Res15552, 1, 1, Up_86163), 
exec_layers([LLea58425,LRes64002,LRes97459,LGRU2267,LRes31617,LRes15552,LUp_86163],["Lea58425","Res64002","Res97459","GRU2267","Res31617","Res15552","Up_86163"],Up_86163,"Up_86163")

Actual (Unparsed): [[[[0.0000001]]]]

Expected (Unparsed): [[[[1.3215370875390393e-7]]]]

Actual:   [[[[0]]]]

Expected: [[[[0]]]]