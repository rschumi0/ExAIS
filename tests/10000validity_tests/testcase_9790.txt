import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0LST58865 = tf.keras.layers.Input(shape=([3, 2]))
in0Dot31741 = tf.keras.layers.Input(shape=([2]))
in1Dot31741 = tf.keras.layers.Input(shape=([2]))
in0Con17785 = tf.keras.layers.Input(shape=([1]))

LST58865 = keras.layers.LSTM(2,recurrent_activation='sigmoid', name = 'LST58865', )(in0LST58865)
Fla90923 = keras.layers.Flatten(name = 'Fla90923', )(LST58865)
Dot31741 = keras.layers.Dot(axes=(1, 1), name = 'Dot31741', )([in0Dot31741,in1Dot31741])
Con17785 = keras.layers.Concatenate(axis=1, name = 'Con17785', )([Dot31741,in0Con17785])
Min49702 = keras.layers.Minimum(name = 'Min49702', )([Fla90923,Con17785])
model = tf.keras.models.Model(inputs=[in0LST58865,in0Dot31741,in1Dot31741,in0Con17785], outputs=Min49702)
w = model.get_layer('LST58865').get_weights() 
w[0] = np.array([[4, 8, 4, 5, 10, 7, 4, 9], [5, 10, 7, 3, 3, 10, 7, 10]])
w[1] = np.array([[9, 4, 6, 1, 6, 3, 3, 5], [2, 9, 9, 8, 5, 1, 7, 2]])
w[2] = np.array([6, 6, 2, 9, 1, 5, 4, 8])
model.get_layer('LST58865').set_weights(w) 
in0LST58865 = tf.constant([[[5, 8], [1, 6], [8, 4]]])
in0Dot31741 = tf.constant([[0.5985, 0.2935]])
in1Dot31741 = tf.constant([[0.0624, 0.8322]])
in0Con17785 = tf.constant([[0.3371]])
print (np.array2string(model.predict([in0LST58865,in0Dot31741,in1Dot31741,in0Con17785],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min49702.png')

LLST58865 = lstm_layer([[[5, 8], [1, 6], [8, 4]]],[[4, 8, 4, 5, 10, 7, 4, 9], [5, 10, 7, 3, 3, 10, 7, 10]],[[9, 4, 6, 1, 6, 3, 3, 5], [2, 9, 9, 8, 5, 1, 7, 2]],[6, 6, 2, 9, 1, 5, 4, 8], LST58865), 
LFla90923 = flatten_layer(LST58865, Fla90923), 
LDot31741 = dot_layer([[0.5985, 0.2935]], [[0.0624, 0.8322]], 1, 1, Dot31741), 
LCon17785 = concatenate_layer([Dot31741,[[0.3371]]], 1, Con17785), 
LMin49702 = minimum_layer([Fla90923,Con17785], Min49702), 
exec_layers([LLST58865,LFla90923,LDot31741,LCon17785,LMin49702],["LST58865","Fla90923","Dot31741","Con17785","Min49702"],Min49702,"Min49702")

Actual (Unparsed): [[0.2815971, 0.3371000]]

Expected (Unparsed): [[0.2815971,0.3371]]

Actual:   [[0.2816, 0.3371]]

Expected: [[0.2816, 0.3371]]