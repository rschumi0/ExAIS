import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max17402 = tf.keras.layers.Input(shape=([2, 1, 2]))
in0Max95251 = tf.keras.layers.Input(shape=([1, 2, 2]))
in1Max95251 = tf.keras.layers.Input(shape=([1, 2, 2]))

Max17402 = keras.layers.MaxPool2D(pool_size=(1, 1), name = 'Max17402', )(in0Max17402)
Zer60319 = keras.layers.ZeroPadding2D(padding=((0, 0), (2, 0)), name = 'Zer60319', )(Max17402)
Max95251 = keras.layers.Maximum(name = 'Max95251', )([in0Max95251,in1Max95251])
Zer45687 = keras.layers.ZeroPadding2D(padding=((1, 0), (1, 0)), name = 'Zer45687', )(Max95251)
Ave53079 = keras.layers.Average(name = 'Ave53079', )([Zer60319,Zer45687])
Res67024 = keras.layers.Reshape((2, 3, 2, 1), name = 'Res67024', )(Ave53079)
Glo35477 = keras.layers.GlobalAveragePooling3D(name = 'Glo35477', )(Res67024)
model = tf.keras.models.Model(inputs=[in0Max17402,in0Max95251,in1Max95251], outputs=Glo35477)
in0Max17402 = tf.constant([[[[1.267, 1.2029]], [[1.3793, 1.8441]]]])
in0Max95251 = tf.constant([[[[0.3007, 0.7277], [0.7389, 0.4023]]]])
in1Max95251 = tf.constant([[[[0.5439, 0.8677], [0.444, 0.6519]]]])
print (np.array2string(model.predict([in0Max17402,in0Max95251,in1Max95251],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo35477.png')

LMax17402 = max_pool2D_layer([[[[1.267, 1.2029]], [[1.3793, 1.8441]]]], 1, 1, Max17402), 
LZer60319 = zero_padding2D_layer(Max17402, 0, 0, 2, 0, Zer60319), 
LMax95251 = maximum_layer([[[[[0.3007, 0.7277], [0.7389, 0.4023]]]], [[[[0.5439, 0.8677], [0.444, 0.6519]]]]], Max95251), 
LZer45687 = zero_padding2D_layer(Max95251, 1, 0, 1, 0, Zer45687), 
LAve53079 = average_layer([Zer60319,Zer45687], Ave53079), 
LRes67024 = reshape_layer(Ave53079, [2, 3, 2, 1], Res67024), 
LGlo35477 = global_average_pooling3D_layer(Res67024, Glo35477), 
exec_layers([LMax17402,LZer60319,LMax95251,LZer45687,LAve53079,LRes67024,LGlo35477],["Max17402","Zer60319","Max95251","Zer45687","Ave53079","Res67024","Glo35477"],Glo35477,"Glo35477")

Actual (Unparsed): [[0.3539875]]

Expected (Unparsed): [[0.35398750000000007]]

Actual:   [[0.354]]

Expected: [[0.354]]