import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Loc76592 = tf.keras.layers.Input(shape=([1, 1, 2]))
in0Mul25020 = tf.keras.layers.Input(shape=([1, 1, 2, 1]))
in1Mul25020 = tf.keras.layers.Input(shape=([1, 1, 2, 1]))

Loc76592 = keras.layers.LocallyConnected2D(2, (1, 1),strides=(1, 1), name = 'Loc76592', )(in0Loc76592)
Res62138 = keras.layers.Reshape((1, 2), name = 'Res62138', )(Loc76592)
Up_90156 = keras.layers.UpSampling1D(size=(2), name = 'Up_90156', )(Res62138)
Mul25020 = keras.layers.Multiply(name = 'Mul25020', )([in0Mul25020,in1Mul25020])
ReL45361 = keras.layers.ReLU(max_value=8.605178348759287, negative_slope=3.0578760759527275, threshold=2.5065015311296532, name = 'ReL45361', )(Mul25020)
Res65012 = keras.layers.Reshape((1, 1, 2), name = 'Res65012', )(ReL45361)
Res83841 = keras.layers.Reshape((1, 2), name = 'Res83841', )(Res65012)
Dot95946 = keras.layers.Dot(axes=(2, 2), name = 'Dot95946', )([Up_90156,Res83841])
model = tf.keras.models.Model(inputs=[in0Loc76592,in0Mul25020,in1Mul25020], outputs=Dot95946)
w = model.get_layer('Loc76592').get_weights() 
w[0] = np.array([[[0.0853, 0.254], [0.2491, 0.89]]])
w[1] = np.array([[[0, 0]]])
model.get_layer('Loc76592').set_weights(w) 
in0Loc76592 = tf.constant([[[[0.4993, 0.788]]]])
in0Mul25020 = tf.constant([[[[[0.834], [0.382]]]]])
in1Mul25020 = tf.constant([[[[[0.947], [0.2869]]]]])
print (np.array2string(model.predict([in0Loc76592,in0Mul25020,in1Mul25020],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Dot95946.png')

LLoc76592 = locally_connected2D_layer([[[[0.4993, 0.788]]]], 1, 1,[[[0.0853, 0.254], [0.2491, 0.89]]],[[[0, 0]]], 1, 1, Loc76592), 
LRes62138 = reshape_layer(Loc76592, [1, 2], Res62138), 
LUp_90156 = up_sampling1D_layer(Res62138, 2, Up_90156), 
LMul25020 = multiply_layer([[[[[[0.834], [0.382]]]]], [[[[[0.947], [0.2869]]]]]], Mul25020), 
LReL45361 = relu_layer(Mul25020, 8.605178348759287, 3.0578760759527275, 2.5065015311296532, ReL45361), 
LRes65012 = reshape_layer(ReL45361, [1, 1, 2], Res65012), 
LRes83841 = reshape_layer(Res65012, [1, 2], Res83841), 
LDot95946 = dot_layer(Up_90156,Res83841, 2, 2, Dot95946), 
exec_layers([LLoc76592,LRes62138,LUp_90156,LMul25020,LReL45361,LRes65012,LRes83841,LDot95946],["Loc76592","Res62138","Up_90156","Mul25020","ReL45361","Res65012","Res83841","Dot95946"],Dot95946,"Dot95946")

Actual (Unparsed): [[[-7.3238173], [-7.3238173]]]

Expected (Unparsed): [[[-7.3238174560828195],[-7.3238174560828195]]]

Actual:   [[[-7.3238], [-7.3238]]]

Expected: [[[-7.3238], [-7.3238]]]