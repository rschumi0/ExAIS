import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Bat77488 = tf.keras.layers.Input(shape=([4, 2]))
in0Add23246 = tf.keras.layers.Input(shape=([2, 2]))
in1Add23246 = tf.keras.layers.Input(shape=([2, 2]))

Bat77488 = keras.layers.BatchNormalization(axis=1, epsilon=0.8844334789313593,  name = 'Bat77488', )(in0Bat77488)
Res17481 = keras.layers.Reshape((4, 2, 1), name = 'Res17481', )(Bat77488)
Res63919 = keras.layers.Reshape((4, 2, 1, 1), name = 'Res63919', )(Res17481)
Up_45664 = keras.layers.UpSampling3D(size=(1, 1, 1), name = 'Up_45664', )(Res63919)
Res8708 = keras.layers.Reshape((4, 2, 1), name = 'Res8708', )(Up_45664)
Res88019 = keras.layers.Reshape((4, 2), name = 'Res88019', )(Res8708)
Add23246 = keras.layers.Add(name = 'Add23246', )([in0Add23246,in1Add23246])
Zer64227 = keras.layers.ZeroPadding1D(padding=((2, 0)), name = 'Zer64227', )(Add23246)
Min74307 = keras.layers.Minimum(name = 'Min74307', )([Res88019,Zer64227])
model = tf.keras.models.Model(inputs=[in0Bat77488,in0Add23246,in1Add23246], outputs=Min74307)
w = model.get_layer('Bat77488').get_weights() 
w[0] = np.array([0.8074, 0.9959, 0.4654, 0.4514])
w[1] = np.array([0.8112, 0.413, 0.9488, 0.9754])
w[2] = np.array([0.265, 0.6551, 0.5175, 0.5863])
w[3] = np.array([0.7203, 0.7667, 0.7312, 0.0911])
model.get_layer('Bat77488').set_weights(w) 
in0Bat77488 = tf.constant([[[1.4128, 1.8137], [1.7044, 1.4258], [1.9768, 1.9785], [1.837, 1.5008]]])
in0Add23246 = tf.constant([[[0.0327, 0.8692], [0.2566, 0.5554]]])
in1Add23246 = tf.constant([[[0.7489, 0.4825], [0.8926, 0.5717]]])
print (np.array2string(model.predict([in0Bat77488,in0Add23246,in1Add23246],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min74307.png')

LBat77488 = batch_normalization_layer([[[1.4128, 1.8137], [1.7044, 1.4258], [1.9768, 1.9785], [1.837, 1.5008]]], 1, 0.8844334789313593, [0.8074, 0.9959, 0.4654, 0.4514], [0.8112, 0.413, 0.9488, 0.9754], [0.265, 0.6551, 0.5175, 0.5863], [0.7203, 0.7667, 0.7312, 0.0911], Bat77488), 
LRes17481 = reshape_layer(Bat77488, [4, 2, 1], Res17481), 
LRes63919 = reshape_layer(Res17481, [4, 2, 1, 1], Res63919), 
LUp_45664 = up_sampling3D_layer(Res63919, 1, 1, 1, Up_45664), 
LRes8708 = reshape_layer(Up_45664, [4, 2, 1], Res8708), 
LRes88019 = reshape_layer(Res8708, [4, 2], Res88019), 
LAdd23246 = add_layer([[[[0.0327, 0.8692], [0.2566, 0.5554]]], [[[0.7489, 0.4825], [0.8926, 0.5717]]]], Add23246), 
LZer64227 = zero_padding1D_layer(Add23246, 2, 0, Zer64227), 
LMin74307 = minimum_layer([Res88019,Zer64227], Min74307), 
exec_layers([LBat77488,LRes17481,LRes63919,LUp_45664,LRes8708,LRes88019,LAdd23246,LZer64227,LMin74307],["Bat77488","Res17481","Res63919","Up_45664","Res8708","Res88019","Add23246","Zer64227","Min74307"],Min74307,"Min74307")

Actual (Unparsed): [[[0.0000000, 0.0000000], [0.0000000, 0.0000000], [0.7816000, 1.3517000], [1.1492000, 1.1271000]]]

Expected (Unparsed): [[[0,0],[0,0],[0.7816,1.3517],[1.1492,1.1271]]]

Actual:   [[[0, 0], [0, 0], [0.7816, 1.3517], [1.1492, 1.1271]]]

Expected: [[[0, 0], [0, 0], [0.7816, 1.3517], [1.1492, 1.1271]]]