import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave9207 = tf.keras.layers.Input(shape=([1, 1, 1, 1]))
in1Ave9207 = tf.keras.layers.Input(shape=([1, 1, 1, 1]))
in0Ave56238 = tf.keras.layers.Input(shape=([1, 1, 1]))
in1Ave56238 = tf.keras.layers.Input(shape=([1, 1, 1]))

Ave9207 = keras.layers.Average(name = 'Ave9207', )([in0Ave9207,in1Ave9207])
Res98999 = keras.layers.Reshape((1, 1, 1), name = 'Res98999', )(Ave9207)
Ave56238 = keras.layers.Average(name = 'Ave56238', )([in0Ave56238,in1Ave56238])
Min93269 = keras.layers.Minimum(name = 'Min93269', )([Res98999,Ave56238])
Res1919 = keras.layers.Reshape((1, 1), name = 'Res1919', )(Min93269)
ReL68562 = keras.layers.ReLU(max_value=0.46885138436062346, negative_slope=6.098345953528937, threshold=7.8691419237609495, name = 'ReL68562', )(Res1919)
model = tf.keras.models.Model(inputs=[in0Ave9207,in1Ave9207,in0Ave56238,in1Ave56238], outputs=ReL68562)
in0Ave9207 = tf.constant([[[[[0.2195]]]]])
in1Ave9207 = tf.constant([[[[[0.1968]]]]])
in0Ave56238 = tf.constant([[[[0.503]]]])
in1Ave56238 = tf.constant([[[[0.9941]]]])
print (np.array2string(model.predict([in0Ave9207,in1Ave9207,in0Ave56238,in1Ave56238],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='ReL68562.png')

LAve9207 = average_layer([[[[[[0.2195]]]]], [[[[[0.1968]]]]]], Ave9207), 
LRes98999 = reshape_layer(Ave9207, [1, 1, 1], Res98999), 
LAve56238 = average_layer([[[[[0.503]]]], [[[[0.9941]]]]], Ave56238), 
LMin93269 = minimum_layer([Res98999,Ave56238], Min93269), 
LRes1919 = reshape_layer(Min93269, [1, 1], Res1919), 
LReL68562 = relu_layer(Res1919, 0.46885138436062346, 6.098345953528937, 7.8691419237609495, ReL68562), 
exec_layers([LAve9207,LRes98999,LAve56238,LMin93269,LRes1919,LReL68562],["Ave9207","Res98999","Ave56238","Min93269","Res1919","ReL68562"],ReL68562,"ReL68562")

Actual (Unparsed): [[[-46.7193791]]]

Expected (Unparsed): [[[-46.71937909828545]]]

Actual:   [[[-46.7193]]]

Expected: [[[-46.7193]]]