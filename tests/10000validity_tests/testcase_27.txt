import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo94873 = tf.keras.layers.Input(shape=([1, 1]))
in0Thr41632 = tf.keras.layers.Input(shape=([1, 1]))
in0Con83014 = tf.keras.layers.Input(shape=([1, 3]))

Glo94873 = keras.layers.GlobalMaxPool1D(name = 'Glo94873', )(in0Glo94873)
ReL5365 = keras.layers.ReLU(max_value=4.308984512659045, negative_slope=7.7940826935843655, threshold=6.53541129682773, name = 'ReL5365', )(Glo94873)
Res36202 = keras.layers.Reshape((1, 1), name = 'Res36202', )(ReL5365)
Con69544 = keras.layers.Conv1D(4, (1),strides=(1), padding='valid', dilation_rate=(1), name = 'Con69544', )(Res36202)
Sof68689 = keras.layers.Softmax(axis=1, name = 'Sof68689', )(Con69544)
Thr41632 = keras.layers.ThresholdedReLU(theta=6.452179852409967, name = 'Thr41632', input_shape=(1, 1))(in0Thr41632)
Con83014 = keras.layers.Concatenate(axis=2, name = 'Con83014', )([Thr41632,in0Con83014])
Add57806 = keras.layers.Add(name = 'Add57806', )([Sof68689,Con83014])
model = tf.keras.models.Model(inputs=[in0Glo94873,in0Thr41632,in0Con83014], outputs=Add57806)
w = model.get_layer('Con69544').get_weights() 
w[0] = np.array([[[0.4238, 0.3981, 0.7044, 0.3427]]])
w[1] = np.array([0, 0, 0, 0])
model.get_layer('Con69544').set_weights(w) 
in0Glo94873 = tf.constant([[[1.8658]]])
in0Thr41632 = tf.constant([[[0.5106]]])
in0Con83014 = tf.constant([[[0.6271, 0.0925, 0.0833]]])
print (np.array2string(model.predict([in0Glo94873,in0Thr41632,in0Con83014],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add57806.png')

LGlo94873 = global_max_pool1D_layer([[[1.8658]]], Glo94873), 
LReL5365 = relu_layer(Glo94873, 4.308984512659045, 7.7940826935843655, 6.53541129682773, ReL5365), 
LRes36202 = reshape_layer(ReL5365, [1, 1], Res36202), 
LCon69544 = conv1D_layer(Res36202, 1,[[[0.4238, 0.3981, 0.7044, 0.3427]]],[0, 0, 0, 0], 1, false, 1, Con69544), 
LSof68689 = softmax_layer(Con69544, 1, Sof68689), 
LThr41632 = thresholded_relu_layer([[[0.5106]]], 6.452179852409967, Thr41632), 
LCon83014 = concatenate_layer([Thr41632,[[[0.6271, 0.0925, 0.0833]]]], 2, Con83014), 
LAdd57806 = add_layer([Sof68689,Con83014], Add57806), 
exec_layers([LGlo94873,LReL5365,LRes36202,LCon69544,LSof68689,LThr41632,LCon83014,LAdd57806],["Glo94873","ReL5365","Res36202","Con69544","Sof68689","Thr41632","Con83014","Add57806"],Add57806,"Add57806")

Actual (Unparsed): [[[1.0000000, 1.6271000, 1.0925000, 1.0833000]]]

Expected (Unparsed): [[[1.0,1.6271,1.0925,1.0833]]]

Actual:   [[[1, 1.6271, 1.0925, 1.0833]]]

Expected: [[[1, 1.6271, 1.0925, 1.0833]]]