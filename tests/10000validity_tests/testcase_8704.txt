import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min74693 = tf.keras.layers.Input(shape=([2, 2, 1]))
in1Min74693 = tf.keras.layers.Input(shape=([2, 2, 1]))

Min74693 = keras.layers.Minimum(name = 'Min74693', )([in0Min74693,in1Min74693])
Bat59325 = keras.layers.BatchNormalization(axis=1, epsilon=0.7266979158728157,  name = 'Bat59325', )(Min74693)
Loc79384 = keras.layers.LocallyConnected2D(2, (1, 2),strides=(6, 1), name = 'Loc79384', )(Bat59325)
model = tf.keras.models.Model(inputs=[in0Min74693,in1Min74693], outputs=Loc79384)
w = model.get_layer('Bat59325').get_weights() 
w[0] = np.array([0.9036, 0.3343])
w[1] = np.array([0.6491, 0.5574])
w[2] = np.array([0.7575, 0.8057])
w[3] = np.array([0.9356, 0.3606])
model.get_layer('Bat59325').set_weights(w) 
w = model.get_layer('Loc79384').get_weights() 
w[0] = np.array([[[0.5949, 0.2313], [0.8459, 0.041]]])
w[1] = np.array([[[0, 0]]])
model.get_layer('Loc79384').set_weights(w) 
in0Min74693 = tf.constant([[[[0.9406], [0.6979]], [[0.2984], [0.8983]]]])
in1Min74693 = tf.constant([[[[0.0551], [0.4427]], [[0.2338], [0.4978]]]])
print (np.array2string(model.predict([in0Min74693,in1Min74693],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Loc79384.png')

LMin74693 = minimum_layer([[[[[0.9406], [0.6979]], [[0.2984], [0.8983]]]], [[[[0.0551], [0.4427]], [[0.2338], [0.4978]]]]], Min74693), 
LBat59325 = batch_normalization_layer(Min74693, 1, 0.7266979158728157, [0.9036, 0.3343], [0.6491, 0.5574], [0.7575, 0.8057], [0.9356, 0.3606], Bat59325), 
LLoc79384 = locally_connected2D_layer(Bat59325, 1, 2,[[[0.5949, 0.2313], [0.8459, 0.041]]],[[[0, 0]]], 6, 1, Loc79384), 
exec_layers([LMin74693,LBat59325,LLoc79384],["Min74693","Bat59325","Loc79384"],Loc79384,"Loc79384")

Actual (Unparsed): [[[[0.4557424, 0.0538414]]]]

Expected (Unparsed): [[[[0.45574242646682706,0.05384144972504022]]]]

Actual:   [[[[0.4558, 0.0539]]]]

Expected: [[[[0.4558, 0.0539]]]]