import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub9076 = tf.keras.layers.Input(shape=([2, 2]))
in1Sub9076 = tf.keras.layers.Input(shape=([2, 2]))
in0Con56924 = tf.keras.layers.Input(shape=([1, 2, 2]))

Sub9076 = keras.layers.Subtract(name = 'Sub9076', )([in0Sub9076,in1Sub9076])
Con56924 = keras.layers.Conv2D(2, (1, 2),strides=(2, 1), padding='valid', dilation_rate=(1, 1), name = 'Con56924', )(in0Con56924)
Res62243 = keras.layers.Reshape((1, 2), name = 'Res62243', )(Con56924)
Zer11405 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer11405', )(Res62243)
Dot94329 = keras.layers.Dot(axes=(1, 1), name = 'Dot94329', )([Sub9076,Zer11405])
model = tf.keras.models.Model(inputs=[in0Sub9076,in1Sub9076,in0Con56924], outputs=Dot94329)
w = model.get_layer('Con56924').get_weights() 
w[0] = np.array([[[[0.1562, 0.8471], [0.3822, 0.2321]], [[0.1518, 0.7772], [0.3742, 0.7514]]]])
w[1] = np.array([0, 0])
model.get_layer('Con56924').set_weights(w) 
in0Sub9076 = tf.constant([[[0.6925, 0.148], [0.082, 0.0884]]])
in1Sub9076 = tf.constant([[[0.5343, 0.6204], [0.187, 0.7719]]])
in0Con56924 = tf.constant([[[[0.6635, 0.0984], [0.6452, 0.0328]]]])
print (np.array2string(model.predict([in0Sub9076,in1Sub9076,in0Con56924],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Dot94329.png')

LSub9076 = subtract_layer([[[0.6925, 0.148], [0.082, 0.0884]]], [[[0.5343, 0.6204], [0.187, 0.7719]]], Sub9076), 
LCon56924 = conv2D_layer([[[[0.6635, 0.0984], [0.6452, 0.0328]]]], 1, 2,[[[[0.1562, 0.8471], [0.3822, 0.2321]], [[0.1518, 0.7772], [0.3742, 0.7514]]]],[0, 0], 2, 1, false, 1, 1, Con56924), 
LRes62243 = reshape_layer(Con56924, [1, 2], Res62243), 
LZer11405 = zero_padding1D_layer(Res62243, 1, 0, Zer11405), 
LDot94329 = dot_layer(Sub9076,Zer11405, 1, 1, Dot94329), 
exec_layers([LSub9076,LCon56924,LRes62243,LZer11405,LDot94329],["Sub9076","Con56924","Res62243","Zer11405","Dot94329"],Dot94329,"Dot94329")

Actual (Unparsed): [[[-0.0264035, -0.1166534], [-0.1718745, -0.7593582]]]

Expected (Unparsed): [[[-0.026403541500000002,-0.11665340924999999],[-0.17187448205000003,-0.759358144975]]]

Actual:   [[[-0.0264, -0.1166], [-0.1718, -0.7593]]]

Expected: [[[-0.0264, -0.1166], [-0.1718, -0.7593]]]