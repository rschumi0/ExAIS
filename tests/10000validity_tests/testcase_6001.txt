import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max23152 = tf.keras.layers.Input(shape=([2, 1, 1]))
in0Glo7494 = tf.keras.layers.Input(shape=([2, 2]))

Max23152 = keras.layers.MaxPool2D(pool_size=(2, 1), name = 'Max23152', )(in0Max23152)
Glo7494 = keras.layers.GlobalMaxPool1D(name = 'Glo7494', )(in0Glo7494)
Res40482 = keras.layers.Reshape((2, 1), name = 'Res40482', )(Glo7494)
Res59698 = keras.layers.Reshape((2, 1, 1), name = 'Res59698', )(Res40482)
Cro45860 = keras.layers.Cropping2D(cropping=((0, 1), (0, 0)), name = 'Cro45860', )(Res59698)
Ave13145 = keras.layers.Average(name = 'Ave13145', )([Max23152,Cro45860])
Up_87332 = keras.layers.UpSampling2D(size=(1, 2), name = 'Up_87332', )(Ave13145)
model = tf.keras.models.Model(inputs=[in0Max23152,in0Glo7494], outputs=Up_87332)
in0Max23152 = tf.constant([[[[1.4949]], [[1.0666]]]])
in0Glo7494 = tf.constant([[[1.0818, 1.2424], [1.2626, 1.7545]]])
print (np.array2string(model.predict([in0Max23152,in0Glo7494],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Up_87332.png')

LMax23152 = max_pool2D_layer([[[[1.4949]], [[1.0666]]]], 2, 1, Max23152), 
LGlo7494 = global_max_pool1D_layer([[[1.0818, 1.2424], [1.2626, 1.7545]]], Glo7494), 
LRes40482 = reshape_layer(Glo7494, [2, 1], Res40482), 
LRes59698 = reshape_layer(Res40482, [2, 1, 1], Res59698), 
LCro45860 = cropping2D_layer(Res59698, 0, 1, 0, 0, Cro45860), 
LAve13145 = average_layer([Max23152,Cro45860], Ave13145), 
LUp_87332 = up_sampling2D_layer(Ave13145, 1, 2, Up_87332), 
exec_layers([LMax23152,LGlo7494,LRes40482,LRes59698,LCro45860,LAve13145,LUp_87332],["Max23152","Glo7494","Res40482","Res59698","Cro45860","Ave13145","Up_87332"],Up_87332,"Up_87332")

Actual (Unparsed): [[[[1.3787500], [1.3787500]]]]

Expected (Unparsed): [[[[1.37875],[1.37875]]]]

Actual:   [[[[1.3788], [1.3788]]]]

Expected: [[[[1.3788], [1.3788]]]]