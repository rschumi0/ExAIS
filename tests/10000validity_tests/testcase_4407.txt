import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot96930 = tf.keras.layers.Input(shape=([2]))
in1Dot96930 = tf.keras.layers.Input(shape=([2]))
in0Con20253 = tf.keras.layers.Input(shape=([2]))
in0Sub62042 = tf.keras.layers.Input(shape=([3]))
in1Sub62042 = tf.keras.layers.Input(shape=([3]))

Dot96930 = keras.layers.Dot(axes=(1, 1), name = 'Dot96930', )([in0Dot96930,in1Dot96930])
Con20253 = keras.layers.Concatenate(axis=1, name = 'Con20253', )([Dot96930,in0Con20253])
Sub62042 = keras.layers.Subtract(name = 'Sub62042', )([in0Sub62042,in1Sub62042])
Max23556 = keras.layers.Maximum(name = 'Max23556', )([Con20253,Sub62042])
model = tf.keras.models.Model(inputs=[in0Dot96930,in1Dot96930,in0Con20253,in0Sub62042,in1Sub62042], outputs=Max23556)
in0Dot96930 = tf.constant([[0.834, 0.2681]])
in1Dot96930 = tf.constant([[0.0665, 0.2549]])
in0Con20253 = tf.constant([[0.1772, 0.2491]])
in0Sub62042 = tf.constant([[0.8205, 0.5436, 0.2573]])
in1Sub62042 = tf.constant([[0.0269, 0.9084, 0.7481]])
print (np.array2string(model.predict([in0Dot96930,in1Dot96930,in0Con20253,in0Sub62042,in1Sub62042],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max23556.png')

LDot96930 = dot_layer([[0.834, 0.2681]], [[0.0665, 0.2549]], 1, 1, Dot96930), 
LCon20253 = concatenate_layer([Dot96930,[[0.1772, 0.2491]]], 1, Con20253), 
LSub62042 = subtract_layer([[0.8205, 0.5436, 0.2573]], [[0.0269, 0.9084, 0.7481]], Sub62042), 
LMax23556 = maximum_layer([Con20253,Sub62042], Max23556), 
exec_layers([LDot96930,LCon20253,LSub62042,LMax23556],["Dot96930","Con20253","Sub62042","Max23556"],Max23556,"Max23556")

Actual (Unparsed): [[0.7936000, 0.1772000, 0.2491000]]

Expected (Unparsed): [[0.7936,0.1772,0.2491]]

Actual:   [[0.7936, 0.1772, 0.2491]]

Expected: [[0.7936, 0.1772, 0.2491]]