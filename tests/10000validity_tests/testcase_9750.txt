import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub94406 = tf.keras.layers.Input(shape=([2, 3]))
in1Sub94406 = tf.keras.layers.Input(shape=([2, 3]))
in0Con79602 = tf.keras.layers.Input(shape=([2, 3, 1, 1]))
in0Mul94935 = tf.keras.layers.Input(shape=([1, 1, 1, 2]))
in1Mul94935 = tf.keras.layers.Input(shape=([1, 1, 1, 2]))

Sub94406 = keras.layers.Subtract(name = 'Sub94406', )([in0Sub94406,in1Sub94406])
Res33140 = keras.layers.Reshape((2, 3, 1), name = 'Res33140', )(Sub94406)
Res68136 = keras.layers.Reshape((2, 3, 1, 1), name = 'Res68136', )(Res33140)
Con79602 = keras.layers.Concatenate(axis=4, name = 'Con79602', )([Res68136,in0Con79602])
Mul94935 = keras.layers.Multiply(name = 'Mul94935', )([in0Mul94935,in1Mul94935])
Zer90773 = keras.layers.ZeroPadding3D(padding=((1, 0), (2, 0), (0, 0)), name = 'Zer90773', )(Mul94935)
Mul35712 = keras.layers.Multiply(name = 'Mul35712', )([Con79602,Zer90773])
model = tf.keras.models.Model(inputs=[in0Sub94406,in1Sub94406,in0Con79602,in0Mul94935,in1Mul94935], outputs=Mul35712)
in0Sub94406 = tf.constant([[[0.4099, 0.5567, 0.577], [0.0908, 0.5945, 0.7258]]])
in1Sub94406 = tf.constant([[[0.0848, 0.3354, 0.55], [0.6212, 0.7004, 0.2264]]])
in0Con79602 = tf.constant([[[[[0.0122]], [[0.7948]], [[0.6514]]], [[[0.0971]], [[0.179]], [[0.6049]]]]])
in0Mul94935 = tf.constant([[[[[0.0577, 0.7879]]]]])
in1Mul94935 = tf.constant([[[[[0.1456, 0.0168]]]]])
print (np.array2string(model.predict([in0Sub94406,in1Sub94406,in0Con79602,in0Mul94935,in1Mul94935],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Mul35712.png')

LSub94406 = subtract_layer([[[0.4099, 0.5567, 0.577], [0.0908, 0.5945, 0.7258]]], [[[0.0848, 0.3354, 0.55], [0.6212, 0.7004, 0.2264]]], Sub94406), 
LRes33140 = reshape_layer(Sub94406, [2, 3, 1], Res33140), 
LRes68136 = reshape_layer(Res33140, [2, 3, 1, 1], Res68136), 
LCon79602 = concatenate_layer([Res68136,[[[[[0.0122]], [[0.7948]], [[0.6514]]], [[[0.0971]], [[0.179]], [[0.6049]]]]]], 4, Con79602), 
LMul94935 = multiply_layer([[[[[[0.0577, 0.7879]]]]], [[[[[0.1456, 0.0168]]]]]], Mul94935), 
LZer90773 = zero_padding3D_layer(Mul94935, 1, 0, 2, 0, 0, 0, Zer90773), 
LMul35712 = multiply_layer([Con79602,Zer90773], Mul35712), 
exec_layers([LSub94406,LRes33140,LRes68136,LCon79602,LMul94935,LZer90773,LMul35712],["Sub94406","Res33140","Res68136","Con79602","Mul94935","Zer90773","Mul35712"],Mul35712,"Mul35712")

Actual (Unparsed): [[[[[0.0000000, 0.0000000]], [[0.0000000, 0.0000000]], [[0.0000000, 0.0000000]]], [[[-0.0000000, 0.0000000]], [[-0.0000000, 0.0000000]], [[0.0041955, 0.0080069]]]]]

Expected (Unparsed): [[[[[0.0,0.0]],[[0.0,0.0]],[[0.0,0.0]]],[[[-0.0,0.0]],[[-0.0,0.0]],[[0.0041955193279999995,0.008006891928]]]]]

Actual:   [[[[[0, 0]], [[0, 0]], [[0, 0]]], [[[-0, 0]], [[-0, 0]], [[0.0042, 0.0081]]]]]

Expected: [[[[[0, 0]], [[0, 0]], [[0, 0]]], [[[-0, 0]], [[-0, 0]], [[0.0042, 0.0081]]]]]