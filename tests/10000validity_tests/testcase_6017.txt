import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave71031 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))
in1Ave71031 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))
in0Con26006 = tf.keras.layers.Input(shape=([2, 1, 1]))
in0Min25144 = tf.keras.layers.Input(shape=([2, 1, 2]))
in1Min25144 = tf.keras.layers.Input(shape=([2, 1, 2]))

Ave71031 = keras.layers.Average(name = 'Ave71031', )([in0Ave71031,in1Ave71031])
Res49249 = keras.layers.Reshape((2, 1, 1), name = 'Res49249', )(Ave71031)
Con26006 = keras.layers.Concatenate(axis=3, name = 'Con26006', )([Res49249,in0Con26006])
Min25144 = keras.layers.Minimum(name = 'Min25144', )([in0Min25144,in1Min25144])
Add21616 = keras.layers.Add(name = 'Add21616', )([Con26006,Min25144])
Res79962 = keras.layers.Reshape((2, 2), name = 'Res79962', )(Add21616)
Up_31431 = keras.layers.UpSampling1D(size=(1), name = 'Up_31431', )(Res79962)
model = tf.keras.models.Model(inputs=[in0Ave71031,in1Ave71031,in0Con26006,in0Min25144,in1Min25144], outputs=Up_31431)
in0Ave71031 = tf.constant([[[[[0.6547]]], [[[0.5024]]]]])
in1Ave71031 = tf.constant([[[[[0.0095]]], [[[0.1729]]]]])
in0Con26006 = tf.constant([[[[0.5721]], [[0.7576]]]])
in0Min25144 = tf.constant([[[[0.0478, 0.3774]], [[0.2291, 0.7754]]]])
in1Min25144 = tf.constant([[[[0.147, 0.2354]], [[0.5963, 0.2285]]]])
print (np.array2string(model.predict([in0Ave71031,in1Ave71031,in0Con26006,in0Min25144,in1Min25144],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Up_31431.png')

LAve71031 = average_layer([[[[[[0.6547]]], [[[0.5024]]]]], [[[[[0.0095]]], [[[0.1729]]]]]], Ave71031), 
LRes49249 = reshape_layer(Ave71031, [2, 1, 1], Res49249), 
LCon26006 = concatenate_layer([Res49249,[[[[0.5721]], [[0.7576]]]]], 3, Con26006), 
LMin25144 = minimum_layer([[[[[0.0478, 0.3774]], [[0.2291, 0.7754]]]], [[[[0.147, 0.2354]], [[0.5963, 0.2285]]]]], Min25144), 
LAdd21616 = add_layer([Con26006,Min25144], Add21616), 
LRes79962 = reshape_layer(Add21616, [2, 2], Res79962), 
LUp_31431 = up_sampling1D_layer(Res79962, 1, Up_31431), 
exec_layers([LAve71031,LRes49249,LCon26006,LMin25144,LAdd21616,LRes79962,LUp_31431],["Ave71031","Res49249","Con26006","Min25144","Add21616","Res79962","Up_31431"],Up_31431,"Up_31431")

Actual (Unparsed): [[[0.3799000, 0.8075000], [0.5667500, 0.9861000]]]

Expected (Unparsed): [[[0.37989999999999996,0.8075000000000001],[0.56675,0.9861000000000001]]]

Actual:   [[[0.3799, 0.8075], [0.5668, 0.9861]]]

Expected: [[[0.3799, 0.8076], [0.5668, 0.9862]]]