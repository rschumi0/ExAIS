import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Fla43759 = tf.keras.layers.Input(shape=([4, 3]))
in0Max68444 = tf.keras.layers.Input(shape=([2, 1]))
in1Max68444 = tf.keras.layers.Input(shape=([2, 1]))
in0Con82417 = tf.keras.layers.Input(shape=([11]))

Fla43759 = keras.layers.Flatten(name = 'Fla43759', )(in0Fla43759)
Max68444 = keras.layers.Maximum(name = 'Max68444', )([in0Max68444,in1Max68444])
Res34285 = keras.layers.Reshape((2, 1, 1), name = 'Res34285', )(Max68444)
Res85916 = keras.layers.Reshape((2, 1, 1, 1), name = 'Res85916', )(Res34285)
Glo67952 = keras.layers.GlobalMaxPool3D(name = 'Glo67952', )(Res85916)
Con82417 = keras.layers.Concatenate(axis=1, name = 'Con82417', )([Glo67952,in0Con82417])
Min71723 = keras.layers.Minimum(name = 'Min71723', )([Fla43759,Con82417])
model = tf.keras.models.Model(inputs=[in0Fla43759,in0Max68444,in1Max68444,in0Con82417], outputs=Min71723)
in0Fla43759 = tf.constant([[[1.6091, 1.85, 1.4536], [1.0953, 1.1557, 1.4558], [1.1328, 1.0053, 1.949], [1.3654, 1.4013, 1.2399]]])
in0Max68444 = tf.constant([[[0.8842], [0.7004]]])
in1Max68444 = tf.constant([[[0.303], [0.0173]]])
in0Con82417 = tf.constant([[0.3474, 0.164, 0.7382, 0.6652, 0.5957, 0.215, 0.5086, 0.2669, 0.6741, 0.0505, 0.1365]])
print (np.array2string(model.predict([in0Fla43759,in0Max68444,in1Max68444,in0Con82417],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min71723.png')

LFla43759 = flatten_layer([[[1.6091, 1.85, 1.4536], [1.0953, 1.1557, 1.4558], [1.1328, 1.0053, 1.949], [1.3654, 1.4013, 1.2399]]], Fla43759), 
LMax68444 = maximum_layer([[[[0.8842], [0.7004]]], [[[0.303], [0.0173]]]], Max68444), 
LRes34285 = reshape_layer(Max68444, [2, 1, 1], Res34285), 
LRes85916 = reshape_layer(Res34285, [2, 1, 1, 1], Res85916), 
LGlo67952 = global_max_pool3D_layer(Res85916, Glo67952), 
LCon82417 = concatenate_layer([Glo67952,[[0.3474, 0.164, 0.7382, 0.6652, 0.5957, 0.215, 0.5086, 0.2669, 0.6741, 0.0505, 0.1365]]], 1, Con82417), 
LMin71723 = minimum_layer([Fla43759,Con82417], Min71723), 
exec_layers([LFla43759,LMax68444,LRes34285,LRes85916,LGlo67952,LCon82417,LMin71723],["Fla43759","Max68444","Res34285","Res85916","Glo67952","Con82417","Min71723"],Min71723,"Min71723")

Actual (Unparsed): [[0.8842000, 0.3474000, 0.1640000, 0.7382000, 0.6652000, 0.5957000, 0.2150000, 0.5086000, 0.2669000, 0.6741000, 0.0505000, 0.1365000]]

Expected (Unparsed): [[0.8842,0.3474,0.164,0.7382,0.6652,0.5957,0.215,0.5086,0.2669,0.6741,0.0505,0.1365]]

Actual:   [[0.8842, 0.3474, 0.164, 0.7382, 0.6652, 0.5957, 0.215, 0.5086, 0.2669, 0.6741, 0.0505, 0.1365]]

Expected: [[0.8842, 0.3474, 0.164, 0.7382, 0.6652, 0.5957, 0.215, 0.5086, 0.2669, 0.6741, 0.0505, 0.1365]]