import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Up_74959 = tf.keras.layers.Input(shape=([2, 3]))
in0Con60138 = tf.keras.layers.Input(shape=([4, 6]))
in0Sep25495 = tf.keras.layers.Input(shape=([1, 2, 1]))
in0Con80111 = tf.keras.layers.Input(shape=([18, 6, 1]))
in0Up_40370 = tf.keras.layers.Input(shape=([2, 3]))

Up_74959 = keras.layers.UpSampling1D(size=(2), name = 'Up_74959', )(in0Up_74959)
Res45608 = keras.layers.Reshape((4, 3, 1), name = 'Res45608', )(Up_74959)
Res8920 = keras.layers.Reshape((4, 3, 1, 1), name = 'Res8920', )(Res45608)
Con52839 = keras.layers.Conv3D(4, (1, 2, 1),strides=(1, 1, 1), padding='same', dilation_rate=(1, 1, 1), name = 'Con52839', )(Res8920)
Res69746 = keras.layers.Reshape((4, 3, 4), name = 'Res69746', )(Con52839)
Res29866 = keras.layers.Reshape((4, 12), name = 'Res29866', )(Res69746)
Con60138 = keras.layers.Concatenate(axis=2, name = 'Con60138', )([Res29866,in0Con60138])
Sep25495 = keras.layers.SeparableConv2D(3, (1, 2),strides=(1, 1), padding='same', name = 'Sep25495', )(in0Sep25495)
Res35875 = keras.layers.Reshape((1, 6), name = 'Res35875', )(Sep25495)
Zer5966 = keras.layers.ZeroPadding1D(padding=((3, 0)), name = 'Zer5966', )(Res35875)
Dot7884 = keras.layers.Dot(axes=(1, 1), name = 'Dot7884', )([Con60138,Zer5966])
Res72536 = keras.layers.Reshape((18, 6, 1), name = 'Res72536', )(Dot7884)
Res73192 = keras.layers.Reshape((18, 6, 1, 1), name = 'Res73192', )(Res72536)
Con10849 = keras.layers.Conv3D(3, (7, 3, 1),strides=(1, 1, 1), padding='same', dilation_rate=(1, 1, 1), name = 'Con10849', )(Res73192)
Res56854 = keras.layers.Reshape((18, 6, 3), name = 'Res56854', )(Con10849)
Con80111 = keras.layers.Concatenate(axis=3, name = 'Con80111', )([Res56854,in0Con80111])
Up_40370 = keras.layers.UpSampling1D(size=(1), name = 'Up_40370', )(in0Up_40370)
Res31030 = keras.layers.Reshape((2, 3, 1), name = 'Res31030', )(Up_40370)
Con35120 = keras.layers.Conv2DTranspose(4, (1, 3),strides=(1, 1), padding='valid', name = 'Con35120', )(Res31030)
Zer97990 = keras.layers.ZeroPadding2D(padding=((16, 0), (1, 0)), name = 'Zer97990', )(Con35120)
Ave39652 = keras.layers.Average(name = 'Ave39652', )([Con80111,Zer97990])
model = tf.keras.models.Model(inputs=[in0Up_74959,in0Con60138,in0Sep25495,in0Con80111,in0Up_40370], outputs=Ave39652)
w = model.get_layer('Con52839').get_weights() 
w[0] = np.array([[[[[0.9124, 0.5473, 0.6854, 0.2954]]], [[[0.011, 0.0337, 0.0633, 0.9361]]]]])
w[1] = np.array([0, 0, 0, 0])
model.get_layer('Con52839').set_weights(w) 
w = model.get_layer('Sep25495').get_weights() 
w[0] = np.array([[[[0.1261]], [[0.2252]]]])
w[1] = np.array([[[[0.1787, 0.4142, 0.2913]]]])
w[2] = np.array([0, 0, 0])
model.get_layer('Sep25495').set_weights(w) 
w = model.get_layer('Con10849').get_weights() 
w[0] = np.array([[[[[0.5237, 0.9474, 0.5345]]], [[[0.9437, 0.5403, 0.2982]]], [[[0.6621, 0.9658, 0.1914]]]], [[[[0.4824, 0.5207, 0.4023]]], [[[0.0641, 0.2031, 0.9031]]], [[[0.9574, 0.9744, 0.1026]]]], [[[[0.9092, 0.0661, 0.6811]]], [[[0.4826, 0.6073, 0.6262]]], [[[0.9056, 0.2808, 0.4482]]]], [[[[0.1045, 0.8907, 0.0693]]], [[[0.4247, 0.45, 0.7211]]], [[[0.2088, 0.5297, 0.3166]]]], [[[[0.0246, 0.3215, 0.5478]]], [[[0.3321, 0.4718, 0.9312]]], [[[0.5871, 0.5367, 0.7041]]]], [[[[0.4587, 0.0503, 0.659]]], [[[0.9312, 0.7588, 0.9337]]], [[[0.5974, 0.4605, 0.0369]]]], [[[[0.4412, 0.3308, 0.8486]]], [[[0.295, 0.906, 0.4959]]], [[[0.1962, 0.4207, 0.9246]]]]])
w[1] = np.array([0, 0, 0])
model.get_layer('Con10849').set_weights(w) 
w = model.get_layer('Con35120').get_weights() 
w[0] = np.array([[[[0.5256], [0.4739], [0.1836], [0.6592]], [[0.5134], [0.1082], [0.9646], [0.5346]], [[0.7459], [0.2727], [0.7654], [0.83]]]])
w[1] = np.array([0, 0, 0, 0])
model.get_layer('Con35120').set_weights(w) 
in0Up_74959 = tf.constant([[[1.4176, 1.8631, 1.2976], [1.3237, 1.2951, 1.7301]]])
in0Con60138 = tf.constant([[[0.8629, 0.3307, 0.1332, 0.8855, 0.8823, 0.4918], [0.2231, 0.9569, 0.097, 0.6158, 0.0562, 0.4995], [0.6495, 0.3948, 0.3889, 0.7108, 0.8655, 0.6415], [0.5563, 0.6405, 0.5996, 0.6953, 0.4503, 0.6636]]])
in0Sep25495 = tf.constant([[[[0.7712], [0.8681]]]])
in0Con80111 = tf.constant([[[[0.4214], [0.7294], [0.3016], [0.1775], [0.9687], [0.6403]], [[0.5539], [0.7923], [0.5865], [0.8149], [0.7101], [0.1436]], [[0.497], [0.5044], [0.6854], [0.2195], [0.297], [0.784]], [[0.0256], [0.2577], [0.8665], [0.0231], [0.085], [0.123]], [[0.5376], [0.3138], [0.8876], [0.4917], [0.0363], [0.534]], [[0.844], [0.344], [0.0045], [0.9108], [0.3742], [0.1542]], [[0.6223], [0.7871], [0.2751], [0.2116], [0.9629], [0.7935]], [[0.3602], [0.7059], [0.2333], [0.7795], [0.5025], [0.5667]], [[0.9809], [0.6691], [0.7112], [0.5598], [0.6788], [0.8692]], [[0.2882], [0.8115], [0.8421], [0.9853], [0.4261], [0.7589]], [[0.9734], [0.3728], [0.8315], [0.5025], [0.1862], [0.4897]], [[0.0913], [0.6785], [0.3146], [0.1069], [0.531], [0.2597]], [[0.6802], [0.1783], [0.2602], [0.1455], [0.4594], [0.5773]], [[0.9475], [0.0076], [0.7693], [0.9656], [0.6211], [0.6199]], [[0.175], [0.7754], [0.4552], [0.8211], [0.3092], [0.659]], [[0.0664], [0.3337], [0.6904], [0.7879], [0.3202], [0.8933]], [[0.6301], [0.0675], [0.0272], [0.5311], [0.3233], [0.6758]], [[0.1939], [0.3961], [0.8342], [0.3288], [0.6859], [0.2038]]]])
in0Up_40370 = tf.constant([[[1.6126, 1.6295, 1.6627], [1.1489, 1.4488, 1.5088]]])
print (np.array2string(model.predict([in0Up_74959,in0Con60138,in0Sep25495,in0Con80111,in0Up_40370],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Ave39652.png')

LUp_74959 = up_sampling1D_layer([[[1.4176, 1.8631, 1.2976], [1.3237, 1.2951, 1.7301]]], 2, Up_74959), 
LRes45608 = reshape_layer(Up_74959, [4, 3, 1], Res45608), 
LRes8920 = reshape_layer(Res45608, [4, 3, 1, 1], Res8920), 
LCon52839 = conv3D_layer(Res8920, 1, 2, 1,[[[[[0.9124, 0.5473, 0.6854, 0.2954]]], [[[0.011, 0.0337, 0.0633, 0.9361]]]]],[0, 0, 0, 0], 1, 1, 1, true, 1, 1, 1, Con52839), 
LRes69746 = reshape_layer(Con52839, [4, 3, 4], Res69746), 
LRes29866 = reshape_layer(Res69746, [4, 12], Res29866), 
LCon60138 = concatenate_layer([Res29866,[[[0.8629, 0.3307, 0.1332, 0.8855, 0.8823, 0.4918], [0.2231, 0.9569, 0.097, 0.6158, 0.0562, 0.4995], [0.6495, 0.3948, 0.3889, 0.7108, 0.8655, 0.6415], [0.5563, 0.6405, 0.5996, 0.6953, 0.4503, 0.6636]]]], 2, Con60138), 
LSep25495 = separable_conv2D_layer([[[[0.7712], [0.8681]]]], 1, 2,[[[[[0.1261]], [[0.2252]]]],[[[[0.1787, 0.4142, 0.2913]]]]],[0, 0, 0], 1, 1, true, Sep25495), 
LRes35875 = reshape_layer(Sep25495, [1, 6], Res35875), 
LZer5966 = zero_padding1D_layer(Res35875, 3, 0, Zer5966), 
LDot7884 = dot_layer(Con60138,Zer5966, 1, 1, Dot7884), 
LRes72536 = reshape_layer(Dot7884, [18, 6, 1], Res72536), 
LRes73192 = reshape_layer(Res72536, [18, 6, 1, 1], Res73192), 
LCon10849 = conv3D_layer(Res73192, 7, 3, 1,[[[[[0.5237, 0.9474, 0.5345]]], [[[0.9437, 0.5403, 0.2982]]], [[[0.6621, 0.9658, 0.1914]]]], [[[[0.4824, 0.5207, 0.4023]]], [[[0.0641, 0.2031, 0.9031]]], [[[0.9574, 0.9744, 0.1026]]]], [[[[0.9092, 0.0661, 0.6811]]], [[[0.4826, 0.6073, 0.6262]]], [[[0.9056, 0.2808, 0.4482]]]], [[[[0.1045, 0.8907, 0.0693]]], [[[0.4247, 0.45, 0.7211]]], [[[0.2088, 0.5297, 0.3166]]]], [[[[0.0246, 0.3215, 0.5478]]], [[[0.3321, 0.4718, 0.9312]]], [[[0.5871, 0.5367, 0.7041]]]], [[[[0.4587, 0.0503, 0.659]]], [[[0.9312, 0.7588, 0.9337]]], [[[0.5974, 0.4605, 0.0369]]]], [[[[0.4412, 0.3308, 0.8486]]], [[[0.295, 0.906, 0.4959]]], [[[0.1962, 0.4207, 0.9246]]]]],[0, 0, 0], 1, 1, 1, true, 1, 1, 1, Con10849), 
LRes56854 = reshape_layer(Con10849, [18, 6, 3], Res56854), 
LCon80111 = concatenate_layer([Res56854,[[[[0.4214], [0.7294], [0.3016], [0.1775], [0.9687], [0.6403]], [[0.5539], [0.7923], [0.5865], [0.8149], [0.7101], [0.1436]], [[0.497], [0.5044], [0.6854], [0.2195], [0.297], [0.784]], [[0.0256], [0.2577], [0.8665], [0.0231], [0.085], [0.123]], [[0.5376], [0.3138], [0.8876], [0.4917], [0.0363], [0.534]], [[0.844], [0.344], [0.0045], [0.9108], [0.3742], [0.1542]], [[0.6223], [0.7871], [0.2751], [0.2116], [0.9629], [0.7935]], [[0.3602], [0.7059], [0.2333], [0.7795], [0.5025], [0.5667]], [[0.9809], [0.6691], [0.7112], [0.5598], [0.6788], [0.8692]], [[0.2882], [0.8115], [0.8421], [0.9853], [0.4261], [0.7589]], [[0.9734], [0.3728], [0.8315], [0.5025], [0.1862], [0.4897]], [[0.0913], [0.6785], [0.3146], [0.1069], [0.531], [0.2597]], [[0.6802], [0.1783], [0.2602], [0.1455], [0.4594], [0.5773]], [[0.9475], [0.0076], [0.7693], [0.9656], [0.6211], [0.6199]], [[0.175], [0.7754], [0.4552], [0.8211], [0.3092], [0.659]], [[0.0664], [0.3337], [0.6904], [0.7879], [0.3202], [0.8933]], [[0.6301], [0.0675], [0.0272], [0.5311], [0.3233], [0.6758]], [[0.1939], [0.3961], [0.8342], [0.3288], [0.6859], [0.2038]]]]], 3, Con80111), 
LUp_40370 = up_sampling1D_layer([[[1.6126, 1.6295, 1.6627], [1.1489, 1.4488, 1.5088]]], 1, Up_40370), 
LRes31030 = reshape_layer(Up_40370, [2, 3, 1], Res31030), 
LCon35120 = conv2D_transpose_layer(Res31030, 1, 3,[[[[0.5256], [0.4739], [0.1836], [0.6592]], [[0.5134], [0.1082], [0.9646], [0.5346]], [[0.7459], [0.2727], [0.7654], [0.83]]]],[0, 0, 0, 0], 1, 1, false, Con35120), 
LZer97990 = zero_padding2D_layer(Con35120, 16, 0, 1, 0, Zer97990), 
LAve39652 = average_layer([Con80111,Zer97990], Ave39652), 
exec_layers([LUp_74959,LRes45608,LRes8920,LCon52839,LRes69746,LRes29866,LCon60138,LSep25495,LRes35875,LZer5966,LDot7884,LRes72536,LRes73192,LCon10849,LRes56854,LCon80111,LUp_40370,LRes31030,LCon35120,LZer97990,LAve39652],["Up_74959","Res45608","Res8920","Con52839","Res69746","Res29866","Con60138","Sep25495","Res35875","Zer5966","Dot7884","Res72536","Res73192","Con10849","Res56854","Con80111","Up_40370","Res31030","Con35120","Zer97990","Ave39652"],Ave39652,"Ave39652")

Actual (Unparsed): [[[[0.1544249, 0.2142436, 0.2350505, 0.2107000], [0.2343801, 0.3323541, 0.3711761, 0.3647000], [0.1874998, 0.2703922, 0.3179435, 0.1508000], [0.1135056, 0.1617878, 0.1952558, 0.0887500], [0.0876429, 0.1242788, 0.1387958, 0.4843500], [0.0642182, 0.0931008, 0.1099417, 0.3201500]], [[0.2652508, 0.2539850, 0.2744004, 0.2769500], [0.3820063, 0.3824187, 0.4675868, 0.3961500], [0.3119785, 0.2838565, 0.4231006, 0.2932500], [0.2049651, 0.1615237, 0.2519675, 0.4074500], [0.1428455, 0.1429998, 0.1748471, 0.3550500], [0.1055366, 0.0969111, 0.1484954, 0.0718000]], [[0.3071340, 0.3144272, 0.3000258, 0.2485000], [0.3926509, 0.4326062, 0.5235466, 0.2522000], [0.2956940, 0.3314230, 0.4580973, 0.3427000], [0.2137634, 0.2198140, 0.2573248, 0.1097500], [0.1468259, 0.1617666, 0.1957724, 0.1485000], [0.0963751, 0.1105205, 0.1615503, 0.3920000]], [[0.3491896, 0.3807904, 0.3205185, 0.0128000], [0.4805339, 0.5443204, 0.5416972, 0.1288500], [0.3768444, 0.4531520, 0.4777933, 0.4332500], [0.2541751, 0.3046567, 0.2800242, 0.0115500], [0.1796885, 0.2035405, 0.2025596, 0.0425000], [0.1257957, 0.1530901, 0.1674741, 0.0615000]], [[0.3793178, 0.4055545, 0.3761658, 0.2688000], [0.5291684, 0.5873557, 0.6268480, 0.1569000], [0.4406873, 0.4646767, 0.5655971, 0.4438000], [0.3048176, 0.2956538, 0.3436258, 0.2458500], [0.1978746, 0.2196329, 0.2344004, 0.0181500], [0.1479742, 0.1572815, 0.1976885, 0.2670000]], [[0.4555880, 0.4663773, 0.3777236, 0.4220000], [0.6221042, 0.6450970, 0.6829125, 0.1720000], [0.4990668, 0.4918189, 0.6338938, 0.0022500], [0.3452925, 0.3226988, 0.3650918, 0.4554000], [0.2326266, 0.2412244, 0.2553649, 0.1871000], [0.1663975, 0.1642223, 0.2247082, 0.0771000]], [[0.4539939, 0.4747039, 0.3799775, 0.3111500], [0.6111496, 0.6538179, 0.6721221, 0.3935500], [0.4644107, 0.5193866, 0.6090852, 0.1375500], [0.3152309, 0.3531534, 0.3498273, 0.1058000], [0.2285303, 0.2444854, 0.2513300, 0.4814500], [0.1538425, 0.1735089, 0.2152023, 0.3967500]], [[0.3890834, 0.4317648, 0.3787433, 0.1801000], [0.5353227, 0.6217724, 0.6338476, 0.3529500], [0.4154156, 0.5186660, 0.5524313, 0.1166500], [0.2781417, 0.3462272, 0.3234049, 0.3897500], [0.2001759, 0.2325025, 0.2370178, 0.2512500], [0.1386036, 0.1755515, 0.1932892, 0.2833500]], [[0.4057807, 0.3794113, 0.3222889, 0.4904500], [0.5498032, 0.5374341, 0.5751708, 0.3345500], [0.4408470, 0.4295668, 0.5170311, 0.3556000], [0.3078243, 0.2833263, 0.2918385, 0.2799000], [0.2055907, 0.2009654, 0.2150765, 0.3394000], [0.1466711, 0.1446100, 0.1829883, 0.4346000]], [[0.4076891, 0.3998983, 0.3154092, 0.1441000], [0.5170640, 0.5331650, 0.5627540, 0.4057500], [0.4053803, 0.4235591, 0.5060656, 0.4210500], [0.3030152, 0.2998753, 0.2858377, 0.4926500], [0.1933484, 0.1993691, 0.2104334, 0.2130500], [0.1321469, 0.1402261, 0.1790984, 0.3794500]], [[0.3850758, 0.4113902, 0.2656309, 0.4867000], [0.5199734, 0.5588342, 0.4835829, 0.1864000], [0.4119923, 0.4677764, 0.4462469, 0.4157500], [0.2866250, 0.3346924, 0.2537803, 0.2512500], [0.1944363, 0.2089677, 0.1808286, 0.0931000], [0.1368683, 0.1560248, 0.1583910, 0.2448500]], [[0.3262920, 0.3222222, 0.2257432, 0.0456500], [0.4468767, 0.4421110, 0.4077741, 0.3392500], [0.3604305, 0.3559992, 0.3846185, 0.1573000], [0.2493737, 0.2454868, 0.2252639, 0.0534500], [0.1671029, 0.1653208, 0.1524810, 0.2655000], [0.1202972, 0.1188688, 0.1362797, 0.1298500]], [[0.2582527, 0.2780069, 0.2041120, 0.3401000], [0.3414296, 0.3752048, 0.3653253, 0.0891500], [0.2676382, 0.3007581, 0.3343429, 0.1301000], [0.1898740, 0.2109739, 0.1916967, 0.0727500], [0.1276725, 0.1403022, 0.1366079, 0.2297000], [0.0883321, 0.0999537, 0.1183512, 0.2886500]], [[0.2376816, 0.2477930, 0.1766839, 0.4737500], [0.3315869, 0.3456909, 0.3169287, 0.0038000], [0.2605835, 0.2833422, 0.2933345, 0.3846500], [0.1729868, 0.1938612, 0.1697428, 0.4828000], [0.1239920, 0.1292660, 0.1185108, 0.3105500], [0.0873187, 0.0950884, 0.1038519, 0.3099500]], [[0.1949358, 0.2057242, 0.1816597, 0.0875000], [0.2629051, 0.2901118, 0.3075579, 0.3877000], [0.2084196, 0.2323733, 0.2744747, 0.2276000], [0.1452694, 0.1543570, 0.1623951, 0.4105500], [0.0983094, 0.1084830, 0.1150067, 0.1546000], [0.0692174, 0.0781410, 0.0962296, 0.3295000]], [[0.1914669, 0.1838284, 0.1303648, 0.0332000], [0.2557778, 0.2507048, 0.2483747, 0.1668500], [0.1975607, 0.2026423, 0.2260264, 0.3452000], [0.1369861, 0.1411240, 0.1210443, 0.3939500], [0.0956443, 0.0937473, 0.0928760, 0.1601000], [0.0653511, 0.0675630, 0.0808523, 0.4466500]], [[0.1643689, 0.1575876, 0.1222316, 0.3150500], [0.6326262, 0.5936167, 0.3611083, 0.5652630], [1.0021496, 0.6485398, 1.1161709, 0.9817312], [1.5744247, 0.8282815, 1.6632972, 1.9183703], [1.1126278, 0.3912258, 1.5052048, 1.2823322], [0.6721973, 0.2849298, 0.7028805, 1.0279205]], [[0.1265734, 0.1322925, 0.0772500, 0.0969500], [0.4673160, 0.4496440, 0.2509089, 0.5767275], [0.8071133, 0.5606705, 0.8175586, 1.2017255], [1.2923358, 0.7081408, 1.3464642, 1.5257582], [0.9894822, 0.3455106, 1.3365351, 1.3475042], [0.6059743, 0.2574238, 0.6240082, 0.7280520]]]]

Expected (Unparsed): [[[[0.15442488357599918,0.2142436400214963,0.23505052215515937,0.2107],[0.2343800618401804,0.33235408760431945,0.3711761189624213,0.3647],[0.18749984752423912,0.2703921685518881,0.31794354501148975,0.1508],[0.11350560591170669,0.16178777068286856,0.1952557823225373,0.08875],[0.08764292269832478,0.12427884598921146,0.13879576464942645,0.48435],[0.06421823641779797,0.09310076536666012,0.10994169099450601,0.32015]],[[0.26525080864907946,0.2539850276694551,0.2744004356702521,0.27695],[0.3820063109677083,0.382418695451236,0.4675868582417985,0.39615],[0.3119784992466252,0.2838564789777613,0.4231006658416077,0.29325],[0.20496515653325567,0.1615237207877461,0.25196748679019687,0.40745],[0.14284555315649936,0.14299975817346214,0.17484712031342706,0.35505],[0.10553665053690614,0.09691107173210751,0.14849542297866983,0.0718]],[[0.30713404527347693,0.31442717608411436,0.3000257824481121,0.2485],[0.3926509043050808,0.43260620327094984,0.5235466089062489,0.2522],[0.2956939746837007,0.33142304276130946,0.4580973097156901,0.3427],[0.21376336381260752,0.2198140579258331,0.25732476061772314,0.10975],[0.1468259398143823,0.16176662696652552,0.1957724330861757,0.1485],[0.09637509387409522,0.11052053470868053,0.16155035380938065,0.392]],[[0.34918957425486824,0.3807904484170337,0.32051851025530703,0.0128],[0.4805338708836063,0.5443204320697868,0.5416971772423314,0.12885],[0.37684436712847497,0.45315199235033704,0.47779327118848447,0.43325],[0.2541751202299045,0.3046567317925195,0.28002420429974045,0.01155],[0.17968846227413507,0.20354049391599202,0.20255956696232708,0.0425],[0.12579572446806309,0.15309013496651896,0.16747414081257672,0.0615]],[[0.3793178102040243,0.4055544920746187,0.3761657911069227,0.2688],[0.5291683816265167,0.5873557465777266,0.6268479965262179,0.1569],[0.4406873243205855,0.4646766908428207,0.5655970644008826,0.4438],[0.304817560890132,0.2956538472337549,0.3436257651476633,0.24585],[0.19787461101070405,0.2196329068674373,0.23440044375706698,0.01815],[0.14797424848027105,0.1572815367132501,0.19768849273866332,0.267]],[[0.45558802619085054,0.4663772603743835,0.37772359940413913,0.422],[0.6221041670812248,0.6450969763496439,0.6829125357316411,0.172],[0.4990668177352532,0.49181895027840117,0.6338938289269253,0.00225],[0.3452925143148494,0.32269885791715075,0.365091819561274,0.4554],[0.23262655960464684,0.24122437713873157,0.25536494063926607,0.1871],[0.16639752275115224,0.16422234677805894,0.22470824495376673,0.0771]],[[0.45399393291994383,0.4747038846830161,0.3799774654512775,0.31115],[0.6111496037380245,0.6538179043133387,0.6721220977751362,0.39355],[0.46441067416854875,0.5193866282947464,0.6090852434567298,0.13755],[0.31523090496080186,0.3531533705503209,0.3498272900682433,0.1058],[0.22853026429375692,0.24448543786795415,0.25133001756484563,0.48145],[0.15384250709695493,0.17350891664664483,0.21520227771995543,0.39675]],[[0.38908335365719815,0.4317648001271244,0.37874325574031065,0.1801],[0.5353227321957895,0.6217723930803252,0.6338475996157422,0.35295],[0.41541555582579115,0.5186660186551694,0.5524312863307266,0.11665],[0.27814171137976657,0.34622718828800503,0.3234048640123677,0.38975],[0.20017593846563467,0.2325024976734148,0.2370178407646351,0.25125],[0.13860360532767632,0.17555152047891542,0.1932892362396513,0.28335]],[[0.4057807155520108,0.37941126010110393,0.3222889131838598,0.49045],[0.5498031937852278,0.5374340658046673,0.5751708045530929,0.33455],[0.44084701594148107,0.42956681530626306,0.5170310555097863,0.3556],[0.3078243339508598,0.28332633613719593,0.29183849515286103,0.2799],[0.2055906907519643,0.20096544012725398,0.21507652982937367,0.3394],[0.14667106798495488,0.1446100467433724,0.18298827939127152,0.4346]],[[0.40768905720305076,0.3998982879245658,0.3154091759403344,0.1441],[0.517064039277387,0.5331649601598758,0.5627539659794699,0.40575],[0.40538030317218143,0.4235591129233125,0.5060656251646619,0.42105],[0.30301520460693765,0.2998753491073893,0.28583772361776166,0.49265],[0.19334837301720853,0.1993690718479736,0.21043343854114085,0.21305],[0.13214688006164554,0.14022606848301872,0.1790983688843864,0.37945]],[[0.3850757873107563,0.41139017875450296,0.265630891274251,0.4867],[0.5199733832126856,0.5588342127478299,0.4835828794272988,0.1864],[0.4119923103275505,0.46777639707229174,0.44624684891933103,0.41575],[0.28662497697804457,0.33469239593092875,0.2537803449780812,0.25125],[0.1944362787188381,0.2089677053777483,0.18082859346961014,0.0931],[0.13686830002198067,0.15602477494563477,0.15839102198116875,0.24485]],[[0.3262919766526242,0.3222222443303638,0.22574323051218811,0.04565],[0.44687671090192,0.44211100643261086,0.4077741184799519,0.33925],[0.3604304633487663,0.35599920585160605,0.3846185107894386,0.1573],[0.24937374256303857,0.24548684527679043,0.2252638630217844,0.05345],[0.16710287010660885,0.16532080611563882,0.15248103982789038,0.2655],[0.1202972451104416,0.11886884170901132,0.13627969291763486,0.12985]],[[0.2582526938371358,0.27800692572745456,0.20411201175590646,0.3401],[0.3414296080782472,0.3752048018871656,0.3653252936357457,0.08915],[0.2676381806950716,0.3007581059254229,0.3343428938497721,0.1301],[0.18987398072749165,0.21097393881420212,0.1916967414330529,0.07275],[0.12767250129034322,0.14030223044424395,0.13660793592457146,0.2297],[0.08833213976062274,0.09995370091154046,0.11835116449272683,0.28865]],[[0.2376816073415717,0.24779300181347377,0.17668393693206283,0.47375],[0.3315868621417491,0.3456909493272789,0.3169287496233506,0.0038],[0.2605835247094445,0.283342194801568,0.2933345001147977,0.38465],[0.17298679399927747,0.19386121434629797,0.16974276658216655,0.4828],[0.12399195348913995,0.1292659661898223,0.11851077129187042,0.31055],[0.087318683038181,0.09508844680390402,0.10385190501530595,0.30995]],[[0.19493581887413997,0.2057242144382367,0.18165971797762148,0.0875],[0.2629050730373538,0.2901118384852903,0.3075579035954531,0.3877],[0.2084196058652405,0.2323732891265105,0.2744746980285886,0.2276],[0.1452694005603976,0.15435695232886262,0.1623951274925948,0.41055],[0.09830942449755818,0.10848298799226745,0.11500668341172915,0.1546],[0.06921743395541523,0.0781409596629828,0.09622957602441497,0.3295]],[[0.19146694508679402,0.1838283848532908,0.130364829696042,0.0332],[0.25577783527711245,0.2507047589776314,0.24837473927916806,0.16685],[0.1975606841598553,0.20264227606423757,0.2260264463260748,0.3452],[0.13698607803876356,0.1411240161364853,0.12104425463971633,0.39395],[0.09564430041162227,0.09374729931661743,0.09287602325877066,0.1601],[0.06535114991550564,0.06756299724598402,0.0808522521346334,0.44665]],[[0.1643688675644529,0.15758759546719123,0.12223159802636198,0.31505],[0.6326262167816739,0.5936167156251286,0.36110828723531,0.5652629600000001],[1.0021496298715837,0.6485398239327197,1.1161709300032612,0.9817311799999999],[1.574424697888967,0.8282815106476655,1.6632971912176557,1.9183702699999998],[1.1126278198038335,0.39122582812069623,1.5052048044279338,1.28233221],[0.6721972375881404,0.2849297470367405,0.7028804285541665,1.0279205]],[[0.12657343088572692,0.13229252352446916,0.07724995337512824,0.09695],[0.46731603322577764,0.44964403609461245,0.25090891898102086,0.57672744],[0.8071132862001791,0.5606705530831815,0.8175585948084878,1.20172545],[1.2923357881016693,0.7081407770374111,1.3464642106037865,1.5257582200000002],[0.9894822123862964,0.3455105947422967,1.336535077482988,1.3475042400000001],[0.6059743373092559,0.2574238133298361,0.624008232223833,0.7280519999999999]]]]

Actual:   [[[[0.1545, 0.2143, 0.2351, 0.2107], [0.2344, 0.3324, 0.3712, 0.3647], [0.1875, 0.2704, 0.318, 0.1508], [0.1136, 0.1618, 0.1953, 0.0888], [0.0877, 0.1243, 0.1388, 0.4844], [0.0643, 0.0932, 0.11, 0.3202]], [[0.2653, 0.254, 0.2745, 0.277], [0.3821, 0.3825, 0.4676, 0.3962], [0.312, 0.2839, 0.4232, 0.2933], [0.205, 0.1616, 0.252, 0.4075], [0.1429, 0.143, 0.1749, 0.3551], [0.1056, 0.097, 0.1485, 0.0718]], [[0.3072, 0.3145, 0.3001, 0.2485], [0.3927, 0.4327, 0.5236, 0.2522], [0.2957, 0.3315, 0.4581, 0.3427], [0.2138, 0.2199, 0.2574, 0.1098], [0.1469, 0.1618, 0.1958, 0.1485], [0.0964, 0.1106, 0.1616, 0.392]], [[0.3492, 0.3808, 0.3206, 0.0128], [0.4806, 0.5444, 0.5417, 0.1289], [0.3769, 0.4532, 0.4778, 0.4333], [0.2542, 0.3047, 0.2801, 0.0116], [0.1797, 0.2036, 0.2026, 0.0425], [0.1258, 0.1531, 0.1675, 0.0615]], [[0.3794, 0.4056, 0.3762, 0.2688], [0.5292, 0.5874, 0.6269, 0.1569], [0.4407, 0.4647, 0.5656, 0.4438], [0.3049, 0.2957, 0.3437, 0.2459], [0.1979, 0.2197, 0.2345, 0.0182], [0.148, 0.1573, 0.1977, 0.267]], [[0.4556, 0.4664, 0.3778, 0.422], [0.6222, 0.6451, 0.683, 0.172], [0.4991, 0.4919, 0.6339, 0.0023], [0.3453, 0.3227, 0.3651, 0.4554], [0.2327, 0.2413, 0.2554, 0.1871], [0.1664, 0.1643, 0.2248, 0.0771]], [[0.454, 0.4748, 0.38, 0.3112], [0.6112, 0.6539, 0.6722, 0.3936], [0.4645, 0.5194, 0.6091, 0.1376], [0.3153, 0.3532, 0.3499, 0.1058], [0.2286, 0.2445, 0.2514, 0.4815], [0.1539, 0.1736, 0.2153, 0.3968]], [[0.3891, 0.4318, 0.3788, 0.1801], [0.5354, 0.6218, 0.6339, 0.353], [0.4155, 0.5187, 0.5525, 0.1167], [0.2782, 0.3463, 0.3235, 0.3898], [0.2002, 0.2326, 0.2371, 0.2513], [0.1387, 0.1756, 0.1933, 0.2834]], [[0.4058, 0.3795, 0.3223, 0.4905], [0.5499, 0.5375, 0.5752, 0.3346], [0.4409, 0.4296, 0.5171, 0.3556], [0.3079, 0.2834, 0.2919, 0.2799], [0.2056, 0.201, 0.2151, 0.3394], [0.1467, 0.1447, 0.183, 0.4346]], [[0.4077, 0.3999, 0.3155, 0.1441], [0.5171, 0.5332, 0.5628, 0.4058], [0.4054, 0.4236, 0.5061, 0.4211], [0.3031, 0.2999, 0.2859, 0.4927], [0.1934, 0.1994, 0.2105, 0.2131], [0.1322, 0.1403, 0.1791, 0.3795]], [[0.3851, 0.4114, 0.2657, 0.4867], [0.52, 0.5589, 0.4836, 0.1864], [0.412, 0.4678, 0.4463, 0.4158], [0.2867, 0.3347, 0.2538, 0.2513], [0.1945, 0.209, 0.1809, 0.0931], [0.1369, 0.1561, 0.1584, 0.2449]], [[0.3263, 0.3223, 0.2258, 0.0457], [0.4469, 0.4422, 0.4078, 0.3393], [0.3605, 0.356, 0.3847, 0.1573], [0.2494, 0.2455, 0.2253, 0.0535], [0.1672, 0.1654, 0.1525, 0.2655], [0.1203, 0.1189, 0.1363, 0.1299]], [[0.2583, 0.2781, 0.2042, 0.3401], [0.3415, 0.3753, 0.3654, 0.0892], [0.2677, 0.3008, 0.3344, 0.1301], [0.1899, 0.211, 0.1917, 0.0728], [0.1277, 0.1404, 0.1367, 0.2297], [0.0884, 0.1, 0.1184, 0.2887]], [[0.2377, 0.2478, 0.1767, 0.4738], [0.3316, 0.3457, 0.317, 0.0038], [0.2606, 0.2834, 0.2934, 0.3847], [0.173, 0.1939, 0.1698, 0.4828], [0.124, 0.1293, 0.1186, 0.3106], [0.0874, 0.0951, 0.1039, 0.31]], [[0.195, 0.2058, 0.1817, 0.0875], [0.263, 0.2902, 0.3076, 0.3877], [0.2085, 0.2324, 0.2745, 0.2276], [0.1453, 0.1544, 0.1624, 0.4106], [0.0984, 0.1085, 0.1151, 0.1546], [0.0693, 0.0782, 0.0963, 0.3295]], [[0.1915, 0.1839, 0.1304, 0.0332], [0.2558, 0.2508, 0.2484, 0.1669], [0.1976, 0.2027, 0.2261, 0.3452], [0.137, 0.1412, 0.1211, 0.394], [0.0957, 0.0938, 0.0929, 0.1601], [0.0654, 0.0676, 0.0809, 0.4467]], [[0.1644, 0.1576, 0.1223, 0.3151], [0.6327, 0.5937, 0.3612, 0.5653], [1.0022, 0.6486, 1.1162, 0.9818], [1.5745, 0.8283, 1.6633, 1.9184], [1.1127, 0.3913, 1.5053, 1.2824], [0.6722, 0.285, 0.7029, 1.028]], [[0.1266, 0.1323, 0.0773, 0.097], [0.4674, 0.4497, 0.251, 0.5768], [0.8072, 0.5607, 0.8176, 1.2018], [1.2924, 0.7082, 1.3465, 1.5258], [0.9895, 0.3456, 1.3366, 1.3476], [0.606, 0.2575, 0.6241, 0.7281]]]]

Expected: [[[[0.1545, 0.2143, 0.2351, 0.2107], [0.2344, 0.3324, 0.3712, 0.3647], [0.1875, 0.2704, 0.318, 0.1508], [0.1136, 0.1618, 0.1953, 0.0888], [0.0877, 0.1243, 0.1388, 0.4844], [0.0643, 0.0932, 0.11, 0.3202]], [[0.2653, 0.254, 0.2745, 0.277], [0.3821, 0.3825, 0.4676, 0.3962], [0.312, 0.2839, 0.4232, 0.2933], [0.205, 0.1616, 0.252, 0.4075], [0.1429, 0.143, 0.1749, 0.3551], [0.1056, 0.097, 0.1485, 0.0718]], [[0.3072, 0.3145, 0.3001, 0.2485], [0.3927, 0.4327, 0.5236, 0.2522], [0.2957, 0.3315, 0.4581, 0.3427], [0.2138, 0.2199, 0.2574, 0.1098], [0.1469, 0.1618, 0.1958, 0.1485], [0.0964, 0.1106, 0.1616, 0.392]], [[0.3492, 0.3808, 0.3206, 0.0128], [0.4806, 0.5444, 0.5417, 0.1289], [0.3769, 0.4532, 0.4778, 0.4333], [0.2542, 0.3047, 0.2801, 0.0116], [0.1797, 0.2036, 0.2026, 0.0425], [0.1258, 0.1531, 0.1675, 0.0615]], [[0.3794, 0.4056, 0.3762, 0.2688], [0.5292, 0.5874, 0.6269, 0.1569], [0.4407, 0.4647, 0.5656, 0.4438], [0.3049, 0.2957, 0.3437, 0.2459], [0.1979, 0.2197, 0.2345, 0.0182], [0.148, 0.1573, 0.1977, 0.267]], [[0.4556, 0.4664, 0.3778, 0.422], [0.6222, 0.6451, 0.683, 0.172], [0.4991, 0.4919, 0.6339, 0.0023], [0.3453, 0.3227, 0.3651, 0.4554], [0.2327, 0.2413, 0.2554, 0.1871], [0.1664, 0.1643, 0.2248, 0.0771]], [[0.454, 0.4748, 0.38, 0.3112], [0.6112, 0.6539, 0.6722, 0.3936], [0.4645, 0.5194, 0.6091, 0.1376], [0.3153, 0.3532, 0.3499, 0.1058], [0.2286, 0.2445, 0.2514, 0.4815], [0.1539, 0.1736, 0.2153, 0.3968]], [[0.3891, 0.4318, 0.3788, 0.1801], [0.5354, 0.6218, 0.6339, 0.353], [0.4155, 0.5187, 0.5525, 0.1167], [0.2782, 0.3463, 0.3235, 0.3898], [0.2002, 0.2326, 0.2371, 0.2513], [0.1387, 0.1756, 0.1933, 0.2834]], [[0.4058, 0.3795, 0.3223, 0.4905], [0.5499, 0.5375, 0.5752, 0.3346], [0.4409, 0.4296, 0.5171, 0.3556], [0.3079, 0.2834, 0.2919, 0.2799], [0.2056, 0.201, 0.2151, 0.3394], [0.1467, 0.1447, 0.183, 0.4346]], [[0.4077, 0.3999, 0.3155, 0.1441], [0.5171, 0.5332, 0.5628, 0.4058], [0.4054, 0.4236, 0.5061, 0.4211], [0.3031, 0.2999, 0.2859, 0.4927], [0.1934, 0.1994, 0.2105, 0.2131], [0.1322, 0.1403, 0.1791, 0.3795]], [[0.3851, 0.4114, 0.2657, 0.4867], [0.52, 0.5589, 0.4836, 0.1864], [0.412, 0.4678, 0.4463, 0.4158], [0.2867, 0.3347, 0.2538, 0.2513], [0.1945, 0.209, 0.1809, 0.0931], [0.1369, 0.1561, 0.1584, 0.2449]], [[0.3263, 0.3223, 0.2258, 0.0457], [0.4469, 0.4422, 0.4078, 0.3393], [0.3605, 0.356, 0.3847, 0.1573], [0.2494, 0.2455, 0.2253, 0.0535], [0.1672, 0.1654, 0.1525, 0.2655], [0.1203, 0.1189, 0.1363, 0.1299]], [[0.2583, 0.2781, 0.2042, 0.3401], [0.3415, 0.3753, 0.3654, 0.0892], [0.2677, 0.3008, 0.3344, 0.1301], [0.1899, 0.211, 0.1917, 0.0728], [0.1277, 0.1404, 0.1367, 0.2297], [0.0884, 0.1, 0.1184, 0.2887]], [[0.2377, 0.2478, 0.1767, 0.4738], [0.3316, 0.3457, 0.317, 0.0038], [0.2606, 0.2834, 0.2934, 0.3847], [0.173, 0.1939, 0.1698, 0.4828], [0.124, 0.1293, 0.1186, 0.3106], [0.0874, 0.0951, 0.1039, 0.31]], [[0.195, 0.2058, 0.1817, 0.0875], [0.263, 0.2902, 0.3076, 0.3877], [0.2085, 0.2324, 0.2745, 0.2276], [0.1453, 0.1544, 0.1624, 0.4106], [0.0984, 0.1085, 0.1151, 0.1546], [0.0693, 0.0782, 0.0963, 0.3295]], [[0.1915, 0.1839, 0.1304, 0.0332], [0.2558, 0.2508, 0.2484, 0.1669], [0.1976, 0.2027, 0.2261, 0.3452], [0.137, 0.1412, 0.1211, 0.394], [0.0957, 0.0938, 0.0929, 0.1601], [0.0654, 0.0676, 0.0809, 0.4467]], [[0.1644, 0.1576, 0.1223, 0.3151], [0.6327, 0.5937, 0.3612, 0.5653], [1.0022, 0.6486, 1.1162, 0.9818], [1.5745, 0.8283, 1.6633, 1.9184], [1.1127, 0.3913, 1.5053, 1.2824], [0.6722, 0.285, 0.7029, 1.028]], [[0.1266, 0.1323, 0.0773, 0.097], [0.4674, 0.4497, 0.251, 0.5768], [0.8072, 0.5607, 0.8176, 1.2018], [1.2924, 0.7082, 1.3465, 1.5258], [0.9895, 0.3456, 1.3366, 1.3476], [0.606, 0.2575, 0.6241, 0.7281]]]]