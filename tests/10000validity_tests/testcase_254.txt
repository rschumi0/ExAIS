import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0ELU95222 = tf.keras.layers.Input(shape=([1, 1, 2, 1]))

ELU95222 = keras.layers.ELU(alpha=-2.4378418667563917, name = 'ELU95222', input_shape=(1, 1, 2, 1))(in0ELU95222)
Lay29876 = keras.layers.LayerNormalization(axis=2, epsilon=2.743894797283238, name = 'Lay29876', )(ELU95222)
Den43882 = keras.layers.Dense(3,name = 'Den43882', )(Lay29876)
Res77590 = keras.layers.Reshape((1, 1, 6), name = 'Res77590', )(Den43882)
Res84373 = keras.layers.Reshape((1, 6), name = 'Res84373', )(Res77590)
Res2628 = keras.layers.Reshape((1, 6, 1), name = 'Res2628', )(Res84373)
Up_97518 = keras.layers.UpSampling2D(size=(1, 2), name = 'Up_97518', )(Res2628)
model = tf.keras.models.Model(inputs=[in0ELU95222], outputs=Up_97518)
w = model.get_layer('Den43882').get_weights() 
w[0] = np.array([[0.8676, 0.3847, 0.4163]])
w[1] = np.array([0.9142, 0.9649, 0.9437])
model.get_layer('Den43882').set_weights(w) 
in0ELU95222 = tf.constant([[[[[0.7629], [0.4811]]]]])
print (np.array2string(model.predict([in0ELU95222],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Up_97518.png')

LELU95222 = elu_layer([[[[[0.7629], [0.4811]]]]], -2.4378418667563917, ELU95222), 
LLay29876 = layer_normalization_layer(ELU95222, 2, 2.743894797283238, Lay29876), 
LDen43882 = dense_layer(Lay29876, [[0.8676, 0.3847, 0.4163]],[0.9142, 0.9649, 0.9437], Den43882), 
LRes77590 = reshape_layer(Den43882, [1, 1, 6], Res77590), 
LRes84373 = reshape_layer(Res77590, [1, 6], Res84373), 
LRes2628 = reshape_layer(Res84373, [1, 6, 1], Res2628), 
LUp_97518 = up_sampling2D_layer(Res2628, 1, 2, Up_97518), 
exec_layers([LELU95222,LLay29876,LDen43882,LRes77590,LRes84373,LRes2628,LUp_97518],["ELU95222","Lay29876","Den43882","Res77590","Res84373","Res2628","Up_97518"],Up_97518,"Up_97518")

Actual (Unparsed): [[[[0.9142000], [0.9142000], [0.9649000], [0.9649000], [0.9437000], [0.9437000], [0.9142000], [0.9142000], [0.9649000], [0.9649000], [0.9437000], [0.9437000]]]]

Expected (Unparsed): [[[[0.9142],[0.9142],[0.9649],[0.9649],[0.9437],[0.9437],[0.9142],[0.9142],[0.9649],[0.9649],[0.9437],[0.9437]]]]

Actual:   [[[[0.9142], [0.9142], [0.9649], [0.9649], [0.9437], [0.9437], [0.9142], [0.9142], [0.9649], [0.9649], [0.9437], [0.9437]]]]

Expected: [[[[0.9142], [0.9142], [0.9649], [0.9649], [0.9437], [0.9437], [0.9142], [0.9142], [0.9649], [0.9649], [0.9437], [0.9437]]]]