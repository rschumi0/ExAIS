import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo26454 = tf.keras.layers.Input(shape=([2, 2, 2, 1]))
in0Con31762 = tf.keras.layers.Input(shape=([3, 2]))
in0Dot14808 = tf.keras.layers.Input(shape=([2, 3]))
in1Dot14808 = tf.keras.layers.Input(shape=([2, 3]))

Glo26454 = keras.layers.GlobalMaxPool3D(name = 'Glo26454', )(in0Glo26454)
Res52863 = keras.layers.Reshape((1, 1), name = 'Res52863', )(Glo26454)
Zer11742 = keras.layers.ZeroPadding1D(padding=((2, 0)), name = 'Zer11742', )(Res52863)
Con31762 = keras.layers.Concatenate(axis=2, name = 'Con31762', )([Zer11742,in0Con31762])
Dot14808 = keras.layers.Dot(axes=(1, 1), name = 'Dot14808', )([in0Dot14808,in1Dot14808])
Mul34380 = keras.layers.Multiply(name = 'Mul34380', )([Con31762,Dot14808])
ELU24964 = keras.layers.ELU(alpha=6.977042441383091, name = 'ELU24964', )(Mul34380)
model = tf.keras.models.Model(inputs=[in0Glo26454,in0Con31762,in0Dot14808,in1Dot14808], outputs=ELU24964)
in0Glo26454 = tf.constant([[[[[1.1943], [1.5191]], [[1.0859], [1.8457]]], [[[1.2227], [1.3526]], [[1.6622], [1.3254]]]]])
in0Con31762 = tf.constant([[[0.3938, 0.5387], [0.509, 0.5449], [0.6081, 0.6746]]])
in0Dot14808 = tf.constant([[[0.5597, 0.0931, 0.3814], [0.0625, 0.8946, 0.4536]]])
in1Dot14808 = tf.constant([[[0.7679, 0.3937, 0.5383], [0.6986, 0.0668, 0.2554]]])
print (np.array2string(model.predict([in0Glo26454,in0Con31762,in0Dot14808,in1Dot14808],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='ELU24964.png')

LGlo26454 = global_max_pool3D_layer([[[[[1.1943], [1.5191]], [[1.0859], [1.8457]]], [[[1.2227], [1.3526]], [[1.6622], [1.3254]]]]], Glo26454), 
LRes52863 = reshape_layer(Glo26454, [1, 1], Res52863), 
LZer11742 = zero_padding1D_layer(Res52863, 2, 0, Zer11742), 
LCon31762 = concatenate_layer([Zer11742,[[[0.3938, 0.5387], [0.509, 0.5449], [0.6081, 0.6746]]]], 2, Con31762), 
LDot14808 = dot_layer([[[0.5597, 0.0931, 0.3814], [0.0625, 0.8946, 0.4536]]], [[[0.7679, 0.3937, 0.5383], [0.6986, 0.0668, 0.2554]]], 1, 1, Dot14808), 
LMul34380 = multiply_layer([Con31762,Dot14808], Mul34380), 
LELU24964 = elu_layer(Mul34380, 6.977042441383091, ELU24964), 
exec_layers([LGlo26454,LRes52863,LZer11742,LCon31762,LDot14808,LMul34380,LELU24964],["Glo26454","Res52863","Zer11742","Con31762","Dot14808","Mul34380","ELU24964"],ELU24964,"ELU24964")

Actual (Unparsed): [[[0.0000000, 0.0884195, 0.1709020], [0.0000000, 0.0490741, 0.1518073], [1.1254377, 0.1097363, 0.2166525]]]

Expected (Unparsed): [[[0.0,0.088419476882,0.170902041687],[0.0,0.049074089749999994,0.151807270993],[1.125437760314,0.10973630304599999,0.21665255267599998]]]

Actual:   [[[0, 0.0885, 0.171], [0, 0.0491, 0.1519], [1.1255, 0.1098, 0.2167]]]

Expected: [[[0, 0.0885, 0.171], [0, 0.0491, 0.1519], [1.1255, 0.1098, 0.2167]]]