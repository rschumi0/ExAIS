import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot88364 = tf.keras.layers.Input(shape=([2]))
in1Dot88364 = tf.keras.layers.Input(shape=([2]))

Dot88364 = keras.layers.Dot(axes=(1, 1), name = 'Dot88364', )([in0Dot88364,in1Dot88364])
Res62047 = keras.layers.Reshape((1, 1), name = 'Res62047', )(Dot88364)
Res54392 = keras.layers.Reshape((1, 1, 1), name = 'Res54392', )(Res62047)
Res89761 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res89761', )(Res54392)
Up_80270 = keras.layers.UpSampling3D(size=(2, 1, 2), name = 'Up_80270', )(Res89761)
Res58115 = keras.layers.Reshape((2, 1, 2), name = 'Res58115', )(Up_80270)
Max12603 = keras.layers.MaxPool2D(pool_size=(1, 1), name = 'Max12603', )(Res58115)
model = tf.keras.models.Model(inputs=[in0Dot88364,in1Dot88364], outputs=Max12603)
in0Dot88364 = tf.constant([[0.8711, 0.5484]])
in1Dot88364 = tf.constant([[0.1813, 0.293]])
print (np.array2string(model.predict([in0Dot88364,in1Dot88364],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max12603.png')

LDot88364 = dot_layer([[0.8711, 0.5484]], [[0.1813, 0.293]], 1, 1, Dot88364), 
LRes62047 = reshape_layer(Dot88364, [1, 1], Res62047), 
LRes54392 = reshape_layer(Res62047, [1, 1, 1], Res54392), 
LRes89761 = reshape_layer(Res54392, [1, 1, 1, 1], Res89761), 
LUp_80270 = up_sampling3D_layer(Res89761, 2, 1, 2, Up_80270), 
LRes58115 = reshape_layer(Up_80270, [2, 1, 2], Res58115), 
LMax12603 = max_pool2D_layer(Res58115, 1, 1, Max12603), 
exec_layers([LDot88364,LRes62047,LRes54392,LRes89761,LUp_80270,LRes58115,LMax12603],["Dot88364","Res62047","Res54392","Res89761","Up_80270","Res58115","Max12603"],Max12603,"Max12603")

Actual (Unparsed): [[[[0.3186116, 0.3186116]], [[0.3186116, 0.3186116]]]]

Expected (Unparsed): [[[[0.31861163,0.31861163]],[[0.31861163,0.31861163]]]]

Actual:   [[[[0.3187, 0.3187]], [[0.3187, 0.3187]]]]

Expected: [[[[0.3187, 0.3187]], [[0.3187, 0.3187]]]]