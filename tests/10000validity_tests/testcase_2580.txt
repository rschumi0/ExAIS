import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo88526 = tf.keras.layers.Input(shape=([2, 1]))
in0Con17509 = tf.keras.layers.Input(shape=([4, 1]))
in0Add49370 = tf.keras.layers.Input(shape=([2, 2]))
in1Add49370 = tf.keras.layers.Input(shape=([2, 2]))

Glo88526 = keras.layers.GlobalMaxPool1D(name = 'Glo88526', )(in0Glo88526)
Res93148 = keras.layers.Reshape((1, 1), name = 'Res93148', )(Glo88526)
Zer91212 = keras.layers.ZeroPadding1D(padding=((3, 0)), name = 'Zer91212', )(Res93148)
Con17509 = keras.layers.Concatenate(axis=2, name = 'Con17509', )([Zer91212,in0Con17509])
Add49370 = keras.layers.Add(name = 'Add49370', )([in0Add49370,in1Add49370])
Up_6893 = keras.layers.UpSampling1D(size=(2), name = 'Up_6893', )(Add49370)
Sub60350 = keras.layers.Subtract(name = 'Sub60350', )([Con17509,Up_6893])
model = tf.keras.models.Model(inputs=[in0Glo88526,in0Con17509,in0Add49370,in1Add49370], outputs=Sub60350)
in0Glo88526 = tf.constant([[[1.3651], [1.6071]]])
in0Con17509 = tf.constant([[[0.5795], [0.1292], [0.9296], [0.3137]]])
in0Add49370 = tf.constant([[[0.662, 0.9893], [0.5906, 0.9309]]])
in1Add49370 = tf.constant([[[0.0985, 0.3822], [0.8529, 0.6573]]])
print (np.array2string(model.predict([in0Glo88526,in0Con17509,in0Add49370,in1Add49370],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sub60350.png')

LGlo88526 = global_max_pool1D_layer([[[1.3651], [1.6071]]], Glo88526), 
LRes93148 = reshape_layer(Glo88526, [1, 1], Res93148), 
LZer91212 = zero_padding1D_layer(Res93148, 3, 0, Zer91212), 
LCon17509 = concatenate_layer([Zer91212,[[[0.5795], [0.1292], [0.9296], [0.3137]]]], 2, Con17509), 
LAdd49370 = add_layer([[[[0.662, 0.9893], [0.5906, 0.9309]]], [[[0.0985, 0.3822], [0.8529, 0.6573]]]], Add49370), 
LUp_6893 = up_sampling1D_layer(Add49370, 2, Up_6893), 
LSub60350 = subtract_layer(Con17509,Up_6893, Sub60350), 
exec_layers([LGlo88526,LRes93148,LZer91212,LCon17509,LAdd49370,LUp_6893,LSub60350],["Glo88526","Res93148","Zer91212","Con17509","Add49370","Up_6893","Sub60350"],Sub60350,"Sub60350")

Actual (Unparsed): [[[-0.7605000, -0.7920000], [-0.7605000, -1.2423000], [-1.4435000, -0.6586000], [0.1636000, -1.2745000]]]

Expected (Unparsed): [[[-0.7605000000000001,-0.7919999999999999],[-0.7605000000000001,-1.2423],[-1.4435,-0.6586000000000001],[0.16359999999999997,-1.2745000000000002]]]

Actual:   [[[-0.7605, -0.792], [-0.7605, -1.2423], [-1.4435, -0.6586], [0.1636, -1.2745]]]

Expected: [[[-0.7605, -0.7919], [-0.7605, -1.2423], [-1.4435, -0.6586], [0.1636, -1.2745]]]