import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0ELU73126 = tf.keras.layers.Input(shape=([1, 1, 2, 1]))
in0Dot51543 = tf.keras.layers.Input(shape=([3]))
in1Dot51543 = tf.keras.layers.Input(shape=([3]))
in0Con75502 = tf.keras.layers.Input(shape=([1]))
in0Up_28343 = tf.keras.layers.Input(shape=([1, 1]))
in0Add96751 = tf.keras.layers.Input(shape=([2, 2, 2, 1]))
in1Add96751 = tf.keras.layers.Input(shape=([2, 2, 2, 1]))
in0Con23757 = tf.keras.layers.Input(shape=([3, 2]))
in0Sub11414 = tf.keras.layers.Input(shape=([3, 3, 2]))
in1Sub11414 = tf.keras.layers.Input(shape=([3, 3, 2]))

ELU73126 = keras.layers.ELU(alpha=-3.1368866173659438, name = 'ELU73126', input_shape=(1, 1, 2, 1))(in0ELU73126)
Res93497 = keras.layers.Reshape((1, 1, 2), name = 'Res93497', )(ELU73126)
Res77181 = keras.layers.Reshape((1, 2), name = 'Res77181', )(Res93497)
Fla38631 = keras.layers.Flatten(name = 'Fla38631', )(Res77181)
Dot51543 = keras.layers.Dot(axes=(1, 1), name = 'Dot51543', )([in0Dot51543,in1Dot51543])
Con75502 = keras.layers.Concatenate(axis=1, name = 'Con75502', )([Dot51543,in0Con75502])
Ave8644 = keras.layers.Average(name = 'Ave8644', )([Fla38631,Con75502])
Res16156 = keras.layers.Reshape((2, 1), name = 'Res16156', )(Ave8644)
Res36625 = keras.layers.Reshape((2, 1, 1), name = 'Res36625', )(Res16156)
Res6937 = keras.layers.Reshape((2, 1, 1, 1), name = 'Res6937', )(Res36625)
Zer42006 = keras.layers.ZeroPadding3D(padding=((1, 0), (0, 0), (0, 0)), name = 'Zer42006', )(Res6937)
Up_28343 = keras.layers.UpSampling1D(size=(2), name = 'Up_28343', )(in0Up_28343)
Add96751 = keras.layers.Add(name = 'Add96751', )([in0Add96751,in1Add96751])
Res20758 = keras.layers.Reshape((2, 2, 2), name = 'Res20758', )(Add96751)
Res10903 = keras.layers.Reshape((2, 4), name = 'Res10903', )(Res20758)
Dot14770 = keras.layers.Dot(axes=(1, 1), name = 'Dot14770', )([Up_28343,Res10903])
Zer41028 = keras.layers.ZeroPadding1D(padding=((2, 0)), name = 'Zer41028', )(Dot14770)
Con23757 = keras.layers.Concatenate(axis=2, name = 'Con23757', )([Zer41028,in0Con23757])
Sub11414 = keras.layers.Subtract(name = 'Sub11414', )([in0Sub11414,in1Sub11414])
Res97271 = keras.layers.Reshape((3, 6), name = 'Res97271', )(Sub11414)
Dot93520 = keras.layers.Dot(axes=(2, 2), name = 'Dot93520', )([Con23757,Res97271])
Res52919 = keras.layers.Reshape((3, 3, 1), name = 'Res52919', )(Dot93520)
Res93344 = keras.layers.Reshape((3, 3, 1, 1), name = 'Res93344', )(Res52919)
Cro75937 = keras.layers.Cropping3D(cropping=((0, 0), (1, 1), (0, 0)), name = 'Cro75937', )(Res93344)
Add1526 = keras.layers.Add(name = 'Add1526', )([Zer42006,Cro75937])
model = tf.keras.models.Model(inputs=[in0ELU73126,in0Dot51543,in1Dot51543,in0Con75502,in0Up_28343,in0Add96751,in1Add96751,in0Con23757,in0Sub11414,in1Sub11414], outputs=Add1526)
in0ELU73126 = tf.constant([[[[[0.8802], [0.665]]]]])
in0Dot51543 = tf.constant([[0.9712, 0.0031, 0.9854]])
in1Dot51543 = tf.constant([[0.9911, 0.9867, 0.5181]])
in0Con75502 = tf.constant([[0.993]])
in0Up_28343 = tf.constant([[[1.8108]]])
in0Add96751 = tf.constant([[[[[0.0985], [0.9069]], [[0.1808], [0.3861]]], [[[0.9406], [0.9942]], [[0.7107], [0.4941]]]]])
in1Add96751 = tf.constant([[[[[0.8497], [0.9879]], [[0.6668], [0.9372]]], [[[0.5754], [0.3505]], [[0.5376], [0.767]]]]])
in0Con23757 = tf.constant([[[0.1226, 0.1675], [0.8781, 0.965], [0.5591, 0.813]]])
in0Sub11414 = tf.constant([[[[0.9528, 0.0831], [0.7992, 0.9511], [0.2141, 0.7693]], [[0.9431, 0.2076], [0.6262, 0.6597], [0.6614, 0.0314]], [[0.0945, 0.2864], [0.3476, 0.2533], [0.6049, 0.313]]]])
in1Sub11414 = tf.constant([[[[0.8239, 0.8296], [0.8964, 0.0641], [0.7354, 0.9406]], [[0.5503, 0.4565], [0.3662, 0.8931], [0.7653, 0.8584]], [[0.7288, 0.7686], [0.4454, 0.7389], [0.6509, 0.2335]]]])
print (np.array2string(model.predict([in0ELU73126,in0Dot51543,in1Dot51543,in0Con75502,in0Up_28343,in0Add96751,in1Add96751,in0Con23757,in0Sub11414,in1Sub11414],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add1526.png')

LELU73126 = elu_layer([[[[[0.8802], [0.665]]]]], -3.1368866173659438, ELU73126), 
LRes93497 = reshape_layer(ELU73126, [1, 1, 2], Res93497), 
LRes77181 = reshape_layer(Res93497, [1, 2], Res77181), 
LFla38631 = flatten_layer(Res77181, Fla38631), 
LDot51543 = dot_layer([[0.9712, 0.0031, 0.9854]], [[0.9911, 0.9867, 0.5181]], 1, 1, Dot51543), 
LCon75502 = concatenate_layer([Dot51543,[[0.993]]], 1, Con75502), 
LAve8644 = average_layer([Fla38631,Con75502], Ave8644), 
LRes16156 = reshape_layer(Ave8644, [2, 1], Res16156), 
LRes36625 = reshape_layer(Res16156, [2, 1, 1], Res36625), 
LRes6937 = reshape_layer(Res36625, [2, 1, 1, 1], Res6937), 
LZer42006 = zero_padding3D_layer(Res6937, 1, 0, 0, 0, 0, 0, Zer42006), 
LUp_28343 = up_sampling1D_layer([[[1.8108]]], 2, Up_28343), 
LAdd96751 = add_layer([[[[[[0.0985], [0.9069]], [[0.1808], [0.3861]]], [[[0.9406], [0.9942]], [[0.7107], [0.4941]]]]], [[[[[0.8497], [0.9879]], [[0.6668], [0.9372]]], [[[0.5754], [0.3505]], [[0.5376], [0.767]]]]]], Add96751), 
LRes20758 = reshape_layer(Add96751, [2, 2, 2], Res20758), 
LRes10903 = reshape_layer(Res20758, [2, 4], Res10903), 
LDot14770 = dot_layer(Up_28343,Res10903, 1, 1, Dot14770), 
LZer41028 = zero_padding1D_layer(Dot14770, 2, 0, Zer41028), 
LCon23757 = concatenate_layer([Zer41028,[[[0.1226, 0.1675], [0.8781, 0.965], [0.5591, 0.813]]]], 2, Con23757), 
LSub11414 = subtract_layer([[[[0.9528, 0.0831], [0.7992, 0.9511], [0.2141, 0.7693]], [[0.9431, 0.2076], [0.6262, 0.6597], [0.6614, 0.0314]], [[0.0945, 0.2864], [0.3476, 0.2533], [0.6049, 0.313]]]], [[[[0.8239, 0.8296], [0.8964, 0.0641], [0.7354, 0.9406]], [[0.5503, 0.4565], [0.3662, 0.8931], [0.7653, 0.8584]], [[0.7288, 0.7686], [0.4454, 0.7389], [0.6509, 0.2335]]]], Sub11414), 
LRes97271 = reshape_layer(Sub11414, [3, 6], Res97271), 
LDot93520 = dot_layer(Con23757,Res97271, 2, 2, Dot93520), 
LRes52919 = reshape_layer(Dot93520, [3, 3, 1], Res52919), 
LRes93344 = reshape_layer(Res52919, [3, 3, 1, 1], Res93344), 
LCro75937 = cropping3D_layer(Res93344, 0, 0, 1, 1, 0, 0, Cro75937), 
LAdd1526 = add_layer([Zer42006,Cro75937], Add1526), 
exec_layers([LELU73126,LRes93497,LRes77181,LFla38631,LDot51543,LCon75502,LAve8644,LRes16156,LRes36625,LRes6937,LZer42006,LUp_28343,LAdd96751,LRes20758,LRes10903,LDot14770,LZer41028,LCon23757,LSub11414,LRes97271,LDot93520,LRes52919,LRes93344,LCro75937,LAdd1526],["ELU73126","Res93497","Res77181","Fla38631","Dot51543","Con75502","Ave8644","Res16156","Res36625","Res6937","Zer42006","Up_28343","Add96751","Res20758","Res10903","Dot14770","Zer41028","Con23757","Sub11414","Res97271","Dot93520","Res52919","Res93344","Cro75937","Add1526"],Add1526,"Add1526")

Actual (Unparsed): [[[[[-0.1512606]]], [[[0.2888859]]], [[[0.2857248]]]]]

Expected (Unparsed): [[[[[-0.15126064000000003]]],[[[0.2888858249999998]]],[[[0.28572506149999954]]]]]

Actual:   [[[[[-0.1512]]], [[[0.2889]]], [[[0.2858]]]]]

Expected: [[[[[-0.1512]]], [[[0.2889]]], [[[0.2858]]]]]