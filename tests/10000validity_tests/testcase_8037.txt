import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub92642 = tf.keras.layers.Input(shape=([3, 3, 3, 2]))
in1Sub92642 = tf.keras.layers.Input(shape=([3, 3, 3, 2]))
in0Mul3894 = tf.keras.layers.Input(shape=([1, 1, 1]))
in1Mul3894 = tf.keras.layers.Input(shape=([1, 1, 1]))
in0Con79647 = tf.keras.layers.Input(shape=([3, 3, 5]))

Sub92642 = keras.layers.Subtract(name = 'Sub92642', )([in0Sub92642,in1Sub92642])
ELU20520 = keras.layers.ELU(alpha=1.1882335542568772, name = 'ELU20520', )(Sub92642)
Res37028 = keras.layers.Reshape((3, 3, 6), name = 'Res37028', )(ELU20520)
Mul3894 = keras.layers.Multiply(name = 'Mul3894', )([in0Mul3894,in1Mul3894])
Zer78729 = keras.layers.ZeroPadding2D(padding=((2, 0), (2, 0)), name = 'Zer78729', )(Mul3894)
Con79647 = keras.layers.Concatenate(axis=3, name = 'Con79647', )([Zer78729,in0Con79647])
Sub40717 = keras.layers.Subtract(name = 'Sub40717', )([Res37028,Con79647])
model = tf.keras.models.Model(inputs=[in0Sub92642,in1Sub92642,in0Mul3894,in1Mul3894,in0Con79647], outputs=Sub40717)
in0Sub92642 = tf.constant([[[[[0.0084, 0.0536], [0.0054, 0.1877], [0.1503, 0.4506]], [[0.4434, 0.1732], [0.7402, 0.17], [0.0301, 0.4381]], [[0.2829, 0.1822], [0.4227, 0.108], [0.3458, 0.235]]], [[[0.9482, 0.1526], [0.1788, 0.0974], [0.2789, 0.2602]], [[0.684, 0.7989], [0.9227, 0.4625], [0.1258, 0.0099]], [[0.0884, 0.5905], [0.8764, 0.4682], [0.6564, 0.2962]]], [[[0.1849, 0.1431], [0.441, 0.5514], [0.4235, 0.6548]], [[0.6636, 0.2499], [0.5183, 0.3145], [0.575, 0.7803]], [[0.302, 0.0391], [0.4624, 0.2128], [0.3425, 0.3045]]]]])
in1Sub92642 = tf.constant([[[[[0.8538, 0.0481], [0.3915, 0.2523], [0.5965, 0.3129]], [[0.9784, 0.0395], [0.6233, 0.1566], [0.8276, 0.53]], [[0.648, 0.0006], [0.7193, 0.4679], [0.7318, 0.7247]]], [[[0.1298, 0.3424], [0.6497, 0.3353], [0.4929, 0.2579]], [[0.2511, 0.0545], [0.2015, 0.2551], [0.5593, 0.7924]], [[0.5364, 0.6964], [0.18, 0.5212], [0.5498, 0.5224]]], [[[0.703, 0.1572], [0.5602, 0.4165], [0.1689, 0.1743]], [[0.3223, 0.17], [0.3509, 0.3208], [0.1205, 0.835]], [[0.5484, 0.4954], [0.0099, 0.5684], [0.8333, 0.0459]]]]])
in0Mul3894 = tf.constant([[[[0.1753]]]])
in1Mul3894 = tf.constant([[[[0.4265]]]])
in0Con79647 = tf.constant([[[[0.6003, 0.9071, 0.315, 0.9985, 0.3954], [0.6221, 0.1468, 0.2077, 0.2858, 0.4082], [0.2296, 0.6635, 0.666, 0.6874, 0.4352]], [[0.3907, 0.0491, 0.1751, 0.0974, 0.3672], [0.087, 0.2152, 0.8049, 0.9427, 0.2373], [0.9109, 0.2003, 0.741, 0.6951, 0.0126]], [[0.2829, 0.792, 0.4438, 0.1406, 0.5299], [0.9717, 0.9264, 0.2022, 0.8743, 0.3037], [0.8898, 0.7966, 0.2089, 0.3182, 0.4127]]]])
print (np.array2string(model.predict([in0Sub92642,in1Sub92642,in0Mul3894,in1Mul3894,in0Con79647],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sub40717.png')

LSub92642 = subtract_layer([[[[[0.0084, 0.0536], [0.0054, 0.1877], [0.1503, 0.4506]], [[0.4434, 0.1732], [0.7402, 0.17], [0.0301, 0.4381]], [[0.2829, 0.1822], [0.4227, 0.108], [0.3458, 0.235]]], [[[0.9482, 0.1526], [0.1788, 0.0974], [0.2789, 0.2602]], [[0.684, 0.7989], [0.9227, 0.4625], [0.1258, 0.0099]], [[0.0884, 0.5905], [0.8764, 0.4682], [0.6564, 0.2962]]], [[[0.1849, 0.1431], [0.441, 0.5514], [0.4235, 0.6548]], [[0.6636, 0.2499], [0.5183, 0.3145], [0.575, 0.7803]], [[0.302, 0.0391], [0.4624, 0.2128], [0.3425, 0.3045]]]]], [[[[[0.8538, 0.0481], [0.3915, 0.2523], [0.5965, 0.3129]], [[0.9784, 0.0395], [0.6233, 0.1566], [0.8276, 0.53]], [[0.648, 0.0006], [0.7193, 0.4679], [0.7318, 0.7247]]], [[[0.1298, 0.3424], [0.6497, 0.3353], [0.4929, 0.2579]], [[0.2511, 0.0545], [0.2015, 0.2551], [0.5593, 0.7924]], [[0.5364, 0.6964], [0.18, 0.5212], [0.5498, 0.5224]]], [[[0.703, 0.1572], [0.5602, 0.4165], [0.1689, 0.1743]], [[0.3223, 0.17], [0.3509, 0.3208], [0.1205, 0.835]], [[0.5484, 0.4954], [0.0099, 0.5684], [0.8333, 0.0459]]]]], Sub92642), 
LELU20520 = elu_layer(Sub92642, 1.1882335542568772, ELU20520), 
LRes37028 = reshape_layer(ELU20520, [3, 3, 6], Res37028), 
LMul3894 = multiply_layer([[[[[0.1753]]]], [[[[0.4265]]]]], Mul3894), 
LZer78729 = zero_padding2D_layer(Mul3894, 2, 0, 2, 0, Zer78729), 
LCon79647 = concatenate_layer([Zer78729,[[[[0.6003, 0.9071, 0.315, 0.9985, 0.3954], [0.6221, 0.1468, 0.2077, 0.2858, 0.4082], [0.2296, 0.6635, 0.666, 0.6874, 0.4352]], [[0.3907, 0.0491, 0.1751, 0.0974, 0.3672], [0.087, 0.2152, 0.8049, 0.9427, 0.2373], [0.9109, 0.2003, 0.741, 0.6951, 0.0126]], [[0.2829, 0.792, 0.4438, 0.1406, 0.5299], [0.9717, 0.9264, 0.2022, 0.8743, 0.3037], [0.8898, 0.7966, 0.2089, 0.3182, 0.4127]]]]], 3, Con79647), 
LSub40717 = subtract_layer(Res37028,Con79647, Sub40717), 
exec_layers([LSub92642,LELU20520,LRes37028,LMul3894,LZer78729,LCon79647,LSub40717],["Sub92642","ELU20520","Res37028","Mul3894","Zer78729","Con79647","Sub40717"],Sub40717,"Sub40717")

Actual (Unparsed): [[[[-0.6780232, -0.5948000, -1.2876882, -0.3893331, -1.4261978, -0.2577000], [-0.4923216, -0.4884000, -0.0299000, -0.1943000, -0.9387894, -0.5125312], [-0.3634483, -0.0480000, -0.9684705, -1.0251482, -1.0679074, -0.8952719]], [[0.8184000, -0.5961164, -0.4953530, -0.4266710, -0.3263151, -0.3649000], [0.4329000, 0.6574000, 0.5060000, -0.5975000, -1.3606775, -0.8822002], [-0.4290656, -1.0303001, 0.4961000, -0.8023366, -0.5885000, -0.2531477]], [[-0.4804608, -0.2995365, -0.9255215, -0.3089000, 0.1140000, -0.0494000], [0.3413000, -0.8918000, -0.7590000, -0.2096623, -0.4198000, -0.3669507], [-0.3342643, -1.3251406, -0.3441000, -0.5644755, -0.7790724, -0.1541000]]]]

Expected (Unparsed): [[[[-0.6780232127118242,-0.5948,-1.2876881750249682,-0.3893330805801558,-1.42619783775752,-0.2577],[-0.4923216520090265,-0.4884,-0.02990000000000001,-0.19429999999999997,-0.9387893629601718,-0.5125312257433936],[-0.3634482830820972,-0.04799999999999999,-0.9684704919054423,-1.025148229221401,-1.0679074064486835,-0.895271900731494]],[[0.8184,-0.5961164195342545,-0.49535297071420903,-0.426671007572179,-0.32631511319782663,-0.36490000000000006],[0.43290000000000006,0.6574000000000001,0.506,-0.5974999999999999,-1.360677440283912,-0.8822001829119164],[-0.42906557071826623,-1.0303001298889332,0.4960999999999999,-0.8023366012388544,-0.5885,-0.25314769514642704]],[[-0.48046079894952826,-0.2995365299540491,-0.9255214991671892,-0.30889999999999995,0.11399999999999999,-0.0494],[0.3413,-0.8918,-0.759,-0.20966234033807904,-0.4198,-0.36695069861523677],[-0.33426434795243376,-1.3251405876376365,-0.3441,-0.56447548643175,-0.7790724381740577,-0.15410000000000001]]]]

Actual:   [[[[-0.678, -0.5948, -1.2876, -0.3893, -1.4261, -0.2577], [-0.4923, -0.4884, -0.0299, -0.1943, -0.9387, -0.5125], [-0.3634, -0.048, -0.9684, -1.0251, -1.0679, -0.8952]], [[0.8184, -0.5961, -0.4953, -0.4266, -0.3263, -0.3649], [0.4329, 0.6574, 0.506, -0.5975, -1.3606, -0.8822], [-0.429, -1.0303, 0.4961, -0.8023, -0.5885, -0.2531]], [[-0.4804, -0.2995, -0.9255, -0.3089, 0.114, -0.0494], [0.3413, -0.8918, -0.759, -0.2096, -0.4198, -0.3669], [-0.3342, -1.3251, -0.3441, -0.5644, -0.779, -0.1541]]]]

Expected: [[[[-0.678, -0.5948, -1.2876, -0.3893, -1.4261, -0.2577], [-0.4923, -0.4884, -0.0299, -0.1942, -0.9387, -0.5125], [-0.3634, -0.0479, -0.9684, -1.0251, -1.0679, -0.8952]], [[0.8184, -0.5961, -0.4953, -0.4266, -0.3263, -0.3649], [0.433, 0.6575, 0.506, -0.5974, -1.3606, -0.8822], [-0.429, -1.0303, 0.4961, -0.8023, -0.5885, -0.2531]], [[-0.4804, -0.2995, -0.9255, -0.3088, 0.114, -0.0494], [0.3413, -0.8918, -0.759, -0.2096, -0.4198, -0.3669], [-0.3342, -1.3251, -0.3441, -0.5644, -0.779, -0.1541]]]]