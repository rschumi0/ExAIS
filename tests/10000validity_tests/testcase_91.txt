import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo38372 = tf.keras.layers.Input(shape=([1, 2]))
in0Con41838 = tf.keras.layers.Input(shape=([7]))
in0Dot79999 = tf.keras.layers.Input(shape=([3, 3]))
in1Dot79999 = tf.keras.layers.Input(shape=([3, 3]))
in0Dot95689 = tf.keras.layers.Input(shape=([2]))
in1Dot95689 = tf.keras.layers.Input(shape=([2]))
in0Con82088 = tf.keras.layers.Input(shape=([8]))

Glo38372 = keras.layers.GlobalMaxPool1D(name = 'Glo38372', )(in0Glo38372)
Con41838 = keras.layers.Concatenate(axis=1, name = 'Con41838', )([Glo38372,in0Con41838])
Dot79999 = keras.layers.Dot(axes=(1, 1), name = 'Dot79999', )([in0Dot79999,in1Dot79999])
Fla85998 = keras.layers.Flatten(name = 'Fla85998', )(Dot79999)
Dot95689 = keras.layers.Dot(axes=(1, 1), name = 'Dot95689', )([in0Dot95689,in1Dot95689])
Con82088 = keras.layers.Concatenate(axis=1, name = 'Con82088', )([Dot95689,in0Con82088])
Add28469 = keras.layers.Add(name = 'Add28469', )([Fla85998,Con82088])
Max18983 = keras.layers.Maximum(name = 'Max18983', )([Con41838,Add28469])
model = tf.keras.models.Model(inputs=[in0Glo38372,in0Con41838,in0Dot79999,in1Dot79999,in0Dot95689,in1Dot95689,in0Con82088], outputs=Max18983)
in0Glo38372 = tf.constant([[[1.9282, 1.296]]])
in0Con41838 = tf.constant([[0.8482, 0.3976, 0.3746, 0.5604, 0.1431, 0.8087, 0.2908]])
in0Dot79999 = tf.constant([[[0.1014, 0.1852, 0.9708], [0.4797, 0.4664, 0.062], [0.8553, 0.5646, 0.0959]]])
in1Dot79999 = tf.constant([[[0.9788, 0.8551, 0.6076], [0.2275, 0.8507, 0.8818], [0.2867, 0.6426, 0.0213]]])
in0Dot95689 = tf.constant([[0.052, 0.1767]])
in1Dot95689 = tf.constant([[0.8859, 0.2131]])
in0Con82088 = tf.constant([[0.1692, 0.5614, 0.9419, 0.966, 0.601, 0.343, 0.1873, 0.5438]])
print (np.array2string(model.predict([in0Glo38372,in0Con41838,in0Dot79999,in1Dot79999,in0Dot95689,in1Dot95689,in0Con82088],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max18983.png')

LGlo38372 = global_max_pool1D_layer([[[1.9282, 1.296]]], Glo38372), 
LCon41838 = concatenate_layer([Glo38372,[[0.8482, 0.3976, 0.3746, 0.5604, 0.1431, 0.8087, 0.2908]]], 1, Con41838), 
LDot79999 = dot_layer([[[0.1014, 0.1852, 0.9708], [0.4797, 0.4664, 0.062], [0.8553, 0.5646, 0.0959]]], [[[0.9788, 0.8551, 0.6076], [0.2275, 0.8507, 0.8818], [0.2867, 0.6426, 0.0213]]], 1, 1, Dot79999), 
LFla85998 = flatten_layer(Dot79999, Fla85998), 
LDot95689 = dot_layer([[0.052, 0.1767]], [[0.8859, 0.2131]], 1, 1, Dot95689), 
LCon82088 = concatenate_layer([Dot95689,[[0.1692, 0.5614, 0.9419, 0.966, 0.601, 0.343, 0.1873, 0.5438]]], 1, Con82088), 
LAdd28469 = add_layer([Fla85998,Con82088], Add28469), 
LMax18983 = maximum_layer([Con41838,Add28469], Max18983), 
exec_layers([LGlo38372,LCon41838,LDot79999,LFla85998,LDot95689,LCon82088,LAdd28469,LMax18983],["Glo38372","Con41838","Dot79999","Fla85998","Dot95689","Con82088","Add28469","Max18983"],Max18983,"Max18983")

Actual (Unparsed): [[1.9282000, 1.2960000, 1.0642280, 1.3911506, 1.8839430, 1.1368250, 1.3348185, 1.1317998, 1.1903723]]

Expected (Unparsed): [[1.9282,1.296,1.06422799,1.39115058,1.88394296,1.1368250199999999,1.3348185700000001,1.13179982,1.19037235]]

Actual:   [[1.9282, 1.296, 1.0643, 1.3912, 1.884, 1.1369, 1.3349, 1.1318, 1.1904]]

Expected: [[1.9282, 1.296, 1.0643, 1.3912, 1.884, 1.1369, 1.3349, 1.1318, 1.1904]]