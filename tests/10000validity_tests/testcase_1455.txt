import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max65456 = tf.keras.layers.Input(shape=([1, 2, 1]))
in1Max65456 = tf.keras.layers.Input(shape=([1, 2, 1]))
in0Add66551 = tf.keras.layers.Input(shape=([1, 2]))
in1Add66551 = tf.keras.layers.Input(shape=([1, 2]))

Max65456 = keras.layers.Maximum(name = 'Max65456', )([in0Max65456,in1Max65456])
Up_14542 = keras.layers.UpSampling2D(size=(1, 2), name = 'Up_14542', )(Max65456)
Res74747 = keras.layers.Reshape((1, 4), name = 'Res74747', )(Up_14542)
Add66551 = keras.layers.Add(name = 'Add66551', )([in0Add66551,in1Add66551])
Dot58080 = keras.layers.Dot(axes=(1, 1), name = 'Dot58080', )([Res74747,Add66551])
Lea41598 = keras.layers.LeakyReLU(alpha=5.096257075666648, name = 'Lea41598', )(Dot58080)
model = tf.keras.models.Model(inputs=[in0Max65456,in1Max65456,in0Add66551,in1Add66551], outputs=Lea41598)
in0Max65456 = tf.constant([[[[0.6454], [0.7746]]]])
in1Max65456 = tf.constant([[[[0.891], [0.3328]]]])
in0Add66551 = tf.constant([[[0.6764, 0.8388]]])
in1Add66551 = tf.constant([[[0.3747, 0.9297]]])
print (np.array2string(model.predict([in0Max65456,in1Max65456,in0Add66551,in1Add66551],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Lea41598.png')

LMax65456 = maximum_layer([[[[[0.6454], [0.7746]]]], [[[[0.891], [0.3328]]]]], Max65456), 
LUp_14542 = up_sampling2D_layer(Max65456, 1, 2, Up_14542), 
LRes74747 = reshape_layer(Up_14542, [1, 4], Res74747), 
LAdd66551 = add_layer([[[[0.6764, 0.8388]]], [[[0.3747, 0.9297]]]], Add66551), 
LDot58080 = dot_layer(Res74747,Add66551, 1, 1, Dot58080), 
LLea41598 = leaky_relu_layer(Dot58080, 5.096257075666648, Lea41598), 
exec_layers([LMax65456,LUp_14542,LRes74747,LAdd66551,LDot58080,LLea41598],["Max65456","Up_14542","Res74747","Add66551","Dot58080","Lea41598"],Lea41598,"Lea41598")

Actual (Unparsed): [[[0.9365301, 1.5757335], [0.9365301, 1.5757335], [0.8141821, 1.3698802], [0.8141821, 1.3698802]]]

Expected (Unparsed): [[[0.9365300999999999,1.5757335],[0.9365300999999999,1.5757335],[0.8141820599999999,1.3698800999999998],[0.8141820599999999,1.3698800999999998]]]

Actual:   [[[0.9366, 1.5758], [0.9366, 1.5758], [0.8142, 1.3699], [0.8142, 1.3699]]]

Expected: [[[0.9366, 1.5758], [0.9366, 1.5758], [0.8142, 1.3699], [0.8142, 1.3699]]]