import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mas64279 = tf.keras.layers.Input(shape=([2]))

Mas64279 = keras.layers.Masking(mask_value=1, name = 'Mas64279', )(in0Mas64279)
Res73071 = keras.layers.Reshape((2, 1), name = 'Res73071', )(Mas64279)
Res34651 = keras.layers.Reshape((2, 1, 1), name = 'Res34651', )(Res73071)
Con30029 = keras.layers.Conv2D(4, (2, 1),strides=(1, 12), padding='valid', dilation_rate=(1, 1), name = 'Con30029', )(Res34651)
Lay55426 = keras.layers.LayerNormalization(axis=1, epsilon=1.0040713595830315, name = 'Lay55426', )(Con30029)
Res22055 = keras.layers.Reshape((1, 1, 4, 1), name = 'Res22055', )(Lay55426)
Glo40668 = keras.layers.GlobalAveragePooling3D(name = 'Glo40668', )(Res22055)
Res14813 = keras.layers.Reshape((1, 1), name = 'Res14813', )(Glo40668)
Res40033 = keras.layers.Reshape((1, 1, 1), name = 'Res40033', )(Res14813)
Cro18645 = keras.layers.Cropping2D(cropping=((0, 0), (0, 0)), name = 'Cro18645', )(Res40033)
model = tf.keras.models.Model(inputs=[in0Mas64279], outputs=Cro18645)
w = model.get_layer('Con30029').get_weights() 
w[0] = np.array([[[[0.7189, 0.697, 0.8149, 0.4844]]], [[[0.1979, 0.8526, 0.3619, 0.5706]]]])
w[1] = np.array([0, 0, 0, 0])
model.get_layer('Con30029').set_weights(w) 
in0Mas64279 = tf.constant([[1.9442, 1.9432]])
print (np.array2string(model.predict([in0Mas64279],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Cro18645.png')

LMas64279 = masking_layer([[1.9442, 1.9432]], 1, Mas64279), 
LRes73071 = reshape_layer(Mas64279, [2, 1], Res73071), 
LRes34651 = reshape_layer(Res73071, [2, 1, 1], Res34651), 
LCon30029 = conv2D_layer(Res34651, 2, 1,[[[[0.7189, 0.697, 0.8149, 0.4844]]], [[[0.1979, 0.8526, 0.3619, 0.5706]]]],[0, 0, 0, 0], 1, 12, false, 1, 1, Con30029), 
LLay55426 = layer_normalization_layer(Con30029, 1, 1.0040713595830315, Lay55426), 
LRes22055 = reshape_layer(Lay55426, [1, 1, 4, 1], Res22055), 
LGlo40668 = global_average_pooling3D_layer(Res22055, Glo40668), 
LRes14813 = reshape_layer(Glo40668, [1, 1], Res14813), 
LRes40033 = reshape_layer(Res14813, [1, 1, 1], Res40033), 
LCro18645 = cropping2D_layer(Res40033, 0, 0, 0, 0, Cro18645), 
exec_layers([LMas64279,LRes73071,LRes34651,LCon30029,LLay55426,LRes22055,LGlo40668,LRes14813,LRes40033,LCro18645],["Mas64279","Res73071","Res34651","Con30029","Lay55426","Res22055","Glo40668","Res14813","Res40033","Cro18645"],Cro18645,"Cro18645")

Actual (Unparsed): [[[[0.0000000]]]]

Expected (Unparsed): [[[[0.0]]]]

Actual:   [[[[0]]]]

Expected: [[[[0]]]]