import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo44270 = tf.keras.layers.Input(shape=([1, 1, 2]))
in0Con58313 = tf.keras.layers.Input(shape=([99]))

Glo44270 = keras.layers.GlobalMaxPool2D(name = 'Glo44270', )(in0Glo44270)
Con58313 = keras.layers.Concatenate(axis=1, name = 'Con58313', )([Glo44270,in0Con58313])
Res26199 = keras.layers.Reshape((101, 1), name = 'Res26199', )(Con58313)
Glo53799 = keras.layers.GlobalAveragePooling1D(name = 'Glo53799', )(Res26199)
model = tf.keras.models.Model(inputs=[in0Glo44270,in0Con58313], outputs=Glo53799)
in0Glo44270 = tf.constant([[[[1.7171, 1.7433]]]])
in0Con58313 = tf.constant([[0.0381, 0.6993, 0.2699, 0.0464, 0.9456, 0.6609, 0.861, 0.8896, 0.3716, 0.6395, 0.2426, 0.9892, 0.1059, 0.1455, 0.7095, 0.4391, 0.4174, 0.0554, 0.9562, 0.4369, 0.644, 0.3251, 0.4772, 0.1569, 0.724, 0.5608, 0.5491, 0.4858, 0.6861, 0.6279, 0.0425, 0.3015, 0.1503, 0.3621, 0.6126, 0.7505, 0.7044, 0.3602, 0.3949, 0.2846, 0.6139, 0.7787, 0.1922, 0.054, 0.702, 0.04, 0.2832, 0.6242, 0.3919, 0.36, 0.4031, 0.8799, 0.8414, 0.0481, 0.1517, 0.4131, 0.8213, 0.6027, 0.0715, 0.6535, 0.49, 0.7268, 0.9012, 0.4914, 0.4956, 0.5247, 0.0621, 0.1684, 0.9062, 0.3032, 0.2601, 0.7679, 0.3073, 0.5969, 0.2004, 0.7233, 0.0369, 0.2685, 0.7988, 0.3784, 0.932, 0.7879, 0.9515, 0.7883, 0.1507, 0.0897, 0.8748, 0.6246, 0.6034, 0.7258, 0.2649, 0.2644, 0.2781, 0.3844, 0.0425, 0.8842, 0.275, 0.2307, 0.2455]])
print (np.array2string(model.predict([in0Glo44270,in0Con58313],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo53799.png')

LGlo44270 = global_max_pool2D_layer([[[[1.7171, 1.7433]]]], Glo44270), 
LCon58313 = concatenate_layer([Glo44270,[[0.0381, 0.6993, 0.2699, 0.0464, 0.9456, 0.6609, 0.861, 0.8896, 0.3716, 0.6395, 0.2426, 0.9892, 0.1059, 0.1455, 0.7095, 0.4391, 0.4174, 0.0554, 0.9562, 0.4369, 0.644, 0.3251, 0.4772, 0.1569, 0.724, 0.5608, 0.5491, 0.4858, 0.6861, 0.6279, 0.0425, 0.3015, 0.1503, 0.3621, 0.6126, 0.7505, 0.7044, 0.3602, 0.3949, 0.2846, 0.6139, 0.7787, 0.1922, 0.054, 0.702, 0.04, 0.2832, 0.6242, 0.3919, 0.36, 0.4031, 0.8799, 0.8414, 0.0481, 0.1517, 0.4131, 0.8213, 0.6027, 0.0715, 0.6535, 0.49, 0.7268, 0.9012, 0.4914, 0.4956, 0.5247, 0.0621, 0.1684, 0.9062, 0.3032, 0.2601, 0.7679, 0.3073, 0.5969, 0.2004, 0.7233, 0.0369, 0.2685, 0.7988, 0.3784, 0.932, 0.7879, 0.9515, 0.7883, 0.1507, 0.0897, 0.8748, 0.6246, 0.6034, 0.7258, 0.2649, 0.2644, 0.2781, 0.3844, 0.0425, 0.8842, 0.275, 0.2307, 0.2455]]], 1, Con58313), 
LRes26199 = reshape_layer(Con58313, [101, 1], Res26199), 
LGlo53799 = global_average_pooling1D_layer(Res26199, Glo53799), 
exec_layers([LGlo44270,LCon58313,LRes26199,LGlo53799],["Glo44270","Con58313","Res26199","Glo53799"],Glo53799,"Glo53799")

Actual (Unparsed): [[0.4981525]]

Expected (Unparsed): [[0.4981524752475248]]

Actual:   [[0.4982]]

Expected: [[0.4982]]