import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Cro7482 = tf.keras.layers.Input(shape=([2, 4, 1]))
in0Ave40665 = tf.keras.layers.Input(shape=([2, 1]))
in1Ave40665 = tf.keras.layers.Input(shape=([2, 1]))
in0Con83870 = tf.keras.layers.Input(shape=([2, 1]))

Cro7482 = keras.layers.Cropping2D(cropping=((1, 0), (0, 2)), name = 'Cro7482', )(in0Cro7482)
Res86607 = keras.layers.Reshape((1, 2), name = 'Res86607', )(Cro7482)
Zer99139 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer99139', )(Res86607)
Ave40665 = keras.layers.Average(name = 'Ave40665', )([in0Ave40665,in1Ave40665])
Con83870 = keras.layers.Concatenate(axis=2, name = 'Con83870', )([Ave40665,in0Con83870])
Max10673 = keras.layers.Maximum(name = 'Max10673', )([Zer99139,Con83870])
model = tf.keras.models.Model(inputs=[in0Cro7482,in0Ave40665,in1Ave40665,in0Con83870], outputs=Max10673)
in0Cro7482 = tf.constant([[[[1.2052], [1.6397], [1.5226], [1.2738]], [[1.2039], [1.3947], [1.6569], [1.0165]]]])
in0Ave40665 = tf.constant([[[0.6493], [0.8011]]])
in1Ave40665 = tf.constant([[[0.0253], [0.4155]]])
in0Con83870 = tf.constant([[[0.175], [0.6319]]])
print (np.array2string(model.predict([in0Cro7482,in0Ave40665,in1Ave40665,in0Con83870],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max10673.png')

LCro7482 = cropping2D_layer([[[[1.2052], [1.6397], [1.5226], [1.2738]], [[1.2039], [1.3947], [1.6569], [1.0165]]]], 1, 0, 0, 2, Cro7482), 
LRes86607 = reshape_layer(Cro7482, [1, 2], Res86607), 
LZer99139 = zero_padding1D_layer(Res86607, 1, 0, Zer99139), 
LAve40665 = average_layer([[[[0.6493], [0.8011]]], [[[0.0253], [0.4155]]]], Ave40665), 
LCon83870 = concatenate_layer([Ave40665,[[[0.175], [0.6319]]]], 2, Con83870), 
LMax10673 = maximum_layer([Zer99139,Con83870], Max10673), 
exec_layers([LCro7482,LRes86607,LZer99139,LAve40665,LCon83870,LMax10673],["Cro7482","Res86607","Zer99139","Ave40665","Con83870","Max10673"],Max10673,"Max10673")

Actual (Unparsed): [[[0.3373000, 0.1750000], [1.2039000, 1.3947001]]]

Expected (Unparsed): [[[0.3373,0.175],[1.2039,1.3947]]]

Actual:   [[[0.3373, 0.175], [1.2039, 1.3948]]]

Expected: [[[0.3373, 0.175], [1.2039, 1.3947]]]