import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave45318 = tf.keras.layers.Input(shape=([2, 1, 2, 1]))
in1Ave45318 = tf.keras.layers.Input(shape=([2, 1, 2, 1]))

Ave45318 = keras.layers.Average(name = 'Ave45318', )([in0Ave45318,in1Ave45318])
Res9847 = keras.layers.Reshape((2, 1, 2), name = 'Res9847', )(Ave45318)
Res32887 = keras.layers.Reshape((2, 2), name = 'Res32887', )(Res9847)
Up_27717 = keras.layers.UpSampling1D(size=(2), name = 'Up_27717', )(Res32887)
Up_88524 = keras.layers.UpSampling1D(size=(2), name = 'Up_88524', )(Up_27717)
Res13335 = keras.layers.Reshape((8, 2, 1), name = 'Res13335', )(Up_88524)
Res14179 = keras.layers.Reshape((8, 2, 1, 1), name = 'Res14179', )(Res13335)
Zer29347 = keras.layers.ZeroPadding3D(padding=((1, 1), (1, 1), (1, 1)), name = 'Zer29347', )(Res14179)
model = tf.keras.models.Model(inputs=[in0Ave45318,in1Ave45318], outputs=Zer29347)
in0Ave45318 = tf.constant([[[[[0.3277], [0.0185]]], [[[0.6162], [0.404]]]]])
in1Ave45318 = tf.constant([[[[[0.139], [0.7123]]], [[[0.4032], [0.8316]]]]])
print (np.array2string(model.predict([in0Ave45318,in1Ave45318],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Zer29347.png')

LAve45318 = average_layer([[[[[[0.3277], [0.0185]]], [[[0.6162], [0.404]]]]], [[[[[0.139], [0.7123]]], [[[0.4032], [0.8316]]]]]], Ave45318), 
LRes9847 = reshape_layer(Ave45318, [2, 1, 2], Res9847), 
LRes32887 = reshape_layer(Res9847, [2, 2], Res32887), 
LUp_27717 = up_sampling1D_layer(Res32887, 2, Up_27717), 
LUp_88524 = up_sampling1D_layer(Up_27717, 2, Up_88524), 
LRes13335 = reshape_layer(Up_88524, [8, 2, 1], Res13335), 
LRes14179 = reshape_layer(Res13335, [8, 2, 1, 1], Res14179), 
LZer29347 = zero_padding3D_layer(Res14179, 1, 1, 1, 1, 1, 1, Zer29347), 
exec_layers([LAve45318,LRes9847,LRes32887,LUp_27717,LUp_88524,LRes13335,LRes14179,LZer29347],["Ave45318","Res9847","Res32887","Up_27717","Up_88524","Res13335","Res14179","Zer29347"],Zer29347,"Zer29347")

Actual (Unparsed): [[[[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.2333500], [0.0000000]], [[0.0000000], [0.3654000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.2333500], [0.0000000]], [[0.0000000], [0.3654000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.2333500], [0.0000000]], [[0.0000000], [0.3654000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.2333500], [0.0000000]], [[0.0000000], [0.3654000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.5097000], [0.0000000]], [[0.0000000], [0.6178000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.5097000], [0.0000000]], [[0.0000000], [0.6178000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.5097000], [0.0000000]], [[0.0000000], [0.6178000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.5097000], [0.0000000]], [[0.0000000], [0.6178000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]]]]

Expected (Unparsed): [[[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0.23335],[0]],[[0],[0.3654],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0.23335],[0]],[[0],[0.3654],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0.23335],[0]],[[0],[0.3654],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0.23335],[0]],[[0],[0.3654],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0.5097],[0]],[[0],[0.6178],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0.5097],[0]],[[0],[0.6178],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0.5097],[0]],[[0],[0.6178],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0.5097],[0]],[[0],[0.6178],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]]]]]

Actual:   [[[[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.2334], [0]], [[0], [0.3654], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.2334], [0]], [[0], [0.3654], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.2334], [0]], [[0], [0.3654], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.2334], [0]], [[0], [0.3654], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.5097], [0]], [[0], [0.6178], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.5097], [0]], [[0], [0.6178], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.5097], [0]], [[0], [0.6178], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.5097], [0]], [[0], [0.6178], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]]]]

Expected: [[[[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.2334], [0]], [[0], [0.3654], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.2334], [0]], [[0], [0.3654], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.2334], [0]], [[0], [0.3654], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.2334], [0]], [[0], [0.3654], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.5097], [0]], [[0], [0.6178], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.5097], [0]], [[0], [0.6178], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.5097], [0]], [[0], [0.6178], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.5097], [0]], [[0], [0.6178], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]]]]