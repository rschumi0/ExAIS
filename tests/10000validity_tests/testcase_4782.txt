import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min59525 = tf.keras.layers.Input(shape=([2, 1, 2]))
in1Min59525 = tf.keras.layers.Input(shape=([2, 1, 2]))

Min59525 = keras.layers.Minimum(name = 'Min59525', )([in0Min59525,in1Min59525])
Res77694 = keras.layers.Reshape((2, 2), name = 'Res77694', )(Min59525)
Ave79946 = keras.layers.AveragePooling1D(pool_size=(2), name = 'Ave79946', )(Res77694)
Res56173 = keras.layers.Reshape((1, 2, 1), name = 'Res56173', )(Ave79946)
Con13798 = keras.layers.Conv2D(4, (1, 1),strides=(1, 1), padding='same', dilation_rate=(1, 1), name = 'Con13798', )(Res56173)
PRe82990 = keras.layers.PReLU(name = 'PRe82990', )(Con13798)
model = tf.keras.models.Model(inputs=[in0Min59525,in1Min59525], outputs=PRe82990)
w = model.get_layer('Con13798').get_weights() 
w[0] = np.array([[[[0.4055, 0.5337, 0.1241, 0.0023]]]])
w[1] = np.array([0, 0, 0, 0])
model.get_layer('Con13798').set_weights(w) 
w = model.get_layer('PRe82990').get_weights() 
w[0] = np.array([[[0.2025, 0.2376, 0.6148, 0.9024], [0.9604, 0.5343, 0.978, 0.6545]]])
model.get_layer('PRe82990').set_weights(w) 
in0Min59525 = tf.constant([[[[0.4677, 0.895]], [[0.3761, 0.975]]]])
in1Min59525 = tf.constant([[[[0.801, 0.1543]], [[0.0231, 0.6912]]]])
print (np.array2string(model.predict([in0Min59525,in1Min59525],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='PRe82990.png')

LMin59525 = minimum_layer([[[[[0.4677, 0.895]], [[0.3761, 0.975]]]], [[[[0.801, 0.1543]], [[0.0231, 0.6912]]]]], Min59525), 
LRes77694 = reshape_layer(Min59525, [2, 2], Res77694), 
LAve79946 = average_pooling1D_layer(Res77694, 2, Ave79946), 
LRes56173 = reshape_layer(Ave79946, [1, 2, 1], Res56173), 
LCon13798 = conv2D_layer(Res56173, 1, 1,[[[[0.4055, 0.5337, 0.1241, 0.0023]]]],[0, 0, 0, 0], 1, 1, true, 1, 1, Con13798), 
LPRe82990 = prelu_layer(Con13798, [[[0.2025, 0.2376, 0.6148, 0.9024], [0.9604, 0.5343, 0.978, 0.6545]]], PRe82990), 
exec_layers([LMin59525,LRes77694,LAve79946,LRes56173,LCon13798,LPRe82990],["Min59525","Res77694","Ave79946","Res56173","Con13798","PRe82990"],PRe82990,"PRe82990")

Actual (Unparsed): [[[[0.0995097, 0.1309700, 0.0304541, 0.0005644], [0.1714251, 0.2256217, 0.0524633, 0.0009723]]]]

Expected (Unparsed): [[[[0.0995097,0.13096997999999999,0.03045414,0.00056442],[0.171425125,0.225621675,0.052463275000000004,0.000972325]]]]

Actual:   [[[[0.0996, 0.131, 0.0305, 0.0006], [0.1715, 0.2257, 0.0525, 0.001]]]]

Expected: [[[[0.0996, 0.131, 0.0305, 0.0006], [0.1715, 0.2257, 0.0525, 0.001]]]]