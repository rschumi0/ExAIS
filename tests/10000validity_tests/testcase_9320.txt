import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave38778 = tf.keras.layers.Input(shape=([1, 2, 1]))
in1Ave38778 = tf.keras.layers.Input(shape=([1, 2, 1]))
in0Mul83730 = tf.keras.layers.Input(shape=([1, 1]))
in1Mul83730 = tf.keras.layers.Input(shape=([1, 1]))
in0Con87601 = tf.keras.layers.Input(shape=([1, 1]))
in0Max2037 = tf.keras.layers.Input(shape=([1, 1, 2, 1]))
in1Max2037 = tf.keras.layers.Input(shape=([1, 1, 2, 1]))
in0Con46186 = tf.keras.layers.Input(shape=([1, 6]))
in0Per5374 = tf.keras.layers.Input(shape=([1, 3]))
in0Con9675 = tf.keras.layers.Input(shape=([1, 7]))
in0Add20308 = tf.keras.layers.Input(shape=([1, 2, 2, 2]))
in1Add20308 = tf.keras.layers.Input(shape=([1, 2, 2, 2]))
in0Max39084 = tf.keras.layers.Input(shape=([1, 2]))
in1Max39084 = tf.keras.layers.Input(shape=([1, 2]))
in0Con69932 = tf.keras.layers.Input(shape=([1, 6]))

Ave38778 = keras.layers.Average(name = 'Ave38778', )([in0Ave38778,in1Ave38778])
Res16832 = keras.layers.Reshape((1, 2), name = 'Res16832', )(Ave38778)
Mul83730 = keras.layers.Multiply(name = 'Mul83730', )([in0Mul83730,in1Mul83730])
Con87601 = keras.layers.Concatenate(axis=2, name = 'Con87601', )([Mul83730,in0Con87601])
Max15794 = keras.layers.Maximum(name = 'Max15794', )([Res16832,Con87601])
Max2037 = keras.layers.Maximum(name = 'Max2037', )([in0Max2037,in1Max2037])
Res12798 = keras.layers.Reshape((1, 1, 2), name = 'Res12798', )(Max2037)
Res62848 = keras.layers.Reshape((1, 2), name = 'Res62848', )(Res12798)
Cro64718 = keras.layers.Cropping1D(cropping=((0, 0)), name = 'Cro64718', )(Res62848)
Ave83405 = keras.layers.Average(name = 'Ave83405', )([Max15794,Cro64718])
Con46186 = keras.layers.Concatenate(axis=2, name = 'Con46186', )([Ave83405,in0Con46186])
Per5374 = keras.layers.Permute((1,2), name = 'Per5374',)(in0Per5374)
Res29823 = keras.layers.Reshape((1, 3, 1), name = 'Res29823', )(Per5374)
Res74294 = keras.layers.Reshape((1, 3, 1, 1), name = 'Res74294', )(Res29823)
Glo33004 = keras.layers.GlobalMaxPool3D(name = 'Glo33004', )(Res74294)
Res7287 = keras.layers.Reshape((1, 1), name = 'Res7287', )(Glo33004)
Con9675 = keras.layers.Concatenate(axis=2, name = 'Con9675', )([Res7287,in0Con9675])
Add20308 = keras.layers.Add(name = 'Add20308', )([in0Add20308,in1Add20308])
Res59208 = keras.layers.Reshape((1, 2, 4), name = 'Res59208', )(Add20308)
Res90827 = keras.layers.Reshape((1, 8), name = 'Res90827', )(Res59208)
Max39084 = keras.layers.Maximum(name = 'Max39084', )([in0Max39084,in1Max39084])
Con69932 = keras.layers.Concatenate(axis=2, name = 'Con69932', )([Max39084,in0Con69932])
Min45441 = keras.layers.Minimum(name = 'Min45441', )([Res90827,Con69932])
Add17372 = keras.layers.Add(name = 'Add17372', )([Con9675,Min45441])
Add78405 = keras.layers.Add(name = 'Add78405', )([Con46186,Add17372])
model = tf.keras.models.Model(inputs=[in0Ave38778,in1Ave38778,in0Mul83730,in1Mul83730,in0Con87601,in0Max2037,in1Max2037,in0Con46186,in0Per5374,in0Con9675,in0Add20308,in1Add20308,in0Max39084,in1Max39084,in0Con69932], outputs=Add78405)
in0Ave38778 = tf.constant([[[[0.176], [0.7182]]]])
in1Ave38778 = tf.constant([[[[0.5452], [0.7598]]]])
in0Mul83730 = tf.constant([[[0.6573]]])
in1Mul83730 = tf.constant([[[0.9235]]])
in0Con87601 = tf.constant([[[0.684]]])
in0Max2037 = tf.constant([[[[[0.267], [0.4905]]]]])
in1Max2037 = tf.constant([[[[[0.6559], [0.0944]]]]])
in0Con46186 = tf.constant([[[0.854, 0.2128, 0.7109, 0.8496, 0.7905, 0.9992]]])
in0Per5374 = tf.constant([[[1.1748, 1.2788, 1.646]]])
in0Con9675 = tf.constant([[[0.7526, 0.0796, 0.2404, 0.7237, 0.5617, 0.0521, 0.521]]])
in0Add20308 = tf.constant([[[[[0.6666, 0.3685], [0.7348, 0.2381]], [[0.0157, 0.5989], [0.5612, 0.8691]]]]])
in1Add20308 = tf.constant([[[[[0.2785, 0.1678], [0.3851, 0.2449]], [[0.7147, 0.0767], [0.954, 0.8266]]]]])
in0Max39084 = tf.constant([[[0.477, 0.2373]]])
in1Max39084 = tf.constant([[[0.211, 0.3547]]])
in0Con69932 = tf.constant([[[0.3037, 0.9798, 0.6233, 0.3156, 0.0073, 0.597]]])
print (np.array2string(model.predict([in0Ave38778,in1Ave38778,in0Mul83730,in1Mul83730,in0Con87601,in0Max2037,in1Max2037,in0Con46186,in0Per5374,in0Con9675,in0Add20308,in1Add20308,in0Max39084,in1Max39084,in0Con69932],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add78405.png')

LAve38778 = average_layer([[[[[0.176], [0.7182]]]], [[[[0.5452], [0.7598]]]]], Ave38778), 
LRes16832 = reshape_layer(Ave38778, [1, 2], Res16832), 
LMul83730 = multiply_layer([[[[0.6573]]], [[[0.9235]]]], Mul83730), 
LCon87601 = concatenate_layer([Mul83730,[[[0.684]]]], 2, Con87601), 
LMax15794 = maximum_layer([Res16832,Con87601], Max15794), 
LMax2037 = maximum_layer([[[[[[0.267], [0.4905]]]]], [[[[[0.6559], [0.0944]]]]]], Max2037), 
LRes12798 = reshape_layer(Max2037, [1, 1, 2], Res12798), 
LRes62848 = reshape_layer(Res12798, [1, 2], Res62848), 
LCro64718 = cropping1D_layer(Res62848, 0, 0, Cro64718), 
LAve83405 = average_layer([Max15794,Cro64718], Ave83405), 
LCon46186 = concatenate_layer([Ave83405,[[[0.854, 0.2128, 0.7109, 0.8496, 0.7905, 0.9992]]]], 2, Con46186), 
LPer5374 = permute_layer([[[1.1748, 1.2788, 1.646]]], 1,2, Per5374), 
LRes29823 = reshape_layer(Per5374, [1, 3, 1], Res29823), 
LRes74294 = reshape_layer(Res29823, [1, 3, 1, 1], Res74294), 
LGlo33004 = global_max_pool3D_layer(Res74294, Glo33004), 
LRes7287 = reshape_layer(Glo33004, [1, 1], Res7287), 
LCon9675 = concatenate_layer([Res7287,[[[0.7526, 0.0796, 0.2404, 0.7237, 0.5617, 0.0521, 0.521]]]], 2, Con9675), 
LAdd20308 = add_layer([[[[[[0.6666, 0.3685], [0.7348, 0.2381]], [[0.0157, 0.5989], [0.5612, 0.8691]]]]], [[[[[0.2785, 0.1678], [0.3851, 0.2449]], [[0.7147, 0.0767], [0.954, 0.8266]]]]]], Add20308), 
LRes59208 = reshape_layer(Add20308, [1, 2, 4], Res59208), 
LRes90827 = reshape_layer(Res59208, [1, 8], Res90827), 
LMax39084 = maximum_layer([[[[0.477, 0.2373]]], [[[0.211, 0.3547]]]], Max39084), 
LCon69932 = concatenate_layer([Max39084,[[[0.3037, 0.9798, 0.6233, 0.3156, 0.0073, 0.597]]]], 2, Con69932), 
LMin45441 = minimum_layer([Res90827,Con69932], Min45441), 
LAdd17372 = add_layer([Con9675,Min45441], Add17372), 
LAdd78405 = add_layer([Con46186,Add17372], Add78405), 
exec_layers([LAve38778,LRes16832,LMul83730,LCon87601,LMax15794,LMax2037,LRes12798,LRes62848,LCro64718,LAve83405,LCon46186,LPer5374,LRes29823,LRes74294,LGlo33004,LRes7287,LCon9675,LAdd20308,LRes59208,LRes90827,LMax39084,LCon69932,LMin45441,LAdd17372,LAdd78405],["Ave38778","Res16832","Mul83730","Con87601","Max15794","Max2037","Res12798","Res62848","Cro64718","Ave83405","Con46186","Per5374","Res29823","Res74294","Glo33004","Res7287","Con9675","Add20308","Res59208","Res90827","Max39084","Con69932","Min45441","Add17372","Add78405"],Add78405,"Add78405")

Actual (Unparsed): [[[2.7544583, 1.7220500, 1.2373000, 0.9362000, 2.0579000, 1.7269000, 0.8499000, 2.1172000]]]

Expected (Unparsed): [[[2.7544582749999997,1.7220499999999999,1.2373,0.9362,2.0579,1.7269,0.8499,2.1172]]]

Actual:   [[[2.7545, 1.7221, 1.2373, 0.9362, 2.0579, 1.7269, 0.8499, 2.1172]]]

Expected: [[[2.7545, 1.7221, 1.2373, 0.9362, 2.0579, 1.7269, 0.8499, 2.1172]]]