import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave15566 = tf.keras.layers.Input(shape=([2, 1]))
in0Min90477 = tf.keras.layers.Input(shape=([1, 2]))
in1Min90477 = tf.keras.layers.Input(shape=([1, 2]))

Ave15566 = keras.layers.AveragePooling1D(pool_size=(2), strides=(2), padding='valid', name = 'Ave15566', )(in0Ave15566)
Min90477 = keras.layers.Minimum(name = 'Min90477', )([in0Min90477,in1Min90477])
Res61235 = keras.layers.Reshape((1, 2, 1), name = 'Res61235', )(Min90477)
Max56486 = keras.layers.MaxPool2D(pool_size=(1, 2), strides=(1, 1), padding='valid', name = 'Max56486', )(Res61235)
Res41013 = keras.layers.Reshape((1, 1), name = 'Res41013', )(Max56486)
Dot60015 = keras.layers.Dot(axes=(1, 1), name = 'Dot60015', )([Ave15566,Res41013])
model = tf.keras.models.Model(inputs=[in0Ave15566,in0Min90477,in1Min90477], outputs=Dot60015)
in0Ave15566 = tf.constant([[[1.8702], [1.5979]]])
in0Min90477 = tf.constant([[[0.3878, 0.9068]]])
in1Min90477 = tf.constant([[[0.0725, 0.6046]]])
print (np.array2string(model.predict([in0Ave15566,in0Min90477,in1Min90477],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Dot60015.png')

LAve15566 = average_pooling1D_layer([[[1.8702], [1.5979]]], 2, 2, false, Ave15566), 
LMin90477 = minimum_layer([[[[0.3878, 0.9068]]], [[[0.0725, 0.6046]]]], Min90477), 
LRes61235 = reshape_layer(Min90477, [1, 2, 1], Res61235), 
LMax56486 = max_pool2D_layer(Res61235, 1, 2, 1, 1, false, Max56486), 
LRes41013 = reshape_layer(Max56486, [1, 1], Res41013), 
LDot60015 = dot_layer(Ave15566,Res41013, 1, 1, Dot60015), 
exec_layers([LAve15566,LMin90477,LRes61235,LMax56486,LRes41013,LDot60015],["Ave15566","Min90477","Res61235","Max56486","Res41013","Dot60015"],Dot60015,"Dot60015")

Actual (Unparsed): [[[1.0484067]]]

Expected (Unparsed): [[[1.0484066300000001]]]

Actual:   [[[1.0485]]]

Expected: [[[1.0485]]]