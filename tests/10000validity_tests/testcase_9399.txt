import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add36606 = tf.keras.layers.Input(shape=([2, 1]))
in1Add36606 = tf.keras.layers.Input(shape=([2, 1]))
in0Max91955 = tf.keras.layers.Input(shape=([1, 1]))
in1Max91955 = tf.keras.layers.Input(shape=([1, 1]))
in0Con58772 = tf.keras.layers.Input(shape=([2, 2]))
in0Cro93564 = tf.keras.layers.Input(shape=([3, 3]))

Add36606 = keras.layers.Add(name = 'Add36606', )([in0Add36606,in1Add36606])
Up_80955 = keras.layers.UpSampling1D(size=(1), name = 'Up_80955', )(Add36606)
Max91955 = keras.layers.Maximum(name = 'Max91955', )([in0Max91955,in1Max91955])
Zer81343 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer81343', )(Max91955)
Sub7481 = keras.layers.Subtract(name = 'Sub7481', )([Up_80955,Zer81343])
Con58772 = keras.layers.Concatenate(axis=2, name = 'Con58772', )([Sub7481,in0Con58772])
Cro93564 = keras.layers.Cropping1D(cropping=((2, 0)), name = 'Cro93564', )(in0Cro93564)
Dot89577 = keras.layers.Dot(axes=(2, 2), name = 'Dot89577', )([Con58772,Cro93564])
model = tf.keras.models.Model(inputs=[in0Add36606,in1Add36606,in0Max91955,in1Max91955,in0Con58772,in0Cro93564], outputs=Dot89577)
in0Add36606 = tf.constant([[[0.6812], [0.6744]]])
in1Add36606 = tf.constant([[[0.8364], [0.2588]]])
in0Max91955 = tf.constant([[[0.1152]]])
in1Max91955 = tf.constant([[[0.0587]]])
in0Con58772 = tf.constant([[[0.7634, 0.8641], [0.0954, 0.1722]]])
in0Cro93564 = tf.constant([[[1.2467, 1.5431, 1.1541], [1.3535, 1.8718, 1.4072], [1.1364, 1.4768, 1.9655]]])
print (np.array2string(model.predict([in0Add36606,in1Add36606,in0Max91955,in1Max91955,in0Con58772,in0Cro93564],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Dot89577.png')

LAdd36606 = add_layer([[[[0.6812], [0.6744]]], [[[0.8364], [0.2588]]]], Add36606), 
LUp_80955 = up_sampling1D_layer(Add36606, 1, Up_80955), 
LMax91955 = maximum_layer([[[[0.1152]]], [[[0.0587]]]], Max91955), 
LZer81343 = zero_padding1D_layer(Max91955, 1, 0, Zer81343), 
LSub7481 = subtract_layer(Up_80955,Zer81343, Sub7481), 
LCon58772 = concatenate_layer([Sub7481,[[[0.7634, 0.8641], [0.0954, 0.1722]]]], 2, Con58772), 
LCro93564 = cropping1D_layer([[[1.2467, 1.5431, 1.1541], [1.3535, 1.8718, 1.4072], [1.1364, 1.4768, 1.9655]]], 2, 0, Cro93564), 
LDot89577 = dot_layer(Con58772,Cro93564, 2, 2, Dot89577), 
exec_layers([LAdd36606,LUp_80955,LMax91955,LZer81343,LSub7481,LCon58772,LCro93564,LDot89577],["Add36606","Up_80955","Max91955","Zer81343","Sub7481","Con58772","Cro93564","Dot89577"],Dot89577,"Dot89577")

Actual (Unparsed): [[[4.5503782], [1.4089210]]]

Expected (Unparsed): [[[4.55037831],[1.4089210200000002]]]

Actual:   [[[4.5504], [1.409]]]

Expected: [[[4.5504], [1.409]]]