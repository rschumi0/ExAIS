import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add89689 = tf.keras.layers.Input(shape=([1, 1]))
in1Add89689 = tf.keras.layers.Input(shape=([1, 1]))
in0Con43840 = tf.keras.layers.Input(shape=([1, 1]))
in0Ave46806 = tf.keras.layers.Input(shape=([2, 1, 2, 1]))
in1Ave46806 = tf.keras.layers.Input(shape=([2, 1, 2, 1]))

Add89689 = keras.layers.Add(name = 'Add89689', )([in0Add89689,in1Add89689])
Con43840 = keras.layers.Concatenate(axis=2, name = 'Con43840', )([Add89689,in0Con43840])
Ave46806 = keras.layers.Average(name = 'Ave46806', )([in0Ave46806,in1Ave46806])
Res10301 = keras.layers.Reshape((2, 1, 2), name = 'Res10301', )(Ave46806)
Res68352 = keras.layers.Reshape((2, 2), name = 'Res68352', )(Res10301)
Dot62085 = keras.layers.Dot(axes=(2, 2), name = 'Dot62085', )([Con43840,Res68352])
model = tf.keras.models.Model(inputs=[in0Add89689,in1Add89689,in0Con43840,in0Ave46806,in1Ave46806], outputs=Dot62085)
in0Add89689 = tf.constant([[[0.1124]]])
in1Add89689 = tf.constant([[[0.5769]]])
in0Con43840 = tf.constant([[[0.0529]]])
in0Ave46806 = tf.constant([[[[[0.2811], [0.4772]]], [[[0.2165], [0.5798]]]]])
in1Ave46806 = tf.constant([[[[[0.2338], [0.1824]]], [[[0.6031], [0.163]]]]])
print (np.array2string(model.predict([in0Add89689,in1Add89689,in0Con43840,in0Ave46806,in1Ave46806],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Dot62085.png')

LAdd89689 = add_layer([[[[0.1124]]], [[[0.5769]]]], Add89689), 
LCon43840 = concatenate_layer([Add89689,[[[0.0529]]]], 2, Con43840), 
LAve46806 = average_layer([[[[[[0.2811], [0.4772]]], [[[0.2165], [0.5798]]]]], [[[[[0.2338], [0.1824]]], [[[0.6031], [0.163]]]]]], Ave46806), 
LRes10301 = reshape_layer(Ave46806, [2, 1, 2], Res10301), 
LRes68352 = reshape_layer(Res10301, [2, 2], Res68352), 
LDot62085 = dot_layer(Con43840,Res68352, 2, 2, Dot62085), 
exec_layers([LAdd89689,LCon43840,LAve46806,LRes10301,LRes68352,LDot62085],["Add89689","Con43840","Ave46806","Res10301","Res68352","Dot62085"],Dot62085,"Dot62085")

Actual (Unparsed): [[[0.1949067, 0.3021222]]]

Expected (Unparsed): [[[0.194906705,0.3021222]]]

Actual:   [[[0.195, 0.3022]]]

Expected: [[[0.195, 0.3022]]]