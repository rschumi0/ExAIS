import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul74368 = tf.keras.layers.Input(shape=([1, 1, 2]))
in1Mul74368 = tf.keras.layers.Input(shape=([1, 1, 2]))

Mul74368 = keras.layers.Multiply(name = 'Mul74368', )([in0Mul74368,in1Mul74368])
Zer86406 = keras.layers.ZeroPadding2D(padding=((1, 1), (1, 1)), name = 'Zer86406', )(Mul74368)
Max11947 = keras.layers.MaxPool2D(pool_size=(2, 1), name = 'Max11947', )(Zer86406)
Res80919 = keras.layers.Reshape((1, 6), name = 'Res80919', )(Max11947)
Sep8433 = keras.layers.SeparableConv1D(4, (1),strides=(1), padding='valid', name = 'Sep8433', )(Res80919)
model = tf.keras.models.Model(inputs=[in0Mul74368,in1Mul74368], outputs=Sep8433)
w = model.get_layer('Sep8433').get_weights() 
w[0] = np.array([[[0.7563], [0.2363], [0.5254], [0.7342], [0.9203], [0.8782]]])
w[1] = np.array([[[0.5673, 0.0671, 0.9132, 0.8569], [0.1242, 0.1494, 0.6981, 0.9756], [0.4178, 0.4761, 0.9565, 0.9983], [0.0868, 0.283, 0.1972, 0.2077], [0.966, 0.018, 0.4194, 0.2462], [0.9566, 0.3334, 0.8357, 0.0681]]])
w[2] = np.array([0, 0, 0, 0])
model.get_layer('Sep8433').set_weights(w) 
in0Mul74368 = tf.constant([[[[0.2662, 0.4695]]]])
in1Mul74368 = tf.constant([[[[0.0982, 0.6832]]]])
print (np.array2string(model.predict([in0Mul74368,in1Mul74368],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sep8433.png')

LMul74368 = multiply_layer([[[[[0.2662, 0.4695]]]], [[[[0.0982, 0.6832]]]]], Mul74368), 
LZer86406 = zero_padding2D_layer(Mul74368, 1, 1, 1, 1, Zer86406), 
LMax11947 = max_pool2D_layer(Zer86406, 2, 1, Max11947), 
LRes80919 = reshape_layer(Max11947, [1, 6], Res80919), 
LSep8433 = separable_conv1D_layer(Res80919, 1,[[[[0.7563], [0.2363], [0.5254], [0.7342], [0.9203], [0.8782]]],[[[0.5673, 0.0671, 0.9132, 0.8569], [0.1242, 0.1494, 0.6981, 0.9756], [0.4178, 0.4761, 0.9565, 0.9983], [0.0868, 0.283, 0.1972, 0.2077], [0.966, 0.018, 0.4194, 0.2462], [0.9566, 0.3334, 0.8357, 0.0681]]]],[0, 0, 0, 0], 1, false, Sep8433), 
exec_layers([LMul74368,LZer86406,LMax11947,LRes80919,LSep8433],["Mul74368","Zer86406","Max11947","Res80919","Sep8433"],Sep8433,"Sep8433")

Actual (Unparsed): [[[0.0261800, 0.0731865, 0.0595783, 0.0626252]]]

Expected (Unparsed): [[[0.0261799570611248,0.0731865089763096,0.05957829135645999,0.0626251785829448]]]

Actual:   [[[0.0262, 0.0732, 0.0596, 0.0627]]]

Expected: [[[0.0262, 0.0732, 0.0596, 0.0627]]]