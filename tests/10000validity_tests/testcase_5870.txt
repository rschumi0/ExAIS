import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add51738 = tf.keras.layers.Input(shape=([2, 2, 1]))
in1Add51738 = tf.keras.layers.Input(shape=([2, 2, 1]))
in0Lay54264 = tf.keras.layers.Input(shape=([1, 3, 1]))
in0Con5579 = tf.keras.layers.Input(shape=([1]))

Add51738 = keras.layers.Add(name = 'Add51738', )([in0Add51738,in1Add51738])
Res9122 = keras.layers.Reshape((2, 2), name = 'Res9122', )(Add51738)
Ave82604 = keras.layers.AveragePooling1D(pool_size=(2), name = 'Ave82604', )(Res9122)
Fla76573 = keras.layers.Flatten(name = 'Fla76573', )(Ave82604)
Lay54264 = keras.layers.LayerNormalization(axis=3, epsilon=1.9639810261364574, name = 'Lay54264', )(in0Lay54264)
Res18649 = keras.layers.Reshape((1, 3, 1, 1), name = 'Res18649', )(Lay54264)
Glo45064 = keras.layers.GlobalAveragePooling3D(name = 'Glo45064', )(Res18649)
Con5579 = keras.layers.Concatenate(axis=1, name = 'Con5579', )([Glo45064,in0Con5579])
Min94970 = keras.layers.Minimum(name = 'Min94970', )([Fla76573,Con5579])
model = tf.keras.models.Model(inputs=[in0Add51738,in1Add51738,in0Lay54264,in0Con5579], outputs=Min94970)
in0Add51738 = tf.constant([[[[0.1987], [0.7176]], [[0.2559], [0.8167]]]])
in1Add51738 = tf.constant([[[[0.7688], [0.3466]], [[0.9909], [0.5042]]]])
in0Lay54264 = tf.constant([[[[1.2024], [1.4829], [1.084]]]])
in0Con5579 = tf.constant([[0.5087]])
print (np.array2string(model.predict([in0Add51738,in1Add51738,in0Lay54264,in0Con5579],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min94970.png')

LAdd51738 = add_layer([[[[[0.1987], [0.7176]], [[0.2559], [0.8167]]]], [[[[0.7688], [0.3466]], [[0.9909], [0.5042]]]]], Add51738), 
LRes9122 = reshape_layer(Add51738, [2, 2], Res9122), 
LAve82604 = average_pooling1D_layer(Res9122, 2, Ave82604), 
LFla76573 = flatten_layer(Ave82604, Fla76573), 
LLay54264 = layer_normalization_layer([[[[1.2024], [1.4829], [1.084]]]], 3, 1.9639810261364574, Lay54264), 
LRes18649 = reshape_layer(Lay54264, [1, 3, 1, 1], Res18649), 
LGlo45064 = global_average_pooling3D_layer(Res18649, Glo45064), 
LCon5579 = concatenate_layer([Glo45064,[[0.5087]]], 1, Con5579), 
LMin94970 = minimum_layer([Fla76573,Con5579], Min94970), 
exec_layers([LAdd51738,LRes9122,LAve82604,LFla76573,LLay54264,LRes18649,LGlo45064,LCon5579,LMin94970],["Add51738","Res9122","Ave82604","Fla76573","Lay54264","Res18649","Glo45064","Con5579","Min94970"],Min94970,"Min94970")

Actual (Unparsed): [[0.0000000, 0.5087000]]

Expected (Unparsed): [[0.0,0.5087]]

Actual:   [[0, 0.5087]]

Expected: [[0, 0.5087]]