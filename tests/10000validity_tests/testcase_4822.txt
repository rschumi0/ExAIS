import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave90431 = tf.keras.layers.Input(shape=([1, 1, 1, 2]))
in1Ave90431 = tf.keras.layers.Input(shape=([1, 1, 1, 2]))

Ave90431 = keras.layers.Average(name = 'Ave90431', )([in0Ave90431,in1Ave90431])
Glo90655 = keras.layers.GlobalMaxPool3D(name = 'Glo90655', )(Ave90431)
Res27404 = keras.layers.Reshape((2, 1), name = 'Res27404', )(Glo90655)
Glo79704 = keras.layers.GlobalMaxPool1D(name = 'Glo79704', )(Res27404)
model = tf.keras.models.Model(inputs=[in0Ave90431,in1Ave90431], outputs=Glo79704)
in0Ave90431 = tf.constant([[[[[0.3492, 0.4168]]]]])
in1Ave90431 = tf.constant([[[[[0.5492, 0.3279]]]]])
print (np.array2string(model.predict([in0Ave90431,in1Ave90431],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo79704.png')

LAve90431 = average_layer([[[[[[0.3492, 0.4168]]]]], [[[[[0.5492, 0.3279]]]]]], Ave90431), 
LGlo90655 = global_max_pool3D_layer(Ave90431, Glo90655), 
LRes27404 = reshape_layer(Glo90655, [2, 1], Res27404), 
LGlo79704 = global_max_pool1D_layer(Res27404, Glo79704), 
exec_layers([LAve90431,LGlo90655,LRes27404,LGlo79704],["Ave90431","Glo90655","Res27404","Glo79704"],Glo79704,"Glo79704")

Actual (Unparsed): [[0.4492000]]

Expected (Unparsed): [[0.44920000000000004]]

Actual:   [[0.4492]]

Expected: [[0.4493]]