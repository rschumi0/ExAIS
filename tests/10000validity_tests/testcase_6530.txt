import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot17417 = tf.keras.layers.Input(shape=([2]))
in1Dot17417 = tf.keras.layers.Input(shape=([2]))

Dot17417 = keras.layers.Dot(axes=(1, 1), name = 'Dot17417', )([in0Dot17417,in1Dot17417])
Res53142 = keras.layers.Reshape((1, 1), name = 'Res53142', )(Dot17417)
Res67862 = keras.layers.Reshape((1, 1, 1), name = 'Res67862', )(Res53142)
Dep28521 = keras.layers.DepthwiseConv2D((1, 1),strides=(1, 1), padding='same', name = 'Dep28521', )(Res67862)
model = tf.keras.models.Model(inputs=[in0Dot17417,in1Dot17417], outputs=Dep28521)
w = model.get_layer('Dep28521').get_weights() 
w[0] = np.array([[[[0.7183]]]])
w[1] = np.array([0])
model.get_layer('Dep28521').set_weights(w) 
in0Dot17417 = tf.constant([[0.161, 0.9722]])
in1Dot17417 = tf.constant([[0.2071, 0.4478]])
print (np.array2string(model.predict([in0Dot17417,in1Dot17417],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Dep28521.png')

LDot17417 = dot_layer([[0.161, 0.9722]], [[0.2071, 0.4478]], 1, 1, Dot17417), 
LRes53142 = reshape_layer(Dot17417, [1, 1], Res53142), 
LRes67862 = reshape_layer(Res53142, [1, 1, 1], Res67862), 
LDep28521 = depthwise_conv2D_layer(Res67862, 1, 1,[[[[0.7183]]]],[0], 1, 1, true, Dep28521), 
exec_layers([LDot17417,LRes53142,LRes67862,LDep28521],["Dot17417","Res53142","Res67862","Dep28521"],Dep28521,"Dep28521")

Actual (Unparsed): [[[[0.3366631]]]]

Expected (Unparsed): [[[[0.336663086958]]]]

Actual:   [[[[0.3367]]]]

Expected: [[[[0.3367]]]]