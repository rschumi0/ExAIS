import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dep1020 = tf.keras.layers.Input(shape=([1, 2, 1]))

Dep1020 = keras.layers.DepthwiseConv2D((1, 2),strides=(1, 1), padding='valid', name = 'Dep1020', )(in0Dep1020)
Res15018 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res15018', )(Dep1020)
Con58970 = keras.layers.Conv3DTranspose(2, (1, 1, 1),strides=(1, 1, 1), padding='same', name = 'Con58970', )(Res15018)
Res9263 = keras.layers.Reshape((1, 1, 2), name = 'Res9263', )(Con58970)
Loc34341 = keras.layers.LocallyConnected2D(2, (1, 1),strides=(1, 1), name = 'Loc34341', )(Res9263)
Res14370 = keras.layers.Reshape((1, 2), name = 'Res14370', )(Loc34341)
Sep32558 = keras.layers.SeparableConv1D(3, (1),strides=(1), padding='same', name = 'Sep32558', )(Res14370)
model = tf.keras.models.Model(inputs=[in0Dep1020], outputs=Sep32558)
w = model.get_layer('Dep1020').get_weights() 
w[0] = np.array([[[[0.5779]], [[0.3632]]]])
w[1] = np.array([0])
model.get_layer('Dep1020').set_weights(w) 
w = model.get_layer('Con58970').get_weights() 
w[0] = np.array([[[[[0.4505], [0.244]]]]])
w[1] = np.array([0, 0])
model.get_layer('Con58970').set_weights(w) 
w = model.get_layer('Loc34341').get_weights() 
w[0] = np.array([[[0.5029, 0.8993], [0.4745, 0.4864]]])
w[1] = np.array([[[0, 0]]])
model.get_layer('Loc34341').set_weights(w) 
w = model.get_layer('Sep32558').get_weights() 
w[0] = np.array([[[0.6767], [0.808]]])
w[1] = np.array([[[0.9379, 0.8544, 0.2919], [0.825, 0.3005, 0.3674]]])
w[2] = np.array([0, 0, 0])
model.get_layer('Sep32558').set_weights(w) 
in0Dep1020 = tf.constant([[[[0.7545], [0.2372]]]])
print (np.array2string(model.predict([in0Dep1020],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sep32558.png')

LDep1020 = depthwise_conv2D_layer([[[[0.7545], [0.2372]]]], 1, 2,[[[[0.5779]], [[0.3632]]]],[0], 1, 1, false, Dep1020), 
LRes15018 = reshape_layer(Dep1020, [1, 1, 1, 1], Res15018), 
LCon58970 = conv3D_transpose_layer(Res15018, 1, 1, 1,[[[[[0.4505], [0.244]]]]],[0, 0], 1, 1, 1, true, Con58970), 
LRes9263 = reshape_layer(Con58970, [1, 1, 2], Res9263), 
LLoc34341 = locally_connected2D_layer(Res9263, 1, 1,[[[0.5029, 0.8993], [0.4745, 0.4864]]],[[[0, 0]]], 1, 1, Loc34341), 
LRes14370 = reshape_layer(Loc34341, [1, 2], Res14370), 
LSep32558 = separable_conv1D_layer(Res14370, 1,[[[[0.6767], [0.808]]],[[[0.9379, 0.8544, 0.2919], [0.825, 0.3005, 0.3674]]]],[0, 0, 0], 1, true, Sep32558), 
exec_layers([LDep1020,LRes15018,LCon58970,LRes9263,LLoc34341,LRes14370,LSep32558],["Dep1020","Res15018","Con58970","Res9263","Loc34341","Res14370","Sep32558"],Sep32558,"Sep32558")

Actual (Unparsed): [[[0.2957857, 0.1697664, 0.1165083]]]

Expected (Unparsed): [[[0.2957857231824012,0.16976641791861455,0.1165083342583759]]]

Actual:   [[[0.2958, 0.1698, 0.1166]]]

Expected: [[[0.2958, 0.1698, 0.1166]]]