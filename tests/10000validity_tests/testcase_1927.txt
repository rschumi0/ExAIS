import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub22476 = tf.keras.layers.Input(shape=([3, 2]))
in1Sub22476 = tf.keras.layers.Input(shape=([3, 2]))
in0Glo34233 = tf.keras.layers.Input(shape=([1, 2]))

Sub22476 = keras.layers.Subtract(name = 'Sub22476', )([in0Sub22476,in1Sub22476])
Res49578 = keras.layers.Reshape((3, 2, 1), name = 'Res49578', )(Sub22476)
Res42093 = keras.layers.Reshape((3, 2, 1, 1), name = 'Res42093', )(Res49578)
Glo57266 = keras.layers.GlobalAveragePooling3D(name = 'Glo57266', )(Res42093)
Res2677 = keras.layers.Reshape((1, 1), name = 'Res2677', )(Glo57266)
Glo34233 = keras.layers.GlobalAveragePooling1D(name = 'Glo34233', )(in0Glo34233)
Res64862 = keras.layers.Reshape((2, 1), name = 'Res64862', )(Glo34233)
Cro898 = keras.layers.Cropping1D(cropping=((1, 0)), name = 'Cro898', )(Res64862)
Add8292 = keras.layers.Add(name = 'Add8292', )([Res2677,Cro898])
model = tf.keras.models.Model(inputs=[in0Sub22476,in1Sub22476,in0Glo34233], outputs=Add8292)
in0Sub22476 = tf.constant([[[0.4138, 0.9313], [0.5799, 0.7745], [0.4361, 0.107]]])
in1Sub22476 = tf.constant([[[0.0094, 0.555], [0.4438, 0.5145], [0.2701, 0.6332]]])
in0Glo34233 = tf.constant([[[1.2377, 1.3709]]])
print (np.array2string(model.predict([in0Sub22476,in1Sub22476,in0Glo34233],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add8292.png')

LSub22476 = subtract_layer([[[0.4138, 0.9313], [0.5799, 0.7745], [0.4361, 0.107]]], [[[0.0094, 0.555], [0.4438, 0.5145], [0.2701, 0.6332]]], Sub22476), 
LRes49578 = reshape_layer(Sub22476, [3, 2, 1], Res49578), 
LRes42093 = reshape_layer(Res49578, [3, 2, 1, 1], Res42093), 
LGlo57266 = global_average_pooling3D_layer(Res42093, Glo57266), 
LRes2677 = reshape_layer(Glo57266, [1, 1], Res2677), 
LGlo34233 = global_average_pooling1D_layer([[[1.2377, 1.3709]]], Glo34233), 
LRes64862 = reshape_layer(Glo34233, [2, 1], Res64862), 
LCro898 = cropping1D_layer(Res64862, 1, 0, Cro898), 
LAdd8292 = add_layer([Res2677,Cro898], Add8292), 
exec_layers([LSub22476,LRes49578,LRes42093,LGlo57266,LRes2677,LGlo34233,LRes64862,LCro898,LAdd8292],["Sub22476","Res49578","Res42093","Glo57266","Res2677","Glo34233","Res64862","Cro898","Add8292"],Add8292,"Add8292")

Actual (Unparsed): [[[1.5070000]]]

Expected (Unparsed): [[[1.507]]]

Actual:   [[[1.507]]]

Expected: [[[1.507]]]