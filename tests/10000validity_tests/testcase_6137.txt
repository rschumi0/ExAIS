import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul73462 = tf.keras.layers.Input(shape=([1, 2]))
in1Mul73462 = tf.keras.layers.Input(shape=([1, 2]))
in0Mul44419 = tf.keras.layers.Input(shape=([1, 2, 1, 1]))
in1Mul44419 = tf.keras.layers.Input(shape=([1, 2, 1, 1]))

Mul73462 = keras.layers.Multiply(name = 'Mul73462', )([in0Mul73462,in1Mul73462])
Mul44419 = keras.layers.Multiply(name = 'Mul44419', )([in0Mul44419,in1Mul44419])
Res23173 = keras.layers.Reshape((1, 2, 1), name = 'Res23173', )(Mul44419)
Res57704 = keras.layers.Reshape((1, 2), name = 'Res57704', )(Res23173)
Dot99310 = keras.layers.Dot(axes=(1, 1), name = 'Dot99310', )([Mul73462,Res57704])
model = tf.keras.models.Model(inputs=[in0Mul73462,in1Mul73462,in0Mul44419,in1Mul44419], outputs=Dot99310)
in0Mul73462 = tf.constant([[[0.8096, 0.9806]]])
in1Mul73462 = tf.constant([[[0.922, 0.8618]]])
in0Mul44419 = tf.constant([[[[[0.0714]], [[0.9628]]]]])
in1Mul44419 = tf.constant([[[[[0.1013]], [[0.3091]]]]])
print (np.array2string(model.predict([in0Mul73462,in1Mul73462,in0Mul44419,in1Mul44419],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Dot99310.png')

LMul73462 = multiply_layer([[[[0.8096, 0.9806]]], [[[0.922, 0.8618]]]], Mul73462), 
LMul44419 = multiply_layer([[[[[[0.0714]], [[0.9628]]]]], [[[[[0.1013]], [[0.3091]]]]]], Mul44419), 
LRes23173 = reshape_layer(Mul44419, [1, 2, 1], Res23173), 
LRes57704 = reshape_layer(Res23173, [1, 2], Res57704), 
LDot99310 = dot_layer(Mul73462,Res57704, 1, 1, Dot99310), 
exec_layers([LMul73462,LMul44419,LRes23173,LRes57704,LDot99310],["Mul73462","Mul44419","Res23173","Res57704","Dot99310"],Dot99310,"Dot99310")

Actual (Unparsed): [[[0.0053989, 0.2221450], [0.0061123, 0.2514974]]]

Expected (Unparsed): [[[0.005398947168384001,0.22214498186777598],[0.006112319337045601,0.2514973801279984]]]

Actual:   [[[0.0054, 0.2222], [0.0062, 0.2515]]]

Expected: [[[0.0054, 0.2222], [0.0062, 0.2515]]]