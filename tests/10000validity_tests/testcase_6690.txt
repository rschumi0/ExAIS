import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot34250 = tf.keras.layers.Input(shape=([3]))
in1Dot34250 = tf.keras.layers.Input(shape=([3]))
in0Sof42664 = tf.keras.layers.Input(shape=([1, 2]))

Dot34250 = keras.layers.Dot(axes=(1, 1), name = 'Dot34250', )([in0Dot34250,in1Dot34250])
Res97153 = keras.layers.Reshape((1, 1), name = 'Res97153', )(Dot34250)
Res96279 = keras.layers.Reshape((1, 1, 1), name = 'Res96279', )(Res97153)
Zer30358 = keras.layers.ZeroPadding2D(padding=((0, 0), (1, 0)), name = 'Zer30358', )(Res96279)
Sof42664 = keras.layers.Softmax(axis=1, name = 'Sof42664', input_shape=(1, 2))(in0Sof42664)
Res99972 = keras.layers.Reshape((1, 2, 1), name = 'Res99972', )(Sof42664)
Max88266 = keras.layers.MaxPool2D(pool_size=(1, 1), name = 'Max88266', )(Res99972)
Add95799 = keras.layers.Add(name = 'Add95799', )([Zer30358,Max88266])
model = tf.keras.models.Model(inputs=[in0Dot34250,in1Dot34250,in0Sof42664], outputs=Add95799)
in0Dot34250 = tf.constant([[0.5224, 0.818, 0.8215]])
in1Dot34250 = tf.constant([[0.8726, 0.3243, 0.9773]])
in0Sof42664 = tf.constant([[[0.77, 0.4999]]])
print (np.array2string(model.predict([in0Dot34250,in1Dot34250,in0Sof42664],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add95799.png')

LDot34250 = dot_layer([[0.5224, 0.818, 0.8215]], [[0.8726, 0.3243, 0.9773]], 1, 1, Dot34250), 
LRes97153 = reshape_layer(Dot34250, [1, 1], Res97153), 
LRes96279 = reshape_layer(Res97153, [1, 1, 1], Res96279), 
LZer30358 = zero_padding2D_layer(Res96279, 0, 0, 1, 0, Zer30358), 
LSof42664 = softmax_layer([[[0.77, 0.4999]]], 1, Sof42664), 
LRes99972 = reshape_layer(Sof42664, [1, 2, 1], Res99972), 
LMax88266 = max_pool2D_layer(Res99972, 1, 1, Max88266), 
LAdd95799 = add_layer([Zer30358,Max88266], Add95799), 
exec_layers([LDot34250,LRes97153,LRes96279,LZer30358,LSof42664,LRes99972,LMax88266,LAdd95799],["Dot34250","Res97153","Res96279","Zer30358","Sof42664","Res99972","Max88266","Add95799"],Add95799,"Add95799")

Actual (Unparsed): [[[[1.0000000], [2.5239756]]]]

Expected (Unparsed): [[[[1.0],[2.52397559]]]]

Actual:   [[[[1], [2.524]]]]

Expected: [[[[1], [2.524]]]]