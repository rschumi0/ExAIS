import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave28900 = tf.keras.layers.Input(shape=([2, 1, 2]))
in1Ave28900 = tf.keras.layers.Input(shape=([2, 1, 2]))
in0Mul7926 = tf.keras.layers.Input(shape=([1, 1, 1]))
in1Mul7926 = tf.keras.layers.Input(shape=([1, 1, 1]))
in0Con7742 = tf.keras.layers.Input(shape=([2, 1, 1]))

Ave28900 = keras.layers.Average(name = 'Ave28900', )([in0Ave28900,in1Ave28900])
Mul7926 = keras.layers.Multiply(name = 'Mul7926', )([in0Mul7926,in1Mul7926])
Zer81894 = keras.layers.ZeroPadding2D(padding=((1, 0), (0, 0)), name = 'Zer81894', )(Mul7926)
Con7742 = keras.layers.Concatenate(axis=3, name = 'Con7742', )([Zer81894,in0Con7742])
Ave89125 = keras.layers.Average(name = 'Ave89125', )([Ave28900,Con7742])
model = tf.keras.models.Model(inputs=[in0Ave28900,in1Ave28900,in0Mul7926,in1Mul7926,in0Con7742], outputs=Ave89125)
in0Ave28900 = tf.constant([[[[0.9873, 0.974]], [[0.4141, 0.9934]]]])
in1Ave28900 = tf.constant([[[[0.5972, 0.569]], [[0.6171, 0.9691]]]])
in0Mul7926 = tf.constant([[[[0.7797]]]])
in1Mul7926 = tf.constant([[[[0.95]]]])
in0Con7742 = tf.constant([[[[0.1308]], [[0.3921]]]])
print (np.array2string(model.predict([in0Ave28900,in1Ave28900,in0Mul7926,in1Mul7926,in0Con7742],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Ave89125.png')

LAve28900 = average_layer([[[[[0.9873, 0.974]], [[0.4141, 0.9934]]]], [[[[0.5972, 0.569]], [[0.6171, 0.9691]]]]], Ave28900), 
LMul7926 = multiply_layer([[[[[0.7797]]]], [[[[0.95]]]]], Mul7926), 
LZer81894 = zero_padding2D_layer(Mul7926, 1, 0, 0, 0, Zer81894), 
LCon7742 = concatenate_layer([Zer81894,[[[[0.1308]], [[0.3921]]]]], 3, Con7742), 
LAve89125 = average_layer([Ave28900,Con7742], Ave89125), 
exec_layers([LAve28900,LMul7926,LZer81894,LCon7742,LAve89125],["Ave28900","Mul7926","Zer81894","Con7742","Ave89125"],Ave89125,"Ave89125")

Actual (Unparsed): [[[[0.3961250, 0.4511500]], [[0.6281575, 0.6866750]]]]

Expected (Unparsed): [[[[0.39612499999999995,0.45115]],[[0.6281574999999999,0.6866749999999999]]]]

Actual:   [[[[0.3962, 0.4512]], [[0.6282, 0.6867]]]]

Expected: [[[[0.3962, 0.4512]], [[0.6282, 0.6867]]]]