import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo46092 = tf.keras.layers.Input(shape=([2, 2, 1]))

Glo46092 = keras.layers.GlobalMaxPool2D(name = 'Glo46092', )(in0Glo46092)
Res87237 = keras.layers.Reshape((1, 1), name = 'Res87237', )(Glo46092)
Glo4561 = keras.layers.GlobalAveragePooling1D(name = 'Glo4561', )(Res87237)
Res83789 = keras.layers.Reshape((1, 1), name = 'Res83789', )(Glo4561)
Res46370 = keras.layers.Reshape((1, 1, 1), name = 'Res46370', )(Res83789)
Ave35010 = keras.layers.AveragePooling2D(pool_size=(1, 1), name = 'Ave35010', )(Res46370)
model = tf.keras.models.Model(inputs=[in0Glo46092], outputs=Ave35010)
in0Glo46092 = tf.constant([[[[1.1937], [1.7249]], [[1.3666], [1.9256]]]])
print (np.array2string(model.predict([in0Glo46092],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Ave35010.png')

LGlo46092 = global_max_pool2D_layer([[[[1.1937], [1.7249]], [[1.3666], [1.9256]]]], Glo46092), 
LRes87237 = reshape_layer(Glo46092, [1, 1], Res87237), 
LGlo4561 = global_average_pooling1D_layer(Res87237, Glo4561), 
LRes83789 = reshape_layer(Glo4561, [1, 1], Res83789), 
LRes46370 = reshape_layer(Res83789, [1, 1, 1], Res46370), 
LAve35010 = average_pooling2D_layer(Res46370, 1, 1, Ave35010), 
exec_layers([LGlo46092,LRes87237,LGlo4561,LRes83789,LRes46370,LAve35010],["Glo46092","Res87237","Glo4561","Res83789","Res46370","Ave35010"],Ave35010,"Ave35010")

Actual (Unparsed): [[[[1.9256001]]]]

Expected (Unparsed): [[[[1.9256]]]]

Actual:   [[[[1.9257]]]]

Expected: [[[[1.9256]]]]