import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dep23121 = tf.keras.layers.Input(shape=([2, 2, 2]))

Dep23121 = keras.layers.DepthwiseConv2D((1, 2),strides=(1, 1), padding='same', name = 'Dep23121', )(in0Dep23121)
ReL48479 = keras.layers.ReLU(max_value=2.198353098856686, negative_slope=1.7010738246362218, threshold=0.9375021872362066, name = 'ReL48479', )(Dep23121)
Res49478 = keras.layers.Reshape((2, 2, 2, 1), name = 'Res49478', )(ReL48479)
Con80928 = keras.layers.Conv3D(4, (1, 2, 1),strides=(1, 1, 1), padding='same', dilation_rate=(1, 1, 1), name = 'Con80928', )(Res49478)
Res54937 = keras.layers.Reshape((2, 2, 8), name = 'Res54937', )(Con80928)
Zer42763 = keras.layers.ZeroPadding2D(padding=((1, 1), (1, 1)), name = 'Zer42763', )(Res54937)
model = tf.keras.models.Model(inputs=[in0Dep23121], outputs=Zer42763)
w = model.get_layer('Dep23121').get_weights() 
w[0] = np.array([[[[0.3549], [0.3918]], [[0.5829], [0.0267]]]])
w[1] = np.array([0, 0])
model.get_layer('Dep23121').set_weights(w) 
w = model.get_layer('Con80928').get_weights() 
w[0] = np.array([[[[[0.4155, 0.8669, 0.314, 0.7731]]], [[[0.4435, 0.5171, 0.4752, 0.4754]]]]])
w[1] = np.array([0, 0, 0, 0])
model.get_layer('Con80928').set_weights(w) 
in0Dep23121 = tf.constant([[[[0.9927, 0.941], [0.2479, 0.272]], [[0.7047, 0.6849], [0.9517, 0.5874]]]])
print (np.array2string(model.predict([in0Dep23121],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Zer42763.png')

LDep23121 = depthwise_conv2D_layer([[[[0.9927, 0.941], [0.2479, 0.272]], [[0.7047, 0.6849], [0.9517, 0.5874]]]], 1, 2,[[[[0.3549], [0.3918]], [[0.5829], [0.0267]]]],[0, 0], 1, 1, true, Dep23121), 
LReL48479 = relu_layer(Dep23121, 2.198353098856686, 1.7010738246362218, 0.9375021872362066, ReL48479), 
LRes49478 = reshape_layer(ReL48479, [2, 2, 2, 1], Res49478), 
LCon80928 = conv3D_layer(Res49478, 1, 2, 1,[[[[[0.4155, 0.8669, 0.314, 0.7731]]], [[[0.4435, 0.5171, 0.4752, 0.4754]]]]],[0, 0, 0, 0], 1, 1, 1, true, 1, 1, 1, Con80928), 
LRes54937 = reshape_layer(Con80928, [2, 2, 8], Res54937), 
LZer42763 = zero_padding2D_layer(Res54937, 1, 1, 1, 1, Zer42763), 
exec_layers([LDep23121,LReL48479,LRes49478,LCon80928,LRes54937,LZer42763],["Dep23121","ReL48479","Res49478","Con80928","Res54937","Zer42763"],Zer42763,"Zer42763")

Actual (Unparsed): [[[[0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000], [-0.9523815, -1.3971328, -0.9221017, -1.2665550, -1.0237830, -1.5590140, -0.9716325, -1.4104697], [-0.6004392, -1.2527576, -0.4537615, -1.1172072, -0.5873000, -1.2253438, -0.4438320, -1.0927596], [0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000], [-0.5462249, -0.7231758, -0.5556608, -0.6594660, -0.9955236, -1.5858645, -0.9208389, -1.4314192], [-0.4238967, -0.8844188, -0.3203455, -0.7887233, -0.4999585, -1.0431145, -0.3778267, -0.9302478], [0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000]]]]

Expected (Unparsed): [[[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[-0.9523815022973176,-1.397132772792339,-0.9221017413581055,-1.2665549416006237,-1.023782971842855,-1.5590139620600596,-0.9716325227325529,-1.4104696627349513],[-0.6004392367533854,-1.252757579642623,-0.4537615411325223,-1.1172071574826528,-0.5872999736237697,-1.2253437957507727,-0.44383198969401616,-1.0927595899122418],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[-0.5462248313914541,-0.72317575576246,-0.5556608073289561,-0.6594660152182967,-0.9955235709201249,-1.585864454861095,-0.9208389200956115,-1.4314191996448111],[-0.4238966637563281,-0.8844188154280647,-0.32034549318769445,-0.7887232509025687,-0.4999585411039732,-1.0431144627750526,-0.37782667125546954,-0.9302477692598837],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]]]

Actual:   [[[[0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0]], [[0, 0, 0, 0, 0, 0, 0, 0], [-0.9523, -1.3971, -0.9221, -1.2665, -1.0237, -1.559, -0.9716, -1.4104], [-0.6004, -1.2527, -0.4537, -1.1172, -0.5873, -1.2253, -0.4438, -1.0927], [0, 0, 0, 0, 0, 0, 0, 0]], [[0, 0, 0, 0, 0, 0, 0, 0], [-0.5462, -0.7231, -0.5556, -0.6594, -0.9955, -1.5858, -0.9208, -1.4314], [-0.4238, -0.8844, -0.3203, -0.7887, -0.4999, -1.0431, -0.3778, -0.9302], [0, 0, 0, 0, 0, 0, 0, 0]], [[0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0]]]]

Expected: [[[[0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0]], [[0, 0, 0, 0, 0, 0, 0, 0], [-0.9523, -1.3971, -0.9221, -1.2665, -1.0237, -1.559, -0.9716, -1.4104], [-0.6004, -1.2527, -0.4537, -1.1172, -0.5872, -1.2253, -0.4438, -1.0927], [0, 0, 0, 0, 0, 0, 0, 0]], [[0, 0, 0, 0, 0, 0, 0, 0], [-0.5462, -0.7231, -0.5556, -0.6594, -0.9955, -1.5858, -0.9208, -1.4314], [-0.4238, -0.8844, -0.3203, -0.7887, -0.4999, -1.0431, -0.3778, -0.9302], [0, 0, 0, 0, 0, 0, 0, 0]], [[0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0]]]]