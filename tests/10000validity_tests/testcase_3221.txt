import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo37561 = tf.keras.layers.Input(shape=([1, 2, 2, 2]))
in0Add5644 = tf.keras.layers.Input(shape=([1, 1, 2]))
in1Add5644 = tf.keras.layers.Input(shape=([1, 1, 2]))

Glo37561 = keras.layers.GlobalMaxPool3D(name = 'Glo37561', )(in0Glo37561)
Res9674 = keras.layers.Reshape((2, 1), name = 'Res9674', )(Glo37561)
Add5644 = keras.layers.Add(name = 'Add5644', )([in0Add5644,in1Add5644])
Res30945 = keras.layers.Reshape((2, 1), name = 'Res30945', )(Add5644)
Add20978 = keras.layers.Add(name = 'Add20978', )([Res9674,Res30945])
Lay17866 = keras.layers.LayerNormalization(axis=2, epsilon=1.8670250705238982, name = 'Lay17866', )(Add20978)
model = tf.keras.models.Model(inputs=[in0Glo37561,in0Add5644,in1Add5644], outputs=Lay17866)
in0Glo37561 = tf.constant([[[[[1.5988, 1.0456], [1.3296, 1.3632]], [[1.2434, 1.977], [1.5786, 1.3932]]]]])
in0Add5644 = tf.constant([[[[0.9904, 0.5562]]]])
in1Add5644 = tf.constant([[[[0.7984, 0.3185]]]])
print (np.array2string(model.predict([in0Glo37561,in0Add5644,in1Add5644],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Lay17866.png')

LGlo37561 = global_max_pool3D_layer([[[[[1.5988, 1.0456], [1.3296, 1.3632]], [[1.2434, 1.977], [1.5786, 1.3932]]]]], Glo37561), 
LRes9674 = reshape_layer(Glo37561, [2, 1], Res9674), 
LAdd5644 = add_layer([[[[[0.9904, 0.5562]]]], [[[[0.7984, 0.3185]]]]], Add5644), 
LRes30945 = reshape_layer(Add5644, [2, 1], Res30945), 
LAdd20978 = add_layer([Res9674,Res30945], Add20978), 
LLay17866 = layer_normalization_layer(Add20978, 2, 1.8670250705238982, Lay17866), 
exec_layers([LGlo37561,LRes9674,LAdd5644,LRes30945,LAdd20978,LLay17866],["Glo37561","Res9674","Add5644","Res30945","Add20978","Lay17866"],Lay17866,"Lay17866")

Actual (Unparsed): [[[0.0000000], [0.0000000]]]

Expected (Unparsed): [[[0.0],[0.0]]]

Actual:   [[[0], [0]]]

Expected: [[[0], [0]]]