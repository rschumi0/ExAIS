import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul3496 = tf.keras.layers.Input(shape=([1, 1]))
in1Mul3496 = tf.keras.layers.Input(shape=([1, 1]))

Mul3496 = keras.layers.Multiply(name = 'Mul3496', )([in0Mul3496,in1Mul3496])
GRU82175 = keras.layers.GRU(2,reset_after=True, recurrent_activation='sigmoid', name = 'GRU82175', )(Mul3496)
model = tf.keras.models.Model(inputs=[in0Mul3496,in1Mul3496], outputs=GRU82175)
w = model.get_layer('GRU82175').get_weights() 
w[0] = np.array([[7, 4, 6, 1, 5, 5]])
w[1] = np.array([[2, 6, 2, 7, 10, 3], [5, 4, 5, 10, 8, 10]])
w[2] = np.array([[2, 7, 8, 8, 6, 3], [10, 7, 9, 4, 6, 9]])
model.get_layer('GRU82175').set_weights(w) 
in0Mul3496 = tf.constant([[[0.1015]]])
in1Mul3496 = tf.constant([[[0.6301]]])
print (np.array2string(model.predict([in0Mul3496,in1Mul3496],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='GRU82175.png')

LMul3496 = multiply_layer([[[[0.1015]]], [[[0.6301]]]], Mul3496), 
LGRU82175 = gru_layer(Mul3496,[[7, 4, 6, 1, 5, 5]],[[2, 6, 2, 7, 10, 3], [5, 4, 5, 10, 8, 10]],[[2, 7, 8, 8, 6, 3], [10, 7, 9, 4, 6, 9]], true, GRU82175), 
exec_layers([LMul3496,LGRU82175],["Mul3496","GRU82175"],GRU82175,"GRU82175")

Actual (Unparsed): [[0.0000039, 0.0000006]]

Expected (Unparsed): [[3.926783257289928e-6,6.438363590898244e-7]]

Actual:   [[0, 0]]

Expected: [[0, 0]]