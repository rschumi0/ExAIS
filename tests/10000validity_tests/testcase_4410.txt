import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave55660 = tf.keras.layers.Input(shape=([1, 1]))
in1Ave55660 = tf.keras.layers.Input(shape=([1, 1]))
in0Add81787 = tf.keras.layers.Input(shape=([1, 1]))
in1Add81787 = tf.keras.layers.Input(shape=([1, 1]))

Ave55660 = keras.layers.Average(name = 'Ave55660', )([in0Ave55660,in1Ave55660])
Add81787 = keras.layers.Add(name = 'Add81787', )([in0Add81787,in1Add81787])
Res18264 = keras.layers.Reshape((1, 1, 1), name = 'Res18264', )(Add81787)
Cro53144 = keras.layers.Cropping2D(cropping=((0, 0), (0, 0)), name = 'Cro53144', )(Res18264)
Res1758 = keras.layers.Reshape((1, 1), name = 'Res1758', )(Cro53144)
Cro7567 = keras.layers.Cropping1D(cropping=((0, 0)), name = 'Cro7567', )(Res1758)
Min49045 = keras.layers.Minimum(name = 'Min49045', )([Ave55660,Cro7567])
model = tf.keras.models.Model(inputs=[in0Ave55660,in1Ave55660,in0Add81787,in1Add81787], outputs=Min49045)
in0Ave55660 = tf.constant([[[0.9142]]])
in1Ave55660 = tf.constant([[[0.7616]]])
in0Add81787 = tf.constant([[[0.8506]]])
in1Add81787 = tf.constant([[[0.7081]]])
print (np.array2string(model.predict([in0Ave55660,in1Ave55660,in0Add81787,in1Add81787],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min49045.png')

LAve55660 = average_layer([[[[0.9142]]], [[[0.7616]]]], Ave55660), 
LAdd81787 = add_layer([[[[0.8506]]], [[[0.7081]]]], Add81787), 
LRes18264 = reshape_layer(Add81787, [1, 1, 1], Res18264), 
LCro53144 = cropping2D_layer(Res18264, 0, 0, 0, 0, Cro53144), 
LRes1758 = reshape_layer(Cro53144, [1, 1], Res1758), 
LCro7567 = cropping1D_layer(Res1758, 0, 0, Cro7567), 
LMin49045 = minimum_layer([Ave55660,Cro7567], Min49045), 
exec_layers([LAve55660,LAdd81787,LRes18264,LCro53144,LRes1758,LCro7567,LMin49045],["Ave55660","Add81787","Res18264","Cro53144","Res1758","Cro7567","Min49045"],Min49045,"Min49045")

Actual (Unparsed): [[[0.8379000]]]

Expected (Unparsed): [[[0.8379000000000001]]]

Actual:   [[[0.8379]]]

Expected: [[[0.838]]]