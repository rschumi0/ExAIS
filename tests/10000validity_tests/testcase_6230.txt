import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave99418 = tf.keras.layers.Input(shape=([1, 2, 1]))
in1Ave99418 = tf.keras.layers.Input(shape=([1, 2, 1]))

Ave99418 = keras.layers.Average(name = 'Ave99418', )([in0Ave99418,in1Ave99418])
Res42195 = keras.layers.Reshape((1, 2), name = 'Res42195', )(Ave99418)
Max49785 = keras.layers.MaxPool1D(pool_size=(1), name = 'Max49785', )(Res42195)
model = tf.keras.models.Model(inputs=[in0Ave99418,in1Ave99418], outputs=Max49785)
in0Ave99418 = tf.constant([[[[0.295], [0.2719]]]])
in1Ave99418 = tf.constant([[[[0.4338], [0.1071]]]])
print (np.array2string(model.predict([in0Ave99418,in1Ave99418],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max49785.png')

LAve99418 = average_layer([[[[[0.295], [0.2719]]]], [[[[0.4338], [0.1071]]]]], Ave99418), 
LRes42195 = reshape_layer(Ave99418, [1, 2], Res42195), 
LMax49785 = max_pool1D_layer(Res42195, 1, Max49785), 
exec_layers([LAve99418,LRes42195,LMax49785],["Ave99418","Res42195","Max49785"],Max49785,"Max49785")

Actual (Unparsed): [[[0.3644000, 0.1895000]]]

Expected (Unparsed): [[[0.3644,0.1895]]]

Actual:   [[[0.3644, 0.1895]]]

Expected: [[[0.3644, 0.1895]]]