import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave43135 = tf.keras.layers.Input(shape=([2, 2, 1]))
in1Ave43135 = tf.keras.layers.Input(shape=([2, 2, 1]))

Ave43135 = keras.layers.Average(name = 'Ave43135', )([in0Ave43135,in1Ave43135])
Res98320 = keras.layers.Reshape((2, 2), name = 'Res98320', )(Ave43135)
Res19650 = keras.layers.Reshape((2, 2, 1), name = 'Res19650', )(Res98320)
Res28023 = keras.layers.Reshape((2, 2, 1, 1), name = 'Res28023', )(Res19650)
Cro91042 = keras.layers.Cropping3D(cropping=((0, 0), (1, 0), (0, 0)), name = 'Cro91042', )(Res28023)
model = tf.keras.models.Model(inputs=[in0Ave43135,in1Ave43135], outputs=Cro91042)
in0Ave43135 = tf.constant([[[[0.8085], [0.2169]], [[0.9785], [0.5028]]]])
in1Ave43135 = tf.constant([[[[0.487], [0.5556]], [[0.0001], [0.9264]]]])
print (np.array2string(model.predict([in0Ave43135,in1Ave43135],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Cro91042.png')

LAve43135 = average_layer([[[[[0.8085], [0.2169]], [[0.9785], [0.5028]]]], [[[[0.487], [0.5556]], [[0.0001], [0.9264]]]]], Ave43135), 
LRes98320 = reshape_layer(Ave43135, [2, 2], Res98320), 
LRes19650 = reshape_layer(Res98320, [2, 2, 1], Res19650), 
LRes28023 = reshape_layer(Res19650, [2, 2, 1, 1], Res28023), 
LCro91042 = cropping3D_layer(Res28023, 0, 0, 1, 0, 0, 0, Cro91042), 
exec_layers([LAve43135,LRes98320,LRes19650,LRes28023,LCro91042],["Ave43135","Res98320","Res19650","Res28023","Cro91042"],Cro91042,"Cro91042")

Actual (Unparsed): [[[[[0.3862500]]], [[[0.7146000]]]]]

Expected (Unparsed): [[[[[0.38625]]],[[[0.7146]]]]]

Actual:   [[[[[0.3863]]], [[[0.7146]]]]]

Expected: [[[[[0.3863]]], [[[0.7146]]]]]