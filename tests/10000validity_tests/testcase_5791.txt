import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min64607 = tf.keras.layers.Input(shape=([2, 2]))
in1Min64607 = tf.keras.layers.Input(shape=([2, 2]))
in0Glo79972 = tf.keras.layers.Input(shape=([1, 1, 1]))
in0Con59738 = tf.keras.layers.Input(shape=([3]))

Min64607 = keras.layers.Minimum(name = 'Min64607', )([in0Min64607,in1Min64607])
Fla82323 = keras.layers.Flatten(name = 'Fla82323', )(Min64607)
Glo79972 = keras.layers.GlobalMaxPool2D(name = 'Glo79972', )(in0Glo79972)
Con59738 = keras.layers.Concatenate(axis=1, name = 'Con59738', )([Glo79972,in0Con59738])
Mul36849 = keras.layers.Multiply(name = 'Mul36849', )([Fla82323,Con59738])
model = tf.keras.models.Model(inputs=[in0Min64607,in1Min64607,in0Glo79972,in0Con59738], outputs=Mul36849)
in0Min64607 = tf.constant([[[0.7277, 0.4993], [0.9714, 0.5438]]])
in1Min64607 = tf.constant([[[0.7782, 0.8177], [0.5962, 0.4215]]])
in0Glo79972 = tf.constant([[[[1.2267]]]])
in0Con59738 = tf.constant([[0.1082, 0.4289, 0.1793]])
print (np.array2string(model.predict([in0Min64607,in1Min64607,in0Glo79972,in0Con59738],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Mul36849.png')

LMin64607 = minimum_layer([[[[0.7277, 0.4993], [0.9714, 0.5438]]], [[[0.7782, 0.8177], [0.5962, 0.4215]]]], Min64607), 
LFla82323 = flatten_layer(Min64607, Fla82323), 
LGlo79972 = global_max_pool2D_layer([[[[1.2267]]]], Glo79972), 
LCon59738 = concatenate_layer([Glo79972,[[0.1082, 0.4289, 0.1793]]], 1, Con59738), 
LMul36849 = multiply_layer([Fla82323,Con59738], Mul36849), 
exec_layers([LMin64607,LFla82323,LGlo79972,LCon59738,LMul36849],["Min64607","Fla82323","Glo79972","Con59738","Mul36849"],Mul36849,"Mul36849")

Actual (Unparsed): [[0.8926695, 0.0540243, 0.2557102, 0.0755749]]

Expected (Unparsed): [[0.8926695899999999,0.054024260000000005,0.25571018,0.07557494999999999]]

Actual:   [[0.8927, 0.0541, 0.2558, 0.0756]]

Expected: [[0.8927, 0.0541, 0.2558, 0.0756]]