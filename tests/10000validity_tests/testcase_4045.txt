import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mas5366 = tf.keras.layers.Input(shape=([4, 1, 1]))

Mas5366 = keras.layers.Masking(mask_value=2, name = 'Mas5366', )(in0Mas5366)
Glo9001 = keras.layers.GlobalAveragePooling2D(name = 'Glo9001', )(Mas5366)
model = tf.keras.models.Model(inputs=[in0Mas5366], outputs=Glo9001)
in0Mas5366 = tf.constant([[[[1.6095]], [[1.4977]], [[1.6686]], [[1.3489]]]])
print (np.array2string(model.predict([in0Mas5366],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo9001.png')

LMas5366 = masking_layer([[[[1.6095]], [[1.4977]], [[1.6686]], [[1.3489]]]], 2, Mas5366), 
LGlo9001 = global_average_pooling2D_layer(Mas5366, Glo9001), 
exec_layers([LMas5366,LGlo9001],["Mas5366","Glo9001"],Glo9001,"Glo9001")

Actual (Unparsed): [[1.5311750]]

Expected (Unparsed): [[1.5311750000000002]]

Actual:   [[1.5312]]

Expected: [[1.5312]]