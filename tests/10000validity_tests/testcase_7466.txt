import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul77748 = tf.keras.layers.Input(shape=([2, 2, 1]))
in1Mul77748 = tf.keras.layers.Input(shape=([2, 2, 1]))

Mul77748 = keras.layers.Multiply(name = 'Mul77748', )([in0Mul77748,in1Mul77748])
Glo35596 = keras.layers.GlobalMaxPool2D(name = 'Glo35596', )(Mul77748)
Res56210 = keras.layers.Reshape((1, 1), name = 'Res56210', )(Glo35596)
Res63005 = keras.layers.Reshape((1, 1, 1), name = 'Res63005', )(Res56210)
Res60250 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res60250', )(Res63005)
Glo38807 = keras.layers.GlobalAveragePooling3D(name = 'Glo38807', )(Res60250)
Res66467 = keras.layers.Reshape((1, 1), name = 'Res66467', )(Glo38807)
Res99813 = keras.layers.Reshape((1, 1, 1), name = 'Res99813', )(Res66467)
Res64170 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res64170', )(Res99813)
Glo73910 = keras.layers.GlobalMaxPool3D(name = 'Glo73910', )(Res64170)
model = tf.keras.models.Model(inputs=[in0Mul77748,in1Mul77748], outputs=Glo73910)
in0Mul77748 = tf.constant([[[[0.4929], [0.4804]], [[0.6531], [0.291]]]])
in1Mul77748 = tf.constant([[[[0.2836], [0.3048]], [[0.1517], [0.1888]]]])
print (np.array2string(model.predict([in0Mul77748,in1Mul77748],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo73910.png')

LMul77748 = multiply_layer([[[[[0.4929], [0.4804]], [[0.6531], [0.291]]]], [[[[0.2836], [0.3048]], [[0.1517], [0.1888]]]]], Mul77748), 
LGlo35596 = global_max_pool2D_layer(Mul77748, Glo35596), 
LRes56210 = reshape_layer(Glo35596, [1, 1], Res56210), 
LRes63005 = reshape_layer(Res56210, [1, 1, 1], Res63005), 
LRes60250 = reshape_layer(Res63005, [1, 1, 1, 1], Res60250), 
LGlo38807 = global_average_pooling3D_layer(Res60250, Glo38807), 
LRes66467 = reshape_layer(Glo38807, [1, 1], Res66467), 
LRes99813 = reshape_layer(Res66467, [1, 1, 1], Res99813), 
LRes64170 = reshape_layer(Res99813, [1, 1, 1, 1], Res64170), 
LGlo73910 = global_max_pool3D_layer(Res64170, Glo73910), 
exec_layers([LMul77748,LGlo35596,LRes56210,LRes63005,LRes60250,LGlo38807,LRes66467,LRes99813,LRes64170,LGlo73910],["Mul77748","Glo35596","Res56210","Res63005","Res60250","Glo38807","Res66467","Res99813","Res64170","Glo73910"],Glo73910,"Glo73910")

Actual (Unparsed): [[0.1464259]]

Expected (Unparsed): [[0.14642592000000001]]

Actual:   [[0.1465]]

Expected: [[0.1465]]