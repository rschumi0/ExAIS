import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo94076 = tf.keras.layers.Input(shape=([2, 2, 1]))

Glo94076 = keras.layers.GlobalAveragePooling2D(name = 'Glo94076', )(in0Glo94076)
Res49003 = keras.layers.Reshape((1, 1), name = 'Res49003', )(Glo94076)
Res17871 = keras.layers.Reshape((1, 1, 1), name = 'Res17871', )(Res49003)
Res21346 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res21346', )(Res17871)
Up_91423 = keras.layers.UpSampling3D(size=(1, 1, 2), name = 'Up_91423', )(Res21346)
Res33494 = keras.layers.Reshape((1, 1, 2), name = 'Res33494', )(Up_91423)
Res3260 = keras.layers.Reshape((1, 2), name = 'Res3260', )(Res33494)
Fla21895 = keras.layers.Flatten(name = 'Fla21895', )(Res3260)
Res56138 = keras.layers.Reshape((2, 1), name = 'Res56138', )(Fla21895)
Res56366 = keras.layers.Reshape((2, 1, 1), name = 'Res56366', )(Res56138)
Res82845 = keras.layers.Reshape((2, 1, 1, 1), name = 'Res82845', )(Res56366)
Up_87385 = keras.layers.UpSampling3D(size=(2, 1, 2), name = 'Up_87385', )(Res82845)
model = tf.keras.models.Model(inputs=[in0Glo94076], outputs=Up_87385)
in0Glo94076 = tf.constant([[[[1.5714], [1.9166]], [[1.3262], [1.6316]]]])
print (np.array2string(model.predict([in0Glo94076],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Up_87385.png')

LGlo94076 = global_average_pooling2D_layer([[[[1.5714], [1.9166]], [[1.3262], [1.6316]]]], Glo94076), 
LRes49003 = reshape_layer(Glo94076, [1, 1], Res49003), 
LRes17871 = reshape_layer(Res49003, [1, 1, 1], Res17871), 
LRes21346 = reshape_layer(Res17871, [1, 1, 1, 1], Res21346), 
LUp_91423 = up_sampling3D_layer(Res21346, 1, 1, 2, Up_91423), 
LRes33494 = reshape_layer(Up_91423, [1, 1, 2], Res33494), 
LRes3260 = reshape_layer(Res33494, [1, 2], Res3260), 
LFla21895 = flatten_layer(Res3260, Fla21895), 
LRes56138 = reshape_layer(Fla21895, [2, 1], Res56138), 
LRes56366 = reshape_layer(Res56138, [2, 1, 1], Res56366), 
LRes82845 = reshape_layer(Res56366, [2, 1, 1, 1], Res82845), 
LUp_87385 = up_sampling3D_layer(Res82845, 2, 1, 2, Up_87385), 
exec_layers([LGlo94076,LRes49003,LRes17871,LRes21346,LUp_91423,LRes33494,LRes3260,LFla21895,LRes56138,LRes56366,LRes82845,LUp_87385],["Glo94076","Res49003","Res17871","Res21346","Up_91423","Res33494","Res3260","Fla21895","Res56138","Res56366","Res82845","Up_87385"],Up_87385,"Up_87385")

Actual (Unparsed): [[[[[1.6114500], [1.6114500]]], [[[1.6114500], [1.6114500]]], [[[1.6114500], [1.6114500]]], [[[1.6114500], [1.6114500]]]]]

Expected (Unparsed): [[[[[1.6114499999999998],[1.6114499999999998]]],[[[1.6114499999999998],[1.6114499999999998]]],[[[1.6114499999999998],[1.6114499999999998]]],[[[1.6114499999999998],[1.6114499999999998]]]]]

Actual:   [[[[[1.6115], [1.6115]]], [[[1.6115], [1.6115]]], [[[1.6115], [1.6115]]], [[[1.6115], [1.6115]]]]]

Expected: [[[[[1.6115], [1.6115]]], [[[1.6115], [1.6115]]], [[[1.6115], [1.6115]]], [[[1.6115], [1.6115]]]]]