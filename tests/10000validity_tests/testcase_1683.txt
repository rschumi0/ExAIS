import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot64691 = tf.keras.layers.Input(shape=([2, 2]))
in1Dot64691 = tf.keras.layers.Input(shape=([2, 2]))

Dot64691 = keras.layers.Dot(axes=(2, 2), name = 'Dot64691', )([in0Dot64691,in1Dot64691])
Den98124 = keras.layers.Dense(4,name = 'Den98124', )(Dot64691)
model = tf.keras.models.Model(inputs=[in0Dot64691,in1Dot64691], outputs=Den98124)
w = model.get_layer('Den98124').get_weights() 
w[0] = np.array([[0.9843, 0.5237, 0.8026, 0.7799], [0.7386, 0.4006, 0.9671, 0.3439]])
w[1] = np.array([0.1919, 0.6692, 0.408, 0.4601])
model.get_layer('Den98124').set_weights(w) 
in0Dot64691 = tf.constant([[[0.7602, 0.3995], [0.7531, 0.449]]])
in1Dot64691 = tf.constant([[[0.9776, 0.8227], [0.9111, 0.8778]]])
print (np.array2string(model.predict([in0Dot64691,in1Dot64691],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Den98124.png')

LDot64691 = dot_layer([[[0.7602, 0.3995], [0.7531, 0.449]]], [[[0.9776, 0.8227], [0.9111, 0.8778]]], 2, 2, Dot64691), 
LDen98124 = dense_layer(Dot64691, [[0.9843, 0.5237, 0.8026, 0.7799], [0.7386, 0.4006, 0.9671, 0.3439]],[0.1919, 0.6692, 0.408, 0.4601], Den98124), 
exec_layers([LDot64691,LDen98124],["Dot64691","Den98124"],Den98124,"Den98124")

Actual (Unparsed): [[[2.0174932, 1.6484684, 2.2772337, 1.6548188], [2.0780605, 1.6809755, 2.3401132, 1.6938841]]]

Expected (Unparsed): [[[2.017493157083,1.648468404621,2.277233692814,1.654818784731],[2.078060578244,1.6809755047480002,2.340113252467,1.6938841141930001]]]

Actual:   [[[2.0175, 1.6485, 2.2773, 1.6549], [2.0781, 1.681, 2.3402, 1.6939]]]

Expected: [[[2.0175, 1.6485, 2.2773, 1.6549], [2.0781, 1.681, 2.3402, 1.6939]]]