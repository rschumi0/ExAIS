import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Fla2945 = tf.keras.layers.Input(shape=([1]))
in0Dot30918 = tf.keras.layers.Input(shape=([2]))
in1Dot30918 = tf.keras.layers.Input(shape=([2]))

Fla2945 = keras.layers.Flatten(name = 'Fla2945', )(in0Fla2945)
Dot30918 = keras.layers.Dot(axes=(1, 1), name = 'Dot30918', )([in0Dot30918,in1Dot30918])
Max35025 = keras.layers.Maximum(name = 'Max35025', )([Fla2945,Dot30918])
Res25471 = keras.layers.Reshape((1, 1), name = 'Res25471', )(Max35025)
Ave58432 = keras.layers.AveragePooling1D(pool_size=(1), name = 'Ave58432', )(Res25471)
model = tf.keras.models.Model(inputs=[in0Fla2945,in0Dot30918,in1Dot30918], outputs=Ave58432)
in0Fla2945 = tf.constant([[1.6128]])
in0Dot30918 = tf.constant([[0.609, 0.8316]])
in1Dot30918 = tf.constant([[0.8257, 0.4099]])
print (np.array2string(model.predict([in0Fla2945,in0Dot30918,in1Dot30918],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Ave58432.png')

LFla2945 = flatten_layer([[1.6128]], Fla2945), 
LDot30918 = dot_layer([[0.609, 0.8316]], [[0.8257, 0.4099]], 1, 1, Dot30918), 
LMax35025 = maximum_layer([Fla2945,Dot30918], Max35025), 
LRes25471 = reshape_layer(Max35025, [1, 1], Res25471), 
LAve58432 = average_pooling1D_layer(Res25471, 1, Ave58432), 
exec_layers([LFla2945,LDot30918,LMax35025,LRes25471,LAve58432],["Fla2945","Dot30918","Max35025","Res25471","Ave58432"],Ave58432,"Ave58432")

Actual (Unparsed): [[[1.6128000]]]

Expected (Unparsed): [[[1.6128]]]

Actual:   [[[1.6128]]]

Expected: [[[1.6128]]]