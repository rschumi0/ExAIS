import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub37673 = tf.keras.layers.Input(shape=([2, 3, 2]))
in1Sub37673 = tf.keras.layers.Input(shape=([2, 3, 2]))

Sub37673 = keras.layers.Subtract(name = 'Sub37673', )([in0Sub37673,in1Sub37673])
Res43895 = keras.layers.Reshape((2, 6), name = 'Res43895', )(Sub37673)
Glo7774 = keras.layers.GlobalAveragePooling1D(name = 'Glo7774', )(Res43895)
model = tf.keras.models.Model(inputs=[in0Sub37673,in1Sub37673], outputs=Glo7774)
in0Sub37673 = tf.constant([[[[0.8858, 0.9471], [0.2476, 0.3317], [0.1722, 0.8263]], [[0.5079, 0.9368], [0.6021, 0.1055], [0.7359, 0.1158]]]])
in1Sub37673 = tf.constant([[[[0.4452, 0.854], [0.397, 0.7264], [0.036, 0.6139]], [[0.7349, 0.0527], [0.2119, 0.8945], [0.1688, 0.376]]]])
print (np.array2string(model.predict([in0Sub37673,in1Sub37673],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo7774.png')

LSub37673 = subtract_layer([[[[0.8858, 0.9471], [0.2476, 0.3317], [0.1722, 0.8263]], [[0.5079, 0.9368], [0.6021, 0.1055], [0.7359, 0.1158]]]], [[[[0.4452, 0.854], [0.397, 0.7264], [0.036, 0.6139]], [[0.7349, 0.0527], [0.2119, 0.8945], [0.1688, 0.376]]]], Sub37673), 
LRes43895 = reshape_layer(Sub37673, [2, 6], Res43895), 
LGlo7774 = global_average_pooling1D_layer(Res43895, Glo7774), 
exec_layers([LSub37673,LRes43895,LGlo7774],["Sub37673","Res43895","Glo7774"],Glo7774,"Glo7774")

Actual (Unparsed): [[0.1068000, 0.4886000, 0.1204000, -0.5918500, 0.3516500, -0.0239000]]

Expected (Unparsed): [[0.10680000000000003,0.48860000000000003,0.12039999999999998,-0.59185,0.35164999999999996,-0.023899999999999977]]

Actual:   [[0.1068, 0.4886, 0.1204, -0.5918, 0.3517, -0.0239]]

Expected: [[0.1069, 0.4887, 0.1204, -0.5918, 0.3517, -0.0238]]