import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul39681 = tf.keras.layers.Input(shape=([1, 1, 2, 2]))
in1Mul39681 = tf.keras.layers.Input(shape=([1, 1, 2, 2]))
in0Min64472 = tf.keras.layers.Input(shape=([1, 1]))
in1Min64472 = tf.keras.layers.Input(shape=([1, 1]))
in0Con21535 = tf.keras.layers.Input(shape=([1, 3]))

Mul39681 = keras.layers.Multiply(name = 'Mul39681', )([in0Mul39681,in1Mul39681])
Res96320 = keras.layers.Reshape((1, 1, 4), name = 'Res96320', )(Mul39681)
Res37125 = keras.layers.Reshape((1, 4), name = 'Res37125', )(Res96320)
Min64472 = keras.layers.Minimum(name = 'Min64472', )([in0Min64472,in1Min64472])
Con21535 = keras.layers.Concatenate(axis=2, name = 'Con21535', )([Min64472,in0Con21535])
Add12696 = keras.layers.Add(name = 'Add12696', )([Res37125,Con21535])
model = tf.keras.models.Model(inputs=[in0Mul39681,in1Mul39681,in0Min64472,in1Min64472,in0Con21535], outputs=Add12696)
in0Mul39681 = tf.constant([[[[[0.8189, 0.6608], [0.4459, 0.5339]]]]])
in1Mul39681 = tf.constant([[[[[0.4992, 0.3935], [0.4552, 0.3973]]]]])
in0Min64472 = tf.constant([[[0.5743]]])
in1Min64472 = tf.constant([[[0.6842]]])
in0Con21535 = tf.constant([[[0.156, 0.7701, 0.4633]]])
print (np.array2string(model.predict([in0Mul39681,in1Mul39681,in0Min64472,in1Min64472,in0Con21535],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add12696.png')

LMul39681 = multiply_layer([[[[[[0.8189, 0.6608], [0.4459, 0.5339]]]]], [[[[[0.4992, 0.3935], [0.4552, 0.3973]]]]]], Mul39681), 
LRes96320 = reshape_layer(Mul39681, [1, 1, 4], Res96320), 
LRes37125 = reshape_layer(Res96320, [1, 4], Res37125), 
LMin64472 = minimum_layer([[[[0.5743]]], [[[0.6842]]]], Min64472), 
LCon21535 = concatenate_layer([Min64472,[[[0.156, 0.7701, 0.4633]]]], 2, Con21535), 
LAdd12696 = add_layer([Res37125,Con21535], Add12696), 
exec_layers([LMul39681,LRes96320,LRes37125,LMin64472,LCon21535,LAdd12696],["Mul39681","Res96320","Res37125","Min64472","Con21535","Add12696"],Add12696,"Add12696")

Actual (Unparsed): [[[0.9830949, 0.4160248, 0.9730737, 0.6754185]]]

Expected (Unparsed): [[[0.98309488,0.4160248000000001,0.97307368,0.67541847]]]

Actual:   [[[0.9831, 0.4161, 0.9731, 0.6755]]]

Expected: [[[0.9831, 0.4161, 0.9731, 0.6755]]]