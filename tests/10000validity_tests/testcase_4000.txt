import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul4375 = tf.keras.layers.Input(shape=([1, 2]))
in1Mul4375 = tf.keras.layers.Input(shape=([1, 2]))
in0Max39179 = tf.keras.layers.Input(shape=([2, 1, 2]))
in1Max39179 = tf.keras.layers.Input(shape=([2, 1, 2]))

Mul4375 = keras.layers.Multiply(name = 'Mul4375', )([in0Mul4375,in1Mul4375])
Res26631 = keras.layers.Reshape((1, 2, 1), name = 'Res26631', )(Mul4375)
Res34154 = keras.layers.Reshape((1, 2, 1, 1), name = 'Res34154', )(Res26631)
Zer19871 = keras.layers.ZeroPadding3D(padding=((1, 0), (1, 0), (3, 0)), name = 'Zer19871', )(Res34154)
Max39179 = keras.layers.Maximum(name = 'Max39179', )([in0Max39179,in1Max39179])
Res56176 = keras.layers.Reshape((2, 1, 2, 1), name = 'Res56176', )(Max39179)
Up_42485 = keras.layers.UpSampling3D(size=(1, 1, 2), name = 'Up_42485', )(Res56176)
Zer30588 = keras.layers.ZeroPadding3D(padding=((0, 0), (2, 0), (0, 0)), name = 'Zer30588', )(Up_42485)
Min75230 = keras.layers.Minimum(name = 'Min75230', )([Zer19871,Zer30588])
model = tf.keras.models.Model(inputs=[in0Mul4375,in1Mul4375,in0Max39179,in1Max39179], outputs=Min75230)
in0Mul4375 = tf.constant([[[0.0775, 0.7637]]])
in1Mul4375 = tf.constant([[[0.9166, 0.1648]]])
in0Max39179 = tf.constant([[[[0.5706, 0.5212]], [[0.9726, 0.4615]]]])
in1Max39179 = tf.constant([[[[0.3413, 0.6225]], [[0.1743, 0.9039]]]])
print (np.array2string(model.predict([in0Mul4375,in1Mul4375,in0Max39179,in1Max39179],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min75230.png')

LMul4375 = multiply_layer([[[[0.0775, 0.7637]]], [[[0.9166, 0.1648]]]], Mul4375), 
LRes26631 = reshape_layer(Mul4375, [1, 2, 1], Res26631), 
LRes34154 = reshape_layer(Res26631, [1, 2, 1, 1], Res34154), 
LZer19871 = zero_padding3D_layer(Res34154, 1, 0, 1, 0, 3, 0, Zer19871), 
LMax39179 = maximum_layer([[[[[0.5706, 0.5212]], [[0.9726, 0.4615]]]], [[[[0.3413, 0.6225]], [[0.1743, 0.9039]]]]], Max39179), 
LRes56176 = reshape_layer(Max39179, [2, 1, 2, 1], Res56176), 
LUp_42485 = up_sampling3D_layer(Res56176, 1, 1, 2, Up_42485), 
LZer30588 = zero_padding3D_layer(Up_42485, 0, 0, 2, 0, 0, 0, Zer30588), 
LMin75230 = minimum_layer([Zer19871,Zer30588], Min75230), 
exec_layers([LMul4375,LRes26631,LRes34154,LZer19871,LMax39179,LRes56176,LUp_42485,LZer30588,LMin75230],["Mul4375","Res26631","Res34154","Zer19871","Max39179","Res56176","Up_42485","Zer30588","Min75230"],Min75230,"Min75230")

Actual (Unparsed): [[[[[0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.1258578]]]]]

Expected (Unparsed): [[[[[0],[0],[0],[0]],[[0],[0],[0],[0]],[[0],[0],[0],[0]]],[[[0],[0],[0],[0]],[[0],[0],[0],[0]],[[0],[0],[0],[0.12585776]]]]]

Actual:   [[[[[0], [0], [0], [0]], [[0], [0], [0], [0]], [[0], [0], [0], [0]]], [[[0], [0], [0], [0]], [[0], [0], [0], [0]], [[0], [0], [0], [0.1259]]]]]

Expected: [[[[[0], [0], [0], [0]], [[0], [0], [0], [0]], [[0], [0], [0], [0]]], [[[0], [0], [0], [0]], [[0], [0], [0], [0]], [[0], [0], [0], [0.1259]]]]]