import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul18748 = tf.keras.layers.Input(shape=([1, 2, 1]))
in1Mul18748 = tf.keras.layers.Input(shape=([1, 2, 1]))

Mul18748 = keras.layers.Multiply(name = 'Mul18748', )([in0Mul18748,in1Mul18748])
Glo15666 = keras.layers.GlobalMaxPool2D(name = 'Glo15666', )(Mul18748)
Res11412 = keras.layers.Reshape((1, 1), name = 'Res11412', )(Glo15666)
Res69052 = keras.layers.Reshape((1, 1, 1), name = 'Res69052', )(Res11412)
Res40033 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res40033', )(Res69052)
Zer28310 = keras.layers.ZeroPadding3D(padding=((1, 1), (1, 1), (1, 1)), name = 'Zer28310', )(Res40033)
Res2650 = keras.layers.Reshape((3, 3, 3), name = 'Res2650', )(Zer28310)
Res42874 = keras.layers.Reshape((3, 9), name = 'Res42874', )(Res2650)
Max64334 = keras.layers.MaxPool1D(pool_size=(2), name = 'Max64334', )(Res42874)
model = tf.keras.models.Model(inputs=[in0Mul18748,in1Mul18748], outputs=Max64334)
in0Mul18748 = tf.constant([[[[0.834], [0.2189]]]])
in1Mul18748 = tf.constant([[[[0.8387], [0.7001]]]])
print (np.array2string(model.predict([in0Mul18748,in1Mul18748],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max64334.png')

LMul18748 = multiply_layer([[[[[0.834], [0.2189]]]], [[[[0.8387], [0.7001]]]]], Mul18748), 
LGlo15666 = global_max_pool2D_layer(Mul18748, Glo15666), 
LRes11412 = reshape_layer(Glo15666, [1, 1], Res11412), 
LRes69052 = reshape_layer(Res11412, [1, 1, 1], Res69052), 
LRes40033 = reshape_layer(Res69052, [1, 1, 1, 1], Res40033), 
LZer28310 = zero_padding3D_layer(Res40033, 1, 1, 1, 1, 1, 1, Zer28310), 
LRes2650 = reshape_layer(Zer28310, [3, 3, 3], Res2650), 
LRes42874 = reshape_layer(Res2650, [3, 9], Res42874), 
LMax64334 = max_pool1D_layer(Res42874, 2, Max64334), 
exec_layers([LMul18748,LGlo15666,LRes11412,LRes69052,LRes40033,LZer28310,LRes2650,LRes42874,LMax64334],["Mul18748","Glo15666","Res11412","Res69052","Res40033","Zer28310","Res2650","Res42874","Max64334"],Max64334,"Max64334")

Actual (Unparsed): [[[0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.6994758, 0.0000000, 0.0000000, 0.0000000, 0.0000000]]]

Expected (Unparsed): [[[0,0,0,0,0.6994758,0,0,0,0]]]

Actual:   [[[0, 0, 0, 0, 0.6995, 0, 0, 0, 0]]]

Expected: [[[0, 0, 0, 0, 0.6995, 0, 0, 0, 0]]]