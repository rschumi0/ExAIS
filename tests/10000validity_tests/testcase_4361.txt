import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot57969 = tf.keras.layers.Input(shape=([2]))
in1Dot57969 = tf.keras.layers.Input(shape=([2]))
in0Con12910 = tf.keras.layers.Input(shape=([1, 1]))
in0Min94357 = tf.keras.layers.Input(shape=([1, 2]))
in1Min94357 = tf.keras.layers.Input(shape=([1, 2]))
in0Ave21981 = tf.keras.layers.Input(shape=([1, 2]))

Dot57969 = keras.layers.Dot(axes=(1, 1), name = 'Dot57969', )([in0Dot57969,in1Dot57969])
Res18855 = keras.layers.Reshape((1, 1), name = 'Res18855', )(Dot57969)
Res37334 = keras.layers.Reshape((1, 1, 1), name = 'Res37334', )(Res18855)
Res67176 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res67176', )(Res37334)
Glo98927 = keras.layers.GlobalMaxPool3D(name = 'Glo98927', )(Res67176)
Res30587 = keras.layers.Reshape((1, 1), name = 'Res30587', )(Glo98927)
Glo85655 = keras.layers.GlobalMaxPool1D(name = 'Glo85655', )(Res30587)
Res32008 = keras.layers.Reshape((1, 1), name = 'Res32008', )(Glo85655)
Con12910 = keras.layers.Concatenate(axis=2, name = 'Con12910', )([Res32008,in0Con12910])
Min94357 = keras.layers.Minimum(name = 'Min94357', )([in0Min94357,in1Min94357])
Max11108 = keras.layers.Maximum(name = 'Max11108', )([Con12910,Min94357])
Ave21981 = keras.layers.AveragePooling1D(pool_size=(1), name = 'Ave21981', )(in0Ave21981)
Max77699 = keras.layers.MaxPool1D(pool_size=(1), strides=(1), padding='same', name = 'Max77699', )(Ave21981)
Min97692 = keras.layers.Minimum(name = 'Min97692', )([Max11108,Max77699])
model = tf.keras.models.Model(inputs=[in0Dot57969,in1Dot57969,in0Con12910,in0Min94357,in1Min94357,in0Ave21981], outputs=Min97692)
in0Dot57969 = tf.constant([[0.9591, 0.4917]])
in1Dot57969 = tf.constant([[0.6549, 0.4074]])
in0Con12910 = tf.constant([[[0.2852]]])
in0Min94357 = tf.constant([[[0.2887, 0.1887]]])
in1Min94357 = tf.constant([[[0.7665, 0.8993]]])
in0Ave21981 = tf.constant([[[1.8137, 1.1964]]])
print (np.array2string(model.predict([in0Dot57969,in1Dot57969,in0Con12910,in0Min94357,in1Min94357,in0Ave21981],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min97692.png')

LDot57969 = dot_layer([[0.9591, 0.4917]], [[0.6549, 0.4074]], 1, 1, Dot57969), 
LRes18855 = reshape_layer(Dot57969, [1, 1], Res18855), 
LRes37334 = reshape_layer(Res18855, [1, 1, 1], Res37334), 
LRes67176 = reshape_layer(Res37334, [1, 1, 1, 1], Res67176), 
LGlo98927 = global_max_pool3D_layer(Res67176, Glo98927), 
LRes30587 = reshape_layer(Glo98927, [1, 1], Res30587), 
LGlo85655 = global_max_pool1D_layer(Res30587, Glo85655), 
LRes32008 = reshape_layer(Glo85655, [1, 1], Res32008), 
LCon12910 = concatenate_layer([Res32008,[[[0.2852]]]], 2, Con12910), 
LMin94357 = minimum_layer([[[[0.2887, 0.1887]]], [[[0.7665, 0.8993]]]], Min94357), 
LMax11108 = maximum_layer([Con12910,Min94357], Max11108), 
LAve21981 = average_pooling1D_layer([[[1.8137, 1.1964]]], 1, Ave21981), 
LMax77699 = max_pool1D_layer(Ave21981, 1, 1, true, Max77699), 
LMin97692 = minimum_layer([Max11108,Max77699], Min97692), 
exec_layers([LDot57969,LRes18855,LRes37334,LRes67176,LGlo98927,LRes30587,LGlo85655,LRes32008,LCon12910,LMin94357,LMax11108,LAve21981,LMax77699,LMin97692],["Dot57969","Res18855","Res37334","Res67176","Glo98927","Res30587","Glo85655","Res32008","Con12910","Min94357","Max11108","Ave21981","Max77699","Min97692"],Min97692,"Min97692")

Actual (Unparsed): [[[0.8284332, 0.2852000]]]

Expected (Unparsed): [[[0.82843317,0.2852]]]

Actual:   [[[0.8285, 0.2852]]]

Expected: [[[0.8285, 0.2852]]]