import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot15057 = tf.keras.layers.Input(shape=([2, 3]))
in1Dot15057 = tf.keras.layers.Input(shape=([2, 3]))
in0Mul4637 = tf.keras.layers.Input(shape=([2, 2]))
in1Mul4637 = tf.keras.layers.Input(shape=([2, 2]))
in0Con15737 = tf.keras.layers.Input(shape=([3, 1]))

Dot15057 = keras.layers.Dot(axes=(1, 1), name = 'Dot15057', )([in0Dot15057,in1Dot15057])
Mul4637 = keras.layers.Multiply(name = 'Mul4637', )([in0Mul4637,in1Mul4637])
Zer34810 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer34810', )(Mul4637)
Con15737 = keras.layers.Concatenate(axis=2, name = 'Con15737', )([Zer34810,in0Con15737])
Min53002 = keras.layers.Minimum(name = 'Min53002', )([Dot15057,Con15737])
model = tf.keras.models.Model(inputs=[in0Dot15057,in1Dot15057,in0Mul4637,in1Mul4637,in0Con15737], outputs=Min53002)
in0Dot15057 = tf.constant([[[0.8257, 0.9889, 0.9064], [0.964, 0.7786, 0.9724]]])
in1Dot15057 = tf.constant([[[0.2534, 0.4333, 0.4961], [0.4167, 0.9317, 0.5842]]])
in0Mul4637 = tf.constant([[[0.3502, 0.2427], [0.1292, 0.9067]]])
in1Mul4637 = tf.constant([[[0.4813, 0.872], [0.8531, 0.4623]]])
in0Con15737 = tf.constant([[[0.2582], [0.7694], [0.333]]])
print (np.array2string(model.predict([in0Dot15057,in1Dot15057,in0Mul4637,in1Mul4637,in0Con15737],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min53002.png')

LDot15057 = dot_layer([[[0.8257, 0.9889, 0.9064], [0.964, 0.7786, 0.9724]]], [[[0.2534, 0.4333, 0.4961], [0.4167, 0.9317, 0.5842]]], 1, 1, Dot15057), 
LMul4637 = multiply_layer([[[[0.3502, 0.2427], [0.1292, 0.9067]]], [[[0.4813, 0.872], [0.8531, 0.4623]]]], Mul4637), 
LZer34810 = zero_padding1D_layer(Mul4637, 1, 0, Zer34810), 
LCon15737 = concatenate_layer([Zer34810,[[[0.2582], [0.7694], [0.333]]]], 2, Con15737), 
LMin53002 = minimum_layer([Dot15057,Con15737], Min53002), 
exec_layers([LDot15057,LMul4637,LZer34810,LCon15737,LMin53002],["Dot15057","Mul4637","Zer34810","Con15737","Min53002"],Min53002,"Min53002")

Actual (Unparsed): [[[0.0000000, 0.0000000, 0.2582000], [0.1685513, 0.2116344, 0.7694000], [0.1102205, 0.4191674, 0.3330000]]]

Expected (Unparsed): [[[0,0,0.2582],[0.16855126,0.2116344,0.7694],[0.11022052,0.41916740999999996,0.333]]]

Actual:   [[[0, 0, 0.2582], [0.1686, 0.2117, 0.7694], [0.1103, 0.4192, 0.333]]]

Expected: [[[0, 0, 0.2582], [0.1686, 0.2117, 0.7694], [0.1103, 0.4192, 0.333]]]