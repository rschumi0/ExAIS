import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Con86985 = tf.keras.layers.Input(shape=([2, 1, 1]))

Con86985 = keras.layers.Conv2DTranspose(2, (2, 1),strides=(1, 1), padding='valid', name = 'Con86985', )(in0Con86985)
Res48696 = keras.layers.Reshape((3, 2), name = 'Res48696', )(Con86985)
Cro33000 = keras.layers.Cropping1D(cropping=((2, 0)), name = 'Cro33000', )(Res48696)
Zer70700 = keras.layers.ZeroPadding1D(padding=((1, 1)), name = 'Zer70700', )(Cro33000)
Den42603 = keras.layers.Dense(3,name = 'Den42603', )(Zer70700)
Glo49175 = keras.layers.GlobalAveragePooling1D(name = 'Glo49175', )(Den42603)
Res12266 = keras.layers.Reshape((3, 1), name = 'Res12266', )(Glo49175)
PRe11818 = keras.layers.PReLU(name = 'PRe11818', )(Res12266)
model = tf.keras.models.Model(inputs=[in0Con86985], outputs=PRe11818)
w = model.get_layer('Con86985').get_weights() 
w[0] = np.array([[[[0.428], [0.179]]], [[[0.1192], [0.2095]]]])
w[1] = np.array([0, 0])
model.get_layer('Con86985').set_weights(w) 
w = model.get_layer('Den42603').get_weights() 
w[0] = np.array([[0.6975, 0.6408, 0.85], [0.5632, 0.3298, 0.0917]])
w[1] = np.array([0.932, 0.095, 0.2047])
model.get_layer('Den42603').set_weights(w) 
w = model.get_layer('PRe11818').get_weights() 
w[0] = np.array([[0.7997], [0.0423], [0.5028]])
model.get_layer('PRe11818').set_weights(w) 
in0Con86985 = tf.constant([[[[0.5705]], [[0.7222]]]])
print (np.array2string(model.predict([in0Con86985],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='PRe11818.png')

LCon86985 = conv2D_transpose_layer([[[[0.5705]], [[0.7222]]]], 2, 1,[[[[0.428], [0.179]]], [[[0.1192], [0.2095]]]],[0, 0], 1, 1, false, Con86985), 
LRes48696 = reshape_layer(Con86985, [3, 2], Res48696), 
LCro33000 = cropping1D_layer(Res48696, 2, 0, Cro33000), 
LZer70700 = zero_padding1D_layer(Cro33000, 1, 1, Zer70700), 
LDen42603 = dense_layer(Zer70700, [[0.6975, 0.6408, 0.85], [0.5632, 0.3298, 0.0917]],[0.932, 0.095, 0.2047], Den42603), 
LGlo49175 = global_average_pooling1D_layer(Den42603, Glo49175), 
LRes12266 = reshape_layer(Glo49175, [3, 1], Res12266), 
LPRe11818 = prelu_layer(Res12266, [[0.7997], [0.0423], [0.5028]], PRe11818), 
exec_layers([LCon86985,LRes48696,LCro33000,LZer70700,LDen42603,LGlo49175,LRes12266,LPRe11818],["Con86985","Res48696","Cro33000","Zer70700","Den42603","Glo49175","Res12266","PRe11818"],PRe11818,"PRe11818")

Actual (Unparsed): [[[0.9804193], [0.1300210], [0.2337159]]]

Expected (Unparsed): [[[0.9804192730933333],[0.13002103313733335],[0.23371586551]]]

Actual:   [[[0.9805], [0.1301], [0.2338]]]

Expected: [[[0.9805], [0.1301], [0.2338]]]