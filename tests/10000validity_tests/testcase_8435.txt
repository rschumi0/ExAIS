import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub6920 = tf.keras.layers.Input(shape=([3, 3, 3]))
in1Sub6920 = tf.keras.layers.Input(shape=([3, 3, 3]))

Sub6920 = keras.layers.Subtract(name = 'Sub6920', )([in0Sub6920,in1Sub6920])
Res85805 = keras.layers.Reshape((3, 3, 3, 1), name = 'Res85805', )(Sub6920)
Glo64679 = keras.layers.GlobalMaxPool3D(name = 'Glo64679', )(Res85805)
model = tf.keras.models.Model(inputs=[in0Sub6920,in1Sub6920], outputs=Glo64679)
in0Sub6920 = tf.constant([[[[0.4124, 0.7748, 0.4489], [0.7035, 0.414, 0.3133], [0.1381, 0.1874, 0.6904]], [[0.6657, 0.259, 0.5068], [0.4358, 0.0197, 0.39], [0.3896, 0.6207, 0.7296]], [[0.7291, 0.9748, 0.0463], [0.1639, 0.6251, 0.1607], [0.4452, 0.0761, 0.0941]]]])
in1Sub6920 = tf.constant([[[[0.8116, 0.3478, 0.4111], [0.1713, 0.5702, 0.6454], [0.39, 0.1732, 0.5948]], [[0.2594, 0.1782, 0.9411], [0.1459, 0.0996, 0.434], [0.9244, 0.5765, 0.5363]], [[0.5613, 0.5205, 0.9476], [0.9434, 0.5427, 0.437], [0.1876, 0.4799, 0.819]]]])
print (np.array2string(model.predict([in0Sub6920,in1Sub6920],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo64679.png')

LSub6920 = subtract_layer([[[[0.4124, 0.7748, 0.4489], [0.7035, 0.414, 0.3133], [0.1381, 0.1874, 0.6904]], [[0.6657, 0.259, 0.5068], [0.4358, 0.0197, 0.39], [0.3896, 0.6207, 0.7296]], [[0.7291, 0.9748, 0.0463], [0.1639, 0.6251, 0.1607], [0.4452, 0.0761, 0.0941]]]], [[[[0.8116, 0.3478, 0.4111], [0.1713, 0.5702, 0.6454], [0.39, 0.1732, 0.5948]], [[0.2594, 0.1782, 0.9411], [0.1459, 0.0996, 0.434], [0.9244, 0.5765, 0.5363]], [[0.5613, 0.5205, 0.9476], [0.9434, 0.5427, 0.437], [0.1876, 0.4799, 0.819]]]], Sub6920), 
LRes85805 = reshape_layer(Sub6920, [3, 3, 3, 1], Res85805), 
LGlo64679 = global_max_pool3D_layer(Res85805, Glo64679), 
exec_layers([LSub6920,LRes85805,LGlo64679],["Sub6920","Res85805","Glo64679"],Glo64679,"Glo64679")

Actual (Unparsed): [[0.5322000]]

Expected (Unparsed): [[0.5322]]

Actual:   [[0.5322]]

Expected: [[0.5322]]