import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul9117 = tf.keras.layers.Input(shape=([1, 1, 2]))
in1Mul9117 = tf.keras.layers.Input(shape=([1, 1, 2]))

Mul9117 = keras.layers.Multiply(name = 'Mul9117', )([in0Mul9117,in1Mul9117])
Res24144 = keras.layers.Reshape((1, 1, 2, 1), name = 'Res24144', )(Mul9117)
Glo27588 = keras.layers.GlobalMaxPool3D(name = 'Glo27588', )(Res24144)
Res88900 = keras.layers.Reshape((1, 1), name = 'Res88900', )(Glo27588)
Res1059 = keras.layers.Reshape((1, 1, 1), name = 'Res1059', )(Res88900)
Res47515 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res47515', )(Res1059)
Glo21021 = keras.layers.GlobalMaxPool3D(name = 'Glo21021', )(Res47515)
model = tf.keras.models.Model(inputs=[in0Mul9117,in1Mul9117], outputs=Glo21021)
in0Mul9117 = tf.constant([[[[0.6173, 0.8269]]]])
in1Mul9117 = tf.constant([[[[0.7866, 0.2831]]]])
print (np.array2string(model.predict([in0Mul9117,in1Mul9117],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo21021.png')

LMul9117 = multiply_layer([[[[[0.6173, 0.8269]]]], [[[[0.7866, 0.2831]]]]], Mul9117), 
LRes24144 = reshape_layer(Mul9117, [1, 1, 2, 1], Res24144), 
LGlo27588 = global_max_pool3D_layer(Res24144, Glo27588), 
LRes88900 = reshape_layer(Glo27588, [1, 1], Res88900), 
LRes1059 = reshape_layer(Res88900, [1, 1, 1], Res1059), 
LRes47515 = reshape_layer(Res1059, [1, 1, 1, 1], Res47515), 
LGlo21021 = global_max_pool3D_layer(Res47515, Glo21021), 
exec_layers([LMul9117,LRes24144,LGlo27588,LRes88900,LRes1059,LRes47515,LGlo21021],["Mul9117","Res24144","Glo27588","Res88900","Res1059","Res47515","Glo21021"],Glo21021,"Glo21021")

Actual (Unparsed): [[0.4855682]]

Expected (Unparsed): [[0.48556817999999996]]

Actual:   [[0.4856]]

Expected: [[0.4856]]