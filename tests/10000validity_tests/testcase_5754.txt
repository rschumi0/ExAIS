import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Con52095 = tf.keras.layers.Input(shape=([1, 2]))

Con52095 = keras.layers.Conv1D(2, (1),strides=(1), padding='valid', dilation_rate=(1), name = 'Con52095', )(in0Con52095)
Res5004 = keras.layers.Reshape((1, 2, 1), name = 'Res5004', )(Con52095)
Max4271 = keras.layers.MaxPool2D(pool_size=(1, 1), strides=(1, 1), padding='valid', name = 'Max4271', )(Res5004)
ReL67519 = keras.layers.ReLU(max_value=2.6034744939686494, negative_slope=5.834120542670701, threshold=3.219756162372959, name = 'ReL67519', )(Max4271)
ReL74067 = keras.layers.ReLU(max_value=1.9239519638755713, negative_slope=5.911757618814314, threshold=3.0378354109283414, name = 'ReL74067', )(ReL67519)
Con45978 = keras.layers.Conv2DTranspose(4, (1, 1),strides=(1, 1), padding='same', name = 'Con45978', )(ReL74067)
Res6360 = keras.layers.Reshape((1, 2, 4, 1), name = 'Res6360', )(Con45978)
Glo15521 = keras.layers.GlobalMaxPool3D(name = 'Glo15521', )(Res6360)
model = tf.keras.models.Model(inputs=[in0Con52095], outputs=Glo15521)
w = model.get_layer('Con52095').get_weights() 
w[0] = np.array([[[0.1915, 0.8519], [0.0958, 0.3739]]])
w[1] = np.array([0, 0])
model.get_layer('Con52095').set_weights(w) 
w = model.get_layer('Con45978').get_weights() 
w[0] = np.array([[[[0.8901], [0.5564], [0.8592], [0.1127]]]])
w[1] = np.array([0, 0, 0, 0])
model.get_layer('Con45978').set_weights(w) 
in0Con52095 = tf.constant([[[0.5189, 0.2878]]])
print (np.array2string(model.predict([in0Con52095],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo15521.png')

LCon52095 = conv1D_layer([[[0.5189, 0.2878]]], 1,[[[0.1915, 0.8519], [0.0958, 0.3739]]],[0, 0], 1, false, 1, Con52095), 
LRes5004 = reshape_layer(Con52095, [1, 2, 1], Res5004), 
LMax4271 = max_pool2D_layer(Res5004, 1, 1, 1, 1, false, Max4271), 
LReL67519 = relu_layer(Max4271, 2.6034744939686494, 5.834120542670701, 3.219756162372959, ReL67519), 
LReL74067 = relu_layer(ReL67519, 1.9239519638755713, 5.911757618814314, 3.0378354109283414, ReL74067), 
LCon45978 = conv2D_transpose_layer(ReL74067, 1, 1,[[[[0.8901], [0.5564], [0.8592], [0.1127]]]],[0, 0, 0, 0], 1, 1, true, Con45978), 
LRes6360 = reshape_layer(Con45978, [1, 2, 4, 1], Res6360), 
LGlo15521 = global_max_pool3D_layer(Res6360, Glo15521), 
exec_layers([LCon52095,LRes5004,LMax4271,LReL67519,LReL74067,LCon45978,LRes6360,LGlo15521],["Con52095","Res5004","Max4271","ReL67519","ReL74067","Con45978","Res6360","Glo15521"],Glo15521,"Glo15521")

Actual (Unparsed): [[-12.4026730]]

Expected (Unparsed): [[-12.402672969668936]]

Actual:   [[-12.4026]]

Expected: [[-12.4026]]