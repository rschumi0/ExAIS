import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max77097 = tf.keras.layers.Input(shape=([2, 2]))
in1Max77097 = tf.keras.layers.Input(shape=([2, 2]))

Max77097 = keras.layers.Maximum(name = 'Max77097', )([in0Max77097,in1Max77097])
Per44010 = keras.layers.Permute((2,1), name = 'Per44010',)(Max77097)
Res8418 = keras.layers.Reshape((2, 2, 1), name = 'Res8418', )(Per44010)
Res85407 = keras.layers.Reshape((2, 2, 1, 1), name = 'Res85407', )(Res8418)
Cro11619 = keras.layers.Cropping3D(cropping=((0, 1), (1, 0), (0, 0)), name = 'Cro11619', )(Res85407)
model = tf.keras.models.Model(inputs=[in0Max77097,in1Max77097], outputs=Cro11619)
in0Max77097 = tf.constant([[[0.7553, 0.6296], [0.6606, 0.3299]]])
in1Max77097 = tf.constant([[[0.0158, 0.2924], [0.7695, 0.4182]]])
print (np.array2string(model.predict([in0Max77097,in1Max77097],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Cro11619.png')

LMax77097 = maximum_layer([[[[0.7553, 0.6296], [0.6606, 0.3299]]], [[[0.0158, 0.2924], [0.7695, 0.4182]]]], Max77097), 
LPer44010 = permute_layer(Max77097, 2,1, Per44010), 
LRes8418 = reshape_layer(Per44010, [2, 2, 1], Res8418), 
LRes85407 = reshape_layer(Res8418, [2, 2, 1, 1], Res85407), 
LCro11619 = cropping3D_layer(Res85407, 0, 1, 1, 0, 0, 0, Cro11619), 
exec_layers([LMax77097,LPer44010,LRes8418,LRes85407,LCro11619],["Max77097","Per44010","Res8418","Res85407","Cro11619"],Cro11619,"Cro11619")

Actual (Unparsed): [[[[[0.7695000]]]]]

Expected (Unparsed): [[[[[0.7695]]]]]

Actual:   [[[[[0.7695]]]]]

Expected: [[[[[0.7695]]]]]