import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave38095 = tf.keras.layers.Input(shape=([2, 1, 1]))
in1Ave38095 = tf.keras.layers.Input(shape=([2, 1, 1]))
in0Con5472 = tf.keras.layers.Input(shape=([1, 2, 1]))

Ave38095 = keras.layers.Average(name = 'Ave38095', )([in0Ave38095,in1Ave38095])
Res37302 = keras.layers.Reshape((2, 1, 1, 1), name = 'Res37302', )(Ave38095)
Zer71572 = keras.layers.ZeroPadding3D(padding=((0, 0), (6, 0), (6, 0)), name = 'Zer71572', )(Res37302)
Con5472 = keras.layers.Conv2D(2, (1, 1),strides=(11, 1), padding='same', dilation_rate=(1, 1), name = 'Con5472', )(in0Con5472)
Res53347 = keras.layers.Reshape((1, 2, 2, 1), name = 'Res53347', )(Con5472)
Up_31543 = keras.layers.UpSampling3D(size=(1, 2, 2), name = 'Up_31543', )(Res53347)
Zer56906 = keras.layers.ZeroPadding3D(padding=((1, 0), (3, 0), (3, 0)), name = 'Zer56906', )(Up_31543)
Sub59629 = keras.layers.Subtract(name = 'Sub59629', )([Zer71572,Zer56906])
Den59983 = keras.layers.Dense(3,name = 'Den59983', )(Sub59629)
Res35470 = keras.layers.Reshape((2, 7, 21), name = 'Res35470', )(Den59983)
Res13896 = keras.layers.Reshape((2, 147), name = 'Res13896', )(Res35470)
Cro63545 = keras.layers.Cropping1D(cropping=((0, 0)), name = 'Cro63545', )(Res13896)
model = tf.keras.models.Model(inputs=[in0Ave38095,in1Ave38095,in0Con5472], outputs=Cro63545)
w = model.get_layer('Con5472').get_weights() 
w[0] = np.array([[[[0.6922, 0.8084]]]])
w[1] = np.array([0, 0])
model.get_layer('Con5472').set_weights(w) 
w = model.get_layer('Den59983').get_weights() 
w[0] = np.array([[0.0193, 0.9849, 0.5417]])
w[1] = np.array([0.0393, 0.6803, 0.6026])
model.get_layer('Den59983').set_weights(w) 
in0Ave38095 = tf.constant([[[[0.3687]], [[0.232]]]])
in1Ave38095 = tf.constant([[[[0.6624]], [[0.5059]]]])
in0Con5472 = tf.constant([[[[0.8668], [0.661]]]])
print (np.array2string(model.predict([in0Ave38095,in1Ave38095,in0Con5472],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Cro63545.png')

LAve38095 = average_layer([[[[[0.3687]], [[0.232]]]], [[[[0.6624]], [[0.5059]]]]], Ave38095), 
LRes37302 = reshape_layer(Ave38095, [2, 1, 1, 1], Res37302), 
LZer71572 = zero_padding3D_layer(Res37302, 0, 0, 6, 0, 6, 0, Zer71572), 
LCon5472 = conv2D_layer([[[[0.8668], [0.661]]]], 1, 1,[[[[0.6922, 0.8084]]]],[0, 0], 11, 1, true, 1, 1, Con5472), 
LRes53347 = reshape_layer(Con5472, [1, 2, 2, 1], Res53347), 
LUp_31543 = up_sampling3D_layer(Res53347, 1, 2, 2, Up_31543), 
LZer56906 = zero_padding3D_layer(Up_31543, 1, 0, 3, 0, 3, 0, Zer56906), 
LSub59629 = subtract_layer(Zer71572,Zer56906, Sub59629), 
LDen59983 = dense_layer(Sub59629, [[0.0193, 0.9849, 0.5417]],[0.0393, 0.6803, 0.6026], Den59983), 
LRes35470 = reshape_layer(Den59983, [2, 7, 21], Res35470), 
LRes13896 = reshape_layer(Res35470, [2, 147], Res13896), 
LCro63545 = cropping1D_layer(Res13896, 0, 0, Cro63545), 
exec_layers([LAve38095,LRes37302,LZer71572,LCon5472,LRes53347,LUp_31543,LZer56906,LSub59629,LDen59983,LRes35470,LRes13896,LCro63545],["Ave38095","Res37302","Zer71572","Con5472","Res53347","Up_31543","Zer56906","Sub59629","Den59983","Res35470","Res13896","Cro63545"],Cro63545,"Cro63545")

Actual (Unparsed): [[[0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0492501, 1.1880652, 0.8818734], [0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0277200, 0.0893610, 0.2775806, 0.0277200, 0.0893610, 0.2775806, 0.0257761, -0.0098402, 0.2230194, 0.0257761, -0.0098402, 0.2230194, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0277200, 0.0893610, 0.2775806, 0.0277200, 0.0893610, 0.2775806, 0.0257761, -0.0098402, 0.2230194, 0.0257761, -0.0098402, 0.2230194, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0304694, 0.2296647, 0.3547483, 0.0304694, 0.2296647, 0.3547483, 0.0289870, 0.1540163, 0.3131413, 0.0289870, 0.1540163, 0.3131413, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0393000, 0.6803000, 0.6026000, 0.0304694, 0.2296647, 0.3547483, 0.0304694, 0.2296647, 0.3547483, 0.0289870, 0.1540163, 0.3131413, 0.0361077, 0.5173952, 0.5130015]]]

Expected (Unparsed): [[[0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.049250115,1.188065195,0.8818734349999999],[0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.027720020072,0.0893610242959999,0.277580563368,0.027720020072,0.0893610242959999,0.277580563368,0.025776082384,-0.009840231087999918,0.22301936929600008,0.025776082384,-0.009840231087999918,0.22301936929600008,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.027720020072,0.0893610242959999,0.277580563368,0.027720020072,0.0893610242959999,0.277580563368,0.025776082384,-0.009840231087999918,0.22301936929600008,0.025776082384,-0.009840231087999918,0.22301936929600008,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.030469396939999997,0.22966471741999994,0.35474830686000003,0.030469396939999997,0.22966471741999994,0.35474830686000003,0.02898699868,0.15401632123999998,0.31314130492000003,0.02898699868,0.15401632123999998,0.31314130492000003,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.0393,0.6803,0.6026,0.030469396939999997,0.22966471741999994,0.35474830686000003,0.030469396939999997,0.22966471741999994,0.35474830686000003,0.02898699868,0.15401632123999998,0.31314130492000003,0.036107733680000004,0.51739517624,0.51300151992]]]

Actual:   [[[0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0493, 1.1881, 0.8819], [0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0278, 0.0894, 0.2776, 0.0278, 0.0894, 0.2776, 0.0258, -0.0098, 0.2231, 0.0258, -0.0098, 0.2231, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0278, 0.0894, 0.2776, 0.0278, 0.0894, 0.2776, 0.0258, -0.0098, 0.2231, 0.0258, -0.0098, 0.2231, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0305, 0.2297, 0.3548, 0.0305, 0.2297, 0.3548, 0.029, 0.1541, 0.3132, 0.029, 0.1541, 0.3132, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0305, 0.2297, 0.3548, 0.0305, 0.2297, 0.3548, 0.029, 0.1541, 0.3132, 0.0362, 0.5174, 0.5131]]]

Expected: [[[0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0493, 1.1881, 0.8819], [0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0278, 0.0894, 0.2776, 0.0278, 0.0894, 0.2776, 0.0258, -0.0098, 0.2231, 0.0258, -0.0098, 0.2231, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0278, 0.0894, 0.2776, 0.0278, 0.0894, 0.2776, 0.0258, -0.0098, 0.2231, 0.0258, -0.0098, 0.2231, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0305, 0.2297, 0.3548, 0.0305, 0.2297, 0.3548, 0.029, 0.1541, 0.3132, 0.029, 0.1541, 0.3132, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0393, 0.6803, 0.6026, 0.0305, 0.2297, 0.3548, 0.0305, 0.2297, 0.3548, 0.029, 0.1541, 0.3132, 0.0362, 0.5174, 0.5131]]]