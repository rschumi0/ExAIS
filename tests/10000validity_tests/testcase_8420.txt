import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add46344 = tf.keras.layers.Input(shape=([1, 2, 1, 2]))
in1Add46344 = tf.keras.layers.Input(shape=([1, 2, 1, 2]))
in0Con21023 = tf.keras.layers.Input(shape=([2, 2, 1]))
in0Ave67113 = tf.keras.layers.Input(shape=([2, 2, 2]))
in1Ave67113 = tf.keras.layers.Input(shape=([2, 2, 2]))

Add46344 = keras.layers.Add(name = 'Add46344', )([in0Add46344,in1Add46344])
Glo2282 = keras.layers.GlobalAveragePooling3D(name = 'Glo2282', )(Add46344)
Res48527 = keras.layers.Reshape((2, 1), name = 'Res48527', )(Glo2282)
Res48720 = keras.layers.Reshape((2, 1, 1), name = 'Res48720', )(Res48527)
Zer52104 = keras.layers.ZeroPadding2D(padding=((0, 0), (1, 0)), name = 'Zer52104', )(Res48720)
Con21023 = keras.layers.Concatenate(axis=3, name = 'Con21023', )([Zer52104,in0Con21023])
Ave67113 = keras.layers.Average(name = 'Ave67113', )([in0Ave67113,in1Ave67113])
Add32342 = keras.layers.Add(name = 'Add32342', )([Con21023,Ave67113])
model = tf.keras.models.Model(inputs=[in0Add46344,in1Add46344,in0Con21023,in0Ave67113,in1Ave67113], outputs=Add32342)
in0Add46344 = tf.constant([[[[[0.3478, 0.473]], [[0.9109, 0.8493]]]]])
in1Add46344 = tf.constant([[[[[0.8896, 0.5348]], [[0.2216, 0.6139]]]]])
in0Con21023 = tf.constant([[[[0.1546], [0.6661]], [[0.6353], [0.0703]]]])
in0Ave67113 = tf.constant([[[[0.2906, 0.9571], [0.4644, 0.7569]], [[0.8262, 0.0237], [0.8559, 0.0658]]]])
in1Ave67113 = tf.constant([[[[0.1095, 0.0773], [0.7589, 0.3012]], [[0.0757, 0.4839], [0.0681, 0.407]]]])
print (np.array2string(model.predict([in0Add46344,in1Add46344,in0Con21023,in0Ave67113,in1Ave67113],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add32342.png')

LAdd46344 = add_layer([[[[[[0.3478, 0.473]], [[0.9109, 0.8493]]]]], [[[[[0.8896, 0.5348]], [[0.2216, 0.6139]]]]]], Add46344), 
LGlo2282 = global_average_pooling3D_layer(Add46344, Glo2282), 
LRes48527 = reshape_layer(Glo2282, [2, 1], Res48527), 
LRes48720 = reshape_layer(Res48527, [2, 1, 1], Res48720), 
LZer52104 = zero_padding2D_layer(Res48720, 0, 0, 1, 0, Zer52104), 
LCon21023 = concatenate_layer([Zer52104,[[[[0.1546], [0.6661]], [[0.6353], [0.0703]]]]], 3, Con21023), 
LAve67113 = average_layer([[[[[0.2906, 0.9571], [0.4644, 0.7569]], [[0.8262, 0.0237], [0.8559, 0.0658]]]], [[[[0.1095, 0.0773], [0.7589, 0.3012]], [[0.0757, 0.4839], [0.0681, 0.407]]]]], Ave67113), 
LAdd32342 = add_layer([Con21023,Ave67113], Add32342), 
exec_layers([LAdd46344,LGlo2282,LRes48527,LRes48720,LZer52104,LCon21023,LAve67113,LAdd32342],["Add46344","Glo2282","Res48527","Res48720","Zer52104","Con21023","Ave67113","Add32342"],Add32342,"Add32342")

Actual (Unparsed): [[[[0.2000500, 0.6718000], [1.7966000, 1.1951500]], [[0.4509500, 0.8891000], [1.6975000, 0.3067000]]]]

Expected (Unparsed): [[[[0.20005,0.6718],[1.7966000000000002,1.19515]],[[0.45095,0.8891],[1.6975,0.3067]]]]

Actual:   [[[[0.2001, 0.6718], [1.7966, 1.1952]], [[0.451, 0.8891], [1.6975, 0.3067]]]]

Expected: [[[[0.2001, 0.6718], [1.7967, 1.1952]], [[0.451, 0.8891], [1.6975, 0.3067]]]]