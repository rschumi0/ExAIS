import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Loc9768 = tf.keras.layers.Input(shape=([2, 2]))

Loc9768 = keras.layers.LocallyConnected1D(4, (1),strides=(1), name = 'Loc9768', )(in0Loc9768)
ELU72814 = keras.layers.ELU(alpha=6.575592557091696, name = 'ELU72814', )(Loc9768)
model = tf.keras.models.Model(inputs=[in0Loc9768], outputs=ELU72814)
w = model.get_layer('Loc9768').get_weights() 
w[0] = np.array([[[0.4752, 0.7343, 0.1439, 0.7871], [0.0619, 0.4569, 0.8199, 0.574]], [[0.2788, 0.245, 0.6368, 0.3814], [0.8257, 0.5103, 0.7441, 0.4636]]])
w[1] = np.array([[0, 0, 0, 0], [0, 0, 0, 0]])
model.get_layer('Loc9768').set_weights(w) 
in0Loc9768 = tf.constant([[[0.2179, 0.8146], [0.813, 0.031]]])
print (np.array2string(model.predict([in0Loc9768],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='ELU72814.png')

LLoc9768 = locally_connected1D_layer([[[0.2179, 0.8146], [0.813, 0.031]]], 1,[[[0.4752, 0.7343, 0.1439, 0.7871], [0.0619, 0.4569, 0.8199, 0.574]], [[0.2788, 0.245, 0.6368, 0.3814], [0.8257, 0.5103, 0.7441, 0.4636]]],[[0, 0, 0, 0], [0, 0, 0, 0]], 1, Loc9768), 
LELU72814 = elu_layer(Loc9768, 6.575592557091696, ELU72814), 
exec_layers([LLoc9768,LELU72814],["Loc9768","ELU72814"],ELU72814,"ELU72814")

Actual (Unparsed): [[[0.1539698, 0.5321947, 0.6992463, 0.6390895], [0.2522611, 0.2150043, 0.5407855, 0.3244498]]]

Expected (Unparsed): [[[0.15396982,0.53219471,0.6992463499999999,0.6390894899999999],[0.2522611,0.21500429999999998,0.5407855,0.32444979999999995]]]

Actual:   [[[0.154, 0.5322, 0.6993, 0.6391], [0.2523, 0.2151, 0.5408, 0.3245]]]

Expected: [[[0.154, 0.5322, 0.6993, 0.6391], [0.2523, 0.2151, 0.5408, 0.3245]]]