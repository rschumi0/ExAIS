import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min24421 = tf.keras.layers.Input(shape=([1, 2, 1, 2]))
in1Min24421 = tf.keras.layers.Input(shape=([1, 2, 1, 2]))

Min24421 = keras.layers.Minimum(name = 'Min24421', )([in0Min24421,in1Min24421])
Res40265 = keras.layers.Reshape((1, 2, 2), name = 'Res40265', )(Min24421)
Zer12725 = keras.layers.ZeroPadding2D(padding=((1, 1), (1, 1)), name = 'Zer12725', )(Res40265)
Dep26646 = keras.layers.DepthwiseConv2D((2, 2),strides=(2, 2), padding='same', name = 'Dep26646', )(Zer12725)
model = tf.keras.models.Model(inputs=[in0Min24421,in1Min24421], outputs=Dep26646)
w = model.get_layer('Dep26646').get_weights() 
w[0] = np.array([[[[0.5385], [0.3667]], [[0.4888], [0.8855]]], [[[0.3947], [0.5423]], [[0.5931], [0.4389]]]])
w[1] = np.array([0, 0])
model.get_layer('Dep26646').set_weights(w) 
in0Min24421 = tf.constant([[[[[0.1802, 0.8033]], [[0.6578, 0.7213]]]]])
in1Min24421 = tf.constant([[[[[0.4364, 0.2814]], [[0.8953, 0.1427]]]]])
print (np.array2string(model.predict([in0Min24421,in1Min24421],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Dep26646.png')

LMin24421 = minimum_layer([[[[[[0.1802, 0.8033]], [[0.6578, 0.7213]]]]], [[[[[0.4364, 0.2814]], [[0.8953, 0.1427]]]]]], Min24421), 
LRes40265 = reshape_layer(Min24421, [1, 2, 2], Res40265), 
LZer12725 = zero_padding2D_layer(Res40265, 1, 1, 1, 1, Zer12725), 
LDep26646 = depthwise_conv2D_layer(Zer12725, 2, 2,[[[[0.5385], [0.3667]], [[0.4888], [0.8855]]], [[[0.3947], [0.5423]], [[0.5931], [0.4389]]]],[0, 0], 2, 2, true, Dep26646), 
exec_layers([LMin24421,LRes40265,LZer12725,LDep26646],["Min24421","Res40265","Zer12725","Dep26646"],Dep26646,"Dep26646")

Actual (Unparsed): [[[[0.1068766, 0.1235065], [0.2596337, 0.0773862]], [[0.0000000, 0.0000000], [0.0000000, 0.0000000]]]]

Expected (Unparsed): [[[[0.10687661999999999,0.12350646],[0.25963366000000004,0.07738621]],[[0.0,0.0],[0.0,0.0]]]]

Actual:   [[[[0.1069, 0.1236], [0.2597, 0.0774]], [[0, 0], [0, 0]]]]

Expected: [[[[0.1069, 0.1236], [0.2597, 0.0774]], [[0, 0], [0, 0]]]]