import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max15091 = tf.keras.layers.Input(shape=([2, 2, 2, 2]))
in1Max15091 = tf.keras.layers.Input(shape=([2, 2, 2, 2]))

Max15091 = keras.layers.Maximum(name = 'Max15091', )([in0Max15091,in1Max15091])
Res62977 = keras.layers.Reshape((2, 2, 4), name = 'Res62977', )(Max15091)
Glo43477 = keras.layers.GlobalAveragePooling2D(name = 'Glo43477', )(Res62977)
model = tf.keras.models.Model(inputs=[in0Max15091,in1Max15091], outputs=Glo43477)
in0Max15091 = tf.constant([[[[[0.5636, 0.0052], [0.1043, 0.9125]], [[0.4078, 0.6364], [0.5832, 0.2436]]], [[[0.7429, 0.2137], [0.2037, 0.5375]], [[0.4116, 0.8992], [0.2039, 0.0626]]]]])
in1Max15091 = tf.constant([[[[[0.0222, 0.7397], [0.6264, 0.4396]], [[0.3034, 0.528], [0.6271, 0.0983]]], [[[0.4799, 0.3641], [0.3164, 0.4163]], [[0.9121, 0.1009], [0.0217, 0.9059]]]]])
print (np.array2string(model.predict([in0Max15091,in1Max15091],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo43477.png')

LMax15091 = maximum_layer([[[[[[0.5636, 0.0052], [0.1043, 0.9125]], [[0.4078, 0.6364], [0.5832, 0.2436]]], [[[0.7429, 0.2137], [0.2037, 0.5375]], [[0.4116, 0.8992], [0.2039, 0.0626]]]]], [[[[[0.0222, 0.7397], [0.6264, 0.4396]], [[0.3034, 0.528], [0.6271, 0.0983]]], [[[0.4799, 0.3641], [0.3164, 0.4163]], [[0.9121, 0.1009], [0.0217, 0.9059]]]]]], Max15091), 
LRes62977 = reshape_layer(Max15091, [2, 2, 4], Res62977), 
LGlo43477 = global_average_pooling2D_layer(Res62977, Glo43477), 
exec_layers([LMax15091,LRes62977,LGlo43477],["Max15091","Res62977","Glo43477"],Glo43477,"Glo43477")

Actual (Unparsed): [[0.6566000, 0.6598500, 0.4434500, 0.6498750]]

Expected (Unparsed): [[0.6566,0.65985,0.44345,0.649875]]

Actual:   [[0.6566, 0.6599, 0.4435, 0.6499]]

Expected: [[0.6566, 0.6599, 0.4435, 0.6499]]