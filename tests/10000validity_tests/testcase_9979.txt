import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Con43213 = tf.keras.layers.Input(shape=([2, 1, 1]))

Con43213 = keras.layers.Conv2D(3, (2, 1),strides=(1, 1), padding='same', dilation_rate=(1, 1), name = 'Con43213', )(in0Con43213)
ReL58545 = keras.layers.ReLU(max_value=5.047871421720791, negative_slope=4.646079363048013, threshold=1.1573814651431602, name = 'ReL58545', )(Con43213)
Glo70930 = keras.layers.GlobalMaxPool2D(name = 'Glo70930', )(ReL58545)
ELU23869 = keras.layers.ELU(alpha=-2.652947670337504, name = 'ELU23869', )(Glo70930)
Res4795 = keras.layers.Reshape((3, 1), name = 'Res4795', )(ELU23869)
Max92995 = keras.layers.MaxPool1D(pool_size=(2), name = 'Max92995', )(Res4795)
model = tf.keras.models.Model(inputs=[in0Con43213], outputs=Max92995)
w = model.get_layer('Con43213').get_weights() 
w[0] = np.array([[[[0.3192, 0.0357, 0.4924]]], [[[0.9239, 0.6581, 0.5062]]]])
w[1] = np.array([0, 0, 0])
model.get_layer('Con43213').set_weights(w) 
in0Con43213 = tf.constant([[[[0.9556]], [[0.535]]]])
print (np.array2string(model.predict([in0Con43213],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max92995.png')

LCon43213 = conv2D_layer([[[[0.9556]], [[0.535]]]], 2, 1,[[[[0.3192, 0.0357, 0.4924]]], [[[0.9239, 0.6581, 0.5062]]]],[0, 0, 0], 1, 1, true, 1, 1, Con43213), 
LReL58545 = relu_layer(Con43213, 5.047871421720791, 4.646079363048013, 1.1573814651431602, ReL58545), 
LGlo70930 = global_max_pool2D_layer(ReL58545, Glo70930), 
LELU23869 = elu_layer(Glo70930, -2.652947670337504, ELU23869), 
LRes4795 = reshape_layer(ELU23869, [3, 1], Res4795), 
LMax92995 = max_pool1D_layer(Res4795, 2, Max92995), 
exec_layers([LCon43213,LReL58545,LGlo70930,LELU23869,LRes4795,LMax92995],["Con43213","ReL58545","Glo70930","ELU23869","Res4795","Max92995"],Max92995,"Max92995")

Actual (Unparsed): [[[2.5792148]]]

Expected (Unparsed): [[[2.5792147781436046]]]

Actual:   [[[2.5793]]]

Expected: [[[2.5793]]]