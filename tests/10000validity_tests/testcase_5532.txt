import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave2880 = tf.keras.layers.Input(shape=([2, 1, 2]))
in1Ave2880 = tf.keras.layers.Input(shape=([2, 1, 2]))

Ave2880 = keras.layers.Average(name = 'Ave2880', )([in0Ave2880,in1Ave2880])
Res51063 = keras.layers.Reshape((2, 2), name = 'Res51063', )(Ave2880)
Glo91588 = keras.layers.GlobalAveragePooling1D(name = 'Glo91588', )(Res51063)
model = tf.keras.models.Model(inputs=[in0Ave2880,in1Ave2880], outputs=Glo91588)
in0Ave2880 = tf.constant([[[[0.7994, 0.5649]], [[0.7267, 0.3242]]]])
in1Ave2880 = tf.constant([[[[0.3781, 0.8171]], [[0.5759, 0.2658]]]])
print (np.array2string(model.predict([in0Ave2880,in1Ave2880],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo91588.png')

LAve2880 = average_layer([[[[[0.7994, 0.5649]], [[0.7267, 0.3242]]]], [[[[0.3781, 0.8171]], [[0.5759, 0.2658]]]]], Ave2880), 
LRes51063 = reshape_layer(Ave2880, [2, 2], Res51063), 
LGlo91588 = global_average_pooling1D_layer(Res51063, Glo91588), 
exec_layers([LAve2880,LRes51063,LGlo91588],["Ave2880","Res51063","Glo91588"],Glo91588,"Glo91588")

Actual (Unparsed): [[0.6200250, 0.4930000]]

Expected (Unparsed): [[0.620025,0.493]]

Actual:   [[0.6201, 0.493]]

Expected: [[0.6201, 0.493]]