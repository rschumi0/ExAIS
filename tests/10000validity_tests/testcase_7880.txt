import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave44423 = tf.keras.layers.Input(shape=([2, 1, 1]))
in0Per20111 = tf.keras.layers.Input(shape=([1, 1]))

Ave44423 = keras.layers.AveragePooling2D(pool_size=(1, 1), name = 'Ave44423', )(in0Ave44423)
Res586 = keras.layers.Reshape((2, 1), name = 'Res586', )(Ave44423)
Per20111 = keras.layers.Permute((1,2), name = 'Per20111',)(in0Per20111)
Zer19185 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer19185', )(Per20111)
Add58938 = keras.layers.Add(name = 'Add58938', )([Res586,Zer19185])
model = tf.keras.models.Model(inputs=[in0Ave44423,in0Per20111], outputs=Add58938)
in0Ave44423 = tf.constant([[[[1.7381]], [[1.3494]]]])
in0Per20111 = tf.constant([[[1.781]]])
print (np.array2string(model.predict([in0Ave44423,in0Per20111],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add58938.png')

LAve44423 = average_pooling2D_layer([[[[1.7381]], [[1.3494]]]], 1, 1, Ave44423), 
LRes586 = reshape_layer(Ave44423, [2, 1], Res586), 
LPer20111 = permute_layer([[[1.781]]], 1,2, Per20111), 
LZer19185 = zero_padding1D_layer(Per20111, 1, 0, Zer19185), 
LAdd58938 = add_layer([Res586,Zer19185], Add58938), 
exec_layers([LAve44423,LRes586,LPer20111,LZer19185,LAdd58938],["Ave44423","Res586","Per20111","Zer19185","Add58938"],Add58938,"Add58938")

Actual (Unparsed): [[[1.7381001], [3.1304001]]]

Expected (Unparsed): [[[1.7381],[3.1304]]]

Actual:   [[[1.7382], [3.1305]]]

Expected: [[[1.7381], [3.1304]]]