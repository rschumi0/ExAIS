import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo86641 = tf.keras.layers.Input(shape=([2, 2]))

Glo86641 = keras.layers.GlobalAveragePooling1D(name = 'Glo86641', )(in0Glo86641)
Bat14144 = keras.layers.BatchNormalization(axis=1, epsilon=0.7447791040491599,  name = 'Bat14144', )(Glo86641)
Res75386 = keras.layers.Reshape((2, 1), name = 'Res75386', )(Bat14144)
Res41731 = keras.layers.Reshape((2, 1, 1), name = 'Res41731', )(Res75386)
Dep62898 = keras.layers.DepthwiseConv2D((1, 1),strides=(2, 2), padding='same', name = 'Dep62898', )(Res41731)
model = tf.keras.models.Model(inputs=[in0Glo86641], outputs=Dep62898)
w = model.get_layer('Bat14144').get_weights() 
w[0] = np.array([0.8936, 0.3566])
w[1] = np.array([0.5848, 0.6356])
w[2] = np.array([0.9826, 0.7214])
w[3] = np.array([0.7333, 0.2645])
model.get_layer('Bat14144').set_weights(w) 
w = model.get_layer('Dep62898').get_weights() 
w[0] = np.array([[[[0.1486]]]])
w[1] = np.array([0])
model.get_layer('Dep62898').set_weights(w) 
in0Glo86641 = tf.constant([[[1.366, 1.0165], [1.2683, 1.1766]]])
print (np.array2string(model.predict([in0Glo86641],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Dep62898.png')

LGlo86641 = global_average_pooling1D_layer([[[1.366, 1.0165], [1.2683, 1.1766]]], Glo86641), 
LBat14144 = batch_normalization_layer(Glo86641, 1, 0.7447791040491599, [0.8936, 0.3566], [0.5848, 0.6356], [0.9826, 0.7214], [0.7333, 0.2645], Bat14144), 
LRes75386 = reshape_layer(Bat14144, [2, 1], Res75386), 
LRes41731 = reshape_layer(Res75386, [2, 1, 1], Res41731), 
LDep62898 = depthwise_conv2D_layer(Res41731, 1, 1,[[[[0.1486]]]],[0], 2, 2, true, Dep62898), 
exec_layers([LGlo86641,LBat14144,LRes75386,LRes41731,LDep62898],["Glo86641","Bat14144","Res75386","Res41731","Dep62898"],Dep62898,"Dep62898")

Actual (Unparsed): [[[[0.1234418]]]]

Expected (Unparsed): [[[[0.1234417530244209]]]]

Actual:   [[[[0.1235]]]]

Expected: [[[[0.1235]]]]