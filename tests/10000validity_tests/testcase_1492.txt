import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub69197 = tf.keras.layers.Input(shape=([2, 2, 2]))
in1Sub69197 = tf.keras.layers.Input(shape=([2, 2, 2]))
in0Zer18660 = tf.keras.layers.Input(shape=([1, 1, 3, 1]))

Sub69197 = keras.layers.Subtract(name = 'Sub69197', )([in0Sub69197,in1Sub69197])
Dep95338 = keras.layers.DepthwiseConv2D((1, 2),strides=(1, 1), padding='valid', name = 'Dep95338', )(Sub69197)
Glo12056 = keras.layers.GlobalMaxPool2D(name = 'Glo12056', )(Dep95338)
Res50182 = keras.layers.Reshape((2, 1), name = 'Res50182', )(Glo12056)
Res72114 = keras.layers.Reshape((2, 1, 1), name = 'Res72114', )(Res50182)
Res28892 = keras.layers.Reshape((2, 1, 1, 1), name = 'Res28892', )(Res72114)
Zer63652 = keras.layers.ZeroPadding3D(padding=((1, 0), (2, 0), (4, 0)), name = 'Zer63652', )(Res28892)
Zer18660 = keras.layers.ZeroPadding3D(padding=((1, 1), (1, 1), (1, 1)), name = 'Zer18660', )(in0Zer18660)
Min46602 = keras.layers.Minimum(name = 'Min46602', )([Zer63652,Zer18660])
ELU7799 = keras.layers.ELU(alpha=-9.43079583859776, name = 'ELU7799', )(Min46602)
Glo89036 = keras.layers.GlobalAveragePooling3D(name = 'Glo89036', )(ELU7799)
model = tf.keras.models.Model(inputs=[in0Sub69197,in1Sub69197,in0Zer18660], outputs=Glo89036)
w = model.get_layer('Dep95338').get_weights() 
w[0] = np.array([[[[0.7084], [0.5724]], [[0.9251], [0.763]]]])
w[1] = np.array([0, 0])
model.get_layer('Dep95338').set_weights(w) 
in0Sub69197 = tf.constant([[[[0.9803, 0.1434], [0.4927, 0.1321]], [[0.7363, 0.8211], [0.3025, 0.3614]]]])
in1Sub69197 = tf.constant([[[[0.6844, 0.819], [0.4628, 0.482]], [[0.8839, 0.0961], [0.7192, 0.2469]]]])
in0Zer18660 = tf.constant([[[[[1.6142], [1.0485], [1.5259]]]]])
print (np.array2string(model.predict([in0Sub69197,in1Sub69197,in0Zer18660],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo89036.png')

LSub69197 = subtract_layer([[[[0.9803, 0.1434], [0.4927, 0.1321]], [[0.7363, 0.8211], [0.3025, 0.3614]]]], [[[[0.6844, 0.819], [0.4628, 0.482]], [[0.8839, 0.0961], [0.7192, 0.2469]]]], Sub69197), 
LDep95338 = depthwise_conv2D_layer(Sub69197, 1, 2,[[[[0.7084], [0.5724]], [[0.9251], [0.763]]]],[0, 0], 1, 1, false, Dep95338), 
LGlo12056 = global_max_pool2D_layer(Dep95338, Glo12056), 
LRes50182 = reshape_layer(Glo12056, [2, 1], Res50182), 
LRes72114 = reshape_layer(Res50182, [2, 1, 1], Res72114), 
LRes28892 = reshape_layer(Res72114, [2, 1, 1, 1], Res28892), 
LZer63652 = zero_padding3D_layer(Res28892, 1, 0, 2, 0, 4, 0, Zer63652), 
LZer18660 = zero_padding3D_layer([[[[[1.6142], [1.0485], [1.5259]]]]], 1, 1, 1, 1, 1, 1, Zer18660), 
LMin46602 = minimum_layer([Zer63652,Zer18660], Min46602), 
LELU7799 = elu_layer(Min46602, -9.43079583859776, ELU7799), 
LGlo89036 = global_average_pooling3D_layer(ELU7799, Glo89036), 
exec_layers([LSub69197,LDep95338,LGlo12056,LRes50182,LRes72114,LRes28892,LZer63652,LZer18660,LMin46602,LELU7799,LGlo89036],["Sub69197","Dep95338","Glo12056","Res50182","Res72114","Res28892","Zer63652","Zer18660","Min46602","ELU7799","Glo89036"],Glo89036,"Glo89036")

Actual (Unparsed): [[0.0000000]]

Expected (Unparsed): [[0]]

Actual:   [[0]]

Expected: [[0]]