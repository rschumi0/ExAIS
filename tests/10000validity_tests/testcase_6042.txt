import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot26733 = tf.keras.layers.Input(shape=([3]))
in1Dot26733 = tf.keras.layers.Input(shape=([3]))
in0Con18839 = tf.keras.layers.Input(shape=([1, 1]))
in0Ave64730 = tf.keras.layers.Input(shape=([2, 2]))
in0Add80801 = tf.keras.layers.Input(shape=([2, 2]))
in1Add80801 = tf.keras.layers.Input(shape=([2, 2]))

Dot26733 = keras.layers.Dot(axes=(1, 1), name = 'Dot26733', )([in0Dot26733,in1Dot26733])
Res89386 = keras.layers.Reshape((1, 1), name = 'Res89386', )(Dot26733)
Con18839 = keras.layers.Concatenate(axis=2, name = 'Con18839', )([Res89386,in0Con18839])
Ave64730 = keras.layers.AveragePooling1D(pool_size=(1), strides=(8), padding='valid', name = 'Ave64730', )(in0Ave64730)
Mul53337 = keras.layers.Multiply(name = 'Mul53337', )([Con18839,Ave64730])
Zer14204 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer14204', )(Mul53337)
Add80801 = keras.layers.Add(name = 'Add80801', )([in0Add80801,in1Add80801])
Max28940 = keras.layers.MaxPool1D(pool_size=(1), name = 'Max28940', )(Add80801)
Min82060 = keras.layers.Minimum(name = 'Min82060', )([Zer14204,Max28940])
model = tf.keras.models.Model(inputs=[in0Dot26733,in1Dot26733,in0Con18839,in0Ave64730,in0Add80801,in1Add80801], outputs=Min82060)
in0Dot26733 = tf.constant([[0.554, 0.199, 0.9917]])
in1Dot26733 = tf.constant([[0.0495, 0.2596, 0.0606]])
in0Con18839 = tf.constant([[[0.5003]]])
in0Ave64730 = tf.constant([[[1.3007, 1.8398], [1.1008, 1.6687]]])
in0Add80801 = tf.constant([[[0.495, 0.6299], [0.5811, 0.1037]]])
in1Add80801 = tf.constant([[[0.6534, 0.789], [0.3044, 0.2144]]])
print (np.array2string(model.predict([in0Dot26733,in1Dot26733,in0Con18839,in0Ave64730,in0Add80801,in1Add80801],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min82060.png')

LDot26733 = dot_layer([[0.554, 0.199, 0.9917]], [[0.0495, 0.2596, 0.0606]], 1, 1, Dot26733), 
LRes89386 = reshape_layer(Dot26733, [1, 1], Res89386), 
LCon18839 = concatenate_layer([Res89386,[[[0.5003]]]], 2, Con18839), 
LAve64730 = average_pooling1D_layer([[[1.3007, 1.8398], [1.1008, 1.6687]]], 1, 8, false, Ave64730), 
LMul53337 = multiply_layer([Con18839,Ave64730], Mul53337), 
LZer14204 = zero_padding1D_layer(Mul53337, 1, 0, Zer14204), 
LAdd80801 = add_layer([[[[0.495, 0.6299], [0.5811, 0.1037]]], [[[0.6534, 0.789], [0.3044, 0.2144]]]], Add80801), 
LMax28940 = max_pool1D_layer(Add80801, 1, Max28940), 
LMin82060 = minimum_layer([Zer14204,Max28940], Min82060), 
exec_layers([LDot26733,LRes89386,LCon18839,LAve64730,LMul53337,LZer14204,LAdd80801,LMax28940,LMin82060],["Dot26733","Res89386","Con18839","Ave64730","Mul53337","Zer14204","Add80801","Max28940","Min82060"],Min82060,"Min82060")

Actual (Unparsed): [[[0.0000000, 0.0000000], [0.1810320, 0.3181000]]]

Expected (Unparsed): [[[0,0],[0.181031972294,0.3181]]]

Actual:   [[[0, 0], [0.1811, 0.3181]]]

Expected: [[[0, 0], [0.1811, 0.3181]]]