import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul20254 = tf.keras.layers.Input(shape=([1, 1, 2, 1]))
in1Mul20254 = tf.keras.layers.Input(shape=([1, 1, 2, 1]))
in0Glo83098 = tf.keras.layers.Input(shape=([1, 2, 2, 1]))
in0Con60345 = tf.keras.layers.Input(shape=([1]))

Mul20254 = keras.layers.Multiply(name = 'Mul20254', )([in0Mul20254,in1Mul20254])
Res22119 = keras.layers.Reshape((1, 1, 2), name = 'Res22119', )(Mul20254)
Res23097 = keras.layers.Reshape((1, 2), name = 'Res23097', )(Res22119)
Fla18111 = keras.layers.Flatten(name = 'Fla18111', )(Res23097)
Glo83098 = keras.layers.GlobalAveragePooling3D(name = 'Glo83098', )(in0Glo83098)
Con60345 = keras.layers.Concatenate(axis=1, name = 'Con60345', )([Glo83098,in0Con60345])
Max25840 = keras.layers.Maximum(name = 'Max25840', )([Fla18111,Con60345])
Res27561 = keras.layers.Reshape((2, 1), name = 'Res27561', )(Max25840)
Cro14071 = keras.layers.Cropping1D(cropping=((1, 0)), name = 'Cro14071', )(Res27561)
model = tf.keras.models.Model(inputs=[in0Mul20254,in1Mul20254,in0Glo83098,in0Con60345], outputs=Cro14071)
in0Mul20254 = tf.constant([[[[[0.4852], [0.4454]]]]])
in1Mul20254 = tf.constant([[[[[0.541], [0.0322]]]]])
in0Glo83098 = tf.constant([[[[[1.4438], [1.6072]], [[1.8249], [1.994]]]]])
in0Con60345 = tf.constant([[0.4124]])
print (np.array2string(model.predict([in0Mul20254,in1Mul20254,in0Glo83098,in0Con60345],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Cro14071.png')

LMul20254 = multiply_layer([[[[[[0.4852], [0.4454]]]]], [[[[[0.541], [0.0322]]]]]], Mul20254), 
LRes22119 = reshape_layer(Mul20254, [1, 1, 2], Res22119), 
LRes23097 = reshape_layer(Res22119, [1, 2], Res23097), 
LFla18111 = flatten_layer(Res23097, Fla18111), 
LGlo83098 = global_average_pooling3D_layer([[[[[1.4438], [1.6072]], [[1.8249], [1.994]]]]], Glo83098), 
LCon60345 = concatenate_layer([Glo83098,[[0.4124]]], 1, Con60345), 
LMax25840 = maximum_layer([Fla18111,Con60345], Max25840), 
LRes27561 = reshape_layer(Max25840, [2, 1], Res27561), 
LCro14071 = cropping1D_layer(Res27561, 1, 0, Cro14071), 
exec_layers([LMul20254,LRes22119,LRes23097,LFla18111,LGlo83098,LCon60345,LMax25840,LRes27561,LCro14071],["Mul20254","Res22119","Res23097","Fla18111","Glo83098","Con60345","Max25840","Res27561","Cro14071"],Cro14071,"Cro14071")

Actual (Unparsed): [[[0.4124000]]]

Expected (Unparsed): [[[0.4124]]]

Actual:   [[[0.4124]]]

Expected: [[[0.4124]]]