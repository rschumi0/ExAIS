import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul59031 = tf.keras.layers.Input(shape=([2, 2, 2]))
in1Mul59031 = tf.keras.layers.Input(shape=([2, 2, 2]))

Mul59031 = keras.layers.Multiply(name = 'Mul59031', )([in0Mul59031,in1Mul59031])
Res18885 = keras.layers.Reshape((2, 2, 2, 1), name = 'Res18885', )(Mul59031)
Con77202 = keras.layers.Conv3DTranspose(4, (1, 2, 1),strides=(1, 1, 1), padding='same', name = 'Con77202', )(Res18885)
Zer52781 = keras.layers.ZeroPadding3D(padding=((1, 1), (1, 1), (1, 1)), name = 'Zer52781', )(Con77202)
model = tf.keras.models.Model(inputs=[in0Mul59031,in1Mul59031], outputs=Zer52781)
w = model.get_layer('Con77202').get_weights() 
w[0] = np.array([[[[[0.4009], [0.1171], [0.7646], [0.0072]]], [[[0.0226], [0.8146], [0.1278], [0.2498]]]]])
w[1] = np.array([0, 0, 0, 0])
model.get_layer('Con77202').set_weights(w) 
in0Mul59031 = tf.constant([[[[0.2108, 0.7391], [0.4851, 0.5661]], [[0.5053, 0.6337], [0.5927, 0.8379]]]])
in1Mul59031 = tf.constant([[[[0.3111, 0.9573], [0.1029, 0.6165]], [[0.6433, 0.1635], [0.0141, 0.4606]]]])
print (np.array2string(model.predict([in0Mul59031,in1Mul59031],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Zer52781.png')

LMul59031 = multiply_layer([[[[[0.2108, 0.7391], [0.4851, 0.5661]], [[0.5053, 0.6337], [0.5927, 0.8379]]]], [[[[0.3111, 0.9573], [0.1029, 0.6165]], [[0.6433, 0.1635], [0.0141, 0.4606]]]]], Mul59031), 
LRes18885 = reshape_layer(Mul59031, [2, 2, 2, 1], Res18885), 
LCon77202 = conv3D_transpose_layer(Res18885, 1, 2, 1,[[[[[0.4009], [0.1171], [0.7646], [0.0072]]], [[[0.0226], [0.8146], [0.1278], [0.2498]]]]],[0, 0, 0, 0], 1, 1, 1, true, Con77202), 
LZer52781 = zero_padding3D_layer(Con77202, 1, 1, 1, 1, 1, 1, Zer52781), 
exec_layers([LMul59031,LRes18885,LCon77202,LZer52781],["Mul59031","Res18885","Con77202","Zer52781"],Zer52781,"Zer52781")

Actual (Unparsed): [[[[[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000]]], [[[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0262910, 0.0076794, 0.0501424, 0.0004722], [0.2836530, 0.0828530, 0.5409854, 0.0050943], [0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0214937, 0.0592666, 0.0465475, 0.0167413], [0.1559048, 0.6172304, 0.3572696, 0.1792564], [0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000]]], [[[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.1303163, 0.0380645, 0.2485405, 0.0023404], [0.0415372, 0.0121327, 0.0792202, 0.0007460], [0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0106967, 0.2657721, 0.0479324, 0.0812600], [0.1570636, 0.1295939, 0.3083286, 0.0286605], [0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000]]], [[[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000]]]]]

Expected (Unparsed): [[[[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]],[[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0.026290973891999997,0.007679403947999999,0.05014237624799999,0.0004721751359999999],[0.283652958387,0.082852984353,0.5409854127779999,0.0050942910959999995],[0,0,0,0]],[[0,0,0,0],[0.021493746399,0.05926662635699999,0.046547486298,0.016741254911999997],[0.15590477430300004,0.6172304103930001,0.35726956394400006,0.179256404094],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]],[[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0.13031634954099997,0.038064466278999995,0.24854048605399995,0.0023404283279999994],[0.041537228955,0.012132725145,0.07922016777,0.00074599164],[0,0,0,0]],[[0,0,0,0],[0.010696693836999997,0.26577207345099996,0.047932418543999995,0.08126003150599999],[0.15706362393599999,0.12959385752400002,0.308328583014,0.028660510038000003],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]],[[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]]]]

Actual:   [[[[[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]]], [[[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0.0263, 0.0077, 0.0502, 0.0005], [0.2837, 0.0829, 0.541, 0.0051], [0, 0, 0, 0]], [[0, 0, 0, 0], [0.0215, 0.0593, 0.0466, 0.0168], [0.156, 0.6173, 0.3573, 0.1793], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]]], [[[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0.1304, 0.0381, 0.2486, 0.0024], [0.0416, 0.0122, 0.0793, 0.0008], [0, 0, 0, 0]], [[0, 0, 0, 0], [0.0107, 0.2658, 0.048, 0.0813], [0.1571, 0.1296, 0.3084, 0.0287], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]]], [[[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]]]]]

Expected: [[[[[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]]], [[[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0.0263, 0.0077, 0.0502, 0.0005], [0.2837, 0.0829, 0.541, 0.0051], [0, 0, 0, 0]], [[0, 0, 0, 0], [0.0215, 0.0593, 0.0466, 0.0168], [0.156, 0.6173, 0.3573, 0.1793], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]]], [[[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0.1304, 0.0381, 0.2486, 0.0024], [0.0416, 0.0122, 0.0793, 0.0008], [0, 0, 0, 0]], [[0, 0, 0, 0], [0.0107, 0.2658, 0.048, 0.0813], [0.1571, 0.1296, 0.3084, 0.0287], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]]], [[[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]]]]]