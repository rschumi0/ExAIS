import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Thr99382 = tf.keras.layers.Input(shape=([2, 2, 2, 1]))
in0Ave18474 = tf.keras.layers.Input(shape=([1, 1]))
in1Ave18474 = tf.keras.layers.Input(shape=([1, 1]))

Thr99382 = keras.layers.ThresholdedReLU(theta=2.6330365080634097, name = 'Thr99382', input_shape=(2, 2, 2, 1))(in0Thr99382)
Glo35814 = keras.layers.GlobalAveragePooling3D(name = 'Glo35814', )(Thr99382)
Res11047 = keras.layers.Reshape((1, 1), name = 'Res11047', )(Glo35814)
Ave18474 = keras.layers.Average(name = 'Ave18474', )([in0Ave18474,in1Ave18474])
Mul20980 = keras.layers.Multiply(name = 'Mul20980', )([Res11047,Ave18474])
Zer97510 = keras.layers.ZeroPadding1D(padding=((1, 1)), name = 'Zer97510', )(Mul20980)
Res74196 = keras.layers.Reshape((3, 1, 1), name = 'Res74196', )(Zer97510)
Glo60760 = keras.layers.GlobalMaxPool2D(name = 'Glo60760', )(Res74196)
model = tf.keras.models.Model(inputs=[in0Thr99382,in0Ave18474,in1Ave18474], outputs=Glo60760)
in0Thr99382 = tf.constant([[[[[0.0035], [0.236]], [[0.9254], [0.367]]], [[[0.5835], [0.5814]], [[0.5974], [0.291]]]]])
in0Ave18474 = tf.constant([[[0.8137]]])
in1Ave18474 = tf.constant([[[0.5321]]])
print (np.array2string(model.predict([in0Thr99382,in0Ave18474,in1Ave18474],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo60760.png')

LThr99382 = thresholded_relu_layer([[[[[0.0035], [0.236]], [[0.9254], [0.367]]], [[[0.5835], [0.5814]], [[0.5974], [0.291]]]]], 2.6330365080634097, Thr99382), 
LGlo35814 = global_average_pooling3D_layer(Thr99382, Glo35814), 
LRes11047 = reshape_layer(Glo35814, [1, 1], Res11047), 
LAve18474 = average_layer([[[[0.8137]]], [[[0.5321]]]], Ave18474), 
LMul20980 = multiply_layer([Res11047,Ave18474], Mul20980), 
LZer97510 = zero_padding1D_layer(Mul20980, 1, 1, Zer97510), 
LRes74196 = reshape_layer(Zer97510, [3, 1, 1], Res74196), 
LGlo60760 = global_max_pool2D_layer(Res74196, Glo60760), 
exec_layers([LThr99382,LGlo35814,LRes11047,LAve18474,LMul20980,LZer97510,LRes74196,LGlo60760],["Thr99382","Glo35814","Res11047","Ave18474","Mul20980","Zer97510","Res74196","Glo60760"],Glo60760,"Glo60760")

Actual (Unparsed): [[0.0000000]]

Expected (Unparsed): [[0]]

Actual:   [[0]]

Expected: [[0]]