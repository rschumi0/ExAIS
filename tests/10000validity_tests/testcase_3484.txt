import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Cro76571 = tf.keras.layers.Input(shape=([3, 4, 2]))
in0Glo5044 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))
in0Con75850 = tf.keras.layers.Input(shape=([5]))

Cro76571 = keras.layers.Cropping2D(cropping=((2, 0), (0, 1)), name = 'Cro76571', )(in0Cro76571)
Lea2718 = keras.layers.LeakyReLU(alpha=9.890987168451932, name = 'Lea2718', )(Cro76571)
Res30410 = keras.layers.Reshape((1, 6), name = 'Res30410', )(Lea2718)
Fla42954 = keras.layers.Flatten(name = 'Fla42954', )(Res30410)
Glo5044 = keras.layers.GlobalMaxPool3D(name = 'Glo5044', )(in0Glo5044)
Con75850 = keras.layers.Concatenate(axis=1, name = 'Con75850', )([Glo5044,in0Con75850])
Ave77626 = keras.layers.Average(name = 'Ave77626', )([Fla42954,Con75850])
model = tf.keras.models.Model(inputs=[in0Cro76571,in0Glo5044,in0Con75850], outputs=Ave77626)
in0Cro76571 = tf.constant([[[[1.5677, 1.8366], [1.3074, 1.9544], [1.0644, 1.3065], [1.1766, 1.8199]], [[1.958, 1.7927], [1.3348, 1.3899], [1.2863, 1.0861], [1.0221, 1.9903]], [[1.0772, 1.6577], [1.2068, 1.8012], [1.9238, 1.5606], [1.0457, 1.0637]]]])
in0Glo5044 = tf.constant([[[[[1.7963]]], [[[1.7412]]]]])
in0Con75850 = tf.constant([[0.773, 0.9794, 0.3779, 0.8447, 0.6848]])
print (np.array2string(model.predict([in0Cro76571,in0Glo5044,in0Con75850],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Ave77626.png')

LCro76571 = cropping2D_layer([[[[1.5677, 1.8366], [1.3074, 1.9544], [1.0644, 1.3065], [1.1766, 1.8199]], [[1.958, 1.7927], [1.3348, 1.3899], [1.2863, 1.0861], [1.0221, 1.9903]], [[1.0772, 1.6577], [1.2068, 1.8012], [1.9238, 1.5606], [1.0457, 1.0637]]]], 2, 0, 0, 1, Cro76571), 
LLea2718 = leaky_relu_layer(Cro76571, 9.890987168451932, Lea2718), 
LRes30410 = reshape_layer(Lea2718, [1, 6], Res30410), 
LFla42954 = flatten_layer(Res30410, Fla42954), 
LGlo5044 = global_max_pool3D_layer([[[[[1.7963]]], [[[1.7412]]]]], Glo5044), 
LCon75850 = concatenate_layer([Glo5044,[[0.773, 0.9794, 0.3779, 0.8447, 0.6848]]], 1, Con75850), 
LAve77626 = average_layer([Fla42954,Con75850], Ave77626), 
exec_layers([LCro76571,LLea2718,LRes30410,LFla42954,LGlo5044,LCon75850,LAve77626],["Cro76571","Lea2718","Res30410","Fla42954","Glo5044","Con75850","Ave77626"],Ave77626,"Ave77626")

Actual (Unparsed): [[1.4367501, 1.2153500, 1.0931000, 1.0895500, 1.3842500, 1.1227000]]

Expected (Unparsed): [[1.43675,1.21535,1.0931000000000002,1.08955,1.38425,1.1227]]

Actual:   [[1.4368, 1.2154, 1.0931, 1.0896, 1.3843, 1.1227]]

Expected: [[1.4368, 1.2154, 1.0932, 1.0896, 1.3843, 1.1227]]