import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min55013 = tf.keras.layers.Input(shape=([1, 1, 1]))
in1Min55013 = tf.keras.layers.Input(shape=([1, 1, 1]))

Min55013 = keras.layers.Minimum(name = 'Min55013', )([in0Min55013,in1Min55013])
Res45511 = keras.layers.Reshape((1, 1), name = 'Res45511', )(Min55013)
Loc68339 = keras.layers.LocallyConnected1D(4, (1),strides=(1), name = 'Loc68339', )(Res45511)
Den68622 = keras.layers.Dense(3,name = 'Den68622', )(Loc68339)
model = tf.keras.models.Model(inputs=[in0Min55013,in1Min55013], outputs=Den68622)
w = model.get_layer('Loc68339').get_weights() 
w[0] = np.array([[[0.1554, 0.0225, 0.4828, 0.5205]]])
w[1] = np.array([[0, 0, 0, 0]])
model.get_layer('Loc68339').set_weights(w) 
w = model.get_layer('Den68622').get_weights() 
w[0] = np.array([[0.4784, 0.7324, 0.9716], [0.2364, 0.0319, 0.986], [0.6744, 0.5528, 0.2316], [0.7339, 0.5328, 0.4846]])
w[1] = np.array([0.6446, 0.8969, 0.4409])
model.get_layer('Den68622').set_weights(w) 
in0Min55013 = tf.constant([[[[0.4992]]]])
in1Min55013 = tf.constant([[[[0.2847]]]])
print (np.array2string(model.predict([in0Min55013,in1Min55013],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Den68622.png')

LMin55013 = minimum_layer([[[[[0.4992]]]], [[[[0.2847]]]]], Min55013), 
LRes45511 = reshape_layer(Min55013, [1, 1], Res45511), 
LLoc68339 = locally_connected1D_layer(Res45511, 1,[[[0.1554, 0.0225, 0.4828, 0.5205]]],[[0, 0, 0, 0]], 1, Loc68339), 
LDen68622 = dense_layer(Loc68339, [[0.4784, 0.7324, 0.9716], [0.2364, 0.0319, 0.986], [0.6744, 0.5528, 0.2316], [0.7339, 0.5328, 0.4846]],[0.6446, 0.8969, 0.4409], Den68622), 
exec_layers([LMin55013,LRes45511,LLoc68339,LDen68622],["Min55013","Res45511","Loc68339","Den68622"],Den68622,"Den68622")

Actual (Unparsed): [[[0.8687323, 1.0844453, 0.5938472]]]

Expected (Unparsed): [[[0.868732247261,1.084445256665,0.593847222974]]]

Actual:   [[[0.8688, 1.0845, 0.5939]]]

Expected: [[[0.8688, 1.0845, 0.5939]]]