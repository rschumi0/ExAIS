import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave24687 = tf.keras.layers.Input(shape=([2, 1, 2, 2]))
in1Ave24687 = tf.keras.layers.Input(shape=([2, 1, 2, 2]))

Ave24687 = keras.layers.Average(name = 'Ave24687', )([in0Ave24687,in1Ave24687])
Res43777 = keras.layers.Reshape((2, 1, 4), name = 'Res43777', )(Ave24687)
Res3697 = keras.layers.Reshape((2, 4), name = 'Res3697', )(Res43777)
Cro96750 = keras.layers.Cropping1D(cropping=((1, 0)), name = 'Cro96750', )(Res3697)
model = tf.keras.models.Model(inputs=[in0Ave24687,in1Ave24687], outputs=Cro96750)
in0Ave24687 = tf.constant([[[[[0.9968, 0.7052], [0.6497, 0.6478]]], [[[0.1724, 0.6671], [0.8966, 0.1736]]]]])
in1Ave24687 = tf.constant([[[[[0.4107, 0.2035], [0.506, 0.9774]]], [[[0.953, 0.7656], [0.0814, 0.182]]]]])
print (np.array2string(model.predict([in0Ave24687,in1Ave24687],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Cro96750.png')

LAve24687 = average_layer([[[[[[0.9968, 0.7052], [0.6497, 0.6478]]], [[[0.1724, 0.6671], [0.8966, 0.1736]]]]], [[[[[0.4107, 0.2035], [0.506, 0.9774]]], [[[0.953, 0.7656], [0.0814, 0.182]]]]]], Ave24687), 
LRes43777 = reshape_layer(Ave24687, [2, 1, 4], Res43777), 
LRes3697 = reshape_layer(Res43777, [2, 4], Res3697), 
LCro96750 = cropping1D_layer(Res3697, 1, 0, Cro96750), 
exec_layers([LAve24687,LRes43777,LRes3697,LCro96750],["Ave24687","Res43777","Res3697","Cro96750"],Cro96750,"Cro96750")

Actual (Unparsed): [[[0.5627000, 0.7163500, 0.4890000, 0.1778000]]]

Expected (Unparsed): [[[0.5627,0.71635,0.489,0.1778]]]

Actual:   [[[0.5627, 0.7164, 0.489, 0.1778]]]

Expected: [[[0.5627, 0.7164, 0.489, 0.1778]]]