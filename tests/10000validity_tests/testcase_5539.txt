import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add95366 = tf.keras.layers.Input(shape=([2, 1, 1]))
in1Add95366 = tf.keras.layers.Input(shape=([2, 1, 1]))
in0Con60941 = tf.keras.layers.Input(shape=([2, 1]))
in0Ave76079 = tf.keras.layers.Input(shape=([1, 2]))
in1Ave76079 = tf.keras.layers.Input(shape=([1, 2]))
in0Max2575 = tf.keras.layers.Input(shape=([2, 2]))
in1Max2575 = tf.keras.layers.Input(shape=([2, 2]))

Add95366 = keras.layers.Add(name = 'Add95366', )([in0Add95366,in1Add95366])
Res69509 = keras.layers.Reshape((2, 1), name = 'Res69509', )(Add95366)
Con60941 = keras.layers.Concatenate(axis=2, name = 'Con60941', )([Res69509,in0Con60941])
Ave76079 = keras.layers.Average(name = 'Ave76079', )([in0Ave76079,in1Ave76079])
Zer11938 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer11938', )(Ave76079)
Add39056 = keras.layers.Add(name = 'Add39056', )([Con60941,Zer11938])
Max2575 = keras.layers.Maximum(name = 'Max2575', )([in0Max2575,in1Max2575])
Dot79511 = keras.layers.Dot(axes=(1, 1), name = 'Dot79511', )([Add39056,Max2575])
model = tf.keras.models.Model(inputs=[in0Add95366,in1Add95366,in0Con60941,in0Ave76079,in1Ave76079,in0Max2575,in1Max2575], outputs=Dot79511)
in0Add95366 = tf.constant([[[[0.7211]], [[0.044]]]])
in1Add95366 = tf.constant([[[[0.5038]], [[0.5269]]]])
in0Con60941 = tf.constant([[[0.4611], [0.1837]]])
in0Ave76079 = tf.constant([[[0.2138, 0.1542]]])
in1Ave76079 = tf.constant([[[0.3946, 0.731]]])
in0Max2575 = tf.constant([[[0.3979, 0.1505], [0.608, 0.3141]]])
in1Max2575 = tf.constant([[[0.3487, 0.8206], [0.0129, 0.6829]]])
print (np.array2string(model.predict([in0Add95366,in1Add95366,in0Con60941,in0Ave76079,in1Ave76079,in0Max2575,in1Max2575],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Dot79511.png')

LAdd95366 = add_layer([[[[[0.7211]], [[0.044]]]], [[[[0.5038]], [[0.5269]]]]], Add95366), 
LRes69509 = reshape_layer(Add95366, [2, 1], Res69509), 
LCon60941 = concatenate_layer([Res69509,[[[0.4611], [0.1837]]]], 2, Con60941), 
LAve76079 = average_layer([[[[0.2138, 0.1542]]], [[[0.3946, 0.731]]]], Ave76079), 
LZer11938 = zero_padding1D_layer(Ave76079, 1, 0, Zer11938), 
LAdd39056 = add_layer([Con60941,Zer11938], Add39056), 
LMax2575 = maximum_layer([[[[0.3979, 0.1505], [0.608, 0.3141]]], [[[0.3487, 0.8206], [0.0129, 0.6829]]]], Max2575), 
LDot79511 = dot_layer(Add39056,Max2575, 1, 1, Dot79511), 
exec_layers([LAdd95366,LRes69509,LCon60941,LAve76079,LZer11938,LAdd39056,LMax2575,LDot79511],["Add95366","Res69509","Con60941","Ave76079","Zer11938","Add39056","Max2575","Dot79511"],Dot79511,"Dot79511")

Actual (Unparsed): [[[1.0194485, 1.6027587], [0.5642621, 0.8060789]]]

Expected (Unparsed): [[[1.01944851,1.60275873],[0.5642620899999999,0.80607893]]]

Actual:   [[[1.0195, 1.6028], [0.5643, 0.8061]]]

Expected: [[[1.0195, 1.6028], [0.5643, 0.8061]]]