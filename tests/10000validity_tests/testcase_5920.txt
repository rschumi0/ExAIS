import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot56321 = tf.keras.layers.Input(shape=([3]))
in1Dot56321 = tf.keras.layers.Input(shape=([3]))
in0Con72455 = tf.keras.layers.Input(shape=([1, 1, 2]))
in0Sub63634 = tf.keras.layers.Input(shape=([3, 3, 3]))
in1Sub63634 = tf.keras.layers.Input(shape=([3, 3, 3]))

Dot56321 = keras.layers.Dot(axes=(1, 1), name = 'Dot56321', )([in0Dot56321,in1Dot56321])
Res33390 = keras.layers.Reshape((1, 1), name = 'Res33390', )(Dot56321)
Res93079 = keras.layers.Reshape((1, 1, 1), name = 'Res93079', )(Res33390)
Con72455 = keras.layers.Concatenate(axis=3, name = 'Con72455', )([Res93079,in0Con72455])
Sub63634 = keras.layers.Subtract(name = 'Sub63634', )([in0Sub63634,in1Sub63634])
Ave66593 = keras.layers.AveragePooling2D(pool_size=(1, 1), strides=(8, 11), padding='same', name = 'Ave66593', )(Sub63634)
Min27268 = keras.layers.Minimum(name = 'Min27268', )([Con72455,Ave66593])
model = tf.keras.models.Model(inputs=[in0Dot56321,in1Dot56321,in0Con72455,in0Sub63634,in1Sub63634], outputs=Min27268)
in0Dot56321 = tf.constant([[0.2962, 0.2396, 0.4884]])
in1Dot56321 = tf.constant([[0.8875, 0.9427, 0.6472]])
in0Con72455 = tf.constant([[[[0.6241, 0.3721]]]])
in0Sub63634 = tf.constant([[[[0.5688, 0.6824, 0.576], [0.0705, 0.7029, 0.9778], [0.9801, 0.0092, 0.8006]], [[0.8642, 0.8178, 0.3846], [0.8268, 0.2909, 0.3134], [0.9223, 0.1939, 0.261]], [[0.5718, 0.3744, 0.1787], [0.2052, 0.8562, 0.7291], [0.7059, 0.8281, 0.8501]]]])
in1Sub63634 = tf.constant([[[[0.5753, 0.4935, 0.8215], [0.7831, 0.2192, 0.864], [0.8442, 0.3137, 0.9809]], [[0.4936, 0.0775, 0.2321], [0.3387, 0.9908, 0.4836], [0.3693, 0.2352, 0.4758]], [[0.619, 0.5823, 0.9096], [0.2675, 0.4821, 0.3209], [0.0797, 0.3721, 0.4139]]]])
print (np.array2string(model.predict([in0Dot56321,in1Dot56321,in0Con72455,in0Sub63634,in1Sub63634],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min27268.png')

LDot56321 = dot_layer([[0.2962, 0.2396, 0.4884]], [[0.8875, 0.9427, 0.6472]], 1, 1, Dot56321), 
LRes33390 = reshape_layer(Dot56321, [1, 1], Res33390), 
LRes93079 = reshape_layer(Res33390, [1, 1, 1], Res93079), 
LCon72455 = concatenate_layer([Res93079,[[[[0.6241, 0.3721]]]]], 3, Con72455), 
LSub63634 = subtract_layer([[[[0.5688, 0.6824, 0.576], [0.0705, 0.7029, 0.9778], [0.9801, 0.0092, 0.8006]], [[0.8642, 0.8178, 0.3846], [0.8268, 0.2909, 0.3134], [0.9223, 0.1939, 0.261]], [[0.5718, 0.3744, 0.1787], [0.2052, 0.8562, 0.7291], [0.7059, 0.8281, 0.8501]]]], [[[[0.5753, 0.4935, 0.8215], [0.7831, 0.2192, 0.864], [0.8442, 0.3137, 0.9809]], [[0.4936, 0.0775, 0.2321], [0.3387, 0.9908, 0.4836], [0.3693, 0.2352, 0.4758]], [[0.619, 0.5823, 0.9096], [0.2675, 0.4821, 0.3209], [0.0797, 0.3721, 0.4139]]]], Sub63634), 
LAve66593 = average_pooling2D_layer(Sub63634, 1, 1, 8, 11, true, Ave66593), 
LMin27268 = minimum_layer([Con72455,Ave66593], Min27268), 
exec_layers([LDot56321,LRes33390,LRes93079,LCon72455,LSub63634,LAve66593,LMin27268],["Dot56321","Res33390","Res93079","Con72455","Sub63634","Ave66593","Min27268"],Min27268,"Min27268")

Actual (Unparsed): [[[[-0.0065000, 0.1889000, -0.2455000]]]]

Expected (Unparsed): [[[[-0.006500000000000061,0.1889,-0.24550000000000005]]]]

Actual:   [[[[-0.0065, 0.1889, -0.2455]]]]

Expected: [[[[-0.0065, 0.1889, -0.2455]]]]