import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max89713 = tf.keras.layers.Input(shape=([2, 2]))

Max89713 = keras.layers.MaxPool1D(pool_size=(2), strides=(2), padding='valid', name = 'Max89713', )(in0Max89713)
Glo51125 = keras.layers.GlobalMaxPool1D(name = 'Glo51125', )(Max89713)
Res12164 = keras.layers.Reshape((2, 1), name = 'Res12164', )(Glo51125)
Res46094 = keras.layers.Reshape((2, 1, 1), name = 'Res46094', )(Res12164)
Res2392 = keras.layers.Reshape((2, 1, 1, 1), name = 'Res2392', )(Res46094)
Con62642 = keras.layers.Conv3DTranspose(2, (1, 1, 1),strides=(1, 2, 1), padding='same', name = 'Con62642', )(Res2392)
Res19946 = keras.layers.Reshape((2, 2, 2), name = 'Res19946', )(Con62642)
Max39664 = keras.layers.MaxPool2D(pool_size=(2, 1), strides=(1, 9), padding='same', name = 'Max39664', )(Res19946)
model = tf.keras.models.Model(inputs=[in0Max89713], outputs=Max39664)
w = model.get_layer('Con62642').get_weights() 
w[0] = np.array([[[[[0.9295], [0.8015]]]]])
w[1] = np.array([0, 0])
model.get_layer('Con62642').set_weights(w) 
in0Max89713 = tf.constant([[[1.3934, 1.3746], [1.391, 1.3678]]])
print (np.array2string(model.predict([in0Max89713],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max39664.png')

LMax89713 = max_pool1D_layer([[[1.3934, 1.3746], [1.391, 1.3678]]], 2, 2, false, Max89713), 
LGlo51125 = global_max_pool1D_layer(Max89713, Glo51125), 
LRes12164 = reshape_layer(Glo51125, [2, 1], Res12164), 
LRes46094 = reshape_layer(Res12164, [2, 1, 1], Res46094), 
LRes2392 = reshape_layer(Res46094, [2, 1, 1, 1], Res2392), 
LCon62642 = conv3D_transpose_layer(Res2392, 1, 1, 1,[[[[[0.9295], [0.8015]]]]],[0, 0], 1, 2, 1, true, Con62642), 
LRes19946 = reshape_layer(Con62642, [2, 2, 2], Res19946), 
LMax39664 = max_pool2D_layer(Res19946, 2, 1, 1, 9, true, Max39664), 
exec_layers([LMax89713,LGlo51125,LRes12164,LRes46094,LRes2392,LCon62642,LRes19946,LMax39664],["Max89713","Glo51125","Res12164","Res46094","Res2392","Con62642","Res19946","Max39664"],Max39664,"Max39664")

Actual (Unparsed): [[[[1.2951653, 1.1168101]], [[1.2776907, 1.1017419]]]]

Expected (Unparsed): [[[[1.2951653,1.1168101]],[[1.2776907,1.1017419]]]]

Actual:   [[[[1.2952, 1.1169]], [[1.2777, 1.1018]]]]

Expected: [[[[1.2952, 1.1169]], [[1.2777, 1.1018]]]]