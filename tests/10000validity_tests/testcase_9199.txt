import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub10299 = tf.keras.layers.Input(shape=([3]))
in1Sub10299 = tf.keras.layers.Input(shape=([3]))
in0Cro20333 = tf.keras.layers.Input(shape=([4, 1]))
in0Ave45818 = tf.keras.layers.Input(shape=([2, 1, 2, 1]))
in1Ave45818 = tf.keras.layers.Input(shape=([2, 1, 2, 1]))
in0Sub15703 = tf.keras.layers.Input(shape=([3]))
in1Sub15703 = tf.keras.layers.Input(shape=([3]))
in0Max9170 = tf.keras.layers.Input(shape=([2, 1, 1]))
in1Max9170 = tf.keras.layers.Input(shape=([2, 1, 1]))
in0Cro14613 = tf.keras.layers.Input(shape=([1, 3, 4, 1]))

Sub10299 = keras.layers.Subtract(name = 'Sub10299', )([in0Sub10299,in1Sub10299])
Res1186 = keras.layers.Reshape((3, 1), name = 'Res1186', )(Sub10299)
Cro20333 = keras.layers.Cropping1D(cropping=((3, 0)), name = 'Cro20333', )(in0Cro20333)
Zer72717 = keras.layers.ZeroPadding1D(padding=((2, 0)), name = 'Zer72717', )(Cro20333)
Mul4612 = keras.layers.Multiply(name = 'Mul4612', )([Res1186,Zer72717])
Res86217 = keras.layers.Reshape((3, 1, 1), name = 'Res86217', )(Mul4612)
Glo98953 = keras.layers.GlobalAveragePooling2D(name = 'Glo98953', )(Res86217)
Res28149 = keras.layers.Reshape((1, 1), name = 'Res28149', )(Glo98953)
Res56642 = keras.layers.Reshape((1, 1, 1), name = 'Res56642', )(Res28149)
Res44509 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res44509', )(Res56642)
Zer49779 = keras.layers.ZeroPadding3D(padding=((1, 0), (0, 0), (1, 0)), name = 'Zer49779', )(Res44509)
Ave45818 = keras.layers.Average(name = 'Ave45818', )([in0Ave45818,in1Ave45818])
Min53424 = keras.layers.Minimum(name = 'Min53424', )([Zer49779,Ave45818])
Zer64904 = keras.layers.ZeroPadding3D(padding=((1, 0), (0, 0), (1, 0)), name = 'Zer64904', )(Min53424)
Sub15703 = keras.layers.Subtract(name = 'Sub15703', )([in0Sub15703,in1Sub15703])
Res20990 = keras.layers.Reshape((3, 1), name = 'Res20990', )(Sub15703)
Res51343 = keras.layers.Reshape((3, 1, 1), name = 'Res51343', )(Res20990)
Res3682 = keras.layers.Reshape((3, 1, 1, 1), name = 'Res3682', )(Res51343)
Max9170 = keras.layers.Maximum(name = 'Max9170', )([in0Max9170,in1Max9170])
Res7241 = keras.layers.Reshape((2, 1, 1, 1), name = 'Res7241', )(Max9170)
Cro14613 = keras.layers.Cropping3D(cropping=((0, 0), (2, 0), (3, 0)), name = 'Cro14613', )(in0Cro14613)
Zer85708 = keras.layers.ZeroPadding3D(padding=((1, 0), (0, 0), (0, 0)), name = 'Zer85708', )(Cro14613)
Min82594 = keras.layers.Minimum(name = 'Min82594', )([Res7241,Zer85708])
Zer63597 = keras.layers.ZeroPadding3D(padding=((1, 0), (0, 0), (0, 0)), name = 'Zer63597', )(Min82594)
Mul82404 = keras.layers.Multiply(name = 'Mul82404', )([Res3682,Zer63597])
Zer19254 = keras.layers.ZeroPadding3D(padding=((0, 0), (0, 0), (2, 0)), name = 'Zer19254', )(Mul82404)
Mul17899 = keras.layers.Multiply(name = 'Mul17899', )([Zer64904,Zer19254])
model = tf.keras.models.Model(inputs=[in0Sub10299,in1Sub10299,in0Cro20333,in0Ave45818,in1Ave45818,in0Sub15703,in1Sub15703,in0Max9170,in1Max9170,in0Cro14613], outputs=Mul17899)
in0Sub10299 = tf.constant([[0.5757, 0.8074, 0.7488]])
in1Sub10299 = tf.constant([[0.0739, 0.7355, 0.4672]])
in0Cro20333 = tf.constant([[[1.1683], [1.2057], [1.0195], [1.496]]])
in0Ave45818 = tf.constant([[[[[0.2401], [0.1254]]], [[[0.7773], [0.1609]]]]])
in1Ave45818 = tf.constant([[[[[0.0504], [0.2637]]], [[[0.9793], [0.6122]]]]])
in0Sub15703 = tf.constant([[0.0872, 0.6692, 0.0012]])
in1Sub15703 = tf.constant([[0.5816, 0.3004, 0.9909]])
in0Max9170 = tf.constant([[[[0.2401]], [[0.4265]]]])
in1Max9170 = tf.constant([[[[0.5081]], [[0.2717]]]])
in0Cro14613 = tf.constant([[[[[1.1351], [1.92], [1.7383], [1.0977]], [[1.8666], [1.2035], [1.7537], [1.7482]], [[1.8649], [1.7494], [1.3122], [1.9929]]]]])
print (np.array2string(model.predict([in0Sub10299,in1Sub10299,in0Cro20333,in0Ave45818,in1Ave45818,in0Sub15703,in1Sub15703,in0Max9170,in1Max9170,in0Cro14613],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Mul17899.png')

LSub10299 = subtract_layer([[0.5757, 0.8074, 0.7488]], [[0.0739, 0.7355, 0.4672]], Sub10299), 
LRes1186 = reshape_layer(Sub10299, [3, 1], Res1186), 
LCro20333 = cropping1D_layer([[[1.1683], [1.2057], [1.0195], [1.496]]], 3, 0, Cro20333), 
LZer72717 = zero_padding1D_layer(Cro20333, 2, 0, Zer72717), 
LMul4612 = multiply_layer([Res1186,Zer72717], Mul4612), 
LRes86217 = reshape_layer(Mul4612, [3, 1, 1], Res86217), 
LGlo98953 = global_average_pooling2D_layer(Res86217, Glo98953), 
LRes28149 = reshape_layer(Glo98953, [1, 1], Res28149), 
LRes56642 = reshape_layer(Res28149, [1, 1, 1], Res56642), 
LRes44509 = reshape_layer(Res56642, [1, 1, 1, 1], Res44509), 
LZer49779 = zero_padding3D_layer(Res44509, 1, 0, 0, 0, 1, 0, Zer49779), 
LAve45818 = average_layer([[[[[[0.2401], [0.1254]]], [[[0.7773], [0.1609]]]]], [[[[[0.0504], [0.2637]]], [[[0.9793], [0.6122]]]]]], Ave45818), 
LMin53424 = minimum_layer([Zer49779,Ave45818], Min53424), 
LZer64904 = zero_padding3D_layer(Min53424, 1, 0, 0, 0, 1, 0, Zer64904), 
LSub15703 = subtract_layer([[0.0872, 0.6692, 0.0012]], [[0.5816, 0.3004, 0.9909]], Sub15703), 
LRes20990 = reshape_layer(Sub15703, [3, 1], Res20990), 
LRes51343 = reshape_layer(Res20990, [3, 1, 1], Res51343), 
LRes3682 = reshape_layer(Res51343, [3, 1, 1, 1], Res3682), 
LMax9170 = maximum_layer([[[[[0.2401]], [[0.4265]]]], [[[[0.5081]], [[0.2717]]]]], Max9170), 
LRes7241 = reshape_layer(Max9170, [2, 1, 1, 1], Res7241), 
LCro14613 = cropping3D_layer([[[[[1.1351], [1.92], [1.7383], [1.0977]], [[1.8666], [1.2035], [1.7537], [1.7482]], [[1.8649], [1.7494], [1.3122], [1.9929]]]]], 0, 0, 2, 0, 3, 0, Cro14613), 
LZer85708 = zero_padding3D_layer(Cro14613, 1, 0, 0, 0, 0, 0, Zer85708), 
LMin82594 = minimum_layer([Res7241,Zer85708], Min82594), 
LZer63597 = zero_padding3D_layer(Min82594, 1, 0, 0, 0, 0, 0, Zer63597), 
LMul82404 = multiply_layer([Res3682,Zer63597], Mul82404), 
LZer19254 = zero_padding3D_layer(Mul82404, 0, 0, 0, 0, 2, 0, Zer19254), 
LMul17899 = multiply_layer([Zer64904,Zer19254], Mul17899), 
exec_layers([LSub10299,LRes1186,LCro20333,LZer72717,LMul4612,LRes86217,LGlo98953,LRes28149,LRes56642,LRes44509,LZer49779,LAve45818,LMin53424,LZer64904,LSub15703,LRes20990,LRes51343,LRes3682,LMax9170,LRes7241,LCro14613,LZer85708,LMin82594,LZer63597,LMul82404,LZer19254,LMul17899],["Sub10299","Res1186","Cro20333","Zer72717","Mul4612","Res86217","Glo98953","Res28149","Res56642","Res44509","Zer49779","Ave45818","Min53424","Zer64904","Sub15703","Res20990","Res51343","Res3682","Max9170","Res7241","Cro14613","Zer85708","Min82594","Zer63597","Mul82404","Zer19254","Mul17899"],Mul17899,"Mul17899")

Actual (Unparsed): [[[[[0.0000000], [0.0000000], [-0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [-0.0592742]]]]]

Expected (Unparsed): [[[[[0],[0],[-0.0]]],[[[0],[0],[0.0]]],[[[0],[0],[-0.05927418551296001]]]]]

Actual:   [[[[[0], [0], [-0]]], [[[0], [0], [0]]], [[[0], [0], [-0.0592]]]]]

Expected: [[[[[0], [0], [-0]]], [[[0], [0], [0]]], [[[0], [0], [-0.0592]]]]]