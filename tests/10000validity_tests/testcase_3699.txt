import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max30358 = tf.keras.layers.Input(shape=([1, 1, 2]))
in1Max30358 = tf.keras.layers.Input(shape=([1, 1, 2]))

Max30358 = keras.layers.Maximum(name = 'Max30358', )([in0Max30358,in1Max30358])
Ave81630 = keras.layers.AveragePooling2D(pool_size=(1, 2), strides=(10, 8), padding='same', name = 'Ave81630', )(Max30358)
Glo86025 = keras.layers.GlobalAveragePooling2D(name = 'Glo86025', )(Ave81630)
Res8300 = keras.layers.Reshape((2, 1), name = 'Res8300', )(Glo86025)
Res56390 = keras.layers.Reshape((2, 1, 1), name = 'Res56390', )(Res8300)
Res91460 = keras.layers.Reshape((2, 1, 1, 1), name = 'Res91460', )(Res56390)
Glo98923 = keras.layers.GlobalMaxPool3D(name = 'Glo98923', )(Res91460)
model = tf.keras.models.Model(inputs=[in0Max30358,in1Max30358], outputs=Glo98923)
in0Max30358 = tf.constant([[[[0.8939, 0.1424]]]])
in1Max30358 = tf.constant([[[[0.2258, 0.7725]]]])
print (np.array2string(model.predict([in0Max30358,in1Max30358],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo98923.png')

LMax30358 = maximum_layer([[[[[0.8939, 0.1424]]]], [[[[0.2258, 0.7725]]]]], Max30358), 
LAve81630 = average_pooling2D_layer(Max30358, 1, 2, 10, 8, true, Ave81630), 
LGlo86025 = global_average_pooling2D_layer(Ave81630, Glo86025), 
LRes8300 = reshape_layer(Glo86025, [2, 1], Res8300), 
LRes56390 = reshape_layer(Res8300, [2, 1, 1], Res56390), 
LRes91460 = reshape_layer(Res56390, [2, 1, 1, 1], Res91460), 
LGlo98923 = global_max_pool3D_layer(Res91460, Glo98923), 
exec_layers([LMax30358,LAve81630,LGlo86025,LRes8300,LRes56390,LRes91460,LGlo98923],["Max30358","Ave81630","Glo86025","Res8300","Res56390","Res91460","Glo98923"],Glo98923,"Glo98923")

Actual (Unparsed): [[0.8939000]]

Expected (Unparsed): [[0.8939]]

Actual:   [[0.8939]]

Expected: [[0.8939]]