import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add77353 = tf.keras.layers.Input(shape=([1, 1, 1, 1]))
in1Add77353 = tf.keras.layers.Input(shape=([1, 1, 1, 1]))
in0Con19648 = tf.keras.layers.Input(shape=([3, 2]))
in0Dot95705 = tf.keras.layers.Input(shape=([3, 2]))
in1Dot95705 = tf.keras.layers.Input(shape=([3, 2]))

Add77353 = keras.layers.Add(name = 'Add77353', )([in0Add77353,in1Add77353])
Res95344 = keras.layers.Reshape((1, 1, 1), name = 'Res95344', )(Add77353)
Res33935 = keras.layers.Reshape((1, 1), name = 'Res33935', )(Res95344)
Zer89311 = keras.layers.ZeroPadding1D(padding=((2, 0)), name = 'Zer89311', )(Res33935)
Con19648 = keras.layers.Concatenate(axis=2, name = 'Con19648', )([Zer89311,in0Con19648])
Dot95705 = keras.layers.Dot(axes=(2, 2), name = 'Dot95705', )([in0Dot95705,in1Dot95705])
Max38634 = keras.layers.Maximum(name = 'Max38634', )([Con19648,Dot95705])
Res47364 = keras.layers.Reshape((3, 3, 1), name = 'Res47364', )(Max38634)
Con92671 = keras.layers.Conv2DTranspose(3, (2, 1),strides=(3, 3), padding='same', name = 'Con92671', )(Res47364)
ReL5229 = keras.layers.ReLU(max_value=5.400731668376774, negative_slope=3.4109419290793754, threshold=3.77617497070061, name = 'ReL5229', )(Con92671)
model = tf.keras.models.Model(inputs=[in0Add77353,in1Add77353,in0Con19648,in0Dot95705,in1Dot95705], outputs=ReL5229)
w = model.get_layer('Con92671').get_weights() 
w[0] = np.array([[[[0.0436], [0.6688], [0.3858]]], [[[0.0439], [0.4889], [0.188]]]])
w[1] = np.array([0, 0, 0])
model.get_layer('Con92671').set_weights(w) 
in0Add77353 = tf.constant([[[[[0.944]]]]])
in1Add77353 = tf.constant([[[[[0.7246]]]]])
in0Con19648 = tf.constant([[[0.2585, 0.0135], [0.6641, 0.3511], [0.331, 0.3495]]])
in0Dot95705 = tf.constant([[[0.8761, 0.4171], [0.2653, 0.5242], [0.3879, 0.1717]]])
in1Dot95705 = tf.constant([[[0.1512, 0.9987], [0.3562, 0.3674], [0.176, 0.3366]]])
print (np.array2string(model.predict([in0Add77353,in1Add77353,in0Con19648,in0Dot95705,in1Dot95705],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='ReL5229.png')

LAdd77353 = add_layer([[[[[[0.944]]]]], [[[[[0.7246]]]]]], Add77353), 
LRes95344 = reshape_layer(Add77353, [1, 1, 1], Res95344), 
LRes33935 = reshape_layer(Res95344, [1, 1], Res33935), 
LZer89311 = zero_padding1D_layer(Res33935, 2, 0, Zer89311), 
LCon19648 = concatenate_layer([Zer89311,[[[0.2585, 0.0135], [0.6641, 0.3511], [0.331, 0.3495]]]], 2, Con19648), 
LDot95705 = dot_layer([[[0.8761, 0.4171], [0.2653, 0.5242], [0.3879, 0.1717]]], [[[0.1512, 0.9987], [0.3562, 0.3674], [0.176, 0.3366]]], 2, 2, Dot95705), 
LMax38634 = maximum_layer([Con19648,Dot95705], Max38634), 
LRes47364 = reshape_layer(Max38634, [3, 3, 1], Res47364), 
LCon92671 = conv2D_transpose_layer(Res47364, 2, 1,[[[[0.0436], [0.6688], [0.3858]]], [[[0.0439], [0.4889], [0.188]]]],[0, 0, 0], 3, 3, true, Con92671), 
LReL5229 = relu_layer(Con92671, 5.400731668376774, 3.4109419290793754, 3.77617497070061, ReL5229), 
exec_layers([LAdd77353,LRes95344,LRes33935,LZer89311,LCon19648,LDot95705,LMax38634,LRes47364,LCon92671,LReL5229],["Add77353","Res95344","Res33935","Zer89311","Con19648","Dot95705","Max38634","Res47364","Con92671","ReL5229"],ReL5229,"ReL5229")

Actual (Unparsed): [[[[-12.7986643, -11.6278589, -12.1578300], [-12.8803135, -12.8803135, -12.8803135], [-12.8803135, -12.8803135, -12.8803135], [-12.8111141, -11.8188321, -12.2679937], [-12.8803135, -12.8803135, -12.8803135], [-12.8803135, -12.8803135, -12.8803135], [-12.8365031, -12.2082849, -12.4926511], [-12.8803135, -12.8803135, -12.8803135], [-12.8803135, -12.8803135, -12.8803135]], [[-12.7981025, -11.9647557, -12.5282479], [-12.8803135, -12.8803135, -12.8803135], [-12.8803135, -12.8803135, -12.8803135], [-12.8106380, -12.1043592, -12.5819306], [-12.8803135, -12.8803135, -12.8803135], [-12.8803135, -12.8803135, -12.8803135], [-12.8362016, -12.3890533, -12.6914060], [-12.8803135, -12.8803135, -12.8803135], [-12.8803135, -12.8803135, -12.8803135]], [[-12.8803135, -12.8803135, -12.8803135], [-12.8803135, -12.8803135, -12.8803135], [-12.8803135, -12.8803135, -12.8803135], [-12.8803135, -12.8803135, -12.8803135], [-12.8803135, -12.8803135, -12.8803135], [-12.8803135, -12.8803135, -12.8803135], [-12.8803135, -12.8803135, -12.8803135], [-12.8803135, -12.8803135, -12.8803135], [-12.8803135, -12.8803135, -12.8803135]], [[-12.7964919, -11.5945350, -12.1386069], [-12.8803135, -12.8803135, -12.8803135], [-12.8803135, -12.8803135, -12.8803135], [-12.7815505, -11.3653434, -12.0063969], [-12.8803135, -12.8803135, -12.8803135], [-12.8803135, -12.8803135, -12.8803135], [-12.8280990, -12.0793709, -12.4182865], [-12.8803135, -12.8803135, -12.8803135], [-12.8803135, -12.8803135, -12.8803135]], [[-12.7959151, -11.9403956, -12.5188806], [-12.8803135, -12.8803135, -12.8803135], [-12.8803135, -12.8803135, -12.8803135], [-12.7808710, -11.7728541, -12.4544547], [-12.8803135, -12.8803135, -12.8803135], [-12.8803135, -12.8803135, -12.8803135], [-12.8277397, -12.2948158, -12.6551682], [-12.8803135, -12.8803135, -12.8803135], [-12.8803135, -12.8803135, -12.8803135]], [[-12.8803135, -12.8803135, -12.8803135], [-12.8803135, -12.8803135, -12.8803135], [-12.8803135, -12.8803135, -12.8803135], [-12.8803135, -12.8803135, -12.8803135], [-12.8803135, -12.8803135, -12.8803135], [-12.8803135, -12.8803135, -12.8803135], [-12.8803135, -12.8803135, -12.8803135], [-12.8803135, -12.8803135, -12.8803135], [-12.8803135, -12.8803135, -12.8803135]], [[-12.6321642, -9.0738398, -10.6845337], [-12.8803135, -12.8803135, -12.8803135], [-12.8803135, -12.8803135, -12.8803135], [-12.8310882, -12.1252238, -12.4447369], [-12.8803135, -12.8803135, -12.8803135], [-12.8803135, -12.8803135, -12.8803135], [-12.8283369, -12.0830209, -12.4203920], [-12.8803135, -12.8803135, -12.8803135], [-12.8803135, -12.8803135, -12.8803135]], [[-12.6304568, -10.0977403, -11.8103120], [-12.8803135, -12.8803135, -12.8803135], [-12.8803135, -12.8803135, -12.8803135], [-12.8307495, -12.3283348, -12.6680574], [-12.8803135, -12.8803135, -12.8803135], [-12.8803135, -12.8803135, -12.8803135], [-12.8279793, -12.2974840, -12.6561942], [-12.8803135, -12.8803135, -12.8803135], [-12.8803135, -12.8803135, -12.8803135]], [[-12.8803135, -12.8803135, -12.8803135], [-12.8803135, -12.8803135, -12.8803135], [-12.8803135, -12.8803135, -12.8803135], [-12.8803135, -12.8803135, -12.8803135], [-12.8803135, -12.8803135, -12.8803135], [-12.8803135, -12.8803135, -12.8803135], [-12.8803135, -12.8803135, -12.8803135], [-12.8803135, -12.8803135, -12.8803135], [-12.8803135, -12.8803135, -12.8803135]]]]

Expected (Unparsed): [[[[-12.798664286117406,-11.627858942849894,-12.157830011539442],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.811114095320447,-11.818832162918563,-12.267993690221399],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.836503058316113,-12.208284879696135,-12.492651073793152],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.880313539102792,-12.880313539102792,-12.880313539102792]],[[-12.798102479330808,-11.964755745879046,-12.52824795283553],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.810637952358642,-12.104359225681037,-12.58193061637158],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.83620161005382,-12.389053354318232,-12.691405961398768],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.880313539102792,-12.880313539102792,-12.880313539102792]],[[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.880313539102792,-12.880313539102792,-12.880313539102792]],[[-12.79649185544273,-11.594535052133752,-12.138606989652052],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.78155053417236,-11.365343408426833,-12.00639685786059],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.828098976490121,-12.079370890585507,-12.418286514883341],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.880313539102792,-12.880313539102792,-12.880313539102792]],[[-12.795915100738647,-11.940395623015526,-12.518880591210777],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.780870972211831,-11.772854064091613,-12.454454710503688],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.827739701976732,-12.294815840448335,-12.655168177378435],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.880313539102792,-12.880313539102792,-12.880313539102792]],[[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.880313539102792,-12.880313539102792,-12.880313539102792]],[[-12.632164239258016,-9.073839875428789,-10.684533725338692],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.83108818955909,-12.12522377362509,-12.444736936947741],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.828336923799094,-12.083020871324976,-12.420392021117323],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.880313539102792,-12.880313539102792,-12.880313539102792]],[[-12.630456789947157,-10.097740312173634,-11.810311970964765],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.830749483025532,-12.328334791581785,-12.66805744474004],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.82797928653783,-12.297484015662938,-12.656194188710703],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.880313539102792,-12.880313539102792,-12.880313539102792]],[[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.880313539102792,-12.880313539102792,-12.880313539102792],[-12.880313539102792,-12.880313539102792,-12.880313539102792]]]]

Actual:   [[[[-12.7986, -11.6278, -12.1578], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8111, -11.8188, -12.2679], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8365, -12.2082, -12.4926], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803]], [[-12.7981, -11.9647, -12.5282], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8106, -12.1043, -12.5819], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8362, -12.389, -12.6914], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803]], [[-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803]], [[-12.7964, -11.5945, -12.1386], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.7815, -11.3653, -12.0063], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.828, -12.0793, -12.4182], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803]], [[-12.7959, -11.9403, -12.5188], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.7808, -11.7728, -12.4544], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8277, -12.2948, -12.6551], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803]], [[-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803]], [[-12.6321, -9.0738, -10.6845], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.831, -12.1252, -12.4447], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8283, -12.083, -12.4203], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803]], [[-12.6304, -10.0977, -11.8103], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8307, -12.3283, -12.668], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8279, -12.2974, -12.6561], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803]], [[-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803]]]]

Expected: [[[[-12.7986, -11.6278, -12.1578], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8111, -11.8188, -12.2679], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8365, -12.2082, -12.4926], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803]], [[-12.7981, -11.9647, -12.5282], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8106, -12.1043, -12.5819], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8362, -12.389, -12.6914], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803]], [[-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803]], [[-12.7964, -11.5945, -12.1386], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.7815, -11.3653, -12.0063], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.828, -12.0793, -12.4182], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803]], [[-12.7959, -11.9403, -12.5188], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.7808, -11.7728, -12.4544], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8277, -12.2948, -12.6551], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803]], [[-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803]], [[-12.6321, -9.0738, -10.6845], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.831, -12.1252, -12.4447], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8283, -12.083, -12.4203], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803]], [[-12.6304, -10.0977, -11.8103], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8307, -12.3283, -12.668], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8279, -12.2974, -12.6561], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803]], [[-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803], [-12.8803, -12.8803, -12.8803]]]]