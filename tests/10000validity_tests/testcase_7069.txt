import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Cro61388 = tf.keras.layers.Input(shape=([1, 4]))
in0Dot49334 = tf.keras.layers.Input(shape=([3, 3]))
in1Dot49334 = tf.keras.layers.Input(shape=([3, 3]))
in0Con57790 = tf.keras.layers.Input(shape=([3, 1]))

Cro61388 = keras.layers.Cropping1D(cropping=((0, 0)), name = 'Cro61388', )(in0Cro61388)
Zer92920 = keras.layers.ZeroPadding1D(padding=((2, 0)), name = 'Zer92920', )(Cro61388)
Dot49334 = keras.layers.Dot(axes=(1, 1), name = 'Dot49334', )([in0Dot49334,in1Dot49334])
Con57790 = keras.layers.Concatenate(axis=2, name = 'Con57790', )([Dot49334,in0Con57790])
Ave28079 = keras.layers.Average(name = 'Ave28079', )([Zer92920,Con57790])
Glo96395 = keras.layers.GlobalMaxPool1D(name = 'Glo96395', )(Ave28079)
model = tf.keras.models.Model(inputs=[in0Cro61388,in0Dot49334,in1Dot49334,in0Con57790], outputs=Glo96395)
in0Cro61388 = tf.constant([[[1.8286, 1.4112, 1.6324, 1.7656]]])
in0Dot49334 = tf.constant([[[0.6544, 0.7663, 0.8208], [0.1939, 0.0702, 0.8451], [0.4415, 0.7983, 0.1678]]])
in1Dot49334 = tf.constant([[[0.0831, 0.5235, 0.4116], [0.13, 0.4474, 0.6313], [0.9076, 0.5268, 0.5177]]])
in0Con57790 = tf.constant([[[0.1994], [0.1096], [0.7764]]])
print (np.array2string(model.predict([in0Cro61388,in0Dot49334,in1Dot49334,in0Con57790],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo96395.png')

LCro61388 = cropping1D_layer([[[1.8286, 1.4112, 1.6324, 1.7656]]], 0, 0, Cro61388), 
LZer92920 = zero_padding1D_layer(Cro61388, 2, 0, Zer92920), 
LDot49334 = dot_layer([[[0.6544, 0.7663, 0.8208], [0.1939, 0.0702, 0.8451], [0.4415, 0.7983, 0.1678]]], [[[0.0831, 0.5235, 0.4116], [0.13, 0.4474, 0.6313], [0.9076, 0.5268, 0.5177]]], 1, 1, Dot49334), 
LCon57790 = concatenate_layer([Dot49334,[[[0.1994], [0.1096], [0.7764]]]], 2, Con57790), 
LAve28079 = average_layer([Zer92920,Con57790], Ave28079), 
LGlo96395 = global_max_pool1D_layer(Ave28079, Glo96395), 
exec_layers([LCro61388,LZer92920,LDot49334,LCon57790,LAve28079,LGlo96395],["Cro61388","Zer92920","Dot49334","Con57790","Ave28079","Glo96395"],Glo96395,"Glo96395")

Actual (Unparsed): [[1.0794834, 1.1536918, 1.2953115, 1.2710000]]

Expected (Unparsed): [[1.07948338,1.1536917899999999,1.295311485,1.271]]

Actual:   [[1.0795, 1.1537, 1.2954, 1.271]]

Expected: [[1.0795, 1.1537, 1.2954, 1.271]]