import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max68191 = tf.keras.layers.Input(shape=([1, 2, 2]))

Max68191 = keras.layers.MaxPool2D(pool_size=(1, 2), name = 'Max68191', )(in0Max68191)
Sof99893 = keras.layers.Softmax(axis=1, name = 'Sof99893', )(Max68191)
Res28351 = keras.layers.Reshape((1, 2), name = 'Res28351', )(Sof99893)
Max31763 = keras.layers.MaxPool1D(pool_size=(1), strides=(11), padding='valid', name = 'Max31763', )(Res28351)
Res95441 = keras.layers.Reshape((1, 2, 1), name = 'Res95441', )(Max31763)
Max8019 = keras.layers.MaxPool2D(pool_size=(1, 2), strides=(1, 1), padding='valid', name = 'Max8019', )(Res95441)
Res97523 = keras.layers.Reshape((1, 1), name = 'Res97523', )(Max8019)
Cro84409 = keras.layers.Cropping1D(cropping=((0, 0)), name = 'Cro84409', )(Res97523)
model = tf.keras.models.Model(inputs=[in0Max68191], outputs=Cro84409)
in0Max68191 = tf.constant([[[[1.9643, 1.4299], [1.9832, 1.0847]]]])
print (np.array2string(model.predict([in0Max68191],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Cro84409.png')

LMax68191 = max_pool2D_layer([[[[1.9643, 1.4299], [1.9832, 1.0847]]]], 1, 2, Max68191), 
LSof99893 = softmax_layer(Max68191, 1, Sof99893), 
LRes28351 = reshape_layer(Sof99893, [1, 2], Res28351), 
LMax31763 = max_pool1D_layer(Res28351, 1, 11, false, Max31763), 
LRes95441 = reshape_layer(Max31763, [1, 2, 1], Res95441), 
LMax8019 = max_pool2D_layer(Res95441, 1, 2, 1, 1, false, Max8019), 
LRes97523 = reshape_layer(Max8019, [1, 1], Res97523), 
LCro84409 = cropping1D_layer(Res97523, 0, 0, Cro84409), 
exec_layers([LMax68191,LSof99893,LRes28351,LMax31763,LRes95441,LMax8019,LRes97523,LCro84409],["Max68191","Sof99893","Res28351","Max31763","Res95441","Max8019","Res97523","Cro84409"],Cro84409,"Cro84409")

Actual (Unparsed): [[[1.0000000]]]

Expected (Unparsed): [[[1.0]]]

Actual:   [[[1]]]

Expected: [[[1]]]