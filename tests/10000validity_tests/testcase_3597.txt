import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add23553 = tf.keras.layers.Input(shape=([1, 2]))
in1Add23553 = tf.keras.layers.Input(shape=([1, 2]))

Add23553 = keras.layers.Add(name = 'Add23553', )([in0Add23553,in1Add23553])
Res89382 = keras.layers.Reshape((1, 2, 1), name = 'Res89382', )(Add23553)
Res72602 = keras.layers.Reshape((1, 2, 1, 1), name = 'Res72602', )(Res89382)
Con47226 = keras.layers.Conv3DTranspose(4, (1, 2, 1),strides=(1, 2, 10), padding='valid', name = 'Con47226', )(Res72602)
Res57536 = keras.layers.Reshape((1, 4, 40), name = 'Res57536', )(Con47226)
Res5193 = keras.layers.Reshape((1, 160), name = 'Res5193', )(Res57536)
Glo97361 = keras.layers.GlobalAveragePooling1D(name = 'Glo97361', )(Res5193)
model = tf.keras.models.Model(inputs=[in0Add23553,in1Add23553], outputs=Glo97361)
w = model.get_layer('Con47226').get_weights() 
w[0] = np.array([[[[[0.0153], [0.4663], [0.4225], [0.4628]]], [[[0.2159], [0.0512], [0.7488], [0.0965]]]]])
w[1] = np.array([0, 0, 0, 0])
model.get_layer('Con47226').set_weights(w) 
in0Add23553 = tf.constant([[[0.853, 0.5894]]])
in1Add23553 = tf.constant([[[0.6831, 0.7253]]])
print (np.array2string(model.predict([in0Add23553,in1Add23553],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo97361.png')

LAdd23553 = add_layer([[[[0.853, 0.5894]]], [[[0.6831, 0.7253]]]], Add23553), 
LRes89382 = reshape_layer(Add23553, [1, 2, 1], Res89382), 
LRes72602 = reshape_layer(Res89382, [1, 2, 1, 1], Res72602), 
LCon47226 = conv3D_transpose_layer(Res72602, 1, 2, 1,[[[[[0.0153], [0.4663], [0.4225], [0.4628]]], [[[0.2159], [0.0512], [0.7488], [0.0965]]]]],[0, 0, 0, 0], 1, 2, 10, false, Con47226), 
LRes57536 = reshape_layer(Con47226, [1, 4, 40], Res57536), 
LRes5193 = reshape_layer(Res57536, [1, 160], Res5193), 
LGlo97361 = global_average_pooling1D_layer(Res5193, Glo97361), 
exec_layers([LAdd23553,LRes89382,LRes72602,LCon47226,LRes57536,LRes5193,LGlo97361],["Add23553","Res89382","Res72602","Con47226","Res57536","Res5193","Glo97361"],Glo97361,"Glo97361")

Actual (Unparsed): [[0.0235023, 0.7162834, 0.6490022, 0.7109071, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.3316440, 0.0786483, 1.1502317, 0.1482336, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0201149, 0.6130446, 0.5554608, 0.6084432, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.2838437, 0.0673126, 0.9844474, 0.1268686, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000]]

Expected (Unparsed): [[0.02350233,0.7162834299999999,0.64900225,0.71090708,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.33164399,0.07864832000000001,1.15023168,0.14823365,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.02011491,0.61304461,0.55546075,0.60844316,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.28384373,0.06731264,0.98444736,0.12686855,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]

Actual:   [[0.0236, 0.7163, 0.6491, 0.711, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.3317, 0.0787, 1.1503, 0.1483, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0202, 0.6131, 0.5555, 0.6085, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.2839, 0.0674, 0.9845, 0.1269, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]]

Expected: [[0.0236, 0.7163, 0.6491, 0.711, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.3317, 0.0787, 1.1503, 0.1483, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0202, 0.6131, 0.5555, 0.6085, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.2839, 0.0674, 0.9845, 0.1269, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]]