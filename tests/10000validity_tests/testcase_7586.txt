import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max75220 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))
in1Max75220 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))
in0Dot6176 = tf.keras.layers.Input(shape=([2]))
in1Dot6176 = tf.keras.layers.Input(shape=([2]))
in0Con99946 = tf.keras.layers.Input(shape=([1]))

Max75220 = keras.layers.Maximum(name = 'Max75220', )([in0Max75220,in1Max75220])
Res3829 = keras.layers.Reshape((2, 1, 1), name = 'Res3829', )(Max75220)
Res45810 = keras.layers.Reshape((2, 1), name = 'Res45810', )(Res3829)
Fla15358 = keras.layers.Flatten(name = 'Fla15358', )(Res45810)
Dot6176 = keras.layers.Dot(axes=(1, 1), name = 'Dot6176', )([in0Dot6176,in1Dot6176])
Con99946 = keras.layers.Concatenate(axis=1, name = 'Con99946', )([Dot6176,in0Con99946])
Add70625 = keras.layers.Add(name = 'Add70625', )([Fla15358,Con99946])
model = tf.keras.models.Model(inputs=[in0Max75220,in1Max75220,in0Dot6176,in1Dot6176,in0Con99946], outputs=Add70625)
in0Max75220 = tf.constant([[[[[0.1938]]], [[[0.2154]]]]])
in1Max75220 = tf.constant([[[[[0.3754]]], [[[0.4984]]]]])
in0Dot6176 = tf.constant([[0.7974, 0.3276]])
in1Dot6176 = tf.constant([[0.035, 0.2941]])
in0Con99946 = tf.constant([[0.723]])
print (np.array2string(model.predict([in0Max75220,in1Max75220,in0Dot6176,in1Dot6176,in0Con99946],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add70625.png')

LMax75220 = maximum_layer([[[[[[0.1938]]], [[[0.2154]]]]], [[[[[0.3754]]], [[[0.4984]]]]]], Max75220), 
LRes3829 = reshape_layer(Max75220, [2, 1, 1], Res3829), 
LRes45810 = reshape_layer(Res3829, [2, 1], Res45810), 
LFla15358 = flatten_layer(Res45810, Fla15358), 
LDot6176 = dot_layer([[0.7974, 0.3276]], [[0.035, 0.2941]], 1, 1, Dot6176), 
LCon99946 = concatenate_layer([Dot6176,[[0.723]]], 1, Con99946), 
LAdd70625 = add_layer([Fla15358,Con99946], Add70625), 
exec_layers([LMax75220,LRes3829,LRes45810,LFla15358,LDot6176,LCon99946,LAdd70625],["Max75220","Res3829","Res45810","Fla15358","Dot6176","Con99946","Add70625"],Add70625,"Add70625")

Actual (Unparsed): [[0.4996562, 1.2214000]]

Expected (Unparsed): [[0.49965616,1.2214]]

Actual:   [[0.4997, 1.2214]]

Expected: [[0.4997, 1.2214]]