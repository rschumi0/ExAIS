import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot98378 = tf.keras.layers.Input(shape=([3]))
in1Dot98378 = tf.keras.layers.Input(shape=([3]))

Dot98378 = keras.layers.Dot(axes=(1, 1), name = 'Dot98378', )([in0Dot98378,in1Dot98378])
Res71746 = keras.layers.Reshape((1, 1), name = 'Res71746', )(Dot98378)
Glo75774 = keras.layers.GlobalAveragePooling1D(name = 'Glo75774', )(Res71746)
Res26277 = keras.layers.Reshape((1, 1), name = 'Res26277', )(Glo75774)
Res5172 = keras.layers.Reshape((1, 1, 1), name = 'Res5172', )(Res26277)
Max10719 = keras.layers.MaxPool2D(pool_size=(1, 1), name = 'Max10719', )(Res5172)
model = tf.keras.models.Model(inputs=[in0Dot98378,in1Dot98378], outputs=Max10719)
in0Dot98378 = tf.constant([[0.7401, 0.1069, 0.8336]])
in1Dot98378 = tf.constant([[0.8623, 0.6578, 0.047]])
print (np.array2string(model.predict([in0Dot98378,in1Dot98378],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max10719.png')

LDot98378 = dot_layer([[0.7401, 0.1069, 0.8336]], [[0.8623, 0.6578, 0.047]], 1, 1, Dot98378), 
LRes71746 = reshape_layer(Dot98378, [1, 1], Res71746), 
LGlo75774 = global_average_pooling1D_layer(Res71746, Glo75774), 
LRes26277 = reshape_layer(Glo75774, [1, 1], Res26277), 
LRes5172 = reshape_layer(Res26277, [1, 1, 1], Res5172), 
LMax10719 = max_pool2D_layer(Res5172, 1, 1, Max10719), 
exec_layers([LDot98378,LRes71746,LGlo75774,LRes26277,LRes5172,LMax10719],["Dot98378","Res71746","Glo75774","Res26277","Res5172","Max10719"],Max10719,"Max10719")

Actual (Unparsed): [[[[0.7476863]]]]

Expected (Unparsed): [[[[0.7476862499999999]]]]

Actual:   [[[[0.7477]]]]

Expected: [[[[0.7477]]]]