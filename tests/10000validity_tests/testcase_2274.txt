import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max34494 = tf.keras.layers.Input(shape=([2, 2, 1, 1]))
in1Max34494 = tf.keras.layers.Input(shape=([2, 2, 1, 1]))

Max34494 = keras.layers.Maximum(name = 'Max34494', )([in0Max34494,in1Max34494])
Res58149 = keras.layers.Reshape((2, 2, 1), name = 'Res58149', )(Max34494)
Res98001 = keras.layers.Reshape((2, 2), name = 'Res98001', )(Res58149)
Glo54992 = keras.layers.GlobalMaxPool1D(name = 'Glo54992', )(Res98001)
Res54477 = keras.layers.Reshape((2, 1), name = 'Res54477', )(Glo54992)
Up_9191 = keras.layers.UpSampling1D(size=(2), name = 'Up_9191', )(Res54477)
model = tf.keras.models.Model(inputs=[in0Max34494,in1Max34494], outputs=Up_9191)
in0Max34494 = tf.constant([[[[[0.6506]], [[0.5952]]], [[[0.3064]], [[0.591]]]]])
in1Max34494 = tf.constant([[[[[0.7437]], [[0.7726]]], [[[0.1347]], [[0.7799]]]]])
print (np.array2string(model.predict([in0Max34494,in1Max34494],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Up_9191.png')

LMax34494 = maximum_layer([[[[[[0.6506]], [[0.5952]]], [[[0.3064]], [[0.591]]]]], [[[[[0.7437]], [[0.7726]]], [[[0.1347]], [[0.7799]]]]]], Max34494), 
LRes58149 = reshape_layer(Max34494, [2, 2, 1], Res58149), 
LRes98001 = reshape_layer(Res58149, [2, 2], Res98001), 
LGlo54992 = global_max_pool1D_layer(Res98001, Glo54992), 
LRes54477 = reshape_layer(Glo54992, [2, 1], Res54477), 
LUp_9191 = up_sampling1D_layer(Res54477, 2, Up_9191), 
exec_layers([LMax34494,LRes58149,LRes98001,LGlo54992,LRes54477,LUp_9191],["Max34494","Res58149","Res98001","Glo54992","Res54477","Up_9191"],Up_9191,"Up_9191")

Actual (Unparsed): [[[0.7437000], [0.7437000], [0.7799000], [0.7799000]]]

Expected (Unparsed): [[[0.7437],[0.7437],[0.7799],[0.7799]]]

Actual:   [[[0.7437], [0.7437], [0.7799], [0.7799]]]

Expected: [[[0.7437], [0.7437], [0.7799], [0.7799]]]