import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add38255 = tf.keras.layers.Input(shape=([1, 1, 1]))
in1Add38255 = tf.keras.layers.Input(shape=([1, 1, 1]))
in0Con21757 = tf.keras.layers.Input(shape=([7]))
in0Max69656 = tf.keras.layers.Input(shape=([2, 1]))
in1Max69656 = tf.keras.layers.Input(shape=([2, 1]))
in0Con75290 = tf.keras.layers.Input(shape=([2, 3]))
in0Up_3757 = tf.keras.layers.Input(shape=([1, 4]))
in0Sof29724 = tf.keras.layers.Input(shape=([2, 2, 2, 2]))
in0Con13535 = tf.keras.layers.Input(shape=([4]))

Add38255 = keras.layers.Add(name = 'Add38255', )([in0Add38255,in1Add38255])
Res7935 = keras.layers.Reshape((1, 1), name = 'Res7935', )(Add38255)
Fla82876 = keras.layers.Flatten(name = 'Fla82876', )(Res7935)
Con21757 = keras.layers.Concatenate(axis=1, name = 'Con21757', )([Fla82876,in0Con21757])
Max69656 = keras.layers.Maximum(name = 'Max69656', )([in0Max69656,in1Max69656])
Con75290 = keras.layers.Concatenate(axis=2, name = 'Con75290', )([Max69656,in0Con75290])
Up_3757 = keras.layers.UpSampling1D(size=(2), name = 'Up_3757', )(in0Up_3757)
Mul49496 = keras.layers.Multiply(name = 'Mul49496', )([Con75290,Up_3757])
Fla66108 = keras.layers.Flatten(name = 'Fla66108', )(Mul49496)
Sof29724 = keras.layers.Softmax(axis=1, name = 'Sof29724', input_shape=(2, 2, 2, 2))(in0Sof29724)
Res42832 = keras.layers.Reshape((2, 2, 4), name = 'Res42832', )(Sof29724)
Glo46027 = keras.layers.GlobalAveragePooling2D(name = 'Glo46027', )(Res42832)
Fla12837 = keras.layers.Flatten(name = 'Fla12837', )(Glo46027)
Con13535 = keras.layers.Concatenate(axis=1, name = 'Con13535', )([Fla12837,in0Con13535])
Add30597 = keras.layers.Add(name = 'Add30597', )([Fla66108,Con13535])
Dot85633 = keras.layers.Dot(axes=(1, 1), name = 'Dot85633', )([Con21757,Add30597])
model = tf.keras.models.Model(inputs=[in0Add38255,in1Add38255,in0Con21757,in0Max69656,in1Max69656,in0Con75290,in0Up_3757,in0Sof29724,in0Con13535], outputs=Dot85633)
in0Add38255 = tf.constant([[[[0.7205]]]])
in1Add38255 = tf.constant([[[[0.6808]]]])
in0Con21757 = tf.constant([[0.2331, 0.5391, 0.6572, 0.4934, 0.2676, 0.1297, 0.6104]])
in0Max69656 = tf.constant([[[0.6093], [0.6991]]])
in1Max69656 = tf.constant([[[0.4555], [0.0374]]])
in0Con75290 = tf.constant([[[0.4109, 0.9339, 0.9938], [0.2013, 0.2459, 0.2421]]])
in0Up_3757 = tf.constant([[[1.2342, 1.6848, 1.3035, 1.3119]]])
in0Sof29724 = tf.constant([[[[[0.6493, 0.1304], [0.5896, 0.9386]], [[0.4122, 0.1382], [0.5496, 0.409]]], [[[0.7184, 0.2988], [0.1596, 0.3267]], [[0.8094, 0.9414], [0.1162, 0.211]]]]])
in0Con13535 = tf.constant([[0.2837, 0.53, 0.4681, 0.752]])
print (np.array2string(model.predict([in0Add38255,in1Add38255,in0Con21757,in0Max69656,in1Max69656,in0Con75290,in0Up_3757,in0Sof29724,in0Con13535],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Dot85633.png')

LAdd38255 = add_layer([[[[[0.7205]]]], [[[[0.6808]]]]], Add38255), 
LRes7935 = reshape_layer(Add38255, [1, 1], Res7935), 
LFla82876 = flatten_layer(Res7935, Fla82876), 
LCon21757 = concatenate_layer([Fla82876,[[0.2331, 0.5391, 0.6572, 0.4934, 0.2676, 0.1297, 0.6104]]], 1, Con21757), 
LMax69656 = maximum_layer([[[[0.6093], [0.6991]]], [[[0.4555], [0.0374]]]], Max69656), 
LCon75290 = concatenate_layer([Max69656,[[[0.4109, 0.9339, 0.9938], [0.2013, 0.2459, 0.2421]]]], 2, Con75290), 
LUp_3757 = up_sampling1D_layer([[[1.2342, 1.6848, 1.3035, 1.3119]]], 2, Up_3757), 
LMul49496 = multiply_layer([Con75290,Up_3757], Mul49496), 
LFla66108 = flatten_layer(Mul49496, Fla66108), 
LSof29724 = softmax_layer([[[[[0.6493, 0.1304], [0.5896, 0.9386]], [[0.4122, 0.1382], [0.5496, 0.409]]], [[[0.7184, 0.2988], [0.1596, 0.3267]], [[0.8094, 0.9414], [0.1162, 0.211]]]]], 1, Sof29724), 
LRes42832 = reshape_layer(Sof29724, [2, 2, 4], Res42832), 
LGlo46027 = global_average_pooling2D_layer(Res42832, Glo46027), 
LFla12837 = flatten_layer(Glo46027, Fla12837), 
LCon13535 = concatenate_layer([Fla12837,[[0.2837, 0.53, 0.4681, 0.752]]], 1, Con13535), 
LAdd30597 = add_layer([Fla66108,Con13535], Add30597), 
LDot85633 = dot_layer(Con21757,Add30597, 1, 1, Dot85633), 
exec_layers([LAdd38255,LRes7935,LFla82876,LCon21757,LMax69656,LCon75290,LUp_3757,LMul49496,LFla66108,LSof29724,LRes42832,LGlo46027,LFla12837,LCon13535,LAdd30597,LDot85633],["Add38255","Res7935","Fla82876","Con21757","Max69656","Con75290","Up_3757","Mul49496","Fla66108","Sof29724","Res42832","Glo46027","Fla12837","Con13535","Add30597","Dot85633"],Dot85633,"Dot85633")

Actual (Unparsed): [[5.6970569]]

Expected (Unparsed): [[5.697056847442]]

Actual:   [[5.6971]]

Expected: [[5.6971]]