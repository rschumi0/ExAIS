import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Lea52178 = tf.keras.layers.Input(shape=([2, 1, 1]))
in0Mul68514 = tf.keras.layers.Input(shape=([2, 1]))
in1Mul68514 = tf.keras.layers.Input(shape=([2, 1]))
in0Min94579 = tf.keras.layers.Input(shape=([2, 1, 2, 1]))
in1Min94579 = tf.keras.layers.Input(shape=([2, 1, 2, 1]))
in0Dot22638 = tf.keras.layers.Input(shape=([2]))
in1Dot22638 = tf.keras.layers.Input(shape=([2]))
in0Min99022 = tf.keras.layers.Input(shape=([1, 1, 2]))
in1Min99022 = tf.keras.layers.Input(shape=([1, 1, 2]))
in0Min19921 = tf.keras.layers.Input(shape=([2, 1, 2, 1]))
in1Min19921 = tf.keras.layers.Input(shape=([2, 1, 2, 1]))

Lea52178 = keras.layers.LeakyReLU(alpha=8.505686678306605, name = 'Lea52178', input_shape=(2, 1, 1))(in0Lea52178)
Res91839 = keras.layers.Reshape((2, 1), name = 'Res91839', )(Lea52178)
Mul68514 = keras.layers.Multiply(name = 'Mul68514', )([in0Mul68514,in1Mul68514])
Sub50341 = keras.layers.Subtract(name = 'Sub50341', )([Res91839,Mul68514])
Res1875 = keras.layers.Reshape((2, 1, 1), name = 'Res1875', )(Sub50341)
Res4627 = keras.layers.Reshape((2, 1, 1, 1), name = 'Res4627', )(Res1875)
Zer57319 = keras.layers.ZeroPadding3D(padding=((0, 0), (0, 0), (1, 0)), name = 'Zer57319', )(Res4627)
Min94579 = keras.layers.Minimum(name = 'Min94579', )([in0Min94579,in1Min94579])
Dot22638 = keras.layers.Dot(axes=(1, 1), name = 'Dot22638', )([in0Dot22638,in1Dot22638])
Res52173 = keras.layers.Reshape((1, 1), name = 'Res52173', )(Dot22638)
Res45217 = keras.layers.Reshape((1, 1, 1), name = 'Res45217', )(Res52173)
Res32776 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res32776', )(Res45217)
Zer1004 = keras.layers.ZeroPadding3D(padding=((1, 0), (0, 0), (1, 0)), name = 'Zer1004', )(Res32776)
Min99022 = keras.layers.Minimum(name = 'Min99022', )([in0Min99022,in1Min99022])
Res90480 = keras.layers.Reshape((1, 1, 2, 1), name = 'Res90480', )(Min99022)
Zer41844 = keras.layers.ZeroPadding3D(padding=((1, 0), (0, 0), (0, 0)), name = 'Zer41844', )(Res90480)
Min19921 = keras.layers.Minimum(name = 'Min19921', )([in0Min19921,in1Min19921])
Max95315 = keras.layers.Maximum(name = 'Max95315', )([Zer41844,Min19921])
Add63818 = keras.layers.Add(name = 'Add63818', )([Zer1004,Max95315])
Min64698 = keras.layers.Minimum(name = 'Min64698', )([Min94579,Add63818])
Sub54002 = keras.layers.Subtract(name = 'Sub54002', )([Zer57319,Min64698])
model = tf.keras.models.Model(inputs=[in0Lea52178,in0Mul68514,in1Mul68514,in0Min94579,in1Min94579,in0Dot22638,in1Dot22638,in0Min99022,in1Min99022,in0Min19921,in1Min19921], outputs=Sub54002)
in0Lea52178 = tf.constant([[[[0.3936]], [[0.2617]]]])
in0Mul68514 = tf.constant([[[0.4674], [0.344]]])
in1Mul68514 = tf.constant([[[0.7443], [0.2949]]])
in0Min94579 = tf.constant([[[[[0.6495], [0.7734]]], [[[0.6015], [0.3191]]]]])
in1Min94579 = tf.constant([[[[[0.3939], [0.4749]]], [[[0.4041], [0.4148]]]]])
in0Dot22638 = tf.constant([[0.5638, 0.375]])
in1Dot22638 = tf.constant([[0.0039, 0.214]])
in0Min99022 = tf.constant([[[[0.2781, 0.6183]]]])
in1Min99022 = tf.constant([[[[0.7056, 0.6441]]]])
in0Min19921 = tf.constant([[[[[0.9784], [0.0898]]], [[[0.029], [0.3457]]]]])
in1Min19921 = tf.constant([[[[[0.7305], [0.9295]]], [[[0.2404], [0.5021]]]]])
print (np.array2string(model.predict([in0Lea52178,in0Mul68514,in1Mul68514,in0Min94579,in1Min94579,in0Dot22638,in1Dot22638,in0Min99022,in1Min99022,in0Min19921,in1Min19921],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sub54002.png')

LLea52178 = leaky_relu_layer([[[[0.3936]], [[0.2617]]]], 8.505686678306605, Lea52178), 
LRes91839 = reshape_layer(Lea52178, [2, 1], Res91839), 
LMul68514 = multiply_layer([[[[0.4674], [0.344]]], [[[0.7443], [0.2949]]]], Mul68514), 
LSub50341 = subtract_layer(Res91839,Mul68514, Sub50341), 
LRes1875 = reshape_layer(Sub50341, [2, 1, 1], Res1875), 
LRes4627 = reshape_layer(Res1875, [2, 1, 1, 1], Res4627), 
LZer57319 = zero_padding3D_layer(Res4627, 0, 0, 0, 0, 1, 0, Zer57319), 
LMin94579 = minimum_layer([[[[[[0.6495], [0.7734]]], [[[0.6015], [0.3191]]]]], [[[[[0.3939], [0.4749]]], [[[0.4041], [0.4148]]]]]], Min94579), 
LDot22638 = dot_layer([[0.5638, 0.375]], [[0.0039, 0.214]], 1, 1, Dot22638), 
LRes52173 = reshape_layer(Dot22638, [1, 1], Res52173), 
LRes45217 = reshape_layer(Res52173, [1, 1, 1], Res45217), 
LRes32776 = reshape_layer(Res45217, [1, 1, 1, 1], Res32776), 
LZer1004 = zero_padding3D_layer(Res32776, 1, 0, 0, 0, 1, 0, Zer1004), 
LMin99022 = minimum_layer([[[[[0.2781, 0.6183]]]], [[[[0.7056, 0.6441]]]]], Min99022), 
LRes90480 = reshape_layer(Min99022, [1, 1, 2, 1], Res90480), 
LZer41844 = zero_padding3D_layer(Res90480, 1, 0, 0, 0, 0, 0, Zer41844), 
LMin19921 = minimum_layer([[[[[[0.9784], [0.0898]]], [[[0.029], [0.3457]]]]], [[[[[0.7305], [0.9295]]], [[[0.2404], [0.5021]]]]]], Min19921), 
LMax95315 = maximum_layer([Zer41844,Min19921], Max95315), 
LAdd63818 = add_layer([Zer1004,Max95315], Add63818), 
LMin64698 = minimum_layer([Min94579,Add63818], Min64698), 
LSub54002 = subtract_layer(Zer57319,Min64698, Sub54002), 
exec_layers([LLea52178,LRes91839,LMul68514,LSub50341,LRes1875,LRes4627,LZer57319,LMin94579,LDot22638,LRes52173,LRes45217,LRes32776,LZer1004,LMin99022,LRes90480,LZer41844,LMin19921,LMax95315,LAdd63818,LMin64698,LSub54002],["Lea52178","Res91839","Mul68514","Sub50341","Res1875","Res4627","Zer57319","Min94579","Dot22638","Res52173","Res45217","Res32776","Zer1004","Min99022","Res90480","Zer41844","Min19921","Max95315","Add63818","Min64698","Sub54002"],Sub54002,"Sub54002")

Actual (Unparsed): [[[[[-0.3939000], [-0.0440858]]], [[[-0.2781000], [-0.1588456]]]]]

Expected (Unparsed): [[[[[-0.3939],[-0.044085819999999956]]],[[[-0.2781],[-0.1588456]]]]]

Actual:   [[[[[-0.3939], [-0.044]]], [[[-0.2781], [-0.1588]]]]]

Expected: [[[[[-0.3939], [-0.044]]], [[[-0.2781], [-0.1588]]]]]