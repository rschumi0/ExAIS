import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul54692 = tf.keras.layers.Input(shape=([2, 1, 1]))
in1Mul54692 = tf.keras.layers.Input(shape=([2, 1, 1]))

Mul54692 = keras.layers.Multiply(name = 'Mul54692', )([in0Mul54692,in1Mul54692])
ELU92877 = keras.layers.ELU(alpha=3.305729389471761, name = 'ELU92877', )(Mul54692)
Res92303 = keras.layers.Reshape((2, 1, 1, 1), name = 'Res92303', )(ELU92877)
Glo82699 = keras.layers.GlobalAveragePooling3D(name = 'Glo82699', )(Res92303)
Res52669 = keras.layers.Reshape((1, 1), name = 'Res52669', )(Glo82699)
Res8835 = keras.layers.Reshape((1, 1, 1), name = 'Res8835', )(Res52669)
Dep37457 = keras.layers.DepthwiseConv2D((1, 1),strides=(1, 1), padding='same', name = 'Dep37457', )(Res8835)
model = tf.keras.models.Model(inputs=[in0Mul54692,in1Mul54692], outputs=Dep37457)
w = model.get_layer('Dep37457').get_weights() 
w[0] = np.array([[[[0.2966]]]])
w[1] = np.array([0])
model.get_layer('Dep37457').set_weights(w) 
in0Mul54692 = tf.constant([[[[0.8138]], [[0.1692]]]])
in1Mul54692 = tf.constant([[[[0.0294]], [[0.2572]]]])
print (np.array2string(model.predict([in0Mul54692,in1Mul54692],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Dep37457.png')

LMul54692 = multiply_layer([[[[[0.8138]], [[0.1692]]]], [[[[0.0294]], [[0.2572]]]]], Mul54692), 
LELU92877 = elu_layer(Mul54692, 3.305729389471761, ELU92877), 
LRes92303 = reshape_layer(ELU92877, [2, 1, 1, 1], Res92303), 
LGlo82699 = global_average_pooling3D_layer(Res92303, Glo82699), 
LRes52669 = reshape_layer(Glo82699, [1, 1], Res52669), 
LRes8835 = reshape_layer(Res52669, [1, 1, 1], Res8835), 
LDep37457 = depthwise_conv2D_layer(Res8835, 1, 1,[[[[0.2966]]]],[0], 1, 1, true, Dep37457), 
exec_layers([LMul54692,LELU92877,LRes92303,LGlo82699,LRes52669,LRes8835,LDep37457],["Mul54692","ELU92877","Res92303","Glo82699","Res52669","Res8835","Dep37457"],Dep37457,"Dep37457")

Actual (Unparsed): [[[[0.0100019]]]]

Expected (Unparsed): [[[[0.010001939267999999]]]]

Actual:   [[[[0.0101]]]]

Expected: [[[[0.0101]]]]