import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min77948 = tf.keras.layers.Input(shape=([1, 1, 1, 1]))
in1Min77948 = tf.keras.layers.Input(shape=([1, 1, 1, 1]))
in0Con33307 = tf.keras.layers.Input(shape=([1, 1]))
in0Min72914 = tf.keras.layers.Input(shape=([1, 2]))
in1Min72914 = tf.keras.layers.Input(shape=([1, 2]))

Min77948 = keras.layers.Minimum(name = 'Min77948', )([in0Min77948,in1Min77948])
Res46341 = keras.layers.Reshape((1, 1, 1), name = 'Res46341', )(Min77948)
Res56584 = keras.layers.Reshape((1, 1), name = 'Res56584', )(Res46341)
Res48084 = keras.layers.Reshape((1, 1, 1), name = 'Res48084', )(Res56584)
Res78041 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res78041', )(Res48084)
Glo82415 = keras.layers.GlobalAveragePooling3D(name = 'Glo82415', )(Res78041)
Res46566 = keras.layers.Reshape((1, 1), name = 'Res46566', )(Glo82415)
Con33307 = keras.layers.Concatenate(axis=2, name = 'Con33307', )([Res46566,in0Con33307])
Min72914 = keras.layers.Minimum(name = 'Min72914', )([in0Min72914,in1Min72914])
Sub17702 = keras.layers.Subtract(name = 'Sub17702', )([Con33307,Min72914])
model = tf.keras.models.Model(inputs=[in0Min77948,in1Min77948,in0Con33307,in0Min72914,in1Min72914], outputs=Sub17702)
in0Min77948 = tf.constant([[[[[0.4078]]]]])
in1Min77948 = tf.constant([[[[[0.9348]]]]])
in0Con33307 = tf.constant([[[0.9546]]])
in0Min72914 = tf.constant([[[0.9642, 0.5922]]])
in1Min72914 = tf.constant([[[0.0213, 0.6151]]])
print (np.array2string(model.predict([in0Min77948,in1Min77948,in0Con33307,in0Min72914,in1Min72914],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sub17702.png')

LMin77948 = minimum_layer([[[[[[0.4078]]]]], [[[[[0.9348]]]]]], Min77948), 
LRes46341 = reshape_layer(Min77948, [1, 1, 1], Res46341), 
LRes56584 = reshape_layer(Res46341, [1, 1], Res56584), 
LRes48084 = reshape_layer(Res56584, [1, 1, 1], Res48084), 
LRes78041 = reshape_layer(Res48084, [1, 1, 1, 1], Res78041), 
LGlo82415 = global_average_pooling3D_layer(Res78041, Glo82415), 
LRes46566 = reshape_layer(Glo82415, [1, 1], Res46566), 
LCon33307 = concatenate_layer([Res46566,[[[0.9546]]]], 2, Con33307), 
LMin72914 = minimum_layer([[[[0.9642, 0.5922]]], [[[0.0213, 0.6151]]]], Min72914), 
LSub17702 = subtract_layer(Con33307,Min72914, Sub17702), 
exec_layers([LMin77948,LRes46341,LRes56584,LRes48084,LRes78041,LGlo82415,LRes46566,LCon33307,LMin72914,LSub17702],["Min77948","Res46341","Res56584","Res48084","Res78041","Glo82415","Res46566","Con33307","Min72914","Sub17702"],Sub17702,"Sub17702")

Actual (Unparsed): [[[0.3865000, 0.3624000]]]

Expected (Unparsed): [[[0.3865,0.36240000000000006]]]

Actual:   [[[0.3865, 0.3624]]]

Expected: [[[0.3865, 0.3625]]]