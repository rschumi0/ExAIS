import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Con1175 = tf.keras.layers.Input(shape=([1, 2]))
in0ELU96942 = tf.keras.layers.Input(shape=([1, 1]))
in0Min74062 = tf.keras.layers.Input(shape=([2, 1]))
in1Min74062 = tf.keras.layers.Input(shape=([2, 1]))

Con1175 = keras.layers.Conv1D(4, (1),strides=(1), padding='same', dilation_rate=(1), name = 'Con1175', )(in0Con1175)
ELU96942 = keras.layers.ELU(alpha=0.660148135871772, name = 'ELU96942', input_shape=(1, 1))(in0ELU96942)
Dot79326 = keras.layers.Dot(axes=(1, 1), name = 'Dot79326', )([Con1175,ELU96942])
Min74062 = keras.layers.Minimum(name = 'Min74062', )([in0Min74062,in1Min74062])
Zer73932 = keras.layers.ZeroPadding1D(padding=((2, 0)), name = 'Zer73932', )(Min74062)
Sub96336 = keras.layers.Subtract(name = 'Sub96336', )([Dot79326,Zer73932])
Lay27801 = keras.layers.LayerNormalization(axis=1, epsilon=1.8360160247954875, name = 'Lay27801', )(Sub96336)
model = tf.keras.models.Model(inputs=[in0Con1175,in0ELU96942,in0Min74062,in1Min74062], outputs=Lay27801)
w = model.get_layer('Con1175').get_weights() 
w[0] = np.array([[[0.8555, 0.3626, 0.1234, 0.5419], [0.0295, 0.3809, 0.3618, 0.2251]]])
w[1] = np.array([0, 0, 0, 0])
model.get_layer('Con1175').set_weights(w) 
in0Con1175 = tf.constant([[[0.4376, 0.6103]]])
in0ELU96942 = tf.constant([[[0.4225]]])
in0Min74062 = tf.constant([[[0.47], [0.3916]]])
in1Min74062 = tf.constant([[[0.1485], [0.7209]]])
print (np.array2string(model.predict([in0Con1175,in0ELU96942,in0Min74062,in1Min74062],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Lay27801.png')

LCon1175 = conv1D_layer([[[0.4376, 0.6103]]], 1,[[[0.8555, 0.3626, 0.1234, 0.5419], [0.0295, 0.3809, 0.3618, 0.2251]]],[0, 0, 0, 0], 1, true, 1, Con1175), 
LELU96942 = elu_layer([[[0.4225]]], 0.660148135871772, ELU96942), 
LDot79326 = dot_layer(Con1175,ELU96942, 1, 1, Dot79326), 
LMin74062 = minimum_layer([[[[0.47], [0.3916]]], [[[0.1485], [0.7209]]]], Min74062), 
LZer73932 = zero_padding1D_layer(Min74062, 2, 0, Zer73932), 
LSub96336 = subtract_layer(Dot79326,Zer73932, Sub96336), 
LLay27801 = layer_normalization_layer(Sub96336, 1, 1.8360160247954875, Lay27801), 
exec_layers([LCon1175,LELU96942,LDot79326,LMin74062,LZer73932,LSub96336,LLay27801],["Con1175","ELU96942","Dot79326","Min74062","Zer73932","Sub96336","Lay27801"],Lay27801,"Lay27801")

Actual (Unparsed): [[[0.1094909], [0.1091091], [-0.0356853], [-0.1829147]]]

Expected (Unparsed): [[[0.10949093482566641],[0.1091091103158751],[-0.035685316649799896],[-0.18291472849174162]]]

Actual:   [[[0.1095], [0.1092], [-0.0356], [-0.1829]]]

Expected: [[[0.1095], [0.1092], [-0.0356], [-0.1829]]]