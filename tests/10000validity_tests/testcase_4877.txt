import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sep45703 = tf.keras.layers.Input(shape=([2, 1]))

Sep45703 = keras.layers.SeparableConv1D(2, (2),strides=(2), padding='same', name = 'Sep45703', )(in0Sep45703)
Thr52174 = keras.layers.ThresholdedReLU(theta=4.548751330088013, name = 'Thr52174', )(Sep45703)
Res99160 = keras.layers.Reshape((1, 2, 1), name = 'Res99160', )(Thr52174)
Res16706 = keras.layers.Reshape((1, 2, 1, 1), name = 'Res16706', )(Res99160)
Glo73231 = keras.layers.GlobalAveragePooling3D(name = 'Glo73231', )(Res16706)
model = tf.keras.models.Model(inputs=[in0Sep45703], outputs=Glo73231)
w = model.get_layer('Sep45703').get_weights() 
w[0] = np.array([[[0.2539]], [[0.1851]]])
w[1] = np.array([[[0.2762, 0.7976]]])
w[2] = np.array([0, 0])
model.get_layer('Sep45703').set_weights(w) 
in0Sep45703 = tf.constant([[[0.7782], [0.3139]]])
print (np.array2string(model.predict([in0Sep45703],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo73231.png')

LSep45703 = separable_conv1D_layer([[[0.7782], [0.3139]]], 2,[[[[0.2539]], [[0.1851]]],[[[0.2762, 0.7976]]]],[0, 0], 2, true, Sep45703), 
LThr52174 = thresholded_relu_layer(Sep45703, 4.548751330088013, Thr52174), 
LRes99160 = reshape_layer(Thr52174, [1, 2, 1], Res99160), 
LRes16706 = reshape_layer(Res99160, [1, 2, 1, 1], Res16706), 
LGlo73231 = global_average_pooling3D_layer(Res16706, Glo73231), 
exec_layers([LSep45703,LThr52174,LRes99160,LRes16706,LGlo73231],["Sep45703","Thr52174","Res99160","Res16706","Glo73231"],Glo73231,"Glo73231")

Actual (Unparsed): [[0.0000000]]

Expected (Unparsed): [[0]]

Actual:   [[0]]

Expected: [[0]]