import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add81584 = tf.keras.layers.Input(shape=([1, 2]))
in1Add81584 = tf.keras.layers.Input(shape=([1, 2]))
in0Con15297 = tf.keras.layers.Input(shape=([1, 2, 2, 1]))
in0Min74584 = tf.keras.layers.Input(shape=([1, 2, 2, 2]))
in1Min74584 = tf.keras.layers.Input(shape=([1, 2, 2, 2]))

Add81584 = keras.layers.Add(name = 'Add81584', )([in0Add81584,in1Add81584])
Res72806 = keras.layers.Reshape((1, 2, 1), name = 'Res72806', )(Add81584)
Res19348 = keras.layers.Reshape((1, 2, 1, 1), name = 'Res19348', )(Res72806)
Zer49742 = keras.layers.ZeroPadding3D(padding=((0, 0), (0, 0), (1, 0)), name = 'Zer49742', )(Res19348)
Con15297 = keras.layers.Concatenate(axis=4, name = 'Con15297', )([Zer49742,in0Con15297])
Min74584 = keras.layers.Minimum(name = 'Min74584', )([in0Min74584,in1Min74584])
Ave32138 = keras.layers.Average(name = 'Ave32138', )([Con15297,Min74584])
Res32281 = keras.layers.Reshape((1, 2, 4), name = 'Res32281', )(Ave32138)
Res85026 = keras.layers.Reshape((1, 8), name = 'Res85026', )(Res32281)
Glo73566 = keras.layers.GlobalMaxPool1D(name = 'Glo73566', )(Res85026)
model = tf.keras.models.Model(inputs=[in0Add81584,in1Add81584,in0Con15297,in0Min74584,in1Min74584], outputs=Glo73566)
in0Add81584 = tf.constant([[[0.9546, 0.8511]]])
in1Add81584 = tf.constant([[[0.5252, 0.724]]])
in0Con15297 = tf.constant([[[[[0.7212], [0.4204]], [[0.3003], [0.2921]]]]])
in0Min74584 = tf.constant([[[[[0.9342, 0.0445], [0.4274, 0.7992]], [[0.0549, 0.4682], [0.6829, 0.6684]]]]])
in1Min74584 = tf.constant([[[[[0.0378, 0.438], [0.6482, 0.6329]], [[0.0911, 0.6392], [0.6371, 0.5066]]]]])
print (np.array2string(model.predict([in0Add81584,in1Add81584,in0Con15297,in0Min74584,in1Min74584],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo73566.png')

LAdd81584 = add_layer([[[[0.9546, 0.8511]]], [[[0.5252, 0.724]]]], Add81584), 
LRes72806 = reshape_layer(Add81584, [1, 2, 1], Res72806), 
LRes19348 = reshape_layer(Res72806, [1, 2, 1, 1], Res19348), 
LZer49742 = zero_padding3D_layer(Res19348, 0, 0, 0, 0, 1, 0, Zer49742), 
LCon15297 = concatenate_layer([Zer49742,[[[[[0.7212], [0.4204]], [[0.3003], [0.2921]]]]]], 4, Con15297), 
LMin74584 = minimum_layer([[[[[[0.9342, 0.0445], [0.4274, 0.7992]], [[0.0549, 0.4682], [0.6829, 0.6684]]]]], [[[[[0.0378, 0.438], [0.6482, 0.6329]], [[0.0911, 0.6392], [0.6371, 0.5066]]]]]], Min74584), 
LAve32138 = average_layer([Con15297,Min74584], Ave32138), 
LRes32281 = reshape_layer(Ave32138, [1, 2, 4], Res32281), 
LRes85026 = reshape_layer(Res32281, [1, 8], Res85026), 
LGlo73566 = global_max_pool1D_layer(Res85026, Glo73566), 
exec_layers([LAdd81584,LRes72806,LRes19348,LZer49742,LCon15297,LMin74584,LAve32138,LRes32281,LRes85026,LGlo73566],["Add81584","Res72806","Res19348","Zer49742","Con15297","Min74584","Ave32138","Res32281","Res85026","Glo73566"],Glo73566,"Glo73566")

Actual (Unparsed): [[0.0189000, 0.3828500, 0.9536000, 0.5266500, 0.0274500, 0.3842500, 1.1061000, 0.3993500]]

Expected (Unparsed): [[0.0189,0.38284999999999997,0.9536,0.5266500000000001,0.02745,0.38425,1.1061,0.39935000000000004]]

Actual:   [[0.0189, 0.3829, 0.9536, 0.5267, 0.0275, 0.3843, 1.1061, 0.3994]]

Expected: [[0.0189, 0.3829, 0.9536, 0.5267, 0.0275, 0.3843, 1.1061, 0.3994]]