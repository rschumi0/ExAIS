import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo31040 = tf.keras.layers.Input(shape=([1, 2, 2]))
in0Con46598 = tf.keras.layers.Input(shape=([2, 1]))
in0Glo47626 = tf.keras.layers.Input(shape=([1, 1, 2]))
in0Min16367 = tf.keras.layers.Input(shape=([2, 1]))
in1Min16367 = tf.keras.layers.Input(shape=([2, 1]))
in0Con17610 = tf.keras.layers.Input(shape=([2, 1]))
in0Dot17224 = tf.keras.layers.Input(shape=([2, 3]))
in1Dot17224 = tf.keras.layers.Input(shape=([2, 3]))
in0Max89162 = tf.keras.layers.Input(shape=([1, 2]))
in1Max89162 = tf.keras.layers.Input(shape=([1, 2]))

Glo31040 = keras.layers.GlobalAveragePooling2D(name = 'Glo31040', )(in0Glo31040)
Res83437 = keras.layers.Reshape((2, 1), name = 'Res83437', )(Glo31040)
Con46598 = keras.layers.Concatenate(axis=2, name = 'Con46598', )([Res83437,in0Con46598])
Glo47626 = keras.layers.GlobalMaxPool2D(name = 'Glo47626', )(in0Glo47626)
Res239 = keras.layers.Reshape((2, 1), name = 'Res239', )(Glo47626)
Min16367 = keras.layers.Minimum(name = 'Min16367', )([in0Min16367,in1Min16367])
Ave81796 = keras.layers.Average(name = 'Ave81796', )([Res239,Min16367])
Con17610 = keras.layers.Concatenate(axis=2, name = 'Con17610', )([Ave81796,in0Con17610])
Dot17224 = keras.layers.Dot(axes=(2, 2), name = 'Dot17224', )([in0Dot17224,in1Dot17224])
Ave18988 = keras.layers.Average(name = 'Ave18988', )([Con17610,Dot17224])
Dot6561 = keras.layers.Dot(axes=(2, 2), name = 'Dot6561', )([Con46598,Ave18988])
Max89162 = keras.layers.Maximum(name = 'Max89162', )([in0Max89162,in1Max89162])
Zer82203 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer82203', )(Max89162)
Min41594 = keras.layers.Minimum(name = 'Min41594', )([Dot6561,Zer82203])
model = tf.keras.models.Model(inputs=[in0Glo31040,in0Con46598,in0Glo47626,in0Min16367,in1Min16367,in0Con17610,in0Dot17224,in1Dot17224,in0Max89162,in1Max89162], outputs=Min41594)
in0Glo31040 = tf.constant([[[[1.1233, 1.7482], [1.1067, 1.5082]]]])
in0Con46598 = tf.constant([[[0.2344], [0.3155]]])
in0Glo47626 = tf.constant([[[[1.7946, 1.7167]]]])
in0Min16367 = tf.constant([[[0.1665], [0.642]]])
in1Min16367 = tf.constant([[[0.202], [0.6407]]])
in0Con17610 = tf.constant([[[0.2901], [0.7185]]])
in0Dot17224 = tf.constant([[[0.3394, 0.7677, 0.5506], [0.4948, 0.741, 0.2615]]])
in1Dot17224 = tf.constant([[[0.9358, 0.5768, 0.6567], [0.3542, 0.6933, 0.4005]]])
in0Max89162 = tf.constant([[[0.1857, 0.8644]]])
in1Max89162 = tf.constant([[[0.2516, 0.568]]])
print (np.array2string(model.predict([in0Glo31040,in0Con46598,in0Glo47626,in0Min16367,in1Min16367,in0Con17610,in0Dot17224,in1Dot17224,in0Max89162,in1Max89162],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min41594.png')

LGlo31040 = global_average_pooling2D_layer([[[[1.1233, 1.7482], [1.1067, 1.5082]]]], Glo31040), 
LRes83437 = reshape_layer(Glo31040, [2, 1], Res83437), 
LCon46598 = concatenate_layer([Res83437,[[[0.2344], [0.3155]]]], 2, Con46598), 
LGlo47626 = global_max_pool2D_layer([[[[1.7946, 1.7167]]]], Glo47626), 
LRes239 = reshape_layer(Glo47626, [2, 1], Res239), 
LMin16367 = minimum_layer([[[[0.1665], [0.642]]], [[[0.202], [0.6407]]]], Min16367), 
LAve81796 = average_layer([Res239,Min16367], Ave81796), 
LCon17610 = concatenate_layer([Ave81796,[[[0.2901], [0.7185]]]], 2, Con17610), 
LDot17224 = dot_layer([[[0.3394, 0.7677, 0.5506], [0.4948, 0.741, 0.2615]]], [[[0.9358, 0.5768, 0.6567], [0.3542, 0.6933, 0.4005]]], 2, 2, Dot17224), 
LAve18988 = average_layer([Con17610,Dot17224], Ave18988), 
LDot6561 = dot_layer(Con46598,Ave18988, 2, 2, Dot6561), 
LMax89162 = maximum_layer([[[[0.1857, 0.8644]]], [[[0.2516, 0.568]]]], Max89162), 
LZer82203 = zero_padding1D_layer(Max89162, 1, 0, Zer82203), 
LMin41594 = minimum_layer([Dot6561,Zer82203], Min41594), 
exec_layers([LGlo31040,LRes83437,LCon46598,LGlo47626,LRes239,LMin16367,LAve81796,LCon17610,LDot17224,LAve18988,LDot6561,LMax89162,LZer82203,LMin41594],["Glo31040","Res83437","Con46598","Glo47626","Res239","Min16367","Ave81796","Con17610","Dot17224","Ave18988","Dot6561","Max89162","Zer82203","Min41594"],Min41594,"Min41594")

Actual (Unparsed): [[[0.0000000, 0.0000000], [0.2516000, 0.8644000]]]

Expected (Unparsed): [[[0,0],[0.2516,0.8644]]]

Actual:   [[[0, 0], [0.2516, 0.8644]]]

Expected: [[[0, 0], [0.2516, 0.8644]]]