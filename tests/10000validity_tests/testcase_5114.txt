import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min10036 = tf.keras.layers.Input(shape=([1, 1]))
in1Min10036 = tf.keras.layers.Input(shape=([1, 1]))

Min10036 = keras.layers.Minimum(name = 'Min10036', )([in0Min10036,in1Min10036])
Res76845 = keras.layers.Reshape((1, 1, 1), name = 'Res76845', )(Min10036)
Sep81749 = keras.layers.SeparableConv2D(4, (1, 1),strides=(1, 1), padding='same', name = 'Sep81749', )(Res76845)
Res61441 = keras.layers.Reshape((1, 4), name = 'Res61441', )(Sep81749)
Res84640 = keras.layers.Reshape((1, 4, 1), name = 'Res84640', )(Res61441)
Glo46732 = keras.layers.GlobalAveragePooling2D(name = 'Glo46732', )(Res84640)
model = tf.keras.models.Model(inputs=[in0Min10036,in1Min10036], outputs=Glo46732)
w = model.get_layer('Sep81749').get_weights() 
w[0] = np.array([[[[0.4036]]]])
w[1] = np.array([[[[0.6359, 0.6465, 0.6482, 0.1612]]]])
w[2] = np.array([0, 0, 0, 0])
model.get_layer('Sep81749').set_weights(w) 
in0Min10036 = tf.constant([[[0.7421]]])
in1Min10036 = tf.constant([[[0.7418]]])
print (np.array2string(model.predict([in0Min10036,in1Min10036],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo46732.png')

LMin10036 = minimum_layer([[[[0.7421]]], [[[0.7418]]]], Min10036), 
LRes76845 = reshape_layer(Min10036, [1, 1, 1], Res76845), 
LSep81749 = separable_conv2D_layer(Res76845, 1, 1,[[[[[0.4036]]]],[[[[0.6359, 0.6465, 0.6482, 0.1612]]]]],[0, 0, 0, 0], 1, 1, true, Sep81749), 
LRes61441 = reshape_layer(Sep81749, [1, 4], Res61441), 
LRes84640 = reshape_layer(Res61441, [1, 4, 1], Res84640), 
LGlo46732 = global_average_pooling2D_layer(Res84640, Glo46732), 
exec_layers([LMin10036,LRes76845,LSep81749,LRes61441,LRes84640,LGlo46732],["Min10036","Res76845","Sep81749","Res61441","Res84640","Glo46732"],Glo46732,"Glo46732")

Actual (Unparsed): [[0.1565663]]

Expected (Unparsed): [[0.156566251516]]

Actual:   [[0.1566]]

Expected: [[0.1566]]