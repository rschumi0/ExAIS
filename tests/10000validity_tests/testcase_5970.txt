import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub71795 = tf.keras.layers.Input(shape=([2]))
in1Sub71795 = tf.keras.layers.Input(shape=([2]))
in0Con21338 = tf.keras.layers.Input(shape=([2, 1]))
in0Min93362 = tf.keras.layers.Input(shape=([2, 2]))
in1Min93362 = tf.keras.layers.Input(shape=([2, 2]))

Sub71795 = keras.layers.Subtract(name = 'Sub71795', )([in0Sub71795,in1Sub71795])
Res23691 = keras.layers.Reshape((2, 1), name = 'Res23691', )(Sub71795)
Con21338 = keras.layers.Concatenate(axis=2, name = 'Con21338', )([Res23691,in0Con21338])
Min93362 = keras.layers.Minimum(name = 'Min93362', )([in0Min93362,in1Min93362])
Add13781 = keras.layers.Add(name = 'Add13781', )([Con21338,Min93362])
Glo86430 = keras.layers.GlobalAveragePooling1D(name = 'Glo86430', )(Add13781)
model = tf.keras.models.Model(inputs=[in0Sub71795,in1Sub71795,in0Con21338,in0Min93362,in1Min93362], outputs=Glo86430)
in0Sub71795 = tf.constant([[0.2699, 0.8256]])
in1Sub71795 = tf.constant([[0.4575, 0.696]])
in0Con21338 = tf.constant([[[0.9415], [0.6217]]])
in0Min93362 = tf.constant([[[0.4961, 0.4942], [0.8349, 0.0288]]])
in1Min93362 = tf.constant([[[0.2758, 0.0373], [0.0614, 0.3348]]])
print (np.array2string(model.predict([in0Sub71795,in1Sub71795,in0Con21338,in0Min93362,in1Min93362],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo86430.png')

LSub71795 = subtract_layer([[0.2699, 0.8256]], [[0.4575, 0.696]], Sub71795), 
LRes23691 = reshape_layer(Sub71795, [2, 1], Res23691), 
LCon21338 = concatenate_layer([Res23691,[[[0.9415], [0.6217]]]], 2, Con21338), 
LMin93362 = minimum_layer([[[[0.4961, 0.4942], [0.8349, 0.0288]]], [[[0.2758, 0.0373], [0.0614, 0.3348]]]], Min93362), 
LAdd13781 = add_layer([Con21338,Min93362], Add13781), 
LGlo86430 = global_average_pooling1D_layer(Add13781, Glo86430), 
exec_layers([LSub71795,LRes23691,LCon21338,LMin93362,LAdd13781,LGlo86430],["Sub71795","Res23691","Con21338","Min93362","Add13781","Glo86430"],Glo86430,"Glo86430")

Actual (Unparsed): [[0.1396000, 0.8146500]]

Expected (Unparsed): [[0.1396,0.8146500000000001]]

Actual:   [[0.1396, 0.8147]]

Expected: [[0.1396, 0.8147]]