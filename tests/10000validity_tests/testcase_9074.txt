import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub19518 = tf.keras.layers.Input(shape=([2, 3]))
in1Sub19518 = tf.keras.layers.Input(shape=([2, 3]))
in0Con97810 = tf.keras.layers.Input(shape=([2, 3, 1]))
in0Add55017 = tf.keras.layers.Input(shape=([1, 2, 2]))
in1Add55017 = tf.keras.layers.Input(shape=([1, 2, 2]))

Sub19518 = keras.layers.Subtract(name = 'Sub19518', )([in0Sub19518,in1Sub19518])
Res81096 = keras.layers.Reshape((2, 3, 1), name = 'Res81096', )(Sub19518)
Con97810 = keras.layers.Concatenate(axis=3, name = 'Con97810', )([Res81096,in0Con97810])
Add55017 = keras.layers.Add(name = 'Add55017', )([in0Add55017,in1Add55017])
Zer3122 = keras.layers.ZeroPadding2D(padding=((1, 0), (1, 0)), name = 'Zer3122', )(Add55017)
Mul4525 = keras.layers.Multiply(name = 'Mul4525', )([Con97810,Zer3122])
Up_58084 = keras.layers.UpSampling2D(size=(1, 1), name = 'Up_58084', )(Mul4525)
model = tf.keras.models.Model(inputs=[in0Sub19518,in1Sub19518,in0Con97810,in0Add55017,in1Add55017], outputs=Up_58084)
in0Sub19518 = tf.constant([[[0.8436, 0.51, 0.2954], [0.9071, 0.0566, 0.0448]]])
in1Sub19518 = tf.constant([[[0.8051, 0.6048, 0.2383], [0.6797, 0.9303, 0.2635]]])
in0Con97810 = tf.constant([[[[0.831], [0.0972], [0.1857]], [[0.8603], [0.1752], [0.1649]]]])
in0Add55017 = tf.constant([[[[0.6389, 0.3692], [0.2847, 0.4428]]]])
in1Add55017 = tf.constant([[[[0.2253, 0.8668], [0.1451, 0.8359]]]])
print (np.array2string(model.predict([in0Sub19518,in1Sub19518,in0Con97810,in0Add55017,in1Add55017],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Up_58084.png')

LSub19518 = subtract_layer([[[0.8436, 0.51, 0.2954], [0.9071, 0.0566, 0.0448]]], [[[0.8051, 0.6048, 0.2383], [0.6797, 0.9303, 0.2635]]], Sub19518), 
LRes81096 = reshape_layer(Sub19518, [2, 3, 1], Res81096), 
LCon97810 = concatenate_layer([Res81096,[[[[0.831], [0.0972], [0.1857]], [[0.8603], [0.1752], [0.1649]]]]], 3, Con97810), 
LAdd55017 = add_layer([[[[[0.6389, 0.3692], [0.2847, 0.4428]]]], [[[[0.2253, 0.8668], [0.1451, 0.8359]]]]], Add55017), 
LZer3122 = zero_padding2D_layer(Add55017, 1, 0, 1, 0, Zer3122), 
LMul4525 = multiply_layer([Con97810,Zer3122], Mul4525), 
LUp_58084 = up_sampling2D_layer(Mul4525, 1, 1, Up_58084), 
exec_layers([LSub19518,LRes81096,LCon97810,LAdd55017,LZer3122,LMul4525,LUp_58084],["Sub19518","Res81096","Con97810","Add55017","Zer3122","Mul4525","Up_58084"],Up_58084,"Up_58084")

Actual (Unparsed): [[[[0.0000000, 0.0000000], [-0.0000000, 0.0000000], [0.0000000, 0.0000000]], [[0.0000000, 0.0000000], [-0.7550515, 0.2165472], [-0.0939973, 0.2108576]]]]

Expected (Unparsed): [[[[0.0,0.0],[-0.0,0.0],[0.0,0.0]],[[0.0,0.0],[-0.7550515400000001,0.2165472],[-0.09399726,0.21085763]]]]

Actual:   [[[[0, 0], [-0, 0], [0, 0]], [[0, 0], [-0.755, 0.2166], [-0.0939, 0.2109]]]]

Expected: [[[[0, 0], [-0, 0], [0, 0]], [[0, 0], [-0.755, 0.2166], [-0.0939, 0.2109]]]]