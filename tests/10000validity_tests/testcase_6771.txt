import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo15742 = tf.keras.layers.Input(shape=([1, 2]))

Glo15742 = keras.layers.GlobalAveragePooling1D(name = 'Glo15742', )(in0Glo15742)
Res80556 = keras.layers.Reshape((2, 1), name = 'Res80556', )(Glo15742)
Glo54190 = keras.layers.GlobalMaxPool1D(name = 'Glo54190', )(Res80556)
Den31218 = keras.layers.Dense(1,name = 'Den31218', )(Glo54190)
model = tf.keras.models.Model(inputs=[in0Glo15742], outputs=Den31218)
w = model.get_layer('Den31218').get_weights() 
w[0] = np.array([[0.5694]])
w[1] = np.array([0.4657])
model.get_layer('Den31218').set_weights(w) 
in0Glo15742 = tf.constant([[[1.5013, 1.3762]]])
print (np.array2string(model.predict([in0Glo15742],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Den31218.png')

LGlo15742 = global_average_pooling1D_layer([[[1.5013, 1.3762]]], Glo15742), 
LRes80556 = reshape_layer(Glo15742, [2, 1], Res80556), 
LGlo54190 = global_max_pool1D_layer(Res80556, Glo54190), 
LDen31218 = dense_layer(Glo54190, [[0.5694]],[0.4657], Den31218), 
exec_layers([LGlo15742,LRes80556,LGlo54190,LDen31218],["Glo15742","Res80556","Glo54190","Den31218"],Den31218,"Den31218")

Actual (Unparsed): [[1.3205402]]

Expected (Unparsed): [[1.32054022]]

Actual:   [[1.3206]]

Expected: [[1.3206]]