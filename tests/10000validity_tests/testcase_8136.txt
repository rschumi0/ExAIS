import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave83817 = tf.keras.layers.Input(shape=([2, 2]))
in1Ave83817 = tf.keras.layers.Input(shape=([2, 2]))

Ave83817 = keras.layers.Average(name = 'Ave83817', )([in0Ave83817,in1Ave83817])
Res69879 = keras.layers.Reshape((2, 2, 1), name = 'Res69879', )(Ave83817)
Up_68360 = keras.layers.UpSampling2D(size=(2, 2), name = 'Up_68360', )(Res69879)
model = tf.keras.models.Model(inputs=[in0Ave83817,in1Ave83817], outputs=Up_68360)
in0Ave83817 = tf.constant([[[0.2666, 0.3466], [0.7649, 0.454]]])
in1Ave83817 = tf.constant([[[0.4564, 0.2171], [0.8071, 0.2843]]])
print (np.array2string(model.predict([in0Ave83817,in1Ave83817],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Up_68360.png')

LAve83817 = average_layer([[[[0.2666, 0.3466], [0.7649, 0.454]]], [[[0.4564, 0.2171], [0.8071, 0.2843]]]], Ave83817), 
LRes69879 = reshape_layer(Ave83817, [2, 2, 1], Res69879), 
LUp_68360 = up_sampling2D_layer(Res69879, 2, 2, Up_68360), 
exec_layers([LAve83817,LRes69879,LUp_68360],["Ave83817","Res69879","Up_68360"],Up_68360,"Up_68360")

Actual (Unparsed): [[[[0.3615000], [0.3615000], [0.2818500], [0.2818500]], [[0.3615000], [0.3615000], [0.2818500], [0.2818500]], [[0.7860000], [0.7860000], [0.3691500], [0.3691500]], [[0.7860000], [0.7860000], [0.3691500], [0.3691500]]]]

Expected (Unparsed): [[[[0.3615],[0.3615],[0.28185],[0.28185]],[[0.3615],[0.3615],[0.28185],[0.28185]],[[0.786],[0.786],[0.36915],[0.36915]],[[0.786],[0.786],[0.36915],[0.36915]]]]

Actual:   [[[[0.3615], [0.3615], [0.2819], [0.2819]], [[0.3615], [0.3615], [0.2819], [0.2819]], [[0.786], [0.786], [0.3692], [0.3692]], [[0.786], [0.786], [0.3692], [0.3692]]]]

Expected: [[[[0.3615], [0.3615], [0.2819], [0.2819]], [[0.3615], [0.3615], [0.2819], [0.2819]], [[0.786], [0.786], [0.3692], [0.3692]], [[0.786], [0.786], [0.3692], [0.3692]]]]