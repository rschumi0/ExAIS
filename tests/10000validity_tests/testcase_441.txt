import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul46286 = tf.keras.layers.Input(shape=([1, 1, 1, 2]))
in1Mul46286 = tf.keras.layers.Input(shape=([1, 1, 1, 2]))
in0Add47546 = tf.keras.layers.Input(shape=([2, 2]))
in1Add47546 = tf.keras.layers.Input(shape=([2, 2]))

Mul46286 = keras.layers.Multiply(name = 'Mul46286', )([in0Mul46286,in1Mul46286])
Res64793 = keras.layers.Reshape((1, 1, 2), name = 'Res64793', )(Mul46286)
Res95206 = keras.layers.Reshape((1, 2), name = 'Res95206', )(Res64793)
Max32854 = keras.layers.MaxPool1D(pool_size=(1), name = 'Max32854', )(Res95206)
Add47546 = keras.layers.Add(name = 'Add47546', )([in0Add47546,in1Add47546])
Zer70756 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer70756', )(Add47546)
Dot15299 = keras.layers.Dot(axes=(2, 2), name = 'Dot15299', )([Max32854,Zer70756])
model = tf.keras.models.Model(inputs=[in0Mul46286,in1Mul46286,in0Add47546,in1Add47546], outputs=Dot15299)
in0Mul46286 = tf.constant([[[[[0.509, 0.7473]]]]])
in1Mul46286 = tf.constant([[[[[0.6347, 0.1425]]]]])
in0Add47546 = tf.constant([[[0.4156, 0.6682], [0.4987, 0.0901]]])
in1Add47546 = tf.constant([[[0.6109, 0.948], [0.9263, 0.8485]]])
print (np.array2string(model.predict([in0Mul46286,in1Mul46286,in0Add47546,in1Add47546],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Dot15299.png')

LMul46286 = multiply_layer([[[[[[0.509, 0.7473]]]]], [[[[[0.6347, 0.1425]]]]]], Mul46286), 
LRes64793 = reshape_layer(Mul46286, [1, 1, 2], Res64793), 
LRes95206 = reshape_layer(Res64793, [1, 2], Res95206), 
LMax32854 = max_pool1D_layer(Res95206, 1, Max32854), 
LAdd47546 = add_layer([[[[0.4156, 0.6682], [0.4987, 0.0901]]], [[[0.6109, 0.948], [0.9263, 0.8485]]]], Add47546), 
LZer70756 = zero_padding1D_layer(Add47546, 1, 0, Zer70756), 
LDot15299 = dot_layer(Max32854,Zer70756, 2, 2, Dot15299), 
exec_layers([LMul46286,LRes64793,LRes95206,LMax32854,LAdd47546,LZer70756,LDot15299],["Mul46286","Res64793","Res95206","Max32854","Add47546","Zer70756","Dot15299"],Dot15299,"Dot15299")

Actual (Unparsed): [[[0.0000000, 0.5037330, 0.5603155]]]

Expected (Unparsed): [[[0.0,0.503732993,0.56031552615]]]

Actual:   [[[0, 0.5038, 0.5604]]]

Expected: [[[0, 0.5038, 0.5604]]]