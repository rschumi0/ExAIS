import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max67889 = tf.keras.layers.Input(shape=([1, 2, 2]))
in1Max67889 = tf.keras.layers.Input(shape=([1, 2, 2]))
in0Sub49680 = tf.keras.layers.Input(shape=([3]))
in1Sub49680 = tf.keras.layers.Input(shape=([3]))
in0Con67850 = tf.keras.layers.Input(shape=([1]))

Max67889 = keras.layers.Maximum(name = 'Max67889', )([in0Max67889,in1Max67889])
Res80452 = keras.layers.Reshape((1, 4), name = 'Res80452', )(Max67889)
Fla81341 = keras.layers.Flatten(name = 'Fla81341', )(Res80452)
Sub49680 = keras.layers.Subtract(name = 'Sub49680', )([in0Sub49680,in1Sub49680])
Con67850 = keras.layers.Concatenate(axis=1, name = 'Con67850', )([Sub49680,in0Con67850])
Min35275 = keras.layers.Minimum(name = 'Min35275', )([Fla81341,Con67850])
Res63261 = keras.layers.Reshape((4, 1), name = 'Res63261', )(Min35275)
Glo58056 = keras.layers.GlobalAveragePooling1D(name = 'Glo58056', )(Res63261)
model = tf.keras.models.Model(inputs=[in0Max67889,in1Max67889,in0Sub49680,in1Sub49680,in0Con67850], outputs=Glo58056)
in0Max67889 = tf.constant([[[[0.0414, 0.9036], [0.3946, 0.9582]]]])
in1Max67889 = tf.constant([[[[0.512, 0.6923], [0.7937, 0.7056]]]])
in0Sub49680 = tf.constant([[0.3366, 0.9646, 0.4549]])
in1Sub49680 = tf.constant([[0.6118, 0.1851, 0.1719]])
in0Con67850 = tf.constant([[0.3891]])
print (np.array2string(model.predict([in0Max67889,in1Max67889,in0Sub49680,in1Sub49680,in0Con67850],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo58056.png')

LMax67889 = maximum_layer([[[[[0.0414, 0.9036], [0.3946, 0.9582]]]], [[[[0.512, 0.6923], [0.7937, 0.7056]]]]], Max67889), 
LRes80452 = reshape_layer(Max67889, [1, 4], Res80452), 
LFla81341 = flatten_layer(Res80452, Fla81341), 
LSub49680 = subtract_layer([[0.3366, 0.9646, 0.4549]], [[0.6118, 0.1851, 0.1719]], Sub49680), 
LCon67850 = concatenate_layer([Sub49680,[[0.3891]]], 1, Con67850), 
LMin35275 = minimum_layer([Fla81341,Con67850], Min35275), 
LRes63261 = reshape_layer(Min35275, [4, 1], Res63261), 
LGlo58056 = global_average_pooling1D_layer(Res63261, Glo58056), 
exec_layers([LMax67889,LRes80452,LFla81341,LSub49680,LCon67850,LMin35275,LRes63261,LGlo58056],["Max67889","Res80452","Fla81341","Sub49680","Con67850","Min35275","Res63261","Glo58056"],Glo58056,"Glo58056")

Actual (Unparsed): [[0.2941000]]

Expected (Unparsed): [[0.29410000000000003]]

Actual:   [[0.2941]]

Expected: [[0.2942]]