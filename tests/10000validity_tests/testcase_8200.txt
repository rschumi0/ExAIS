import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub18074 = tf.keras.layers.Input(shape=([2]))
in1Sub18074 = tf.keras.layers.Input(shape=([2]))
in0Dot44310 = tf.keras.layers.Input(shape=([2]))
in1Dot44310 = tf.keras.layers.Input(shape=([2]))

Sub18074 = keras.layers.Subtract(name = 'Sub18074', )([in0Sub18074,in1Sub18074])
Res13976 = keras.layers.Reshape((2, 1), name = 'Res13976', )(Sub18074)
Res25829 = keras.layers.Reshape((2, 1, 1), name = 'Res25829', )(Res13976)
Cro11237 = keras.layers.Cropping2D(cropping=((0, 1), (0, 0)), name = 'Cro11237', )(Res25829)
Res58490 = keras.layers.Reshape((1, 1), name = 'Res58490', )(Cro11237)
Fla17649 = keras.layers.Flatten(name = 'Fla17649', )(Res58490)
Dot44310 = keras.layers.Dot(axes=(1, 1), name = 'Dot44310', )([in0Dot44310,in1Dot44310])
ELU45978 = keras.layers.ELU(alpha=-3.459989060262611, name = 'ELU45978', )(Dot44310)
Sub64126 = keras.layers.Subtract(name = 'Sub64126', )([Fla17649,ELU45978])
model = tf.keras.models.Model(inputs=[in0Sub18074,in1Sub18074,in0Dot44310,in1Dot44310], outputs=Sub64126)
in0Sub18074 = tf.constant([[0.499, 0.0736]])
in1Sub18074 = tf.constant([[0.541, 0.3817]])
in0Dot44310 = tf.constant([[0.6798, 0.8206]])
in1Dot44310 = tf.constant([[0.7539, 0.0345]])
print (np.array2string(model.predict([in0Sub18074,in1Sub18074,in0Dot44310,in1Dot44310],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sub64126.png')

LSub18074 = subtract_layer([[0.499, 0.0736]], [[0.541, 0.3817]], Sub18074), 
LRes13976 = reshape_layer(Sub18074, [2, 1], Res13976), 
LRes25829 = reshape_layer(Res13976, [2, 1, 1], Res25829), 
LCro11237 = cropping2D_layer(Res25829, 0, 1, 0, 0, Cro11237), 
LRes58490 = reshape_layer(Cro11237, [1, 1], Res58490), 
LFla17649 = flatten_layer(Res58490, Fla17649), 
LDot44310 = dot_layer([[0.6798, 0.8206]], [[0.7539, 0.0345]], 1, 1, Dot44310), 
LELU45978 = elu_layer(Dot44310, -3.459989060262611, ELU45978), 
LSub64126 = subtract_layer(Fla17649,ELU45978, Sub64126), 
exec_layers([LSub18074,LRes13976,LRes25829,LCro11237,LRes58490,LFla17649,LDot44310,LELU45978,LSub64126],["Sub18074","Res13976","Res25829","Cro11237","Res58490","Fla17649","Dot44310","ELU45978","Sub64126"],Sub64126,"Sub64126")

Actual (Unparsed): [[-0.5828119]]

Expected (Unparsed): [[-0.58281192]]

Actual:   [[-0.5828]]

Expected: [[-0.5828]]