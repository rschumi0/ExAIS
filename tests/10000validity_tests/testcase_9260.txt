import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot35927 = tf.keras.layers.Input(shape=([3]))
in1Dot35927 = tf.keras.layers.Input(shape=([3]))

Dot35927 = keras.layers.Dot(axes=(1, 1), name = 'Dot35927', )([in0Dot35927,in1Dot35927])
Res73236 = keras.layers.Reshape((1, 1), name = 'Res73236', )(Dot35927)
Res41197 = keras.layers.Reshape((1, 1, 1), name = 'Res41197', )(Res73236)
Max75325 = keras.layers.MaxPool2D(pool_size=(1, 1), strides=(1, 1), padding='same', name = 'Max75325', )(Res41197)
Res98783 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res98783', )(Max75325)
Glo56019 = keras.layers.GlobalAveragePooling3D(name = 'Glo56019', )(Res98783)
model = tf.keras.models.Model(inputs=[in0Dot35927,in1Dot35927], outputs=Glo56019)
in0Dot35927 = tf.constant([[0.367, 0.1356, 0.0056]])
in1Dot35927 = tf.constant([[0.7878, 0.4431, 0.391]])
print (np.array2string(model.predict([in0Dot35927,in1Dot35927],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo56019.png')

LDot35927 = dot_layer([[0.367, 0.1356, 0.0056]], [[0.7878, 0.4431, 0.391]], 1, 1, Dot35927), 
LRes73236 = reshape_layer(Dot35927, [1, 1], Res73236), 
LRes41197 = reshape_layer(Res73236, [1, 1, 1], Res41197), 
LMax75325 = max_pool2D_layer(Res41197, 1, 1, 1, 1, true, Max75325), 
LRes98783 = reshape_layer(Max75325, [1, 1, 1, 1], Res98783), 
LGlo56019 = global_average_pooling3D_layer(Res98783, Glo56019), 
exec_layers([LDot35927,LRes73236,LRes41197,LMax75325,LRes98783,LGlo56019],["Dot35927","Res73236","Res41197","Max75325","Res98783","Glo56019"],Glo56019,"Glo56019")

Actual (Unparsed): [[0.3513966]]

Expected (Unparsed): [[0.35139655999999997]]

Actual:   [[0.3514]]

Expected: [[0.3514]]