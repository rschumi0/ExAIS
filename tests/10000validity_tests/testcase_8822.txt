import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min93051 = tf.keras.layers.Input(shape=([2, 1, 1]))
in1Min93051 = tf.keras.layers.Input(shape=([2, 1, 1]))
in0Glo96088 = tf.keras.layers.Input(shape=([1, 1]))
in0Con95126 = tf.keras.layers.Input(shape=([1]))
in0Dot44305 = tf.keras.layers.Input(shape=([2]))
in1Dot44305 = tf.keras.layers.Input(shape=([2]))
in0Con72575 = tf.keras.layers.Input(shape=([1]))

Min93051 = keras.layers.Minimum(name = 'Min93051', )([in0Min93051,in1Min93051])
Res92745 = keras.layers.Reshape((2, 1), name = 'Res92745', )(Min93051)
Fla15821 = keras.layers.Flatten(name = 'Fla15821', )(Res92745)
Glo96088 = keras.layers.GlobalAveragePooling1D(name = 'Glo96088', )(in0Glo96088)
Con95126 = keras.layers.Concatenate(axis=1, name = 'Con95126', )([Glo96088,in0Con95126])
Ave57272 = keras.layers.Average(name = 'Ave57272', )([Fla15821,Con95126])
Dot44305 = keras.layers.Dot(axes=(1, 1), name = 'Dot44305', )([in0Dot44305,in1Dot44305])
Con72575 = keras.layers.Concatenate(axis=1, name = 'Con72575', )([Dot44305,in0Con72575])
Min74809 = keras.layers.Minimum(name = 'Min74809', )([Ave57272,Con72575])
model = tf.keras.models.Model(inputs=[in0Min93051,in1Min93051,in0Glo96088,in0Con95126,in0Dot44305,in1Dot44305,in0Con72575], outputs=Min74809)
in0Min93051 = tf.constant([[[[0.3147]], [[0.2958]]]])
in1Min93051 = tf.constant([[[[0.5299]], [[0.6059]]]])
in0Glo96088 = tf.constant([[[1.1686]]])
in0Con95126 = tf.constant([[0.0388]])
in0Dot44305 = tf.constant([[0.461, 0.9678]])
in1Dot44305 = tf.constant([[0.6952, 0.7244]])
in0Con72575 = tf.constant([[0.7157]])
print (np.array2string(model.predict([in0Min93051,in1Min93051,in0Glo96088,in0Con95126,in0Dot44305,in1Dot44305,in0Con72575],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min74809.png')

LMin93051 = minimum_layer([[[[[0.3147]], [[0.2958]]]], [[[[0.5299]], [[0.6059]]]]], Min93051), 
LRes92745 = reshape_layer(Min93051, [2, 1], Res92745), 
LFla15821 = flatten_layer(Res92745, Fla15821), 
LGlo96088 = global_average_pooling1D_layer([[[1.1686]]], Glo96088), 
LCon95126 = concatenate_layer([Glo96088,[[0.0388]]], 1, Con95126), 
LAve57272 = average_layer([Fla15821,Con95126], Ave57272), 
LDot44305 = dot_layer([[0.461, 0.9678]], [[0.6952, 0.7244]], 1, 1, Dot44305), 
LCon72575 = concatenate_layer([Dot44305,[[0.7157]]], 1, Con72575), 
LMin74809 = minimum_layer([Ave57272,Con72575], Min74809), 
exec_layers([LMin93051,LRes92745,LFla15821,LGlo96088,LCon95126,LAve57272,LDot44305,LCon72575,LMin74809],["Min93051","Res92745","Fla15821","Glo96088","Con95126","Ave57272","Dot44305","Con72575","Min74809"],Min74809,"Min74809")

Actual (Unparsed): [[0.7416500, 0.1673000]]

Expected (Unparsed): [[0.74165,0.1673]]

Actual:   [[0.7417, 0.1673]]

Expected: [[0.7417, 0.1673]]