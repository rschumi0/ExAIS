import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave59643 = tf.keras.layers.Input(shape=([2, 2]))
in1Ave59643 = tf.keras.layers.Input(shape=([2, 2]))
in0Con98903 = tf.keras.layers.Input(shape=([1, 2, 3, 1]))
in0Mul20813 = tf.keras.layers.Input(shape=([1, 1, 2, 2]))
in1Mul20813 = tf.keras.layers.Input(shape=([1, 1, 2, 2]))
in0Min75918 = tf.keras.layers.Input(shape=([2, 2, 2, 2]))
in1Min75918 = tf.keras.layers.Input(shape=([2, 2, 2, 2]))
in0Con57295 = tf.keras.layers.Input(shape=([1, 2, 2]))

Ave59643 = keras.layers.Average(name = 'Ave59643', )([in0Ave59643,in1Ave59643])
Max59496 = keras.layers.MaxPool1D(pool_size=(2), strides=(1), padding='valid', name = 'Max59496', )(Ave59643)
Lea4604 = keras.layers.LeakyReLU(alpha=5.846925005448088, name = 'Lea4604', )(Max59496)
Res78606 = keras.layers.Reshape((1, 2, 1), name = 'Res78606', )(Lea4604)
Res4045 = keras.layers.Reshape((1, 2, 1, 1), name = 'Res4045', )(Res78606)
Zer13385 = keras.layers.ZeroPadding3D(padding=((0, 0), (0, 0), (2, 0)), name = 'Zer13385', )(Res4045)
Con98903 = keras.layers.Concatenate(axis=4, name = 'Con98903', )([Zer13385,in0Con98903])
Mul20813 = keras.layers.Multiply(name = 'Mul20813', )([in0Mul20813,in1Mul20813])
Zer52313 = keras.layers.ZeroPadding3D(padding=((0, 0), (1, 0), (1, 0)), name = 'Zer52313', )(Mul20813)
Ave74986 = keras.layers.Average(name = 'Ave74986', )([Con98903,Zer52313])
Res22347 = keras.layers.Reshape((1, 2, 6), name = 'Res22347', )(Ave74986)
Min75918 = keras.layers.Minimum(name = 'Min75918', )([in0Min75918,in1Min75918])
Res39976 = keras.layers.Reshape((2, 2, 4), name = 'Res39976', )(Min75918)
Cro2109 = keras.layers.Cropping2D(cropping=((1, 0), (1, 0)), name = 'Cro2109', )(Res39976)
Zer82292 = keras.layers.ZeroPadding2D(padding=((0, 0), (1, 0)), name = 'Zer82292', )(Cro2109)
Con57295 = keras.layers.Concatenate(axis=3, name = 'Con57295', )([Zer82292,in0Con57295])
Add29929 = keras.layers.Add(name = 'Add29929', )([Res22347,Con57295])
model = tf.keras.models.Model(inputs=[in0Ave59643,in1Ave59643,in0Con98903,in0Mul20813,in1Mul20813,in0Min75918,in1Min75918,in0Con57295], outputs=Add29929)
in0Ave59643 = tf.constant([[[0.9173, 0.8061], [0.05, 0.4597]]])
in1Ave59643 = tf.constant([[[0.1146, 0.5699], [0.6523, 0.2651]]])
in0Con98903 = tf.constant([[[[[0.3556], [0.9612], [0.1993]], [[0.0907], [0.0724], [0.6584]]]]])
in0Mul20813 = tf.constant([[[[[0.22, 0.5867], [0.9921, 0.2354]]]]])
in1Mul20813 = tf.constant([[[[[0.3063, 0.3086], [0.6367, 0.3121]]]]])
in0Min75918 = tf.constant([[[[[0.8225, 0.9989], [0.4779, 0.9276]], [[0.2024, 0.8234], [0.5402, 0.9901]]], [[[0.0998, 0.8489], [0.0461, 0.6866]], [[0.4611, 0.488], [0.2061, 0.2252]]]]])
in1Min75918 = tf.constant([[[[[0.6968, 0.6905], [0.962, 0.2155]], [[0.9367, 0.837], [0.8308, 0.381]]], [[[0.7207, 0.8633], [0.0749, 0.69]], [[0.5076, 0.6125], [0.6501, 0.7913]]]]])
in0Con57295 = tf.constant([[[[0.768, 0.3387], [0.8579, 0.2529]]]])
print (np.array2string(model.predict([in0Ave59643,in1Ave59643,in0Con98903,in0Mul20813,in1Mul20813,in0Min75918,in1Min75918,in0Con57295],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add29929.png')

LAve59643 = average_layer([[[[0.9173, 0.8061], [0.05, 0.4597]]], [[[0.1146, 0.5699], [0.6523, 0.2651]]]], Ave59643), 
LMax59496 = max_pool1D_layer(Ave59643, 2, 1, false, Max59496), 
LLea4604 = leaky_relu_layer(Max59496, 5.846925005448088, Lea4604), 
LRes78606 = reshape_layer(Lea4604, [1, 2, 1], Res78606), 
LRes4045 = reshape_layer(Res78606, [1, 2, 1, 1], Res4045), 
LZer13385 = zero_padding3D_layer(Res4045, 0, 0, 0, 0, 2, 0, Zer13385), 
LCon98903 = concatenate_layer([Zer13385,[[[[[0.3556], [0.9612], [0.1993]], [[0.0907], [0.0724], [0.6584]]]]]], 4, Con98903), 
LMul20813 = multiply_layer([[[[[[0.22, 0.5867], [0.9921, 0.2354]]]]], [[[[[0.3063, 0.3086], [0.6367, 0.3121]]]]]], Mul20813), 
LZer52313 = zero_padding3D_layer(Mul20813, 0, 0, 1, 0, 1, 0, Zer52313), 
LAve74986 = average_layer([Con98903,Zer52313], Ave74986), 
LRes22347 = reshape_layer(Ave74986, [1, 2, 6], Res22347), 
LMin75918 = minimum_layer([[[[[[0.8225, 0.9989], [0.4779, 0.9276]], [[0.2024, 0.8234], [0.5402, 0.9901]]], [[[0.0998, 0.8489], [0.0461, 0.6866]], [[0.4611, 0.488], [0.2061, 0.2252]]]]], [[[[[0.6968, 0.6905], [0.962, 0.2155]], [[0.9367, 0.837], [0.8308, 0.381]]], [[[0.7207, 0.8633], [0.0749, 0.69]], [[0.5076, 0.6125], [0.6501, 0.7913]]]]]], Min75918), 
LRes39976 = reshape_layer(Min75918, [2, 2, 4], Res39976), 
LCro2109 = cropping2D_layer(Res39976, 1, 0, 1, 0, Cro2109), 
LZer82292 = zero_padding2D_layer(Cro2109, 0, 0, 1, 0, Zer82292), 
LCon57295 = concatenate_layer([Zer82292,[[[[0.768, 0.3387], [0.8579, 0.2529]]]]], 3, Con57295), 
LAdd29929 = add_layer([Res22347,Con57295], Add29929), 
exec_layers([LAve59643,LMax59496,LLea4604,LRes78606,LRes4045,LZer13385,LCon98903,LMul20813,LZer52313,LAve74986,LRes22347,LMin75918,LRes39976,LCro2109,LZer82292,LCon57295,LAdd29929],["Ave59643","Max59496","Lea4604","Res78606","Res4045","Zer13385","Con98903","Mul20813","Zer52313","Ave74986","Res22347","Min75918","Res39976","Cro2109","Zer82292","Con57295","Add29929"],Add29929,"Add29929")

Actual (Unparsed): [[[[0.0000000, 0.1778000, 0.0000000, 0.4806000, 1.0259750, 0.4383500], [0.4611000, 0.5333500, 0.2397930, 0.3519278, 1.5177350, 0.6188342]]]]

Expected (Unparsed): [[[[0,0.1778,0,0.4806,1.025975,0.43835],[0.4611,0.53335,0.239793,0.35192781,1.5177350349999998,0.61883417]]]]

Actual:   [[[[0, 0.1778, 0, 0.4806, 1.026, 0.4384], [0.4611, 0.5334, 0.2398, 0.352, 1.5178, 0.6189]]]]

Expected: [[[[0, 0.1778, 0, 0.4806, 1.026, 0.4384], [0.4611, 0.5334, 0.2398, 0.352, 1.5178, 0.6189]]]]