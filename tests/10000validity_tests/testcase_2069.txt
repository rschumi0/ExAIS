import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max85559 = tf.keras.layers.Input(shape=([1, 2, 1, 1]))
in1Max85559 = tf.keras.layers.Input(shape=([1, 2, 1, 1]))
in0Max74549 = tf.keras.layers.Input(shape=([2, 2]))
in1Max74549 = tf.keras.layers.Input(shape=([2, 2]))

Max85559 = keras.layers.Maximum(name = 'Max85559', )([in0Max85559,in1Max85559])
Res50382 = keras.layers.Reshape((1, 2, 1), name = 'Res50382', )(Max85559)
Res56265 = keras.layers.Reshape((1, 2), name = 'Res56265', )(Res50382)
Zer66426 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer66426', )(Res56265)
Max74549 = keras.layers.Maximum(name = 'Max74549', )([in0Max74549,in1Max74549])
Max48043 = keras.layers.Maximum(name = 'Max48043', )([Zer66426,Max74549])
Glo57698 = keras.layers.GlobalAveragePooling1D(name = 'Glo57698', )(Max48043)
model = tf.keras.models.Model(inputs=[in0Max85559,in1Max85559,in0Max74549,in1Max74549], outputs=Glo57698)
in0Max85559 = tf.constant([[[[[0.4302]], [[0.8061]]]]])
in1Max85559 = tf.constant([[[[[0.971]], [[0.0069]]]]])
in0Max74549 = tf.constant([[[0.2483, 0.874], [0.8866, 0.4773]]])
in1Max74549 = tf.constant([[[0.321, 0.2621], [0.1541, 0.4527]]])
print (np.array2string(model.predict([in0Max85559,in1Max85559,in0Max74549,in1Max74549],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo57698.png')

LMax85559 = maximum_layer([[[[[[0.4302]], [[0.8061]]]]], [[[[[0.971]], [[0.0069]]]]]], Max85559), 
LRes50382 = reshape_layer(Max85559, [1, 2, 1], Res50382), 
LRes56265 = reshape_layer(Res50382, [1, 2], Res56265), 
LZer66426 = zero_padding1D_layer(Res56265, 1, 0, Zer66426), 
LMax74549 = maximum_layer([[[[0.2483, 0.874], [0.8866, 0.4773]]], [[[0.321, 0.2621], [0.1541, 0.4527]]]], Max74549), 
LMax48043 = maximum_layer([Zer66426,Max74549], Max48043), 
LGlo57698 = global_average_pooling1D_layer(Max48043, Glo57698), 
exec_layers([LMax85559,LRes50382,LRes56265,LZer66426,LMax74549,LMax48043,LGlo57698],["Max85559","Res50382","Res56265","Zer66426","Max74549","Max48043","Glo57698"],Glo57698,"Glo57698")

Actual (Unparsed): [[0.6460000, 0.8400500]]

Expected (Unparsed): [[0.646,0.84005]]

Actual:   [[0.646, 0.8401]]

Expected: [[0.646, 0.8401]]