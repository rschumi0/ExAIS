import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add72207 = tf.keras.layers.Input(shape=([1, 2, 2, 1]))
in1Add72207 = tf.keras.layers.Input(shape=([1, 2, 2, 1]))

Add72207 = keras.layers.Add(name = 'Add72207', )([in0Add72207,in1Add72207])
Res12657 = keras.layers.Reshape((1, 2, 2), name = 'Res12657', )(Add72207)
Res71310 = keras.layers.Reshape((1, 4), name = 'Res71310', )(Res12657)
Max31156 = keras.layers.MaxPool1D(pool_size=(1), strides=(7), padding='valid', name = 'Max31156', )(Res71310)
model = tf.keras.models.Model(inputs=[in0Add72207,in1Add72207], outputs=Max31156)
in0Add72207 = tf.constant([[[[[0.5007], [0.4578]], [[0.2398], [0.542]]]]])
in1Add72207 = tf.constant([[[[[0.5684], [0.4]], [[0.4588], [0.3842]]]]])
print (np.array2string(model.predict([in0Add72207,in1Add72207],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max31156.png')

LAdd72207 = add_layer([[[[[[0.5007], [0.4578]], [[0.2398], [0.542]]]]], [[[[[0.5684], [0.4]], [[0.4588], [0.3842]]]]]], Add72207), 
LRes12657 = reshape_layer(Add72207, [1, 2, 2], Res12657), 
LRes71310 = reshape_layer(Res12657, [1, 4], Res71310), 
LMax31156 = max_pool1D_layer(Res71310, 1, 7, false, Max31156), 
exec_layers([LAdd72207,LRes12657,LRes71310,LMax31156],["Add72207","Res12657","Res71310","Max31156"],Max31156,"Max31156")

Actual (Unparsed): [[[1.0691000, 0.8578000, 0.6986000, 0.9262000]]]

Expected (Unparsed): [[[1.0691000000000002,0.8578,0.6986,0.9262]]]

Actual:   [[[1.0691, 0.8578, 0.6986, 0.9262]]]

Expected: [[[1.0692, 0.8578, 0.6986, 0.9262]]]