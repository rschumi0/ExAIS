import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot61122 = tf.keras.layers.Input(shape=([2, 2]))
in1Dot61122 = tf.keras.layers.Input(shape=([2, 2]))
in0Lea26429 = tf.keras.layers.Input(shape=([2, 2, 1]))

Dot61122 = keras.layers.Dot(axes=(2, 1), name = 'Dot61122', )([in0Dot61122,in1Dot61122])
Res19883 = keras.layers.Reshape((2, 2, 1), name = 'Res19883', )(Dot61122)
Lea26429 = keras.layers.LeakyReLU(alpha=1.5935605973593439, name = 'Lea26429', input_shape=(2, 2, 1))(in0Lea26429)
Cro80592 = keras.layers.Cropping2D(cropping=((1, 0), (1, 0)), name = 'Cro80592', )(Lea26429)
Zer20642 = keras.layers.ZeroPadding2D(padding=((1, 0), (1, 0)), name = 'Zer20642', )(Cro80592)
Sub35899 = keras.layers.Subtract(name = 'Sub35899', )([Res19883,Zer20642])
model = tf.keras.models.Model(inputs=[in0Dot61122,in1Dot61122,in0Lea26429], outputs=Sub35899)
in0Dot61122 = tf.constant([[[0.5956, 0.9271], [0.5111, 0.2855]]])
in1Dot61122 = tf.constant([[[0.2041, 0.5521], [0.7629, 0.6639]]])
in0Lea26429 = tf.constant([[[[0.9342], [0.4656]], [[0.3236], [0.3764]]]])
print (np.array2string(model.predict([in0Dot61122,in1Dot61122,in0Lea26429],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sub35899.png')

LDot61122 = dot_layer([[[0.5956, 0.9271], [0.5111, 0.2855]]], [[[0.2041, 0.5521], [0.7629, 0.6639]]], 2, 1, Dot61122), 
LRes19883 = reshape_layer(Dot61122, [2, 2, 1], Res19883), 
LLea26429 = leaky_relu_layer([[[[0.9342], [0.4656]], [[0.3236], [0.3764]]]], 1.5935605973593439, Lea26429), 
LCro80592 = cropping2D_layer(Lea26429, 1, 0, 1, 0, Cro80592), 
LZer20642 = zero_padding2D_layer(Cro80592, 1, 0, 1, 0, Zer20642), 
LSub35899 = subtract_layer(Res19883,Zer20642, Sub35899), 
exec_layers([LDot61122,LRes19883,LLea26429,LCro80592,LZer20642,LSub35899],["Dot61122","Res19883","Lea26429","Cro80592","Zer20642","Sub35899"],Sub35899,"Sub35899")

Actual (Unparsed): [[[[0.8288465], [0.9443325]], [[0.3221234], [0.0953218]]]]

Expected (Unparsed): [[[[0.8288465500000001],[0.9443324500000001]],[[0.32212346000000003],[0.09532176000000003]]]]

Actual:   [[[[0.8289], [0.9444]], [[0.3222], [0.0954]]]]

Expected: [[[[0.8289], [0.9444]], [[0.3222], [0.0954]]]]