import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Zer17231 = tf.keras.layers.Input(shape=([2, 4]))

Zer17231 = keras.layers.ZeroPadding1D(padding=((1, 1)), name = 'Zer17231', )(in0Zer17231)
Res27729 = keras.layers.Reshape((4, 4, 1), name = 'Res27729', )(Zer17231)
Max92731 = keras.layers.MaxPool2D(pool_size=(2, 4), strides=(1, 2), padding='valid', name = 'Max92731', )(Res27729)
Res83576 = keras.layers.Reshape((3, 1), name = 'Res83576', )(Max92731)
Cro11480 = keras.layers.Cropping1D(cropping=((2, 0)), name = 'Cro11480', )(Res83576)
Res71908 = keras.layers.Reshape((1, 1, 1), name = 'Res71908', )(Cro11480)
Loc70616 = keras.layers.LocallyConnected2D(2, (1, 1),strides=(1, 1), name = 'Loc70616', )(Res71908)
model = tf.keras.models.Model(inputs=[in0Zer17231], outputs=Loc70616)
w = model.get_layer('Loc70616').get_weights() 
w[0] = np.array([[[0.1542, 0.4139]]])
w[1] = np.array([[[0, 0]]])
model.get_layer('Loc70616').set_weights(w) 
in0Zer17231 = tf.constant([[[1.3135, 1.845, 1.9033, 1.2708], [1.6192, 1.1601, 1.8534, 1.1273]]])
print (np.array2string(model.predict([in0Zer17231],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Loc70616.png')

LZer17231 = zero_padding1D_layer([[[1.3135, 1.845, 1.9033, 1.2708], [1.6192, 1.1601, 1.8534, 1.1273]]], 1, 1, Zer17231), 
LRes27729 = reshape_layer(Zer17231, [4, 4, 1], Res27729), 
LMax92731 = max_pool2D_layer(Res27729, 2, 4, 1, 2, false, Max92731), 
LRes83576 = reshape_layer(Max92731, [3, 1], Res83576), 
LCro11480 = cropping1D_layer(Res83576, 2, 0, Cro11480), 
LRes71908 = reshape_layer(Cro11480, [1, 1, 1], Res71908), 
LLoc70616 = locally_connected2D_layer(Res71908, 1, 1,[[[0.1542, 0.4139]]],[[[0, 0]]], 1, 1, Loc70616), 
exec_layers([LZer17231,LRes27729,LMax92731,LRes83576,LCro11480,LRes71908,LLoc70616],["Zer17231","Res27729","Max92731","Res83576","Cro11480","Res71908","Loc70616"],Loc70616,"Loc70616")

Actual (Unparsed): [[[[0.2857943, 0.7671223]]]]

Expected (Unparsed): [[[[0.28579428,0.76712226]]]]

Actual:   [[[[0.2858, 0.7672]]]]

Expected: [[[[0.2858, 0.7672]]]]