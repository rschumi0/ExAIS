import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Up_17769 = tf.keras.layers.Input(shape=([1, 2, 4]))
in0Min3376 = tf.keras.layers.Input(shape=([1, 1, 1, 1]))
in1Min3376 = tf.keras.layers.Input(shape=([1, 1, 1, 1]))
in0Ave66150 = tf.keras.layers.Input(shape=([1, 2]))
in1Ave66150 = tf.keras.layers.Input(shape=([1, 2]))
in0Sub51781 = tf.keras.layers.Input(shape=([2]))
in1Sub51781 = tf.keras.layers.Input(shape=([2]))
in0Con69335 = tf.keras.layers.Input(shape=([30]))

Up_17769 = keras.layers.UpSampling2D(size=(2, 2), name = 'Up_17769', )(in0Up_17769)
Res83119 = keras.layers.Reshape((2, 4, 4, 1), name = 'Res83119', )(Up_17769)
Min3376 = keras.layers.Minimum(name = 'Min3376', )([in0Min3376,in1Min3376])
Zer68947 = keras.layers.ZeroPadding3D(padding=((1, 0), (3, 0), (3, 0)), name = 'Zer68947', )(Min3376)
Ave154 = keras.layers.Average(name = 'Ave154', )([Res83119,Zer68947])
Res19971 = keras.layers.Reshape((2, 4, 4), name = 'Res19971', )(Ave154)
Res62188 = keras.layers.Reshape((2, 16), name = 'Res62188', )(Res19971)
Fla78373 = keras.layers.Flatten(name = 'Fla78373', )(Res62188)
Ave66150 = keras.layers.Average(name = 'Ave66150', )([in0Ave66150,in1Ave66150])
Fla25891 = keras.layers.Flatten(name = 'Fla25891', )(Ave66150)
Sub51781 = keras.layers.Subtract(name = 'Sub51781', )([in0Sub51781,in1Sub51781])
Max19855 = keras.layers.Maximum(name = 'Max19855', )([Fla25891,Sub51781])
Con69335 = keras.layers.Concatenate(axis=1, name = 'Con69335', )([Max19855,in0Con69335])
Add52927 = keras.layers.Add(name = 'Add52927', )([Fla78373,Con69335])
Res87916 = keras.layers.Reshape((32, 1), name = 'Res87916', )(Add52927)
Res17452 = keras.layers.Reshape((32, 1, 1), name = 'Res17452', )(Res87916)
Zer50468 = keras.layers.ZeroPadding2D(padding=((1, 1), (1, 1)), name = 'Zer50468', )(Res17452)
model = tf.keras.models.Model(inputs=[in0Up_17769,in0Min3376,in1Min3376,in0Ave66150,in1Ave66150,in0Sub51781,in1Sub51781,in0Con69335], outputs=Zer50468)
in0Up_17769 = tf.constant([[[[1.7241, 1.1756, 1.5118, 1.8631], [1.4126, 1.9297, 1.1091, 1.6881]]]])
in0Min3376 = tf.constant([[[[[0.029]]]]])
in1Min3376 = tf.constant([[[[[0.2256]]]]])
in0Ave66150 = tf.constant([[[0.8803, 0.1994]]])
in1Ave66150 = tf.constant([[[0.0797, 0.25]]])
in0Sub51781 = tf.constant([[0.015, 0.6199]])
in1Sub51781 = tf.constant([[0.1005, 0.2063]])
in0Con69335 = tf.constant([[0.8982, 0.6789, 0.59, 0.2419, 0.8034, 0.6573, 0.9478, 0.8647, 0.9015, 0.1796, 0.5204, 0.3263, 0.771, 0.2961, 0.6193, 0.2377, 0.5592, 0.7322, 0.1291, 0.2746, 0.0599, 0.8558, 0.2963, 0.4885, 0.1896, 0.8915, 0.6801, 0.4183, 0.4505, 0.4961]])
print (np.array2string(model.predict([in0Up_17769,in0Min3376,in1Min3376,in0Ave66150,in1Ave66150,in0Sub51781,in1Sub51781,in0Con69335],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Zer50468.png')

LUp_17769 = up_sampling2D_layer([[[[1.7241, 1.1756, 1.5118, 1.8631], [1.4126, 1.9297, 1.1091, 1.6881]]]], 2, 2, Up_17769), 
LRes83119 = reshape_layer(Up_17769, [2, 4, 4, 1], Res83119), 
LMin3376 = minimum_layer([[[[[[0.029]]]]], [[[[[0.2256]]]]]], Min3376), 
LZer68947 = zero_padding3D_layer(Min3376, 1, 0, 3, 0, 3, 0, Zer68947), 
LAve154 = average_layer([Res83119,Zer68947], Ave154), 
LRes19971 = reshape_layer(Ave154, [2, 4, 4], Res19971), 
LRes62188 = reshape_layer(Res19971, [2, 16], Res62188), 
LFla78373 = flatten_layer(Res62188, Fla78373), 
LAve66150 = average_layer([[[[0.8803, 0.1994]]], [[[0.0797, 0.25]]]], Ave66150), 
LFla25891 = flatten_layer(Ave66150, Fla25891), 
LSub51781 = subtract_layer([[0.015, 0.6199]], [[0.1005, 0.2063]], Sub51781), 
LMax19855 = maximum_layer([Fla25891,Sub51781], Max19855), 
LCon69335 = concatenate_layer([Max19855,[[0.8982, 0.6789, 0.59, 0.2419, 0.8034, 0.6573, 0.9478, 0.8647, 0.9015, 0.1796, 0.5204, 0.3263, 0.771, 0.2961, 0.6193, 0.2377, 0.5592, 0.7322, 0.1291, 0.2746, 0.0599, 0.8558, 0.2963, 0.4885, 0.1896, 0.8915, 0.6801, 0.4183, 0.4505, 0.4961]]], 1, Con69335), 
LAdd52927 = add_layer([Fla78373,Con69335], Add52927), 
LRes87916 = reshape_layer(Add52927, [32, 1], Res87916), 
LRes17452 = reshape_layer(Res87916, [32, 1, 1], Res17452), 
LZer50468 = zero_padding2D_layer(Res17452, 1, 1, 1, 1, Zer50468), 
exec_layers([LUp_17769,LRes83119,LMin3376,LZer68947,LAve154,LRes19971,LRes62188,LFla78373,LAve66150,LFla25891,LSub51781,LMax19855,LCon69335,LAdd52927,LRes87916,LRes17452,LZer50468],["Up_17769","Res83119","Min3376","Zer68947","Ave154","Res19971","Res62188","Fla78373","Ave66150","Fla25891","Sub51781","Max19855","Con69335","Add52927","Res87916","Res17452","Zer50468"],Zer50468,"Zer50468")

Actual (Unparsed): [[[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [1.3420500], [0.0000000]], [[0.0000000], [1.0014000], [0.0000000]], [[0.0000000], [1.6541000], [0.0000000]], [[0.0000000], [1.6104500], [0.0000000]], [[0.0000000], [1.4520500], [0.0000000]], [[0.0000000], [0.8297000], [0.0000000]], [[0.0000000], [1.5593000], [0.0000000]], [[0.0000000], [1.5888500], [0.0000000]], [[0.0000000], [1.6541000], [0.0000000]], [[0.0000000], [1.8295500], [0.0000000]], [[0.0000000], [1.4560500], [0.0000000]], [[0.0000000], [1.0236500], [0.0000000]], [[0.0000000], [1.2267000], [0.0000000]], [[0.0000000], [1.2911500], [0.0000000]], [[0.0000000], [1.3255500], [0.0000000]], [[0.0000000], [1.1401500], [0.0000000]], [[0.0000000], [1.4813500], [0.0000000]], [[0.0000000], [0.8255000], [0.0000000]], [[0.0000000], [1.3151000], [0.0000000]], [[0.0000000], [1.6637501], [0.0000000]], [[0.0000000], [0.9911500], [0.0000000]], [[0.0000000], [0.8624000], [0.0000000]], [[0.0000000], [0.8158000], [0.0000000]], [[0.0000000], [1.7873500], [0.0000000]], [[0.0000000], [1.0026000], [0.0000000]], [[0.0000000], [1.4533500], [0.0000000]], [[0.0000000], [0.7441500], [0.0000000]], [[0.0000000], [1.7355500], [0.0000000]], [[0.0000000], [1.3864000], [0.0000000]], [[0.0000000], [1.3831500], [0.0000000]], [[0.0000000], [1.0050500], [0.0000000]], [[0.0000000], [1.3546500], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]]]

Expected (Unparsed): [[[[0],[0],[0]],[[0],[1.34205],[0]],[[0],[1.0013999999999998],[0]],[[0],[1.6541000000000001],[0]],[[0],[1.61045],[0]],[[0],[1.4520499999999998],[0]],[[0],[0.8297],[0]],[[0],[1.5593],[0]],[[0],[1.5888499999999999],[0]],[[0],[1.6541000000000001],[0]],[[0],[1.82955],[0]],[[0],[1.4560499999999998],[0]],[[0],[1.02365],[0]],[[0],[1.2267000000000001],[0]],[[0],[1.29115],[0]],[[0],[1.32555],[0]],[[0],[1.14015],[0]],[[0],[1.48135],[0]],[[0],[0.8255],[0]],[[0],[1.3151000000000002],[0]],[[0],[1.6637499999999998],[0]],[[0],[0.99115],[0]],[[0],[0.8624],[0]],[[0],[0.8158],[0]],[[0],[1.78735],[0]],[[0],[1.0026000000000002],[0]],[[0],[1.45335],[0]],[[0],[0.74415],[0]],[[0],[1.73555],[0]],[[0],[1.3864],[0]],[[0],[1.38315],[0]],[[0],[1.00505],[0]],[[0],[1.35465],[0]],[[0],[0],[0]]]]

Actual:   [[[[0], [0], [0]], [[0], [1.3421], [0]], [[0], [1.0014], [0]], [[0], [1.6541], [0]], [[0], [1.6105], [0]], [[0], [1.4521], [0]], [[0], [0.8297], [0]], [[0], [1.5593], [0]], [[0], [1.5889], [0]], [[0], [1.6541], [0]], [[0], [1.8296], [0]], [[0], [1.4561], [0]], [[0], [1.0237], [0]], [[0], [1.2267], [0]], [[0], [1.2912], [0]], [[0], [1.3256], [0]], [[0], [1.1402], [0]], [[0], [1.4814], [0]], [[0], [0.8255], [0]], [[0], [1.3151], [0]], [[0], [1.6638], [0]], [[0], [0.9912], [0]], [[0], [0.8624], [0]], [[0], [0.8158], [0]], [[0], [1.7874], [0]], [[0], [1.0026], [0]], [[0], [1.4534], [0]], [[0], [0.7442], [0]], [[0], [1.7356], [0]], [[0], [1.3864], [0]], [[0], [1.3832], [0]], [[0], [1.0051], [0]], [[0], [1.3547], [0]], [[0], [0], [0]]]]

Expected: [[[[0], [0], [0]], [[0], [1.3421], [0]], [[0], [1.0014], [0]], [[0], [1.6542], [0]], [[0], [1.6105], [0]], [[0], [1.4521], [0]], [[0], [0.8297], [0]], [[0], [1.5593], [0]], [[0], [1.5889], [0]], [[0], [1.6542], [0]], [[0], [1.8296], [0]], [[0], [1.4561], [0]], [[0], [1.0237], [0]], [[0], [1.2268], [0]], [[0], [1.2912], [0]], [[0], [1.3256], [0]], [[0], [1.1402], [0]], [[0], [1.4814], [0]], [[0], [0.8255], [0]], [[0], [1.3152], [0]], [[0], [1.6638], [0]], [[0], [0.9912], [0]], [[0], [0.8624], [0]], [[0], [0.8158], [0]], [[0], [1.7874], [0]], [[0], [1.0027], [0]], [[0], [1.4534], [0]], [[0], [0.7442], [0]], [[0], [1.7356], [0]], [[0], [1.3864], [0]], [[0], [1.3832], [0]], [[0], [1.0051], [0]], [[0], [1.3547], [0]], [[0], [0], [0]]]]