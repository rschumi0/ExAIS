import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul10663 = tf.keras.layers.Input(shape=([1, 1, 2, 1]))
in1Mul10663 = tf.keras.layers.Input(shape=([1, 1, 2, 1]))

Mul10663 = keras.layers.Multiply(name = 'Mul10663', )([in0Mul10663,in1Mul10663])
Bat6755 = keras.layers.BatchNormalization(axis=2, epsilon=0.7786586403230611,  name = 'Bat6755', )(Mul10663)
Res47296 = keras.layers.Reshape((1, 1, 2), name = 'Res47296', )(Bat6755)
Res95723 = keras.layers.Reshape((1, 2), name = 'Res95723', )(Res47296)
Sep12625 = keras.layers.SeparableConv1D(3, (1),strides=(1), padding='same', name = 'Sep12625', )(Res95723)
Res41812 = keras.layers.Reshape((1, 3, 1), name = 'Res41812', )(Sep12625)
Res76034 = keras.layers.Reshape((1, 3, 1, 1), name = 'Res76034', )(Res41812)
Glo76322 = keras.layers.GlobalAveragePooling3D(name = 'Glo76322', )(Res76034)
model = tf.keras.models.Model(inputs=[in0Mul10663,in1Mul10663], outputs=Glo76322)
w = model.get_layer('Bat6755').get_weights() 
w[0] = np.array([0.7368])
w[1] = np.array([0.5479])
w[2] = np.array([0.8661])
w[3] = np.array([0.2278])
model.get_layer('Bat6755').set_weights(w) 
w = model.get_layer('Sep12625').get_weights() 
w[0] = np.array([[[0.7239], [0.4603]]])
w[1] = np.array([[[0.2353, 0.7137, 0.6243], [0.8719, 0.5261, 0.7264]]])
w[2] = np.array([0, 0, 0])
model.get_layer('Sep12625').set_weights(w) 
in0Mul10663 = tf.constant([[[[[0.0025], [0.3744]]]]])
in1Mul10663 = tf.constant([[[[[0.1656], [0.3549]]]]])
print (np.array2string(model.predict([in0Mul10663,in1Mul10663],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo76322.png')

LMul10663 = multiply_layer([[[[[[0.0025], [0.3744]]]]], [[[[[0.1656], [0.3549]]]]]], Mul10663), 
LBat6755 = batch_normalization_layer(Mul10663, 2, 0.7786586403230611, [0.7368], [0.5479], [0.8661], [0.2278], Bat6755), 
LRes47296 = reshape_layer(Bat6755, [1, 1, 2], Res47296), 
LRes95723 = reshape_layer(Res47296, [1, 2], Res95723), 
LSep12625 = separable_conv1D_layer(Res95723, 1,[[[[0.7239], [0.4603]]],[[[0.2353, 0.7137, 0.6243], [0.8719, 0.5261, 0.7264]]]],[0, 0, 0], 1, true, Sep12625), 
LRes41812 = reshape_layer(Sep12625, [1, 3, 1], Res41812), 
LRes76034 = reshape_layer(Res41812, [1, 3, 1, 1], Res76034), 
LGlo76322 = global_average_pooling3D_layer(Res76034, Glo76322), 
exec_layers([LMul10663,LBat6755,LRes47296,LRes95723,LSep12625,LRes41812,LRes76034,LGlo76322],["Mul10663","Bat6755","Res47296","Res95723","Sep12625","Res41812","Res76034","Glo76322"],Glo76322,"Glo76322")

Actual (Unparsed): [[-0.0303028]]

Expected (Unparsed): [[-0.030302841807200165]]

Actual:   [[-0.0303]]

Expected: [[-0.0303]]