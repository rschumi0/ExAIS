import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul18162 = tf.keras.layers.Input(shape=([1, 2, 2, 2]))
in1Mul18162 = tf.keras.layers.Input(shape=([1, 2, 2, 2]))

Mul18162 = keras.layers.Multiply(name = 'Mul18162', )([in0Mul18162,in1Mul18162])
Thr1295 = keras.layers.ThresholdedReLU(theta=7.14169110284215, name = 'Thr1295', )(Mul18162)
Res12448 = keras.layers.Reshape((1, 2, 4), name = 'Res12448', )(Thr1295)
Loc5474 = keras.layers.LocallyConnected2D(2, (1, 1),strides=(1, 1), name = 'Loc5474', )(Res12448)
Res77389 = keras.layers.Reshape((1, 4), name = 'Res77389', )(Loc5474)
Zer28566 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer28566', )(Res77389)
Lea6396 = keras.layers.LeakyReLU(alpha=0.7730319930316024, name = 'Lea6396', )(Zer28566)
model = tf.keras.models.Model(inputs=[in0Mul18162,in1Mul18162], outputs=Lea6396)
w = model.get_layer('Loc5474').get_weights() 
w[0] = np.array([[[0.8119, 0.7705], [0.1693, 0.2946], [0.7678, 0.3493], [0.7273, 0.7293]], [[0.5384, 0.8795], [0.3685, 0.9566], [0.2049, 0.2419], [0.7775, 0.9796]]])
w[1] = np.array([[[0, 0], [0, 0]]])
model.get_layer('Loc5474').set_weights(w) 
in0Mul18162 = tf.constant([[[[[0.7736, 0.8751], [0.0095, 0.715]], [[0.7437, 0.0752], [0.6584, 0.5834]]]]])
in1Mul18162 = tf.constant([[[[[0.107, 0.7169], [0.5474, 0.6896]], [[0.6433, 0.1042], [0.2753, 0.7892]]]]])
print (np.array2string(model.predict([in0Mul18162,in1Mul18162],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Lea6396.png')

LMul18162 = multiply_layer([[[[[[0.7736, 0.8751], [0.0095, 0.715]], [[0.7437, 0.0752], [0.6584, 0.5834]]]]], [[[[[0.107, 0.7169], [0.5474, 0.6896]], [[0.6433, 0.1042], [0.2753, 0.7892]]]]]], Mul18162), 
LThr1295 = thresholded_relu_layer(Mul18162, 7.14169110284215, Thr1295), 
LRes12448 = reshape_layer(Thr1295, [1, 2, 4], Res12448), 
LLoc5474 = locally_connected2D_layer(Res12448, 1, 1,[[[0.8119, 0.7705], [0.1693, 0.2946], [0.7678, 0.3493], [0.7273, 0.7293]], [[0.5384, 0.8795], [0.3685, 0.9566], [0.2049, 0.2419], [0.7775, 0.9796]]],[[[0, 0], [0, 0]]], 1, 1, Loc5474), 
LRes77389 = reshape_layer(Loc5474, [1, 4], Res77389), 
LZer28566 = zero_padding1D_layer(Res77389, 1, 0, Zer28566), 
LLea6396 = leaky_relu_layer(Zer28566, 0.7730319930316024, Lea6396), 
exec_layers([LMul18162,LThr1295,LRes12448,LLoc5474,LRes77389,LZer28566,LLea6396],["Mul18162","Thr1295","Res12448","Loc5474","Res77389","Zer28566","Lea6396"],Lea6396,"Lea6396")

Actual (Unparsed): [[[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000]]]

Expected (Unparsed): [[[0,0,0,0],[0.0,0.0,0.0,0.0]]]

Actual:   [[[0, 0, 0, 0], [0, 0, 0, 0]]]

Expected: [[[0, 0, 0, 0], [0, 0, 0, 0]]]