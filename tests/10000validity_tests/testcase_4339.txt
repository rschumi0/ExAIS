import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave44404 = tf.keras.layers.Input(shape=([1, 1, 2]))
in1Ave44404 = tf.keras.layers.Input(shape=([1, 1, 2]))
in0Ave37227 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))
in1Ave37227 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))
in0Con54270 = tf.keras.layers.Input(shape=([1]))

Ave44404 = keras.layers.Average(name = 'Ave44404', )([in0Ave44404,in1Ave44404])
Res91831 = keras.layers.Reshape((1, 2), name = 'Res91831', )(Ave44404)
Fla85122 = keras.layers.Flatten(name = 'Fla85122', )(Res91831)
Ave37227 = keras.layers.Average(name = 'Ave37227', )([in0Ave37227,in1Ave37227])
Glo88273 = keras.layers.GlobalAveragePooling3D(name = 'Glo88273', )(Ave37227)
Con54270 = keras.layers.Concatenate(axis=1, name = 'Con54270', )([Glo88273,in0Con54270])
Min17417 = keras.layers.Minimum(name = 'Min17417', )([Fla85122,Con54270])
Res5144 = keras.layers.Reshape((2, 1), name = 'Res5144', )(Min17417)
Zer12322 = keras.layers.ZeroPadding1D(padding=((1, 1)), name = 'Zer12322', )(Res5144)
model = tf.keras.models.Model(inputs=[in0Ave44404,in1Ave44404,in0Ave37227,in1Ave37227,in0Con54270], outputs=Zer12322)
in0Ave44404 = tf.constant([[[[0.8396, 0.0513]]]])
in1Ave44404 = tf.constant([[[[0.7205, 0.629]]]])
in0Ave37227 = tf.constant([[[[[0.7389]]], [[[0.1115]]]]])
in1Ave37227 = tf.constant([[[[[0.5769]]], [[[0.9277]]]]])
in0Con54270 = tf.constant([[0.3336]])
print (np.array2string(model.predict([in0Ave44404,in1Ave44404,in0Ave37227,in1Ave37227,in0Con54270],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Zer12322.png')

LAve44404 = average_layer([[[[[0.8396, 0.0513]]]], [[[[0.7205, 0.629]]]]], Ave44404), 
LRes91831 = reshape_layer(Ave44404, [1, 2], Res91831), 
LFla85122 = flatten_layer(Res91831, Fla85122), 
LAve37227 = average_layer([[[[[[0.7389]]], [[[0.1115]]]]], [[[[[0.5769]]], [[[0.9277]]]]]], Ave37227), 
LGlo88273 = global_average_pooling3D_layer(Ave37227, Glo88273), 
LCon54270 = concatenate_layer([Glo88273,[[0.3336]]], 1, Con54270), 
LMin17417 = minimum_layer([Fla85122,Con54270], Min17417), 
LRes5144 = reshape_layer(Min17417, [2, 1], Res5144), 
LZer12322 = zero_padding1D_layer(Res5144, 1, 1, Zer12322), 
exec_layers([LAve44404,LRes91831,LFla85122,LAve37227,LGlo88273,LCon54270,LMin17417,LRes5144,LZer12322],["Ave44404","Res91831","Fla85122","Ave37227","Glo88273","Con54270","Min17417","Res5144","Zer12322"],Zer12322,"Zer12322")

Actual (Unparsed): [[[0.0000000], [0.5887500], [0.3336000], [0.0000000]]]

Expected (Unparsed): [[[0],[0.5887499999999999],[0.3336],[0]]]

Actual:   [[[0], [0.5888], [0.3336], [0]]]

Expected: [[[0], [0.5888], [0.3336], [0]]]