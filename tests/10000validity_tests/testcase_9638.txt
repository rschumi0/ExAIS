import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min65384 = tf.keras.layers.Input(shape=([1, 2, 1, 2]))
in1Min65384 = tf.keras.layers.Input(shape=([1, 2, 1, 2]))
in0Add45557 = tf.keras.layers.Input(shape=([2, 2]))
in1Add45557 = tf.keras.layers.Input(shape=([2, 2]))

Min65384 = keras.layers.Minimum(name = 'Min65384', )([in0Min65384,in1Min65384])
Res84772 = keras.layers.Reshape((1, 2, 2), name = 'Res84772', )(Min65384)
Add45557 = keras.layers.Add(name = 'Add45557', )([in0Add45557,in1Add45557])
Res72781 = keras.layers.Reshape((1, 2, 2), name = 'Res72781', )(Add45557)
Add65078 = keras.layers.Add(name = 'Add65078', )([Res84772,Res72781])
model = tf.keras.models.Model(inputs=[in0Min65384,in1Min65384,in0Add45557,in1Add45557], outputs=Add65078)
in0Min65384 = tf.constant([[[[[0.8726, 0.0423]], [[0.0282, 0.5799]]]]])
in1Min65384 = tf.constant([[[[[0.0322, 0.8311]], [[0.5189, 0.0333]]]]])
in0Add45557 = tf.constant([[[0.8813, 0.4914], [0.5764, 0.4847]]])
in1Add45557 = tf.constant([[[0.0344, 0.5854], [0.7893, 0.7146]]])
print (np.array2string(model.predict([in0Min65384,in1Min65384,in0Add45557,in1Add45557],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add65078.png')

LMin65384 = minimum_layer([[[[[[0.8726, 0.0423]], [[0.0282, 0.5799]]]]], [[[[[0.0322, 0.8311]], [[0.5189, 0.0333]]]]]], Min65384), 
LRes84772 = reshape_layer(Min65384, [1, 2, 2], Res84772), 
LAdd45557 = add_layer([[[[0.8813, 0.4914], [0.5764, 0.4847]]], [[[0.0344, 0.5854], [0.7893, 0.7146]]]], Add45557), 
LRes72781 = reshape_layer(Add45557, [1, 2, 2], Res72781), 
LAdd65078 = add_layer([Res84772,Res72781], Add65078), 
exec_layers([LMin65384,LRes84772,LAdd45557,LRes72781,LAdd65078],["Min65384","Res84772","Add45557","Res72781","Add65078"],Add65078,"Add65078")

Actual (Unparsed): [[[[0.9479000, 1.1191000], [1.3939000, 1.2326000]]]]

Expected (Unparsed): [[[[0.9479,1.1191],[1.3939,1.2326000000000001]]]]

Actual:   [[[[0.9479, 1.1191], [1.3939, 1.2326]]]]

Expected: [[[[0.9479, 1.1191], [1.3939, 1.2327]]]]