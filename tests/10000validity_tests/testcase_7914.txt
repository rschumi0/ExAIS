import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub81381 = tf.keras.layers.Input(shape=([3, 3, 2, 3]))
in1Sub81381 = tf.keras.layers.Input(shape=([3, 3, 2, 3]))

Sub81381 = keras.layers.Subtract(name = 'Sub81381', )([in0Sub81381,in1Sub81381])
Glo39901 = keras.layers.GlobalAveragePooling3D(name = 'Glo39901', )(Sub81381)
model = tf.keras.models.Model(inputs=[in0Sub81381,in1Sub81381], outputs=Glo39901)
in0Sub81381 = tf.constant([[[[[0.0715, 0.1654, 0.7208], [0.4755, 0.202, 0.0908]], [[0.7359, 0.9433, 0.8039], [0.3837, 0.5673, 0.7499]], [[0.476, 0.2977, 0.3133], [0.5364, 0.8644, 0.0679]]], [[[0.993, 0.7206, 0.5823], [0.9504, 0.1304, 0.3189]], [[0.8677, 0.1149, 0.8249], [0.4427, 0.0636, 0.0142]], [[0.1823, 0.4489, 0.6255], [0.6691, 0.3056, 0.3707]]], [[[0.6392, 0.0341, 0.5285], [0.3077, 0.7674, 0.2349]], [[0.208, 0.9082, 0.1348], [0.0092, 0.1921, 0.9465]], [[0.9061, 0.1215, 0.0232], [0.2637, 0.2178, 0.873]]]]])
in1Sub81381 = tf.constant([[[[[0.0483, 0.0196, 0.6818], [0.0816, 0.8678, 0.2867]], [[0.8953, 0.069, 0.9734], [0.5047, 0.2654, 0.2584]], [[0.0035, 0.2106, 0.9811], [0.96, 0.7716, 0.7621]]], [[[0.1543, 0.8036, 0.115], [0.4776, 0.9897, 0.0585]], [[0.6522, 0.7327, 0.341], [0.7803, 0.7397, 0.0722]], [[0.1639, 0.3169, 0.2734], [0.3248, 0.1884, 0.2132]]], [[[0.4941, 0.0379, 0.5929], [0.9666, 0.6245, 0.293]], [[0.5929, 0.3997, 0.9912], [0.1044, 0.6278, 0.6427]], [[0.2654, 0.1573, 0.2675], [0.8463, 0.5948, 0.5996]]]]])
print (np.array2string(model.predict([in0Sub81381,in1Sub81381],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo39901.png')

LSub81381 = subtract_layer([[[[[0.0715, 0.1654, 0.7208], [0.4755, 0.202, 0.0908]], [[0.7359, 0.9433, 0.8039], [0.3837, 0.5673, 0.7499]], [[0.476, 0.2977, 0.3133], [0.5364, 0.8644, 0.0679]]], [[[0.993, 0.7206, 0.5823], [0.9504, 0.1304, 0.3189]], [[0.8677, 0.1149, 0.8249], [0.4427, 0.0636, 0.0142]], [[0.1823, 0.4489, 0.6255], [0.6691, 0.3056, 0.3707]]], [[[0.6392, 0.0341, 0.5285], [0.3077, 0.7674, 0.2349]], [[0.208, 0.9082, 0.1348], [0.0092, 0.1921, 0.9465]], [[0.9061, 0.1215, 0.0232], [0.2637, 0.2178, 0.873]]]]], [[[[[0.0483, 0.0196, 0.6818], [0.0816, 0.8678, 0.2867]], [[0.8953, 0.069, 0.9734], [0.5047, 0.2654, 0.2584]], [[0.0035, 0.2106, 0.9811], [0.96, 0.7716, 0.7621]]], [[[0.1543, 0.8036, 0.115], [0.4776, 0.9897, 0.0585]], [[0.6522, 0.7327, 0.341], [0.7803, 0.7397, 0.0722]], [[0.1639, 0.3169, 0.2734], [0.3248, 0.1884, 0.2132]]], [[[0.4941, 0.0379, 0.5929], [0.9666, 0.6245, 0.293]], [[0.5929, 0.3997, 0.9912], [0.1044, 0.6278, 0.6427]], [[0.2654, 0.1573, 0.2675], [0.8463, 0.5948, 0.5996]]]]], Sub81381), 
LGlo39901 = global_average_pooling3D_layer(Sub81381, Glo39901), 
exec_layers([LSub81381,LGlo39901],["Sub81381","Glo39901"],Glo39901,"Glo39901")

Actual (Unparsed): [[0.0445500, -0.0751000, -0.0099833]]

Expected (Unparsed): [[0.04454999999999999,-0.07510000000000001,-0.009983333333333337]]

Actual:   [[0.0446, -0.0751, -0.0099]]

Expected: [[0.0446, -0.0751, -0.0099]]