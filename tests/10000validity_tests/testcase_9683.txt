import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub36606 = tf.keras.layers.Input(shape=([3, 3, 2, 2]))
in1Sub36606 = tf.keras.layers.Input(shape=([3, 3, 2, 2]))

Sub36606 = keras.layers.Subtract(name = 'Sub36606', )([in0Sub36606,in1Sub36606])
Res8477 = keras.layers.Reshape((3, 3, 4), name = 'Res8477', )(Sub36606)
Zer94125 = keras.layers.ZeroPadding2D(padding=((1, 1), (1, 1)), name = 'Zer94125', )(Res8477)
Res63901 = keras.layers.Reshape((5, 20), name = 'Res63901', )(Zer94125)
Up_1900 = keras.layers.UpSampling1D(size=(2), name = 'Up_1900', )(Res63901)
model = tf.keras.models.Model(inputs=[in0Sub36606,in1Sub36606], outputs=Up_1900)
in0Sub36606 = tf.constant([[[[[0.9586, 0.5641], [0.7901, 0.1271]], [[0.1443, 0.3612], [0.2473, 0.3616]], [[0.6264, 0.2381], [0.222, 0.6951]]], [[[0.4439, 0.0405], [0.6696, 0.4172]], [[0.4277, 0.5358], [0.0053, 0.0435]], [[0.1949, 0.3765], [0.4, 0.4395]]], [[[0.9782, 0.3772], [0.9808, 0.6397]], [[0.8797, 0.2911], [0.3177, 0.3138]], [[0.8276, 0.4671], [0.1024, 0.9853]]]]])
in1Sub36606 = tf.constant([[[[[0.1137, 0.1282], [0.8461, 0.9157]], [[0.8966, 0.5247], [0.7618, 0.0344]], [[0.463, 0.8821], [0.732, 0.4179]]], [[[0.3608, 0.8917], [0.4101, 0.5964]], [[0.7369, 0.4715], [0.0543, 0.4043]], [[0.3477, 0.6635], [0.6531, 0.1811]]], [[[0.7417, 0.8271], [0.2617, 0.873]], [[0.0581, 0.7386], [0.2446, 0.9939]], [[0.7356, 0.8134], [0.2906, 0.4612]]]]])
print (np.array2string(model.predict([in0Sub36606,in1Sub36606],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Up_1900.png')

LSub36606 = subtract_layer([[[[[0.9586, 0.5641], [0.7901, 0.1271]], [[0.1443, 0.3612], [0.2473, 0.3616]], [[0.6264, 0.2381], [0.222, 0.6951]]], [[[0.4439, 0.0405], [0.6696, 0.4172]], [[0.4277, 0.5358], [0.0053, 0.0435]], [[0.1949, 0.3765], [0.4, 0.4395]]], [[[0.9782, 0.3772], [0.9808, 0.6397]], [[0.8797, 0.2911], [0.3177, 0.3138]], [[0.8276, 0.4671], [0.1024, 0.9853]]]]], [[[[[0.1137, 0.1282], [0.8461, 0.9157]], [[0.8966, 0.5247], [0.7618, 0.0344]], [[0.463, 0.8821], [0.732, 0.4179]]], [[[0.3608, 0.8917], [0.4101, 0.5964]], [[0.7369, 0.4715], [0.0543, 0.4043]], [[0.3477, 0.6635], [0.6531, 0.1811]]], [[[0.7417, 0.8271], [0.2617, 0.873]], [[0.0581, 0.7386], [0.2446, 0.9939]], [[0.7356, 0.8134], [0.2906, 0.4612]]]]], Sub36606), 
LRes8477 = reshape_layer(Sub36606, [3, 3, 4], Res8477), 
LZer94125 = zero_padding2D_layer(Res8477, 1, 1, 1, 1, Zer94125), 
LRes63901 = reshape_layer(Zer94125, [5, 20], Res63901), 
LUp_1900 = up_sampling1D_layer(Res63901, 2, Up_1900), 
exec_layers([LSub36606,LRes8477,LZer94125,LRes63901,LUp_1900],["Sub36606","Res8477","Zer94125","Res63901","Up_1900"],Up_1900,"Up_1900")

Actual (Unparsed): [[[0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.8449000, 0.4359000, -0.0560000, -0.7886000, -0.7523000, -0.1635000, -0.5145000, 0.3272000, 0.1634000, -0.6440000, -0.5100000, 0.2772000, 0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.8449000, 0.4359000, -0.0560000, -0.7886000, -0.7523000, -0.1635000, -0.5145000, 0.3272000, 0.1634000, -0.6440000, -0.5100000, 0.2772000, 0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0831000, -0.8512000, 0.2595000, -0.1792000, -0.3092000, 0.0643000, -0.0490000, -0.3608000, -0.1528000, -0.2870000, -0.2531000, 0.2584000, 0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0831000, -0.8512000, 0.2595000, -0.1792000, -0.3092000, 0.0643000, -0.0490000, -0.3608000, -0.1528000, -0.2870000, -0.2531000, 0.2584000, 0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.2365000, -0.4499000, 0.7191000, -0.2333000, 0.8216000, -0.4475000, 0.0731000, -0.6801000, 0.0920000, -0.3463000, -0.1882000, 0.5241000, 0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.2365000, -0.4499000, 0.7191000, -0.2333000, 0.8216000, -0.4475000, 0.0731000, -0.6801000, 0.0920000, -0.3463000, -0.1882000, 0.5241000, 0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000]]]

Expected (Unparsed): [[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0.8449,0.43590000000000007,-0.05599999999999994,-0.7886,-0.7523,-0.16350000000000003,-0.5145000000000001,0.3272,0.16339999999999993,-0.644,-0.51,0.27720000000000006,0,0,0,0],[0,0,0,0,0.8449,0.43590000000000007,-0.05599999999999994,-0.7886,-0.7523,-0.16350000000000003,-0.5145000000000001,0.3272,0.16339999999999993,-0.644,-0.51,0.27720000000000006,0,0,0,0],[0,0,0,0,0.08310000000000001,-0.8512000000000001,0.25949999999999995,-0.17920000000000003,-0.3092,0.06430000000000008,-0.049,-0.3608,-0.15280000000000002,-0.287,-0.2531,0.25839999999999996,0,0,0,0],[0,0,0,0,0.08310000000000001,-0.8512000000000001,0.25949999999999995,-0.17920000000000003,-0.3092,0.06430000000000008,-0.049,-0.3608,-0.15280000000000002,-0.287,-0.2531,0.25839999999999996,0,0,0,0],[0,0,0,0,0.23649999999999993,-0.44989999999999997,0.7191000000000001,-0.23329999999999995,0.8216,-0.4475,0.07309999999999997,-0.6800999999999999,0.09199999999999997,-0.3463,-0.18820000000000003,0.5241,0,0,0,0],[0,0,0,0,0.23649999999999993,-0.44989999999999997,0.7191000000000001,-0.23329999999999995,0.8216,-0.4475,0.07309999999999997,-0.6800999999999999,0.09199999999999997,-0.3463,-0.18820000000000003,0.5241,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]]

Actual:   [[[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0.8449, 0.4359, -0.056, -0.7886, -0.7523, -0.1635, -0.5145, 0.3272, 0.1634, -0.644, -0.51, 0.2772, 0, 0, 0, 0], [0, 0, 0, 0, 0.8449, 0.4359, -0.056, -0.7886, -0.7523, -0.1635, -0.5145, 0.3272, 0.1634, -0.644, -0.51, 0.2772, 0, 0, 0, 0], [0, 0, 0, 0, 0.0831, -0.8512, 0.2595, -0.1792, -0.3092, 0.0643, -0.049, -0.3608, -0.1528, -0.287, -0.2531, 0.2584, 0, 0, 0, 0], [0, 0, 0, 0, 0.0831, -0.8512, 0.2595, -0.1792, -0.3092, 0.0643, -0.049, -0.3608, -0.1528, -0.287, -0.2531, 0.2584, 0, 0, 0, 0], [0, 0, 0, 0, 0.2365, -0.4499, 0.7191, -0.2333, 0.8216, -0.4475, 0.0731, -0.6801, 0.092, -0.3463, -0.1882, 0.5241, 0, 0, 0, 0], [0, 0, 0, 0, 0.2365, -0.4499, 0.7191, -0.2333, 0.8216, -0.4475, 0.0731, -0.6801, 0.092, -0.3463, -0.1882, 0.5241, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]]]

Expected: [[[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0.8449, 0.436, -0.0559, -0.7886, -0.7523, -0.1635, -0.5145, 0.3272, 0.1634, -0.644, -0.51, 0.2773, 0, 0, 0, 0], [0, 0, 0, 0, 0.8449, 0.436, -0.0559, -0.7886, -0.7523, -0.1635, -0.5145, 0.3272, 0.1634, -0.644, -0.51, 0.2773, 0, 0, 0, 0], [0, 0, 0, 0, 0.0832, -0.8512, 0.2595, -0.1792, -0.3092, 0.0644, -0.049, -0.3608, -0.1528, -0.287, -0.2531, 0.2584, 0, 0, 0, 0], [0, 0, 0, 0, 0.0832, -0.8512, 0.2595, -0.1792, -0.3092, 0.0644, -0.049, -0.3608, -0.1528, -0.287, -0.2531, 0.2584, 0, 0, 0, 0], [0, 0, 0, 0, 0.2365, -0.4498, 0.7192, -0.2332, 0.8216, -0.4475, 0.0731, -0.68, 0.092, -0.3463, -0.1882, 0.5241, 0, 0, 0, 0], [0, 0, 0, 0, 0.2365, -0.4498, 0.7192, -0.2332, 0.8216, -0.4475, 0.0731, -0.68, 0.092, -0.3463, -0.1882, 0.5241, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]]]