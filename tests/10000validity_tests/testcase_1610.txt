import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min35895 = tf.keras.layers.Input(shape=([1, 2, 1]))
in1Min35895 = tf.keras.layers.Input(shape=([1, 2, 1]))

Min35895 = keras.layers.Minimum(name = 'Min35895', )([in0Min35895,in1Min35895])
Thr79603 = keras.layers.ThresholdedReLU(theta=6.6994699664988735, name = 'Thr79603', )(Min35895)
Res29614 = keras.layers.Reshape((1, 2), name = 'Res29614', )(Thr79603)
Ave98123 = keras.layers.AveragePooling1D(pool_size=(1), strides=(1), padding='same', name = 'Ave98123', )(Res29614)
Res59814 = keras.layers.Reshape((1, 2, 1), name = 'Res59814', )(Ave98123)
Sep99034 = keras.layers.SeparableConv2D(4, (1, 1),strides=(1, 1), padding='valid', name = 'Sep99034', )(Res59814)
model = tf.keras.models.Model(inputs=[in0Min35895,in1Min35895], outputs=Sep99034)
w = model.get_layer('Sep99034').get_weights() 
w[0] = np.array([[[[0.5355]]]])
w[1] = np.array([[[[0.7439, 0.5411, 0.6123, 0.8475]]]])
w[2] = np.array([0, 0, 0, 0])
model.get_layer('Sep99034').set_weights(w) 
in0Min35895 = tf.constant([[[[0.9076], [0.4761]]]])
in1Min35895 = tf.constant([[[[0.7338], [0.3258]]]])
print (np.array2string(model.predict([in0Min35895,in1Min35895],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sep99034.png')

LMin35895 = minimum_layer([[[[[0.9076], [0.4761]]]], [[[[0.7338], [0.3258]]]]], Min35895), 
LThr79603 = thresholded_relu_layer(Min35895, 6.6994699664988735, Thr79603), 
LRes29614 = reshape_layer(Thr79603, [1, 2], Res29614), 
LAve98123 = average_pooling1D_layer(Res29614, 1, 1, true, Ave98123), 
LRes59814 = reshape_layer(Ave98123, [1, 2, 1], Res59814), 
LSep99034 = separable_conv2D_layer(Res59814, 1, 1,[[[[[0.5355]]]],[[[[0.7439, 0.5411, 0.6123, 0.8475]]]]],[0, 0, 0, 0], 1, 1, false, Sep99034), 
exec_layers([LMin35895,LThr79603,LRes29614,LAve98123,LRes59814,LSep99034],["Min35895","Thr79603","Res29614","Ave98123","Res59814","Sep99034"],Sep99034,"Sep99034")

Actual (Unparsed): [[[[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000]]]]

Expected (Unparsed): [[[[0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0]]]]

Actual:   [[[[0, 0, 0, 0], [0, 0, 0, 0]]]]

Expected: [[[[0, 0, 0, 0], [0, 0, 0, 0]]]]