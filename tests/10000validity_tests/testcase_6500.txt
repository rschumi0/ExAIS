import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max61995 = tf.keras.layers.Input(shape=([1, 1, 2, 1]))
in1Max61995 = tf.keras.layers.Input(shape=([1, 1, 2, 1]))

Max61995 = keras.layers.Maximum(name = 'Max61995', )([in0Max61995,in1Max61995])
Res18429 = keras.layers.Reshape((1, 1, 2), name = 'Res18429', )(Max61995)
Res40528 = keras.layers.Reshape((1, 2), name = 'Res40528', )(Res18429)
Ave24325 = keras.layers.AveragePooling1D(pool_size=(1), name = 'Ave24325', )(Res40528)
Glo5733 = keras.layers.GlobalAveragePooling1D(name = 'Glo5733', )(Ave24325)
model = tf.keras.models.Model(inputs=[in0Max61995,in1Max61995], outputs=Glo5733)
in0Max61995 = tf.constant([[[[[0.4819], [0.3152]]]]])
in1Max61995 = tf.constant([[[[[0.6305], [0.374]]]]])
print (np.array2string(model.predict([in0Max61995,in1Max61995],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo5733.png')

LMax61995 = maximum_layer([[[[[[0.4819], [0.3152]]]]], [[[[[0.6305], [0.374]]]]]], Max61995), 
LRes18429 = reshape_layer(Max61995, [1, 1, 2], Res18429), 
LRes40528 = reshape_layer(Res18429, [1, 2], Res40528), 
LAve24325 = average_pooling1D_layer(Res40528, 1, Ave24325), 
LGlo5733 = global_average_pooling1D_layer(Ave24325, Glo5733), 
exec_layers([LMax61995,LRes18429,LRes40528,LAve24325,LGlo5733],["Max61995","Res18429","Res40528","Ave24325","Glo5733"],Glo5733,"Glo5733")

Actual (Unparsed): [[0.6305000, 0.3740000]]

Expected (Unparsed): [[0.6305,0.374]]

Actual:   [[0.6305, 0.374]]

Expected: [[0.6305, 0.374]]