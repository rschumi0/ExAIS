import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max75004 = tf.keras.layers.Input(shape=([2, 1, 2]))
in1Max75004 = tf.keras.layers.Input(shape=([2, 1, 2]))
in0Con53656 = tf.keras.layers.Input(shape=([1]))
in0Sub62388 = tf.keras.layers.Input(shape=([3]))
in1Sub62388 = tf.keras.layers.Input(shape=([3]))

Max75004 = keras.layers.Maximum(name = 'Max75004', )([in0Max75004,in1Max75004])
Res11327 = keras.layers.Reshape((2, 2), name = 'Res11327', )(Max75004)
Ave66522 = keras.layers.AveragePooling1D(pool_size=(2), strides=(1), padding='same', name = 'Ave66522', )(Res11327)
Glo63940 = keras.layers.GlobalMaxPool1D(name = 'Glo63940', )(Ave66522)
Con53656 = keras.layers.Concatenate(axis=1, name = 'Con53656', )([Glo63940,in0Con53656])
Sub62388 = keras.layers.Subtract(name = 'Sub62388', )([in0Sub62388,in1Sub62388])
Sub18692 = keras.layers.Subtract(name = 'Sub18692', )([Con53656,Sub62388])
model = tf.keras.models.Model(inputs=[in0Max75004,in1Max75004,in0Con53656,in0Sub62388,in1Sub62388], outputs=Sub18692)
in0Max75004 = tf.constant([[[[0.6827, 0.5109]], [[0.6238, 0.8377]]]])
in1Max75004 = tf.constant([[[[0.9981, 0.8629]], [[0.8768, 0.5956]]]])
in0Con53656 = tf.constant([[0.9613]])
in0Sub62388 = tf.constant([[0.3871, 0.9857, 0.5942]])
in1Sub62388 = tf.constant([[0.6762, 0.0629, 0.1752]])
print (np.array2string(model.predict([in0Max75004,in1Max75004,in0Con53656,in0Sub62388,in1Sub62388],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sub18692.png')

LMax75004 = maximum_layer([[[[[0.6827, 0.5109]], [[0.6238, 0.8377]]]], [[[[0.9981, 0.8629]], [[0.8768, 0.5956]]]]], Max75004), 
LRes11327 = reshape_layer(Max75004, [2, 2], Res11327), 
LAve66522 = average_pooling1D_layer(Res11327, 2, 1, true, Ave66522), 
LGlo63940 = global_max_pool1D_layer(Ave66522, Glo63940), 
LCon53656 = concatenate_layer([Glo63940,[[0.9613]]], 1, Con53656), 
LSub62388 = subtract_layer([[0.3871, 0.9857, 0.5942]], [[0.6762, 0.0629, 0.1752]], Sub62388), 
LSub18692 = subtract_layer(Con53656,Sub62388, Sub18692), 
exec_layers([LMax75004,LRes11327,LAve66522,LGlo63940,LCon53656,LSub62388,LSub18692],["Max75004","Res11327","Ave66522","Glo63940","Con53656","Sub62388","Sub18692"],Sub18692,"Sub18692")

Actual (Unparsed): [[1.2265500, -0.0725000, 0.5423000]]

Expected (Unparsed): [[1.22655,-0.07250000000000001,0.5423000000000001]]

Actual:   [[1.2266, -0.0725, 0.5423]]

Expected: [[1.2266, -0.0725, 0.5424]]