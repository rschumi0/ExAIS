import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add34395 = tf.keras.layers.Input(shape=([1, 1, 2, 1]))
in1Add34395 = tf.keras.layers.Input(shape=([1, 1, 2, 1]))

Add34395 = keras.layers.Add(name = 'Add34395', )([in0Add34395,in1Add34395])
Res76571 = keras.layers.Reshape((1, 1, 2), name = 'Res76571', )(Add34395)
Res71851 = keras.layers.Reshape((1, 2), name = 'Res71851', )(Res76571)
Per91043 = keras.layers.Permute((2,1), name = 'Per91043',)(Res71851)
model = tf.keras.models.Model(inputs=[in0Add34395,in1Add34395], outputs=Per91043)
in0Add34395 = tf.constant([[[[[0.6116], [0.6978]]]]])
in1Add34395 = tf.constant([[[[[0.4662], [0.3102]]]]])
print (np.array2string(model.predict([in0Add34395,in1Add34395],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Per91043.png')

LAdd34395 = add_layer([[[[[[0.6116], [0.6978]]]]], [[[[[0.4662], [0.3102]]]]]], Add34395), 
LRes76571 = reshape_layer(Add34395, [1, 1, 2], Res76571), 
LRes71851 = reshape_layer(Res76571, [1, 2], Res71851), 
LPer91043 = permute_layer(Res71851, 2,1, Per91043), 
exec_layers([LAdd34395,LRes76571,LRes71851,LPer91043],["Add34395","Res76571","Res71851","Per91043"],Per91043,"Per91043")

Actual (Unparsed): [[[1.0778000], [1.0080000]]]

Expected (Unparsed): [[[1.0778],[1.008]]]

Actual:   [[[1.0778], [1.008]]]

Expected: [[[1.0778], [1.008]]]