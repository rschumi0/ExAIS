import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min17625 = tf.keras.layers.Input(shape=([2, 2]))
in1Min17625 = tf.keras.layers.Input(shape=([2, 2]))
in0Con28024 = tf.keras.layers.Input(shape=([3, 1]))
in0Sub95509 = tf.keras.layers.Input(shape=([3, 3]))
in1Sub95509 = tf.keras.layers.Input(shape=([3, 3]))
in0Min38718 = tf.keras.layers.Input(shape=([2, 1, 2]))
in1Min38718 = tf.keras.layers.Input(shape=([2, 1, 2]))
in0Con23121 = tf.keras.layers.Input(shape=([5]))

Min17625 = keras.layers.Minimum(name = 'Min17625', )([in0Min17625,in1Min17625])
Zer28883 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer28883', )(Min17625)
Con28024 = keras.layers.Concatenate(axis=2, name = 'Con28024', )([Zer28883,in0Con28024])
Sub95509 = keras.layers.Subtract(name = 'Sub95509', )([in0Sub95509,in1Sub95509])
Max44659 = keras.layers.Maximum(name = 'Max44659', )([Con28024,Sub95509])
Fla97354 = keras.layers.Flatten(name = 'Fla97354', )(Max44659)
Min38718 = keras.layers.Minimum(name = 'Min38718', )([in0Min38718,in1Min38718])
Fla80327 = keras.layers.Flatten(name = 'Fla80327', )(Min38718)
Con23121 = keras.layers.Concatenate(axis=1, name = 'Con23121', )([Fla80327,in0Con23121])
Add20376 = keras.layers.Add(name = 'Add20376', )([Fla97354,Con23121])
model = tf.keras.models.Model(inputs=[in0Min17625,in1Min17625,in0Con28024,in0Sub95509,in1Sub95509,in0Min38718,in1Min38718,in0Con23121], outputs=Add20376)
in0Min17625 = tf.constant([[[0.619, 0.8942], [0.9282, 0.8357]]])
in1Min17625 = tf.constant([[[0.7143, 0.5971], [0.1058, 0.0539]]])
in0Con28024 = tf.constant([[[0.9999], [0.1725], [0.4743]]])
in0Sub95509 = tf.constant([[[0.3833, 0.9883, 0.3828], [0.7503, 0.4843, 0.6379], [0.7792, 0.6683, 0.1088]]])
in1Sub95509 = tf.constant([[[0.733, 0.7524, 0.6292], [0.7871, 0.1842, 0.3064], [0.4141, 0.345, 0.0931]]])
in0Min38718 = tf.constant([[[[0.1785, 0.1701]], [[0.6417, 0.5366]]]])
in1Min38718 = tf.constant([[[[0.7939, 0.7923]], [[0.0649, 0.9002]]]])
in0Con23121 = tf.constant([[0.5941, 0.7328, 0.147, 0.1215, 0.1043]])
print (np.array2string(model.predict([in0Min17625,in1Min17625,in0Con28024,in0Sub95509,in1Sub95509,in0Min38718,in1Min38718,in0Con23121],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add20376.png')

LMin17625 = minimum_layer([[[[0.619, 0.8942], [0.9282, 0.8357]]], [[[0.7143, 0.5971], [0.1058, 0.0539]]]], Min17625), 
LZer28883 = zero_padding1D_layer(Min17625, 1, 0, Zer28883), 
LCon28024 = concatenate_layer([Zer28883,[[[0.9999], [0.1725], [0.4743]]]], 2, Con28024), 
LSub95509 = subtract_layer([[[0.3833, 0.9883, 0.3828], [0.7503, 0.4843, 0.6379], [0.7792, 0.6683, 0.1088]]], [[[0.733, 0.7524, 0.6292], [0.7871, 0.1842, 0.3064], [0.4141, 0.345, 0.0931]]], Sub95509), 
LMax44659 = maximum_layer([Con28024,Sub95509], Max44659), 
LFla97354 = flatten_layer(Max44659, Fla97354), 
LMin38718 = minimum_layer([[[[[0.1785, 0.1701]], [[0.6417, 0.5366]]]], [[[[0.7939, 0.7923]], [[0.0649, 0.9002]]]]], Min38718), 
LFla80327 = flatten_layer(Min38718, Fla80327), 
LCon23121 = concatenate_layer([Fla80327,[[0.5941, 0.7328, 0.147, 0.1215, 0.1043]]], 1, Con23121), 
LAdd20376 = add_layer([Fla97354,Con23121], Add20376), 
exec_layers([LMin17625,LZer28883,LCon28024,LSub95509,LMax44659,LFla97354,LMin38718,LFla80327,LCon23121,LAdd20376],["Min17625","Zer28883","Con28024","Sub95509","Max44659","Fla97354","Min38718","Fla80327","Con23121","Add20376"],Add20376,"Add20376")

Actual (Unparsed): [[0.1785000, 0.4060000, 1.0648000, 1.1556000, 1.1912000, 1.0643000, 0.5121000, 0.4448000, 0.5786000]]

Expected (Unparsed): [[0.1785,0.406,1.0648,1.1556,1.1911999999999998,1.0643,0.5121,0.44480000000000003,0.5786]]

Actual:   [[0.1785, 0.406, 1.0648, 1.1556, 1.1912, 1.0643, 0.5121, 0.4448, 0.5786]]

Expected: [[0.1785, 0.406, 1.0648, 1.1556, 1.1912, 1.0643, 0.5121, 0.4449, 0.5786]]