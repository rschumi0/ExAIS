import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo6988 = tf.keras.layers.Input(shape=([2, 1, 2]))

Glo6988 = keras.layers.GlobalAveragePooling2D(name = 'Glo6988', )(in0Glo6988)
ReL15349 = keras.layers.ReLU(max_value=7.756367792240197, negative_slope=4.893231642308795, threshold=9.800806896690474, name = 'ReL15349', )(Glo6988)
Bat23674 = keras.layers.BatchNormalization(axis=1, epsilon=0.20668259168053213,  name = 'Bat23674', )(ReL15349)
Res28377 = keras.layers.Reshape((2, 1), name = 'Res28377', )(Bat23674)
Res41106 = keras.layers.Reshape((2, 1, 1), name = 'Res41106', )(Res28377)
Up_39388 = keras.layers.UpSampling2D(size=(1, 2), name = 'Up_39388', )(Res41106)
model = tf.keras.models.Model(inputs=[in0Glo6988], outputs=Up_39388)
w = model.get_layer('Bat23674').get_weights() 
w[0] = np.array([0.8736, 0.9743])
w[1] = np.array([0.9866, 0.6107])
w[2] = np.array([0.8803, 0.124])
w[3] = np.array([0.2889, 0.9573])
model.get_layer('Bat23674').set_weights(w) 
in0Glo6988 = tf.constant([[[[1.1518, 1.0207]], [[1.5951, 1.1864]]]])
print (np.array2string(model.predict([in0Glo6988],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Up_39388.png')

LGlo6988 = global_average_pooling2D_layer([[[[1.1518, 1.0207]], [[1.5951, 1.1864]]]], Glo6988), 
LReL15349 = relu_layer(Glo6988, 7.756367792240197, 4.893231642308795, 9.800806896690474, ReL15349), 
LBat23674 = batch_normalization_layer(ReL15349, 1, 0.20668259168053213, [0.8736, 0.9743], [0.9866, 0.6107], [0.8803, 0.124], [0.2889, 0.9573], Bat23674), 
LRes28377 = reshape_layer(Bat23674, [2, 1], Res28377), 
LRes41106 = reshape_layer(Res28377, [2, 1, 1], Res41106), 
LUp_39388 = up_sampling2D_layer(Res41106, 1, 2, Up_39388), 
exec_layers([LGlo6988,LReL15349,LBat23674,LRes28377,LRes41106,LUp_39388],["Glo6988","ReL15349","Bat23674","Res28377","Res41106","Up_39388"],Up_39388,"Up_39388")

Actual (Unparsed): [[[[-51.2789135], [-51.2789135]], [[-37.9336826], [-37.9336826]]]]

Expected (Unparsed): [[[[-51.27891373165227],[-51.27891373165227]],[[-37.93368264644491],[-37.93368264644491]]]]

Actual:   [[[[-51.2789], [-51.2789]], [[-37.9336], [-37.9336]]]]

Expected: [[[[-51.2789], [-51.2789]], [[-37.9336], [-37.9336]]]]