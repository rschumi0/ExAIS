import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min40658 = tf.keras.layers.Input(shape=([1, 2]))
in1Min40658 = tf.keras.layers.Input(shape=([1, 2]))
in0Ave3896 = tf.keras.layers.Input(shape=([1, 2]))
in0Dot8447 = tf.keras.layers.Input(shape=([2, 3]))
in1Dot8447 = tf.keras.layers.Input(shape=([2, 3]))

Min40658 = keras.layers.Minimum(name = 'Min40658', )([in0Min40658,in1Min40658])
Zer99123 = keras.layers.ZeroPadding1D(padding=((1, 1)), name = 'Zer99123', )(Min40658)
Ave3896 = keras.layers.AveragePooling1D(pool_size=(1), strides=(1), padding='valid', name = 'Ave3896', )(in0Ave3896)
Zer8224 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer8224', )(Ave3896)
Dot8447 = keras.layers.Dot(axes=(2, 2), name = 'Dot8447', )([in0Dot8447,in1Dot8447])
Min3495 = keras.layers.Minimum(name = 'Min3495', )([Zer8224,Dot8447])
Zer24408 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer24408', )(Min3495)
Max29593 = keras.layers.Maximum(name = 'Max29593', )([Zer99123,Zer24408])
model = tf.keras.models.Model(inputs=[in0Min40658,in1Min40658,in0Ave3896,in0Dot8447,in1Dot8447], outputs=Max29593)
in0Min40658 = tf.constant([[[0.3172, 0.3561]]])
in1Min40658 = tf.constant([[[0.2443, 0.107]]])
in0Ave3896 = tf.constant([[[1.386, 1.4244]]])
in0Dot8447 = tf.constant([[[0.6116, 0.6588, 0.0747], [0.3644, 0.118, 0.2459]]])
in1Dot8447 = tf.constant([[[0.685, 0.2565, 0.5907], [0.5555, 0.0459, 0.9454]]])
print (np.array2string(model.predict([in0Min40658,in1Min40658,in0Ave3896,in0Dot8447,in1Dot8447],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max29593.png')

LMin40658 = minimum_layer([[[[0.3172, 0.3561]]], [[[0.2443, 0.107]]]], Min40658), 
LZer99123 = zero_padding1D_layer(Min40658, 1, 1, Zer99123), 
LAve3896 = average_pooling1D_layer([[[1.386, 1.4244]]], 1, 1, false, Ave3896), 
LZer8224 = zero_padding1D_layer(Ave3896, 1, 0, Zer8224), 
LDot8447 = dot_layer([[[0.6116, 0.6588, 0.0747], [0.3644, 0.118, 0.2459]]], [[[0.685, 0.2565, 0.5907], [0.5555, 0.0459, 0.9454]]], 2, 2, Dot8447), 
LMin3495 = minimum_layer([Zer8224,Dot8447], Min3495), 
LZer24408 = zero_padding1D_layer(Min3495, 1, 0, Zer24408), 
LMax29593 = maximum_layer([Zer99123,Zer24408], Max29593), 
exec_layers([LMin40658,LZer99123,LAve3896,LZer8224,LDot8447,LMin3495,LZer24408,LMax29593],["Min40658","Zer99123","Ave3896","Zer8224","Dot8447","Min3495","Zer24408","Max29593"],Max29593,"Max29593")

Actual (Unparsed): [[[0.0000000, 0.0000000], [0.2443000, 0.1070000], [0.4251341, 0.4403143]]]

Expected (Unparsed): [[[0,0],[0.2443,0.107],[0.42513413000000005,0.44031426]]]

Actual:   [[[0, 0], [0.2443, 0.107], [0.4252, 0.4404]]]

Expected: [[[0, 0], [0.2443, 0.107], [0.4252, 0.4404]]]