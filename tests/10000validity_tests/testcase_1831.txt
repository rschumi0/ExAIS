import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Lay69812 = tf.keras.layers.Input(shape=([2, 3, 2]))
in0Sub85417 = tf.keras.layers.Input(shape=([2]))
in1Sub85417 = tf.keras.layers.Input(shape=([2]))
in0Con18584 = tf.keras.layers.Input(shape=([10]))

Lay69812 = keras.layers.LayerNormalization(axis=2, epsilon=1.2482217296417315, name = 'Lay69812', )(in0Lay69812)
Res37546 = keras.layers.Reshape((2, 6), name = 'Res37546', )(Lay69812)
Fla48951 = keras.layers.Flatten(name = 'Fla48951', )(Res37546)
Sub85417 = keras.layers.Subtract(name = 'Sub85417', )([in0Sub85417,in1Sub85417])
Con18584 = keras.layers.Concatenate(axis=1, name = 'Con18584', )([Sub85417,in0Con18584])
Max7386 = keras.layers.Maximum(name = 'Max7386', )([Fla48951,Con18584])
model = tf.keras.models.Model(inputs=[in0Lay69812,in0Sub85417,in1Sub85417,in0Con18584], outputs=Max7386)
in0Lay69812 = tf.constant([[[[1.3324, 1.4596], [1.6326, 1.2731], [1.5175, 1.3821]], [[1.0931, 1.9225], [1.7336, 1.8485], [1.6899, 1.1901]]]])
in0Sub85417 = tf.constant([[0.4481, 0.9825]])
in1Sub85417 = tf.constant([[0.5516, 0.8101]])
in0Con18584 = tf.constant([[0.4394, 0.1646, 0.5857, 0.7951, 0.6122, 0.9608, 0.9222, 0.8382, 0.6428, 0.2589]])
print (np.array2string(model.predict([in0Lay69812,in0Sub85417,in1Sub85417,in0Con18584],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max7386.png')

LLay69812 = layer_normalization_layer([[[[1.3324, 1.4596], [1.6326, 1.2731], [1.5175, 1.3821]], [[1.0931, 1.9225], [1.7336, 1.8485], [1.6899, 1.1901]]]], 2, 1.2482217296417315, Lay69812), 
LRes37546 = reshape_layer(Lay69812, [2, 6], Res37546), 
LFla48951 = flatten_layer(Res37546, Fla48951), 
LSub85417 = subtract_layer([[0.4481, 0.9825]], [[0.5516, 0.8101]], Sub85417), 
LCon18584 = concatenate_layer([Sub85417,[[0.4394, 0.1646, 0.5857, 0.7951, 0.6122, 0.9608, 0.9222, 0.8382, 0.6428, 0.2589]]], 1, Con18584), 
LMax7386 = maximum_layer([Fla48951,Con18584], Max7386), 
exec_layers([LLay69812,LRes37546,LFla48951,LSub85417,LCon18584,LMax7386],["Lay69812","Res37546","Fla48951","Sub85417","Con18584","Max7386"],Max7386,"Max7386")

Actual (Unparsed): [[-0.1035000, 0.1724000, 0.4394000, 0.1646000, 0.5857000, 0.7951000, 0.6122000, 0.9608000, 0.9222000, 0.8382000, 0.6428000, 0.2589000]]

Expected (Unparsed): [[-0.10349999999999998,0.1724,0.4394,0.1646,0.5857,0.7951,0.6122,0.9608,0.9222,0.8382,0.6428,0.2589]]

Actual:   [[-0.1035, 0.1724, 0.4394, 0.1646, 0.5857, 0.7951, 0.6122, 0.9608, 0.9222, 0.8382, 0.6428, 0.2589]]

Expected: [[-0.1034, 0.1724, 0.4394, 0.1646, 0.5857, 0.7951, 0.6122, 0.9608, 0.9222, 0.8382, 0.6428, 0.2589]]