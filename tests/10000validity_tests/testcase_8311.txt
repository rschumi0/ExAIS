import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul6538 = tf.keras.layers.Input(shape=([1, 1, 1]))
in1Mul6538 = tf.keras.layers.Input(shape=([1, 1, 1]))
in0Con61141 = tf.keras.layers.Input(shape=([1, 3]))
in0Zer32437 = tf.keras.layers.Input(shape=([2, 4]))

Mul6538 = keras.layers.Multiply(name = 'Mul6538', )([in0Mul6538,in1Mul6538])
Res88484 = keras.layers.Reshape((1, 1), name = 'Res88484', )(Mul6538)
Con61141 = keras.layers.Concatenate(axis=2, name = 'Con61141', )([Res88484,in0Con61141])
Zer32437 = keras.layers.ZeroPadding1D(padding=((1, 1)), name = 'Zer32437', )(in0Zer32437)
Zer50846 = keras.layers.ZeroPadding1D(padding=((3, 0)), name = 'Zer50846', )(Zer32437)
Dot56759 = keras.layers.Dot(axes=(2, 2), name = 'Dot56759', )([Con61141,Zer50846])
model = tf.keras.models.Model(inputs=[in0Mul6538,in1Mul6538,in0Con61141,in0Zer32437], outputs=Dot56759)
in0Mul6538 = tf.constant([[[[0.3818]]]])
in1Mul6538 = tf.constant([[[[0.3386]]]])
in0Con61141 = tf.constant([[[0.8866, 0.4291, 0.646]]])
in0Zer32437 = tf.constant([[[1.6503, 1.5032, 1.0731, 1.2743], [1.943, 1.4475, 1.2626, 1.8351]]])
print (np.array2string(model.predict([in0Mul6538,in1Mul6538,in0Con61141,in0Zer32437],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Dot56759.png')

LMul6538 = multiply_layer([[[[[0.3818]]]], [[[[0.3386]]]]], Mul6538), 
LRes88484 = reshape_layer(Mul6538, [1, 1], Res88484), 
LCon61141 = concatenate_layer([Res88484,[[[0.8866, 0.4291, 0.646]]]], 2, Con61141), 
LZer32437 = zero_padding1D_layer([[[1.6503, 1.5032, 1.0731, 1.2743], [1.943, 1.4475, 1.2626, 1.8351]]], 1, 1, Zer32437), 
LZer50846 = zero_padding1D_layer(Zer32437, 3, 0, Zer50846), 
LDot56759 = dot_layer(Con61141,Zer50846, 2, 2, Dot56759), 
exec_layers([LMul6538,LRes88484,LCon61141,LZer32437,LZer50846,LDot56759],["Mul6538","Res88484","Con61141","Zer32437","Zer50846","Dot56759"],Dot56759,"Dot56759")

Actual (Unparsed): [[[0.0000000, 0.0000000, 0.0000000, 0.0000000, 2.8297489, 3.2617960, 0.0000000]]]

Expected (Unparsed): [[[0.0,0.0,0.0,0.0,2.829748755244,3.26179590364,0.0]]]

Actual:   [[[0, 0, 0, 0, 2.8298, 3.2618, 0]]]

Expected: [[[0, 0, 0, 0, 2.8298, 3.2618, 0]]]