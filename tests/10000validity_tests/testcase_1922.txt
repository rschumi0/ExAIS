import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0LST19619 = tf.keras.layers.Input(shape=([1, 2]))

LST19619 = keras.layers.LSTM(3,recurrent_activation='sigmoid', name = 'LST19619', )(in0LST19619)
Res97806 = keras.layers.Reshape((3, 1), name = 'Res97806', )(LST19619)
LST96954 = keras.layers.LSTM(2,recurrent_activation='sigmoid', name = 'LST96954', )(Res97806)
Res75746 = keras.layers.Reshape((2, 1), name = 'Res75746', )(LST96954)
Sep55467 = keras.layers.SeparableConv1D(3, (2),strides=(1), padding='valid', name = 'Sep55467', )(Res75746)
model = tf.keras.models.Model(inputs=[in0LST19619], outputs=Sep55467)
w = model.get_layer('LST19619').get_weights() 
w[0] = np.array([[6, 4, 8, 7, 3, 2, 5, 3, 8, 5, 2, 8], [7, 1, 3, 7, 1, 6, 8, 8, 1, 3, 5, 2]])
w[1] = np.array([[10, 10, 5, 10, 7, 7, 1, 2, 10, 5, 2, 10], [10, 4, 4, 2, 8, 1, 8, 4, 1, 2, 9, 8], [2, 4, 9, 9, 8, 9, 3, 6, 2, 2, 3, 4]])
w[2] = np.array([10, 1, 2, 6, 9, 7, 8, 3, 7, 1, 3, 5])
model.get_layer('LST19619').set_weights(w) 
w = model.get_layer('LST96954').get_weights() 
w[0] = np.array([[7, 4, 3, 1, 5, 10, 7, 4]])
w[1] = np.array([[3, 2, 1, 10, 6, 3, 4, 8], [10, 8, 2, 10, 4, 3, 6, 7]])
w[2] = np.array([2, 8, 1, 9, 5, 7, 2, 1])
model.get_layer('LST96954').set_weights(w) 
w = model.get_layer('Sep55467').get_weights() 
w[0] = np.array([[[0.5864]], [[0.7385]]])
w[1] = np.array([[[0.2928, 0.0692, 0.2667]]])
w[2] = np.array([0, 0, 0])
model.get_layer('Sep55467').set_weights(w) 
in0LST19619 = tf.constant([[[3, 9]]])
print (np.array2string(model.predict([in0LST19619],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sep55467.png')

LLST19619 = lstm_layer([[[3, 9]]],[[6, 4, 8, 7, 3, 2, 5, 3, 8, 5, 2, 8], [7, 1, 3, 7, 1, 6, 8, 8, 1, 3, 5, 2]],[[10, 10, 5, 10, 7, 7, 1, 2, 10, 5, 2, 10], [10, 4, 4, 2, 8, 1, 8, 4, 1, 2, 9, 8], [2, 4, 9, 9, 8, 9, 3, 6, 2, 2, 3, 4]],[10, 1, 2, 6, 9, 7, 8, 3, 7, 1, 3, 5], LST19619), 
LRes97806 = reshape_layer(LST19619, [3, 1], Res97806), 
LLST96954 = lstm_layer(Res97806,[[7, 4, 3, 1, 5, 10, 7, 4]],[[3, 2, 1, 10, 6, 3, 4, 8], [10, 8, 2, 10, 4, 3, 6, 7]],[2, 8, 1, 9, 5, 7, 2, 1], LST96954), 
LRes75746 = reshape_layer(LST96954, [2, 1], Res75746), 
LSep55467 = separable_conv1D_layer(Res75746, 2,[[[[0.5864]], [[0.7385]]],[[[0.2928, 0.0692, 0.2667]]]],[0, 0, 0], 1, false, Sep55467), 
exec_layers([LLST19619,LRes97806,LLST96954,LRes75746,LSep55467],["LST19619","Res97806","LST96954","Res75746","Sep55467"],Sep55467,"Sep55467")

Actual (Unparsed): [[[0.3859974, 0.0912262, 0.3515899]]]

Expected (Unparsed): [[[0.3859974148379822,0.09122616498220071,0.3515898583923833]]]

Actual:   [[[0.386, 0.0913, 0.3516]]]

Expected: [[[0.386, 0.0913, 0.3516]]]