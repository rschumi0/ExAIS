import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub56841 = tf.keras.layers.Input(shape=([3, 2, 3, 2]))
in1Sub56841 = tf.keras.layers.Input(shape=([3, 2, 3, 2]))

Sub56841 = keras.layers.Subtract(name = 'Sub56841', )([in0Sub56841,in1Sub56841])
Res80120 = keras.layers.Reshape((3, 2, 6), name = 'Res80120', )(Sub56841)
Res1772 = keras.layers.Reshape((3, 12), name = 'Res1772', )(Res80120)
Zer51899 = keras.layers.ZeroPadding1D(padding=((1, 1)), name = 'Zer51899', )(Res1772)
model = tf.keras.models.Model(inputs=[in0Sub56841,in1Sub56841], outputs=Zer51899)
in0Sub56841 = tf.constant([[[[[0.2021, 0.8198], [0.3861, 0.8262], [0.3295, 0.3191]], [[0.4129, 0.5718], [0.1839, 0.0061], [0.8207, 0.3986]]], [[[0.1943, 0.7999], [0.9117, 0.046], [0.8578, 0.5697]], [[0.1855, 0.8838], [0.0842, 0.3067], [0.7804, 0.6797]]], [[[0.2609, 0.4571], [0.9923, 0.3749], [0.1415, 0.1607]], [[0.3441, 0.4684], [0.1512, 0.4236], [0.8063, 0.1598]]]]])
in1Sub56841 = tf.constant([[[[[0.7299, 0.315], [0.937, 0.2289], [0.8859, 0.1253]], [[0.9078, 0.7404], [0.2238, 0.046], [0.604, 0.0545]]], [[[0.3252, 0.341], [0.2538, 0.2956], [0.5123, 0.1674]], [[0.3238, 0.3876], [0.7038, 0.1713], [0.7446, 0.9973]]], [[[0.2857, 0.7393], [0.8817, 0.2452], [0.6611, 0.3133]], [[0.0476, 0.8413], [0.4197, 0.4952], [0.7715, 0.3814]]]]])
print (np.array2string(model.predict([in0Sub56841,in1Sub56841],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Zer51899.png')

LSub56841 = subtract_layer([[[[[0.2021, 0.8198], [0.3861, 0.8262], [0.3295, 0.3191]], [[0.4129, 0.5718], [0.1839, 0.0061], [0.8207, 0.3986]]], [[[0.1943, 0.7999], [0.9117, 0.046], [0.8578, 0.5697]], [[0.1855, 0.8838], [0.0842, 0.3067], [0.7804, 0.6797]]], [[[0.2609, 0.4571], [0.9923, 0.3749], [0.1415, 0.1607]], [[0.3441, 0.4684], [0.1512, 0.4236], [0.8063, 0.1598]]]]], [[[[[0.7299, 0.315], [0.937, 0.2289], [0.8859, 0.1253]], [[0.9078, 0.7404], [0.2238, 0.046], [0.604, 0.0545]]], [[[0.3252, 0.341], [0.2538, 0.2956], [0.5123, 0.1674]], [[0.3238, 0.3876], [0.7038, 0.1713], [0.7446, 0.9973]]], [[[0.2857, 0.7393], [0.8817, 0.2452], [0.6611, 0.3133]], [[0.0476, 0.8413], [0.4197, 0.4952], [0.7715, 0.3814]]]]], Sub56841), 
LRes80120 = reshape_layer(Sub56841, [3, 2, 6], Res80120), 
LRes1772 = reshape_layer(Res80120, [3, 12], Res1772), 
LZer51899 = zero_padding1D_layer(Res1772, 1, 1, Zer51899), 
exec_layers([LSub56841,LRes80120,LRes1772,LZer51899],["Sub56841","Res80120","Res1772","Zer51899"],Zer51899,"Zer51899")

Actual (Unparsed): [[[0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000], [-0.5278000, 0.5048000, -0.5509000, 0.5973000, -0.5564000, 0.1938000, -0.4949000, -0.1686000, -0.0399000, -0.0399000, 0.2167000, 0.3441000], [-0.1309000, 0.4589000, 0.6579000, -0.2496000, 0.3455000, 0.4023000, -0.1383000, 0.4962000, -0.6196000, 0.1354000, 0.0358000, -0.3176000], [-0.0248000, -0.2822000, 0.1106000, 0.1297000, -0.5196000, -0.1526000, 0.2965000, -0.3729000, -0.2685000, -0.0716000, 0.0348000, -0.2216000], [0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000]]]

Expected (Unparsed): [[[0,0,0,0,0,0,0,0,0,0,0,0],[-0.5278,0.5047999999999999,-0.5509000000000001,0.5973,-0.5564,0.1938,-0.49490000000000006,-0.16859999999999997,-0.03989999999999999,-0.0399,0.2167,0.3441],[-0.1309,0.45890000000000003,0.6578999999999999,-0.2496,0.34550000000000003,0.4023,-0.13829999999999998,0.49620000000000003,-0.6195999999999999,0.13539999999999996,0.03579999999999994,-0.3176],[-0.02479999999999999,-0.28219999999999995,0.11059999999999992,0.1297,-0.5196000000000001,-0.1526,0.2965,-0.37290000000000006,-0.2685,-0.0716,0.03480000000000005,-0.22160000000000002],[0,0,0,0,0,0,0,0,0,0,0,0]]]

Actual:   [[[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [-0.5278, 0.5048, -0.5509, 0.5973, -0.5564, 0.1938, -0.4949, -0.1686, -0.0399, -0.0399, 0.2167, 0.3441], [-0.1309, 0.4589, 0.6579, -0.2496, 0.3455, 0.4023, -0.1383, 0.4962, -0.6196, 0.1354, 0.0358, -0.3176], [-0.0248, -0.2822, 0.1106, 0.1297, -0.5196, -0.1526, 0.2965, -0.3729, -0.2685, -0.0716, 0.0348, -0.2216], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]]]

Expected: [[[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [-0.5278, 0.5048, -0.5509, 0.5973, -0.5564, 0.1938, -0.4949, -0.1685, -0.0398, -0.0399, 0.2167, 0.3441], [-0.1309, 0.459, 0.6579, -0.2496, 0.3456, 0.4023, -0.1382, 0.4963, -0.6195, 0.1354, 0.0358, -0.3176], [-0.0247, -0.2821, 0.1106, 0.1297, -0.5196, -0.1526, 0.2965, -0.3729, -0.2685, -0.0716, 0.0349, -0.2216], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]]]