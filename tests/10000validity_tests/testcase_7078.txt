import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add92948 = tf.keras.layers.Input(shape=([2, 1, 1]))
in1Add92948 = tf.keras.layers.Input(shape=([2, 1, 1]))
in0Con28362 = tf.keras.layers.Input(shape=([2, 1, 1]))
in0Add69071 = tf.keras.layers.Input(shape=([2, 1, 1, 2]))
in1Add69071 = tf.keras.layers.Input(shape=([2, 1, 1, 2]))
in0Max67819 = tf.keras.layers.Input(shape=([2, 1, 1]))
in1Max67819 = tf.keras.layers.Input(shape=([2, 1, 1]))
in0Con25168 = tf.keras.layers.Input(shape=([2, 1, 1]))

Add92948 = keras.layers.Add(name = 'Add92948', )([in0Add92948,in1Add92948])
Con28362 = keras.layers.Concatenate(axis=3, name = 'Con28362', )([Add92948,in0Con28362])
Add69071 = keras.layers.Add(name = 'Add69071', )([in0Add69071,in1Add69071])
Res42412 = keras.layers.Reshape((2, 1, 2), name = 'Res42412', )(Add69071)
Max67819 = keras.layers.Maximum(name = 'Max67819', )([in0Max67819,in1Max67819])
Con25168 = keras.layers.Concatenate(axis=3, name = 'Con25168', )([Max67819,in0Con25168])
Add91221 = keras.layers.Add(name = 'Add91221', )([Res42412,Con25168])
Ave7951 = keras.layers.Average(name = 'Ave7951', )([Con28362,Add91221])
model = tf.keras.models.Model(inputs=[in0Add92948,in1Add92948,in0Con28362,in0Add69071,in1Add69071,in0Max67819,in1Max67819,in0Con25168], outputs=Ave7951)
in0Add92948 = tf.constant([[[[0.9742]], [[0.3137]]]])
in1Add92948 = tf.constant([[[[0.0829]], [[0.5561]]]])
in0Con28362 = tf.constant([[[[0.5985]], [[0.1668]]]])
in0Add69071 = tf.constant([[[[[0.0803, 0.4953]]], [[[0.3121, 0.7971]]]]])
in1Add69071 = tf.constant([[[[[0.4657, 0.6784]]], [[[0.4237, 0.0954]]]]])
in0Max67819 = tf.constant([[[[0.1025]], [[0.0082]]]])
in1Max67819 = tf.constant([[[[0.917]], [[0.1001]]]])
in0Con25168 = tf.constant([[[[0.3074]], [[0.2642]]]])
print (np.array2string(model.predict([in0Add92948,in1Add92948,in0Con28362,in0Add69071,in1Add69071,in0Max67819,in1Max67819,in0Con25168],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Ave7951.png')

LAdd92948 = add_layer([[[[[0.9742]], [[0.3137]]]], [[[[0.0829]], [[0.5561]]]]], Add92948), 
LCon28362 = concatenate_layer([Add92948,[[[[0.5985]], [[0.1668]]]]], 3, Con28362), 
LAdd69071 = add_layer([[[[[[0.0803, 0.4953]]], [[[0.3121, 0.7971]]]]], [[[[[0.4657, 0.6784]]], [[[0.4237, 0.0954]]]]]], Add69071), 
LRes42412 = reshape_layer(Add69071, [2, 1, 2], Res42412), 
LMax67819 = maximum_layer([[[[[0.1025]], [[0.0082]]]], [[[[0.917]], [[0.1001]]]]], Max67819), 
LCon25168 = concatenate_layer([Max67819,[[[[0.3074]], [[0.2642]]]]], 3, Con25168), 
LAdd91221 = add_layer([Res42412,Con25168], Add91221), 
LAve7951 = average_layer([Con28362,Add91221], Ave7951), 
exec_layers([LAdd92948,LCon28362,LAdd69071,LRes42412,LMax67819,LCon25168,LAdd91221,LAve7951],["Add92948","Con28362","Add69071","Res42412","Max67819","Con25168","Add91221","Ave7951"],Ave7951,"Ave7951")

Actual (Unparsed): [[[[1.2600500, 1.0398000]], [[0.8528500, 0.6617500]]]]

Expected (Unparsed): [[[[1.2600500000000001,1.0398]],[[0.85285,0.6617500000000001]]]]

Actual:   [[[[1.2601, 1.0398]], [[0.8529, 0.6618]]]]

Expected: [[[[1.2601, 1.0398]], [[0.8529, 0.6618]]]]