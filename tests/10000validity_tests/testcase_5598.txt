import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub49482 = tf.keras.layers.Input(shape=([2]))
in1Sub49482 = tf.keras.layers.Input(shape=([2]))

Sub49482 = keras.layers.Subtract(name = 'Sub49482', )([in0Sub49482,in1Sub49482])
Res15555 = keras.layers.Reshape((2, 1), name = 'Res15555', )(Sub49482)
Res63155 = keras.layers.Reshape((2, 1, 1), name = 'Res63155', )(Res15555)
Max99022 = keras.layers.MaxPool2D(pool_size=(2, 1), name = 'Max99022', )(Res63155)
Res24394 = keras.layers.Reshape((1, 1), name = 'Res24394', )(Max99022)
Zer69140 = keras.layers.ZeroPadding1D(padding=((1, 1)), name = 'Zer69140', )(Res24394)
model = tf.keras.models.Model(inputs=[in0Sub49482,in1Sub49482], outputs=Zer69140)
in0Sub49482 = tf.constant([[0.7426, 0.6482]])
in1Sub49482 = tf.constant([[0.3998, 0.3296]])
print (np.array2string(model.predict([in0Sub49482,in1Sub49482],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Zer69140.png')

LSub49482 = subtract_layer([[0.7426, 0.6482]], [[0.3998, 0.3296]], Sub49482), 
LRes15555 = reshape_layer(Sub49482, [2, 1], Res15555), 
LRes63155 = reshape_layer(Res15555, [2, 1, 1], Res63155), 
LMax99022 = max_pool2D_layer(Res63155, 2, 1, Max99022), 
LRes24394 = reshape_layer(Max99022, [1, 1], Res24394), 
LZer69140 = zero_padding1D_layer(Res24394, 1, 1, Zer69140), 
exec_layers([LSub49482,LRes15555,LRes63155,LMax99022,LRes24394,LZer69140],["Sub49482","Res15555","Res63155","Max99022","Res24394","Zer69140"],Zer69140,"Zer69140")

Actual (Unparsed): [[[0.0000000], [0.3428000], [0.0000000]]]

Expected (Unparsed): [[[0],[0.34280000000000005],[0]]]

Actual:   [[[0], [0.3428], [0]]]

Expected: [[[0], [0.3429], [0]]]