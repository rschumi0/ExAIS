import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot60327 = tf.keras.layers.Input(shape=([3, 3]))
in1Dot60327 = tf.keras.layers.Input(shape=([3, 3]))

Dot60327 = keras.layers.Dot(axes=(2, 1), name = 'Dot60327', )([in0Dot60327,in1Dot60327])
Res91445 = keras.layers.Reshape((3, 3, 1), name = 'Res91445', )(Dot60327)
Dep94743 = keras.layers.DepthwiseConv2D((3, 1),strides=(1, 1), padding='same', name = 'Dep94743', )(Res91445)
model = tf.keras.models.Model(inputs=[in0Dot60327,in1Dot60327], outputs=Dep94743)
w = model.get_layer('Dep94743').get_weights() 
w[0] = np.array([[[[0.3987]]], [[[0.7798]]], [[[0.2629]]]])
w[1] = np.array([0])
model.get_layer('Dep94743').set_weights(w) 
in0Dot60327 = tf.constant([[[0.7608, 0.705, 0.5245], [0.5477, 0.1254, 0.8436], [0.5906, 0.3328, 0.4289]]])
in1Dot60327 = tf.constant([[[0.9247, 0.4154, 0.3017], [0.5766, 0.1118, 0.2566], [0.3359, 0.8796, 0.9975]]])
print (np.array2string(model.predict([in0Dot60327,in1Dot60327],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Dep94743.png')

LDot60327 = dot_layer([[[0.7608, 0.705, 0.5245], [0.5477, 0.1254, 0.8436], [0.5906, 0.3328, 0.4289]]], [[[0.9247, 0.4154, 0.3017], [0.5766, 0.1118, 0.2566], [0.3359, 0.8796, 0.9975]]], 2, 1, Dot60327), 
LRes91445 = reshape_layer(Dot60327, [3, 3, 1], Res91445), 
LDep94743 = depthwise_conv2D_layer(Res91445, 3, 1,[[[[0.3987]]], [[[0.7798]]], [[[0.2629]]]],[0], 1, 1, true, Dep94743), 
exec_layers([LDot60327,LRes91445,LDep94743],["Dot60327","Res91445","Dep94743"],Dep94743,"Dep94743")

Actual (Unparsed): [[[[1.2296281], [0.9262483], [1.0011702]], [[1.4169948], [1.2818151], [1.3641493]], [[1.0315830], [0.9066615], [0.9533735]]]]

Expected (Unparsed): [[[[1.229628055441],[0.92624826619],[1.001170228795]],[[1.416994805432],[1.2818151537400002],[1.364149367736]],[[1.031582934447],[0.9066614707380001],[0.9533734627010002]]]]

Actual:   [[[[1.2297], [0.9263], [1.0012]], [[1.417], [1.2819], [1.3642]], [[1.0316], [0.9067], [0.9534]]]]

Expected: [[[[1.2297], [0.9263], [1.0012]], [[1.417], [1.2819], [1.3642]], [[1.0316], [0.9067], [0.9534]]]]