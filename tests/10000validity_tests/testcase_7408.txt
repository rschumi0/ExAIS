import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave43271 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))
in1Ave43271 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))
in0Max62655 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))
in1Max62655 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))

Ave43271 = keras.layers.Average(name = 'Ave43271', )([in0Ave43271,in1Ave43271])
Res41382 = keras.layers.Reshape((2, 1, 1), name = 'Res41382', )(Ave43271)
Res18970 = keras.layers.Reshape((2, 1), name = 'Res18970', )(Res41382)
Max62655 = keras.layers.Maximum(name = 'Max62655', )([in0Max62655,in1Max62655])
Res34753 = keras.layers.Reshape((2, 1, 1), name = 'Res34753', )(Max62655)
Res10402 = keras.layers.Reshape((2, 1), name = 'Res10402', )(Res34753)
Max88942 = keras.layers.MaxPool1D(pool_size=(2), strides=(1), padding='valid', name = 'Max88942', )(Res10402)
Zer30882 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer30882', )(Max88942)
Min83740 = keras.layers.Minimum(name = 'Min83740', )([Res18970,Zer30882])
model = tf.keras.models.Model(inputs=[in0Ave43271,in1Ave43271,in0Max62655,in1Max62655], outputs=Min83740)
in0Ave43271 = tf.constant([[[[[0.0091]]], [[[0.8803]]]]])
in1Ave43271 = tf.constant([[[[[0.9945]]], [[[0.6157]]]]])
in0Max62655 = tf.constant([[[[[0.5191]]], [[[0.7443]]]]])
in1Max62655 = tf.constant([[[[[0.8174]]], [[[0.8527]]]]])
print (np.array2string(model.predict([in0Ave43271,in1Ave43271,in0Max62655,in1Max62655],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min83740.png')

LAve43271 = average_layer([[[[[[0.0091]]], [[[0.8803]]]]], [[[[[0.9945]]], [[[0.6157]]]]]], Ave43271), 
LRes41382 = reshape_layer(Ave43271, [2, 1, 1], Res41382), 
LRes18970 = reshape_layer(Res41382, [2, 1], Res18970), 
LMax62655 = maximum_layer([[[[[[0.5191]]], [[[0.7443]]]]], [[[[[0.8174]]], [[[0.8527]]]]]], Max62655), 
LRes34753 = reshape_layer(Max62655, [2, 1, 1], Res34753), 
LRes10402 = reshape_layer(Res34753, [2, 1], Res10402), 
LMax88942 = max_pool1D_layer(Res10402, 2, 1, false, Max88942), 
LZer30882 = zero_padding1D_layer(Max88942, 1, 0, Zer30882), 
LMin83740 = minimum_layer([Res18970,Zer30882], Min83740), 
exec_layers([LAve43271,LRes41382,LRes18970,LMax62655,LRes34753,LRes10402,LMax88942,LZer30882,LMin83740],["Ave43271","Res41382","Res18970","Max62655","Res34753","Res10402","Max88942","Zer30882","Min83740"],Min83740,"Min83740")

Actual (Unparsed): [[[0.0000000], [0.7480000]]]

Expected (Unparsed): [[[0],[0.748]]]

Actual:   [[[0], [0.748]]]

Expected: [[[0], [0.748]]]