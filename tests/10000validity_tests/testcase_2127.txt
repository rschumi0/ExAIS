import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max52393 = tf.keras.layers.Input(shape=([2, 2, 1, 1]))
in1Max52393 = tf.keras.layers.Input(shape=([2, 2, 1, 1]))

Max52393 = keras.layers.Maximum(name = 'Max52393', )([in0Max52393,in1Max52393])
Res32206 = keras.layers.Reshape((2, 2, 1), name = 'Res32206', )(Max52393)
Glo50767 = keras.layers.GlobalAveragePooling2D(name = 'Glo50767', )(Res32206)
Res38441 = keras.layers.Reshape((1, 1), name = 'Res38441', )(Glo50767)
Res10836 = keras.layers.Reshape((1, 1, 1), name = 'Res10836', )(Res38441)
Res93947 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res93947', )(Res10836)
Up_74355 = keras.layers.UpSampling3D(size=(1, 2, 1), name = 'Up_74355', )(Res93947)
model = tf.keras.models.Model(inputs=[in0Max52393,in1Max52393], outputs=Up_74355)
in0Max52393 = tf.constant([[[[[0.5535]], [[0.5452]]], [[[0.8975]], [[0.5419]]]]])
in1Max52393 = tf.constant([[[[[0.388]], [[0.4868]]], [[[0.1855]], [[0.0733]]]]])
print (np.array2string(model.predict([in0Max52393,in1Max52393],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Up_74355.png')

LMax52393 = maximum_layer([[[[[[0.5535]], [[0.5452]]], [[[0.8975]], [[0.5419]]]]], [[[[[0.388]], [[0.4868]]], [[[0.1855]], [[0.0733]]]]]], Max52393), 
LRes32206 = reshape_layer(Max52393, [2, 2, 1], Res32206), 
LGlo50767 = global_average_pooling2D_layer(Res32206, Glo50767), 
LRes38441 = reshape_layer(Glo50767, [1, 1], Res38441), 
LRes10836 = reshape_layer(Res38441, [1, 1, 1], Res10836), 
LRes93947 = reshape_layer(Res10836, [1, 1, 1, 1], Res93947), 
LUp_74355 = up_sampling3D_layer(Res93947, 1, 2, 1, Up_74355), 
exec_layers([LMax52393,LRes32206,LGlo50767,LRes38441,LRes10836,LRes93947,LUp_74355],["Max52393","Res32206","Glo50767","Res38441","Res10836","Res93947","Up_74355"],Up_74355,"Up_74355")

Actual (Unparsed): [[[[[0.6345250]], [[0.6345250]]]]]

Expected (Unparsed): [[[[[0.634525]],[[0.634525]]]]]

Actual:   [[[[[0.6346]], [[0.6346]]]]]

Expected: [[[[[0.6346]], [[0.6346]]]]]