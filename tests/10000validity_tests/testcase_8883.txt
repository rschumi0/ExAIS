import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul68096 = tf.keras.layers.Input(shape=([1, 2]))
in1Mul68096 = tf.keras.layers.Input(shape=([1, 2]))

Mul68096 = keras.layers.Multiply(name = 'Mul68096', )([in0Mul68096,in1Mul68096])
Ave88023 = keras.layers.AveragePooling1D(pool_size=(1), strides=(1), padding='valid', name = 'Ave88023', )(Mul68096)
ELU92101 = keras.layers.ELU(alpha=7.825692687474945, name = 'ELU92101', )(Ave88023)
Loc72038 = keras.layers.LocallyConnected1D(3, (1),strides=(1), name = 'Loc72038', )(ELU92101)
Ave78196 = keras.layers.AveragePooling1D(pool_size=(1), strides=(1), padding='same', name = 'Ave78196', )(Loc72038)
model = tf.keras.models.Model(inputs=[in0Mul68096,in1Mul68096], outputs=Ave78196)
w = model.get_layer('Loc72038').get_weights() 
w[0] = np.array([[[0.8071, 0.3962, 0.5895], [0.2754, 0.5102, 0.8259]]])
w[1] = np.array([[0, 0, 0]])
model.get_layer('Loc72038').set_weights(w) 
in0Mul68096 = tf.constant([[[0.1441, 0.7409]]])
in1Mul68096 = tf.constant([[[0.1467, 0.0145]]])
print (np.array2string(model.predict([in0Mul68096,in1Mul68096],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Ave78196.png')

LMul68096 = multiply_layer([[[[0.1441, 0.7409]]], [[[0.1467, 0.0145]]]], Mul68096), 
LAve88023 = average_pooling1D_layer(Mul68096, 1, 1, false, Ave88023), 
LELU92101 = elu_layer(Ave88023, 7.825692687474945, ELU92101), 
LLoc72038 = locally_connected1D_layer(ELU92101, 1,[[[0.8071, 0.3962, 0.5895], [0.2754, 0.5102, 0.8259]]],[[0, 0, 0]], 1, Loc72038), 
LAve78196 = average_pooling1D_layer(Loc72038, 1, 1, true, Ave78196), 
exec_layers([LMul68096,LAve88023,LELU92101,LLoc72038,LAve78196],["Mul68096","Ave88023","ELU92101","Loc72038","Ave78196"],Ave78196,"Ave78196")

Actual (Unparsed): [[[0.0200203, 0.0138566, 0.0213344]]]

Expected (Unparsed): [[[0.020020302207000004,0.013856562124,0.02133440256]]]

Actual:   [[[0.0201, 0.0139, 0.0214]]]

Expected: [[[0.0201, 0.0139, 0.0214]]]