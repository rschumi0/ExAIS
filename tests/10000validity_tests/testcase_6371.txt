import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max99774 = tf.keras.layers.Input(shape=([2, 2]))
in1Max99774 = tf.keras.layers.Input(shape=([2, 2]))

Max99774 = keras.layers.Maximum(name = 'Max99774', )([in0Max99774,in1Max99774])
Res89278 = keras.layers.Reshape((2, 2, 1), name = 'Res89278', )(Max99774)
Res86346 = keras.layers.Reshape((2, 2, 1, 1), name = 'Res86346', )(Res89278)
Con29916 = keras.layers.Conv3D(4, (1, 2, 1),strides=(1, 1, 1), padding='same', dilation_rate=(1, 1, 1), name = 'Con29916', )(Res86346)
Thr67088 = keras.layers.ThresholdedReLU(theta=6.7405528072065515, name = 'Thr67088', )(Con29916)
Up_63966 = keras.layers.UpSampling3D(size=(1, 1, 1), name = 'Up_63966', )(Thr67088)
ELU73084 = keras.layers.ELU(alpha=-2.3384181694761956, name = 'ELU73084', )(Up_63966)
model = tf.keras.models.Model(inputs=[in0Max99774,in1Max99774], outputs=ELU73084)
w = model.get_layer('Con29916').get_weights() 
w[0] = np.array([[[[[0.0529, 0.1348, 0.4739, 0.7051]]], [[[0.0334, 0.56, 0.7226, 0.2318]]]]])
w[1] = np.array([0, 0, 0, 0])
model.get_layer('Con29916').set_weights(w) 
in0Max99774 = tf.constant([[[0.4041, 0.1396], [0.3824, 0.8168]]])
in1Max99774 = tf.constant([[[0.5825, 0.9701], [0.9565, 0.668]]])
print (np.array2string(model.predict([in0Max99774,in1Max99774],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='ELU73084.png')

LMax99774 = maximum_layer([[[[0.4041, 0.1396], [0.3824, 0.8168]]], [[[0.5825, 0.9701], [0.9565, 0.668]]]], Max99774), 
LRes89278 = reshape_layer(Max99774, [2, 2, 1], Res89278), 
LRes86346 = reshape_layer(Res89278, [2, 2, 1, 1], Res86346), 
LCon29916 = conv3D_layer(Res86346, 1, 2, 1,[[[[[0.0529, 0.1348, 0.4739, 0.7051]]], [[[0.0334, 0.56, 0.7226, 0.2318]]]]],[0, 0, 0, 0], 1, 1, 1, true, 1, 1, 1, Con29916), 
LThr67088 = thresholded_relu_layer(Con29916, 6.7405528072065515, Thr67088), 
LUp_63966 = up_sampling3D_layer(Thr67088, 1, 1, 1, Up_63966), 
LELU73084 = elu_layer(Up_63966, -2.3384181694761956, ELU73084), 
exec_layers([LMax99774,LRes89278,LRes86346,LCon29916,LThr67088,LUp_63966,LELU73084],["Max99774","Res89278","Res86346","Con29916","Thr67088","Up_63966","ELU73084"],ELU73084,"ELU73084")

Actual (Unparsed): [[[[[-0.0000000, -0.0000000, -0.0000000, -0.0000000]], [[-0.0000000, -0.0000000, -0.0000000, -0.0000000]]], [[[-0.0000000, -0.0000000, -0.0000000, -0.0000000]], [[-0.0000000, -0.0000000, -0.0000000, -0.0000000]]]]]

Expected (Unparsed): [[[[[0,0,0,0]],[[0,0,0,0]]],[[[0,0,0,0]],[[0,0,0,0]]]]]

Actual:   [[[[[-0, -0, -0, -0]], [[-0, -0, -0, -0]]], [[[-0, -0, -0, -0]], [[-0, -0, -0, -0]]]]]

Expected: [[[[[0, 0, 0, 0]], [[0, 0, 0, 0]]], [[[0, 0, 0, 0]], [[0, 0, 0, 0]]]]]