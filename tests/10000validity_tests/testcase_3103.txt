import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add39434 = tf.keras.layers.Input(shape=([2, 2, 1, 1]))
in1Add39434 = tf.keras.layers.Input(shape=([2, 2, 1, 1]))
in0ReL92595 = tf.keras.layers.Input(shape=([1, 1, 1]))

Add39434 = keras.layers.Add(name = 'Add39434', )([in0Add39434,in1Add39434])
Res46017 = keras.layers.Reshape((2, 2, 1), name = 'Res46017', )(Add39434)
ReL92595 = keras.layers.ReLU(max_value=0.29783382887204546, negative_slope=6.712909773037472, threshold=0.6891898475393443, name = 'ReL92595', input_shape=(1, 1, 1))(in0ReL92595)
Zer85794 = keras.layers.ZeroPadding2D(padding=((1, 0), (1, 0)), name = 'Zer85794', )(ReL92595)
Ave96432 = keras.layers.Average(name = 'Ave96432', )([Res46017,Zer85794])
model = tf.keras.models.Model(inputs=[in0Add39434,in1Add39434,in0ReL92595], outputs=Ave96432)
in0Add39434 = tf.constant([[[[[0.2915]], [[0.9372]]], [[[0.2725]], [[0.9744]]]]])
in1Add39434 = tf.constant([[[[[0.4856]], [[0.732]]], [[[0.6387]], [[0.6775]]]]])
in0ReL92595 = tf.constant([[[[0.869]]]])
print (np.array2string(model.predict([in0Add39434,in1Add39434,in0ReL92595],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Ave96432.png')

LAdd39434 = add_layer([[[[[[0.2915]], [[0.9372]]], [[[0.2725]], [[0.9744]]]]], [[[[[0.4856]], [[0.732]]], [[[0.6387]], [[0.6775]]]]]], Add39434), 
LRes46017 = reshape_layer(Add39434, [2, 2, 1], Res46017), 
LReL92595 = relu_layer([[[[0.869]]]], 0.29783382887204546, 6.712909773037472, 0.6891898475393443, ReL92595), 
LZer85794 = zero_padding2D_layer(ReL92595, 1, 0, 1, 0, Zer85794), 
LAve96432 = average_layer([Res46017,Zer85794], Ave96432), 
exec_layers([LAdd39434,LRes46017,LReL92595,LZer85794,LAve96432],["Add39434","Res46017","ReL92595","Zer85794","Ave96432"],Ave96432,"Ave96432")

Actual (Unparsed): [[[[0.3885500], [0.8346000]], [[0.4556000], [0.9748669]]]]

Expected (Unparsed): [[[[0.38854999999999995],[0.8346]],[[0.4556],[0.9748669144360227]]]]

Actual:   [[[[0.3886], [0.8346]], [[0.4556], [0.9749]]]]

Expected: [[[[0.3886], [0.8346]], [[0.4556], [0.9749]]]]