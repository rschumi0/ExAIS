import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave28069 = tf.keras.layers.Input(shape=([1, 1, 2]))
in1Ave28069 = tf.keras.layers.Input(shape=([1, 1, 2]))

Ave28069 = keras.layers.Average(name = 'Ave28069', )([in0Ave28069,in1Ave28069])
Res9347 = keras.layers.Reshape((1, 2), name = 'Res9347', )(Ave28069)
Max61503 = keras.layers.MaxPool1D(pool_size=(1), strides=(7), padding='same', name = 'Max61503', )(Res9347)
model = tf.keras.models.Model(inputs=[in0Ave28069,in1Ave28069], outputs=Max61503)
in0Ave28069 = tf.constant([[[[0.438, 0.8415]]]])
in1Ave28069 = tf.constant([[[[0.7046, 0.0689]]]])
print (np.array2string(model.predict([in0Ave28069,in1Ave28069],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max61503.png')

LAve28069 = average_layer([[[[[0.438, 0.8415]]]], [[[[0.7046, 0.0689]]]]], Ave28069), 
LRes9347 = reshape_layer(Ave28069, [1, 2], Res9347), 
LMax61503 = max_pool1D_layer(Res9347, 1, 7, true, Max61503), 
exec_layers([LAve28069,LRes9347,LMax61503],["Ave28069","Res9347","Max61503"],Max61503,"Max61503")

Actual (Unparsed): [[[0.5713000, 0.4552000]]]

Expected (Unparsed): [[[0.5713,0.4552]]]

Actual:   [[[0.5713, 0.4552]]]

Expected: [[[0.5713, 0.4552]]]