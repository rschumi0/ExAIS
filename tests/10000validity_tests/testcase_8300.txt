import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub49415 = tf.keras.layers.Input(shape=([2, 3, 2]))
in1Sub49415 = tf.keras.layers.Input(shape=([2, 3, 2]))

Sub49415 = keras.layers.Subtract(name = 'Sub49415', )([in0Sub49415,in1Sub49415])
Fla90036 = keras.layers.Flatten(name = 'Fla90036', )(Sub49415)
Res79916 = keras.layers.Reshape((12, 1), name = 'Res79916', )(Fla90036)
Res58235 = keras.layers.Reshape((12, 1, 1), name = 'Res58235', )(Res79916)
Dep79969 = keras.layers.DepthwiseConv2D((11, 1),strides=(7, 7), padding='same', name = 'Dep79969', )(Res58235)
model = tf.keras.models.Model(inputs=[in0Sub49415,in1Sub49415], outputs=Dep79969)
w = model.get_layer('Dep79969').get_weights() 
w[0] = np.array([[[[0.9722]]], [[[0.0658]]], [[[0.2846]]], [[[0.7608]]], [[[0.7163]]], [[[0.0193]]], [[[0.0061]]], [[[0.2372]]], [[[0.7309]]], [[[0.0594]]], [[[0.0888]]]])
w[1] = np.array([0])
model.get_layer('Dep79969').set_weights(w) 
in0Sub49415 = tf.constant([[[[0.1547, 0.3815], [0.4651, 0.2048], [0.0555, 0.4146]], [[0.9688, 0.5329], [0.0663, 0.6158], [0.5016, 0.0046]]]])
in1Sub49415 = tf.constant([[[[0.1676, 0.027], [0.7678, 0.5082], [0.6049, 0.0628]], [[0.1001, 0.0848], [0.669, 0.1278], [0.4401, 0.3908]]]])
print (np.array2string(model.predict([in0Sub49415,in1Sub49415],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Dep79969.png')

LSub49415 = subtract_layer([[[[0.1547, 0.3815], [0.4651, 0.2048], [0.0555, 0.4146]], [[0.9688, 0.5329], [0.0663, 0.6158], [0.5016, 0.0046]]]], [[[[0.1676, 0.027], [0.7678, 0.5082], [0.6049, 0.0628]], [[0.1001, 0.0848], [0.669, 0.1278], [0.4401, 0.3908]]]], Sub49415), 
LFla90036 = flatten_layer(Sub49415, Fla90036), 
LRes79916 = reshape_layer(Fla90036, [12, 1], Res79916), 
LRes58235 = reshape_layer(Res79916, [12, 1, 1], Res58235), 
LDep79969 = depthwise_conv2D_layer(Res58235, 11, 1,[[[[0.9722]]], [[[0.0658]]], [[[0.2846]]], [[[0.7608]]], [[[0.7163]]], [[[0.0193]]], [[[0.0061]]], [[[0.2372]]], [[[0.7309]]], [[[0.0594]]], [[[0.0888]]]],[0], 7, 7, true, Dep79969), 
exec_layers([LSub49415,LFla90036,LRes79916,LRes58235,LDep79969],["Sub49415","Fla90036","Res79916","Res58235","Dep79969"],Dep79969,"Dep79969")

Actual (Unparsed): [[[[0.4546262]], [[-0.4363589]]]]

Expected (Unparsed): [[[[0.45462618]],[[-0.4363588399999999]]]]

Actual:   [[[[0.4547]], [[-0.4363]]]]

Expected: [[[[0.4547]], [[-0.4363]]]]