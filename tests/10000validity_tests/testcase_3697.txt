import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max10319 = tf.keras.layers.Input(shape=([1, 2]))
in1Max10319 = tf.keras.layers.Input(shape=([1, 2]))

Max10319 = keras.layers.Maximum(name = 'Max10319', )([in0Max10319,in1Max10319])
Res13581 = keras.layers.Reshape((1, 2, 1), name = 'Res13581', )(Max10319)
Res88385 = keras.layers.Reshape((1, 2, 1, 1), name = 'Res88385', )(Res13581)
Con4033 = keras.layers.Conv3DTranspose(4, (1, 2, 1),strides=(1, 1, 1), padding='same', name = 'Con4033', )(Res88385)
Up_66375 = keras.layers.UpSampling3D(size=(2, 1, 1), name = 'Up_66375', )(Con4033)
Res69555 = keras.layers.Reshape((2, 2, 4), name = 'Res69555', )(Up_66375)
Cro94905 = keras.layers.Cropping2D(cropping=((1, 0), (1, 0)), name = 'Cro94905', )(Res69555)
model = tf.keras.models.Model(inputs=[in0Max10319,in1Max10319], outputs=Cro94905)
w = model.get_layer('Con4033').get_weights() 
w[0] = np.array([[[[[0.6647], [0.0634], [0.6684], [0.5854]]], [[[0.41], [0.4683], [0.5305], [0.6203]]]]])
w[1] = np.array([0, 0, 0, 0])
model.get_layer('Con4033').set_weights(w) 
in0Max10319 = tf.constant([[[0.8847, 0.7897]]])
in1Max10319 = tf.constant([[[0.2172, 0.9166]]])
print (np.array2string(model.predict([in0Max10319,in1Max10319],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Cro94905.png')

LMax10319 = maximum_layer([[[[0.8847, 0.7897]]], [[[0.2172, 0.9166]]]], Max10319), 
LRes13581 = reshape_layer(Max10319, [1, 2, 1], Res13581), 
LRes88385 = reshape_layer(Res13581, [1, 2, 1, 1], Res88385), 
LCon4033 = conv3D_transpose_layer(Res88385, 1, 2, 1,[[[[[0.6647], [0.0634], [0.6684], [0.5854]]], [[[0.41], [0.4683], [0.5305], [0.6203]]]]],[0, 0, 0, 0], 1, 1, 1, true, Con4033), 
LUp_66375 = up_sampling3D_layer(Con4033, 2, 1, 1, Up_66375), 
LRes69555 = reshape_layer(Up_66375, [2, 2, 4], Res69555), 
LCro94905 = cropping2D_layer(Res69555, 1, 0, 1, 0, Cro94905), 
exec_layers([LMax10319,LRes13581,LRes88385,LCon4033,LUp_66375,LRes69555,LCro94905],["Max10319","Res13581","Res88385","Con4033","Up_66375","Res69555","Cro94905"],Cro94905,"Cro94905")

Actual (Unparsed): [[[[0.9719910, 0.4724174, 1.0819888, 1.0853570]]]]

Expected (Unparsed): [[[[0.9719910199999999,0.47241745,1.08198879,1.0853570499999998]]]]

Actual:   [[[[0.972, 0.4725, 1.082, 1.0854]]]]

Expected: [[[[0.972, 0.4725, 1.082, 1.0854]]]]