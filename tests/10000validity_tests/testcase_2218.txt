import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0ReL10163 = tf.keras.layers.Input(shape=([2, 1, 1]))

ReL10163 = keras.layers.ReLU(max_value=0.2697551387320027, negative_slope=4.895141823405641, threshold=1.1261071280805113, name = 'ReL10163', input_shape=(2, 1, 1))(in0ReL10163)
Res53788 = keras.layers.Reshape((2, 1, 1, 1), name = 'Res53788', )(ReL10163)
Con64170 = keras.layers.Conv3DTranspose(2, (2, 1, 1),strides=(1, 1, 1), padding='valid', name = 'Con64170', )(Res53788)
Res84186 = keras.layers.Reshape((3, 1, 2), name = 'Res84186', )(Con64170)
Con59054 = keras.layers.Conv2D(4, (1, 1),strides=(1, 1), padding='same', dilation_rate=(1, 1), name = 'Con59054', )(Res84186)
model = tf.keras.models.Model(inputs=[in0ReL10163], outputs=Con59054)
w = model.get_layer('Con64170').get_weights() 
w[0] = np.array([[[[[0.2634], [0.9406]]]], [[[[0.3074], [0.3934]]]]])
w[1] = np.array([0, 0])
model.get_layer('Con64170').set_weights(w) 
w = model.get_layer('Con59054').get_weights() 
w[0] = np.array([[[[0.0599, 0.0615, 0.4543, 0.506], [0.9945, 0.4251, 0.653, 0.2882]]]])
w[1] = np.array([0, 0, 0, 0])
model.get_layer('Con59054').set_weights(w) 
in0ReL10163 = tf.constant([[[[0.5511]], [[0.3027]]]])
print (np.array2string(model.predict([in0ReL10163],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Con59054.png')

LReL10163 = relu_layer([[[[0.5511]], [[0.3027]]]], 0.2697551387320027, 4.895141823405641, 1.1261071280805113, ReL10163), 
LRes53788 = reshape_layer(ReL10163, [2, 1, 1, 1], Res53788), 
LCon64170 = conv3D_transpose_layer(Res53788, 2, 1, 1,[[[[[0.2634], [0.9406]]]], [[[[0.3074], [0.3934]]]]],[0, 0], 1, 1, 1, false, Con64170), 
LRes84186 = reshape_layer(Con64170, [3, 1, 2], Res84186), 
LCon59054 = conv2D_layer(Res84186, 1, 1,[[[[0.0599, 0.0615, 0.4543, 0.506], [0.9945, 0.4251, 0.653, 0.2882]]]],[0, 0, 0, 0], 1, 1, true, 1, 1, Con59054), 
exec_layers([LReL10163,LRes53788,LCon64170,LRes84186,LCon59054],["ReL10163","Res53788","Con64170","Res84186","Con59054"],Con59054,"Con59054")

Actual (Unparsed): [[[[-2.6773943, -1.1710680, -2.0656667, -1.1381725]], [[-4.9870718, -2.2008975, -4.0741869, -2.3868037]], [[-1.6511723, -0.7502712, -1.5983398, -1.0839436]]]]

Expected (Unparsed): [[[[-2.677394331354504,-1.1710679975799012,-2.06566674277447,-1.1381725647126182]],[[-4.987071937265377,-2.200897496775256,-4.074186970365205,-2.38680370346065]],[[-1.6511722982061872,-0.7502712487512805,-1.5983398065866925,-1.0839436007363163]]]]

Actual:   [[[[-2.6773, -1.171, -2.0656, -1.1381]], [[-4.987, -2.2008, -4.0741, -2.3868]], [[-1.6511, -0.7502, -1.5983, -1.0839]]]]

Expected: [[[[-2.6773, -1.171, -2.0656, -1.1381]], [[-4.987, -2.2008, -4.0741, -2.3868]], [[-1.6511, -0.7502, -1.5983, -1.0839]]]]