import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add68891 = tf.keras.layers.Input(shape=([1, 1, 2]))
in1Add68891 = tf.keras.layers.Input(shape=([1, 1, 2]))

Add68891 = keras.layers.Add(name = 'Add68891', )([in0Add68891,in1Add68891])
Dep46107 = keras.layers.DepthwiseConv2D((1, 1),strides=(1, 1), padding='valid', name = 'Dep46107', )(Add68891)
Res88148 = keras.layers.Reshape((1, 2), name = 'Res88148', )(Dep46107)
Sep76434 = keras.layers.SeparableConv1D(4, (1),strides=(1), padding='valid', name = 'Sep76434', )(Res88148)
Ave23169 = keras.layers.AveragePooling1D(pool_size=(1), name = 'Ave23169', )(Sep76434)
model = tf.keras.models.Model(inputs=[in0Add68891,in1Add68891], outputs=Ave23169)
w = model.get_layer('Dep46107').get_weights() 
w[0] = np.array([[[[0.5183], [0.8231]]]])
w[1] = np.array([0, 0])
model.get_layer('Dep46107').set_weights(w) 
w = model.get_layer('Sep76434').get_weights() 
w[0] = np.array([[[0.017], [0.9549]]])
w[1] = np.array([[[0.7004, 0.9261, 0.2119, 0.0893], [0.0501, 0.4717, 0.5677, 0.6829]]])
w[2] = np.array([0, 0, 0, 0])
model.get_layer('Sep76434').set_weights(w) 
in0Add68891 = tf.constant([[[[0.1625, 0.3481]]]])
in1Add68891 = tf.constant([[[[0.4033, 0.9572]]]])
print (np.array2string(model.predict([in0Add68891,in1Add68891],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Ave23169.png')

LAdd68891 = add_layer([[[[[0.1625, 0.3481]]]], [[[[0.4033, 0.9572]]]]], Add68891), 
LDep46107 = depthwise_conv2D_layer(Add68891, 1, 1,[[[[0.5183], [0.8231]]]],[0, 0], 1, 1, false, Dep46107), 
LRes88148 = reshape_layer(Dep46107, [1, 2], Res88148), 
LSep76434 = separable_conv1D_layer(Res88148, 1,[[[[0.017], [0.9549]]],[[[0.7004, 0.9261, 0.2119, 0.0893], [0.0501, 0.4717, 0.5677, 0.6829]]]],[0, 0, 0, 0], 1, false, Sep76434), 
LAve23169 = average_pooling1D_layer(Sep76434, 1, Ave23169), 
exec_layers([LAdd68891,LDep46107,LRes88148,LSep76434,LAve23169],["Add68891","Dep46107","Res88148","Sep76434","Ave23169"],Ave23169,"Ave23169")

Actual (Unparsed): [[[0.0548912, 0.4885515, 0.5834810, 0.7010578]]]

Expected (Unparsed): [[[0.0548911786976427,0.4885515444285999,0.5834810124282759,0.7010577927277741]]]

Actual:   [[[0.0549, 0.4886, 0.5835, 0.7011]]]

Expected: [[[0.0549, 0.4886, 0.5835, 0.7011]]]