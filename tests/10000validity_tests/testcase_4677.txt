import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul21403 = tf.keras.layers.Input(shape=([2, 2, 2]))
in1Mul21403 = tf.keras.layers.Input(shape=([2, 2, 2]))

Mul21403 = keras.layers.Multiply(name = 'Mul21403', )([in0Mul21403,in1Mul21403])
Loc88785 = keras.layers.LocallyConnected2D(3, (1, 1),strides=(1, 1), name = 'Loc88785', )(Mul21403)
model = tf.keras.models.Model(inputs=[in0Mul21403,in1Mul21403], outputs=Loc88785)
w = model.get_layer('Loc88785').get_weights() 
w[0] = np.array([[[0.2929, 0.0173, 0.0284], [0.261, 0.1761, 0.8525]], [[0.4396, 0.018, 0.2789], [0.0967, 0.0657, 0.241]], [[0.8764, 0.6161, 0.9159], [0.3216, 0.6307, 0.3157]], [[0.0566, 0.3281, 0.7843], [0.1477, 0.833, 0.1899]]])
w[1] = np.array([[[0, 0, 0], [0, 0, 0]], [[0, 0, 0], [0, 0, 0]]])
model.get_layer('Loc88785').set_weights(w) 
in0Mul21403 = tf.constant([[[[0.477, 0.809], [0.2316, 0.6392]], [[0.9223, 0.0214], [0.3174, 0.4204]]]])
in1Mul21403 = tf.constant([[[[0.4294, 0.7067], [0.3102, 0.1748]], [[0.4338, 0.2635], [0.5106, 0.4941]]]])
print (np.array2string(model.predict([in0Mul21403,in1Mul21403],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Loc88785.png')

LMul21403 = multiply_layer([[[[[0.477, 0.809], [0.2316, 0.6392]], [[0.9223, 0.0214], [0.3174, 0.4204]]]], [[[[0.4294, 0.7067], [0.3102, 0.1748]], [[0.4338, 0.2635], [0.5106, 0.4941]]]]], Mul21403), 
LLoc88785 = locally_connected2D_layer(Mul21403, 1, 1,[[[0.2929, 0.0173, 0.0284], [0.261, 0.1761, 0.8525]], [[0.4396, 0.018, 0.2789], [0.0967, 0.0657, 0.241]], [[0.8764, 0.6161, 0.9159], [0.3216, 0.6307, 0.3157]], [[0.0566, 0.3281, 0.7843], [0.1477, 0.833, 0.1899]]],[[[0, 0, 0], [0, 0, 0]], [[0, 0, 0], [0, 0, 0]]], 1, 1, Loc88785), 
exec_layers([LMul21403,LLoc88785],["Mul21403","Loc88785"],Loc88785,"Loc88785")

Actual (Unparsed): [[[[0.2092119, 0.1042234, 0.4932086], [0.0423864, 0.0086340, 0.0469643]], [[0.3524556, 0.2500542, 0.3682261], [0.0398530, 0.2262038, 0.1665531]]]]

Expected (Unparsed): [[[[0.20921188932,0.10422339657000002,0.4932085516700001],[0.042386383744,0.008633964672,0.046964273608]],[[0.352455623976,0.250054207444,0.36822605719600005],[0.039853038132,0.226203802884,0.16655309992800002]]]]

Actual:   [[[[0.2093, 0.1043, 0.4933], [0.0424, 0.0087, 0.047]], [[0.3525, 0.2501, 0.3683], [0.0399, 0.2263, 0.1666]]]]

Expected: [[[[0.2093, 0.1043, 0.4933], [0.0424, 0.0087, 0.047]], [[0.3525, 0.2501, 0.3683], [0.0399, 0.2263, 0.1666]]]]