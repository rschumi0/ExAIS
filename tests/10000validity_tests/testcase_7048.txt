import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub91956 = tf.keras.layers.Input(shape=([3]))
in1Sub91956 = tf.keras.layers.Input(shape=([3]))
in0Con88675 = tf.keras.layers.Input(shape=([3, 1]))
in0Min43742 = tf.keras.layers.Input(shape=([2, 2]))
in1Min43742 = tf.keras.layers.Input(shape=([2, 2]))

Sub91956 = keras.layers.Subtract(name = 'Sub91956', )([in0Sub91956,in1Sub91956])
Res72321 = keras.layers.Reshape((3, 1), name = 'Res72321', )(Sub91956)
Con88675 = keras.layers.Concatenate(axis=2, name = 'Con88675', )([Res72321,in0Con88675])
Min43742 = keras.layers.Minimum(name = 'Min43742', )([in0Min43742,in1Min43742])
Zer54237 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer54237', )(Min43742)
Sub70888 = keras.layers.Subtract(name = 'Sub70888', )([Con88675,Zer54237])
Glo48762 = keras.layers.GlobalMaxPool1D(name = 'Glo48762', )(Sub70888)
Res86987 = keras.layers.Reshape((2, 1), name = 'Res86987', )(Glo48762)
Res99647 = keras.layers.Reshape((2, 1, 1), name = 'Res99647', )(Res86987)
Res23845 = keras.layers.Reshape((2, 1, 1, 1), name = 'Res23845', )(Res99647)
Up_88460 = keras.layers.UpSampling3D(size=(1, 1, 1), name = 'Up_88460', )(Res23845)
model = tf.keras.models.Model(inputs=[in0Sub91956,in1Sub91956,in0Con88675,in0Min43742,in1Min43742], outputs=Up_88460)
in0Sub91956 = tf.constant([[0.7142, 0.9303, 0.851]])
in1Sub91956 = tf.constant([[0.123, 0.2518, 0.2027]])
in0Con88675 = tf.constant([[[0.6111], [0.0131], [0.7554]]])
in0Min43742 = tf.constant([[[0.5135, 0.4244], [0.6394, 0.3381]]])
in1Min43742 = tf.constant([[[0.8446, 0.6978], [0.142, 0.5863]]])
print (np.array2string(model.predict([in0Sub91956,in1Sub91956,in0Con88675,in0Min43742,in1Min43742],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Up_88460.png')

LSub91956 = subtract_layer([[0.7142, 0.9303, 0.851]], [[0.123, 0.2518, 0.2027]], Sub91956), 
LRes72321 = reshape_layer(Sub91956, [3, 1], Res72321), 
LCon88675 = concatenate_layer([Res72321,[[[0.6111], [0.0131], [0.7554]]]], 2, Con88675), 
LMin43742 = minimum_layer([[[[0.5135, 0.4244], [0.6394, 0.3381]]], [[[0.8446, 0.6978], [0.142, 0.5863]]]], Min43742), 
LZer54237 = zero_padding1D_layer(Min43742, 1, 0, Zer54237), 
LSub70888 = subtract_layer(Con88675,Zer54237, Sub70888), 
LGlo48762 = global_max_pool1D_layer(Sub70888, Glo48762), 
LRes86987 = reshape_layer(Glo48762, [2, 1], Res86987), 
LRes99647 = reshape_layer(Res86987, [2, 1, 1], Res99647), 
LRes23845 = reshape_layer(Res99647, [2, 1, 1, 1], Res23845), 
LUp_88460 = up_sampling3D_layer(Res23845, 1, 1, 1, Up_88460), 
exec_layers([LSub91956,LRes72321,LCon88675,LMin43742,LZer54237,LSub70888,LGlo48762,LRes86987,LRes99647,LRes23845,LUp_88460],["Sub91956","Res72321","Con88675","Min43742","Zer54237","Sub70888","Glo48762","Res86987","Res99647","Res23845","Up_88460"],Up_88460,"Up_88460")

Actual (Unparsed): [[[[[0.5912000]]], [[[0.6111000]]]]]

Expected (Unparsed): [[[[[0.5912]]],[[[0.6111]]]]]

Actual:   [[[[[0.5912]]], [[[0.6111]]]]]

Expected: [[[[[0.5912]]], [[[0.6111]]]]]