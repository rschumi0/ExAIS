import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add9722 = tf.keras.layers.Input(shape=([1, 2]))
in1Add9722 = tf.keras.layers.Input(shape=([1, 2]))

Add9722 = keras.layers.Add(name = 'Add9722', )([in0Add9722,in1Add9722])
Lea2207 = keras.layers.LeakyReLU(alpha=3.3881282035610245, name = 'Lea2207', )(Add9722)
Res75416 = keras.layers.Reshape((1, 2, 1), name = 'Res75416', )(Lea2207)
Ave75585 = keras.layers.AveragePooling2D(pool_size=(1, 2), name = 'Ave75585', )(Res75416)
Res8619 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res8619', )(Ave75585)
Con53033 = keras.layers.Conv3DTranspose(4, (1, 1, 1),strides=(1, 8, 1), padding='same', name = 'Con53033', )(Res8619)
model = tf.keras.models.Model(inputs=[in0Add9722,in1Add9722], outputs=Con53033)
w = model.get_layer('Con53033').get_weights() 
w[0] = np.array([[[[[0.9647], [0.237], [0.4839], [0.1398]]]]])
w[1] = np.array([0, 0, 0, 0])
model.get_layer('Con53033').set_weights(w) 
in0Add9722 = tf.constant([[[0.7832, 0.6852]]])
in1Add9722 = tf.constant([[[0.0951, 0.2686]]])
print (np.array2string(model.predict([in0Add9722,in1Add9722],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Con53033.png')

LAdd9722 = add_layer([[[[0.7832, 0.6852]]], [[[0.0951, 0.2686]]]], Add9722), 
LLea2207 = leaky_relu_layer(Add9722, 3.3881282035610245, Lea2207), 
LRes75416 = reshape_layer(Lea2207, [1, 2, 1], Res75416), 
LAve75585 = average_pooling2D_layer(Res75416, 1, 2, Ave75585), 
LRes8619 = reshape_layer(Ave75585, [1, 1, 1, 1], Res8619), 
LCon53033 = conv3D_transpose_layer(Res8619, 1, 1, 1,[[[[[0.9647], [0.237], [0.4839], [0.1398]]]]],[0, 0, 0, 0], 1, 8, 1, true, Con53033), 
exec_layers([LAdd9722,LLea2207,LRes75416,LAve75585,LRes8619,LCon53033],["Add9722","Lea2207","Res75416","Ave75585","Res8619","Con53033"],Con53033,"Con53033")

Actual (Unparsed): [[[[[0.8837134, 0.2171038, 0.4432766, 0.1280638]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000]]]]]

Expected (Unparsed): [[[[[0.883713435,0.21710385,0.443276595,0.12806379]],[[0,0,0,0]],[[0,0,0,0]],[[0,0,0,0]],[[0,0,0,0]],[[0,0,0,0]],[[0,0,0,0]],[[0,0,0,0]]]]]

Actual:   [[[[[0.8838, 0.2172, 0.4433, 0.1281]], [[0, 0, 0, 0]], [[0, 0, 0, 0]], [[0, 0, 0, 0]], [[0, 0, 0, 0]], [[0, 0, 0, 0]], [[0, 0, 0, 0]], [[0, 0, 0, 0]]]]]

Expected: [[[[[0.8838, 0.2172, 0.4433, 0.1281]], [[0, 0, 0, 0]], [[0, 0, 0, 0]], [[0, 0, 0, 0]], [[0, 0, 0, 0]], [[0, 0, 0, 0]], [[0, 0, 0, 0]], [[0, 0, 0, 0]]]]]