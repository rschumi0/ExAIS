import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max71771 = tf.keras.layers.Input(shape=([2, 1, 1]))
in1Max71771 = tf.keras.layers.Input(shape=([2, 1, 1]))

Max71771 = keras.layers.Maximum(name = 'Max71771', )([in0Max71771,in1Max71771])
Res97911 = keras.layers.Reshape((2, 1, 1, 1), name = 'Res97911', )(Max71771)
Con93581 = keras.layers.Conv3DTranspose(2, (2, 1, 1),strides=(10, 1, 1), padding='same', name = 'Con93581', )(Res97911)
model = tf.keras.models.Model(inputs=[in0Max71771,in1Max71771], outputs=Con93581)
w = model.get_layer('Con93581').get_weights() 
w[0] = np.array([[[[[0.5664], [0.3894]]]], [[[[0.3437], [0.9451]]]]])
w[1] = np.array([0, 0])
model.get_layer('Con93581').set_weights(w) 
in0Max71771 = tf.constant([[[[0.0865]], [[0.7423]]]])
in1Max71771 = tf.constant([[[[0.3957]], [[0.3221]]]])
print (np.array2string(model.predict([in0Max71771,in1Max71771],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Con93581.png')

LMax71771 = maximum_layer([[[[[0.0865]], [[0.7423]]]], [[[[0.3957]], [[0.3221]]]]], Max71771), 
LRes97911 = reshape_layer(Max71771, [2, 1, 1, 1], Res97911), 
LCon93581 = conv3D_transpose_layer(Res97911, 2, 1, 1,[[[[[0.5664], [0.3894]]]], [[[[0.3437], [0.9451]]]]],[0, 0], 10, 1, 1, true, Con93581), 
exec_layers([LMax71771,LRes97911,LCon93581],["Max71771","Res97911","Con93581"],Con93581,"Con93581")

Actual (Unparsed): [[[[[0.2241245, 0.1540856]]], [[[0.1360021, 0.3739761]]], [[[0.0000000, 0.0000000]]], [[[0.0000000, 0.0000000]]], [[[0.0000000, 0.0000000]]], [[[0.0000000, 0.0000000]]], [[[0.0000000, 0.0000000]]], [[[0.0000000, 0.0000000]]], [[[0.0000000, 0.0000000]]], [[[0.0000000, 0.0000000]]], [[[0.4204387, 0.2890516]]], [[[0.2551285, 0.7015477]]], [[[0.0000000, 0.0000000]]], [[[0.0000000, 0.0000000]]], [[[0.0000000, 0.0000000]]], [[[0.0000000, 0.0000000]]], [[[0.0000000, 0.0000000]]], [[[0.0000000, 0.0000000]]], [[[0.0000000, 0.0000000]]], [[[0.0000000, 0.0000000]]]]]

Expected (Unparsed): [[[[[0.22412448000000001,0.15408558]]],[[[0.13600209,0.37397607]]],[[[0,0]]],[[[0,0]]],[[[0,0]]],[[[0,0]]],[[[0,0]]],[[[0,0]]],[[[0,0]]],[[[0,0]]],[[[0.42043872,0.28905162]]],[[[0.25512851,0.70154773]]],[[[0,0]]],[[[0,0]]],[[[0,0]]],[[[0,0]]],[[[0,0]]],[[[0,0]]],[[[0,0]]],[[[0,0]]]]]

Actual:   [[[[[0.2242, 0.1541]]], [[[0.1361, 0.374]]], [[[0, 0]]], [[[0, 0]]], [[[0, 0]]], [[[0, 0]]], [[[0, 0]]], [[[0, 0]]], [[[0, 0]]], [[[0, 0]]], [[[0.4205, 0.2891]]], [[[0.2552, 0.7016]]], [[[0, 0]]], [[[0, 0]]], [[[0, 0]]], [[[0, 0]]], [[[0, 0]]], [[[0, 0]]], [[[0, 0]]], [[[0, 0]]]]]

Expected: [[[[[0.2242, 0.1541]]], [[[0.1361, 0.374]]], [[[0, 0]]], [[[0, 0]]], [[[0, 0]]], [[[0, 0]]], [[[0, 0]]], [[[0, 0]]], [[[0, 0]]], [[[0, 0]]], [[[0.4205, 0.2891]]], [[[0.2552, 0.7016]]], [[[0, 0]]], [[[0, 0]]], [[[0, 0]]], [[[0, 0]]], [[[0, 0]]], [[[0, 0]]], [[[0, 0]]], [[[0, 0]]]]]