import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max12311 = tf.keras.layers.Input(shape=([1, 1, 1]))
in1Max12311 = tf.keras.layers.Input(shape=([1, 1, 1]))
in0Add47 = tf.keras.layers.Input(shape=([2, 2, 2, 2]))
in1Add47 = tf.keras.layers.Input(shape=([2, 2, 2, 2]))

Max12311 = keras.layers.Maximum(name = 'Max12311', )([in0Max12311,in1Max12311])
Res45197 = keras.layers.Reshape((1, 1), name = 'Res45197', )(Max12311)
Fla29759 = keras.layers.Flatten(name = 'Fla29759', )(Res45197)
Add47 = keras.layers.Add(name = 'Add47', )([in0Add47,in1Add47])
Res76265 = keras.layers.Reshape((2, 2, 4), name = 'Res76265', )(Add47)
Res39481 = keras.layers.Reshape((2, 8), name = 'Res39481', )(Res76265)
Fla15620 = keras.layers.Flatten(name = 'Fla15620', )(Res39481)
Res48761 = keras.layers.Reshape((16, 1), name = 'Res48761', )(Fla15620)
Glo35960 = keras.layers.GlobalAveragePooling1D(name = 'Glo35960', )(Res48761)
Min60343 = keras.layers.Minimum(name = 'Min60343', )([Fla29759,Glo35960])
Res32420 = keras.layers.Reshape((1, 1), name = 'Res32420', )(Min60343)
Res38041 = keras.layers.Reshape((1, 1, 1), name = 'Res38041', )(Res32420)
Res80086 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res80086', )(Res38041)
Cro26591 = keras.layers.Cropping3D(cropping=((0, 0), (0, 0), (0, 0)), name = 'Cro26591', )(Res80086)
model = tf.keras.models.Model(inputs=[in0Max12311,in1Max12311,in0Add47,in1Add47], outputs=Cro26591)
in0Max12311 = tf.constant([[[[0.6216]]]])
in1Max12311 = tf.constant([[[[0.5243]]]])
in0Add47 = tf.constant([[[[[0.9052, 0.1826], [0.4831, 0.8377]], [[0.0767, 0.2393], [0.1724, 0.4648]]], [[[0.5877, 0.7727], [0.2352, 0.5041]], [[0.9843, 0.2065], [0.1015, 0.8168]]]]])
in1Add47 = tf.constant([[[[[0.6905, 0.748], [0.3335, 0.3284]], [[0.5511, 0.9101], [0.1318, 0.496]]], [[[0.0428, 0.2627], [0.8071, 0.4303]], [[0.528, 0.5474], [0.3623, 0.1096]]]]])
print (np.array2string(model.predict([in0Max12311,in1Max12311,in0Add47,in1Add47],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Cro26591.png')

LMax12311 = maximum_layer([[[[[0.6216]]]], [[[[0.5243]]]]], Max12311), 
LRes45197 = reshape_layer(Max12311, [1, 1], Res45197), 
LFla29759 = flatten_layer(Res45197, Fla29759), 
LAdd47 = add_layer([[[[[[0.9052, 0.1826], [0.4831, 0.8377]], [[0.0767, 0.2393], [0.1724, 0.4648]]], [[[0.5877, 0.7727], [0.2352, 0.5041]], [[0.9843, 0.2065], [0.1015, 0.8168]]]]], [[[[[0.6905, 0.748], [0.3335, 0.3284]], [[0.5511, 0.9101], [0.1318, 0.496]]], [[[0.0428, 0.2627], [0.8071, 0.4303]], [[0.528, 0.5474], [0.3623, 0.1096]]]]]], Add47), 
LRes76265 = reshape_layer(Add47, [2, 2, 4], Res76265), 
LRes39481 = reshape_layer(Res76265, [2, 8], Res39481), 
LFla15620 = flatten_layer(Res39481, Fla15620), 
LRes48761 = reshape_layer(Fla15620, [16, 1], Res48761), 
LGlo35960 = global_average_pooling1D_layer(Res48761, Glo35960), 
LMin60343 = minimum_layer([Fla29759,Glo35960], Min60343), 
LRes32420 = reshape_layer(Min60343, [1, 1], Res32420), 
LRes38041 = reshape_layer(Res32420, [1, 1, 1], Res38041), 
LRes80086 = reshape_layer(Res38041, [1, 1, 1, 1], Res80086), 
LCro26591 = cropping3D_layer(Res80086, 0, 0, 0, 0, 0, 0, Cro26591), 
exec_layers([LMax12311,LRes45197,LFla29759,LAdd47,LRes76265,LRes39481,LFla15620,LRes48761,LGlo35960,LMin60343,LRes32420,LRes38041,LRes80086,LCro26591],["Max12311","Res45197","Fla29759","Add47","Res76265","Res39481","Fla15620","Res48761","Glo35960","Min60343","Res32420","Res38041","Res80086","Cro26591"],Cro26591,"Cro26591")

Actual (Unparsed): [[[[[0.6216000]]]]]

Expected (Unparsed): [[[[[0.6216]]]]]

Actual:   [[[[[0.6216]]]]]

Expected: [[[[[0.6216]]]]]