import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul65804 = tf.keras.layers.Input(shape=([2, 1, 2, 2]))
in1Mul65804 = tf.keras.layers.Input(shape=([2, 1, 2, 2]))

Mul65804 = keras.layers.Multiply(name = 'Mul65804', )([in0Mul65804,in1Mul65804])
Res72885 = keras.layers.Reshape((2, 1, 4), name = 'Res72885', )(Mul65804)
Res94326 = keras.layers.Reshape((2, 4), name = 'Res94326', )(Res72885)
Max64497 = keras.layers.MaxPool1D(pool_size=(2), name = 'Max64497', )(Res94326)
Res42359 = keras.layers.Reshape((1, 4, 1), name = 'Res42359', )(Max64497)
Glo39177 = keras.layers.GlobalAveragePooling2D(name = 'Glo39177', )(Res42359)
model = tf.keras.models.Model(inputs=[in0Mul65804,in1Mul65804], outputs=Glo39177)
in0Mul65804 = tf.constant([[[[[0.1541, 0.1287], [0.3618, 0.2049]]], [[[0.2497, 0.4881], [0.9429, 0.3112]]]]])
in1Mul65804 = tf.constant([[[[[0.8825, 0.3089], [0.8756, 0.3054]]], [[[0.4228, 0.7604], [0.1918, 0.4977]]]]])
print (np.array2string(model.predict([in0Mul65804,in1Mul65804],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo39177.png')

LMul65804 = multiply_layer([[[[[[0.1541, 0.1287], [0.3618, 0.2049]]], [[[0.2497, 0.4881], [0.9429, 0.3112]]]]], [[[[[0.8825, 0.3089], [0.8756, 0.3054]]], [[[0.4228, 0.7604], [0.1918, 0.4977]]]]]], Mul65804), 
LRes72885 = reshape_layer(Mul65804, [2, 1, 4], Res72885), 
LRes94326 = reshape_layer(Res72885, [2, 4], Res94326), 
LMax64497 = max_pool1D_layer(Res94326, 2, Max64497), 
LRes42359 = reshape_layer(Max64497, [1, 4, 1], Res42359), 
LGlo39177 = global_average_pooling2D_layer(Res42359, Glo39177), 
exec_layers([LMul65804,LRes72885,LRes94326,LMax64497,LRes42359,LGlo39177],["Mul65804","Res72885","Res94326","Max64497","Res42359","Glo39177"],Glo39177,"Glo39177")

Actual (Unparsed): [[0.2447052]]

Expected (Unparsed): [[0.2447052025]]

Actual:   [[0.2448]]

Expected: [[0.2448]]