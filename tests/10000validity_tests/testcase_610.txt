import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min99524 = tf.keras.layers.Input(shape=([1, 2, 2]))
in1Min99524 = tf.keras.layers.Input(shape=([1, 2, 2]))

Min99524 = keras.layers.Minimum(name = 'Min99524', )([in0Min99524,in1Min99524])
Res33004 = keras.layers.Reshape((1, 4), name = 'Res33004', )(Min99524)
Fla73222 = keras.layers.Flatten(name = 'Fla73222', )(Res33004)
Res87566 = keras.layers.Reshape((4, 1), name = 'Res87566', )(Fla73222)
Res60554 = keras.layers.Reshape((4, 1, 1), name = 'Res60554', )(Res87566)
Res20108 = keras.layers.Reshape((4, 1, 1, 1), name = 'Res20108', )(Res60554)
Glo26317 = keras.layers.GlobalMaxPool3D(name = 'Glo26317', )(Res20108)
model = tf.keras.models.Model(inputs=[in0Min99524,in1Min99524], outputs=Glo26317)
in0Min99524 = tf.constant([[[[0.3791, 0.9131], [0.5669, 0.8937]]]])
in1Min99524 = tf.constant([[[[0.9795, 0.7411], [0.4935, 0.0943]]]])
print (np.array2string(model.predict([in0Min99524,in1Min99524],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo26317.png')

LMin99524 = minimum_layer([[[[[0.3791, 0.9131], [0.5669, 0.8937]]]], [[[[0.9795, 0.7411], [0.4935, 0.0943]]]]], Min99524), 
LRes33004 = reshape_layer(Min99524, [1, 4], Res33004), 
LFla73222 = flatten_layer(Res33004, Fla73222), 
LRes87566 = reshape_layer(Fla73222, [4, 1], Res87566), 
LRes60554 = reshape_layer(Res87566, [4, 1, 1], Res60554), 
LRes20108 = reshape_layer(Res60554, [4, 1, 1, 1], Res20108), 
LGlo26317 = global_max_pool3D_layer(Res20108, Glo26317), 
exec_layers([LMin99524,LRes33004,LFla73222,LRes87566,LRes60554,LRes20108,LGlo26317],["Min99524","Res33004","Fla73222","Res87566","Res60554","Res20108","Glo26317"],Glo26317,"Glo26317")

Actual (Unparsed): [[0.7411000]]

Expected (Unparsed): [[0.7411]]

Actual:   [[0.7411]]

Expected: [[0.7411]]