import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add11616 = tf.keras.layers.Input(shape=([1, 2, 2, 1]))
in1Add11616 = tf.keras.layers.Input(shape=([1, 2, 2, 1]))

Add11616 = keras.layers.Add(name = 'Add11616', )([in0Add11616,in1Add11616])
Con69795 = keras.layers.Conv3D(2, (1, 1, 1),strides=(1, 6, 1), padding='valid', dilation_rate=(1, 1, 1), name = 'Con69795', )(Add11616)
Res86346 = keras.layers.Reshape((1, 1, 4), name = 'Res86346', )(Con69795)
Sep46305 = keras.layers.SeparableConv2D(3, (1, 1),strides=(1, 1), padding='valid', name = 'Sep46305', )(Res86346)
model = tf.keras.models.Model(inputs=[in0Add11616,in1Add11616], outputs=Sep46305)
w = model.get_layer('Con69795').get_weights() 
w[0] = np.array([[[[[0.703, 0.5286]]]]])
w[1] = np.array([0, 0])
model.get_layer('Con69795').set_weights(w) 
w = model.get_layer('Sep46305').get_weights() 
w[0] = np.array([[[[0.3175], [0.0748], [0.1765], [0.0288]]]])
w[1] = np.array([[[[0.3796, 0.7546, 0.6334], [0.4385, 0.2104, 0.8724], [0.5087, 0.9026, 0.4737], [0.8183, 0.9632, 0.2136]]]])
w[2] = np.array([0, 0, 0])
model.get_layer('Sep46305').set_weights(w) 
in0Add11616 = tf.constant([[[[[0.2377], [0.2746]], [[0.5373], [0.5729]]]]])
in1Add11616 = tf.constant([[[[[0.11], [0.6189]], [[0.2976], [0.7497]]]]])
print (np.array2string(model.predict([in0Add11616,in1Add11616],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sep46305.png')

LAdd11616 = add_layer([[[[[[0.2377], [0.2746]], [[0.5373], [0.5729]]]]], [[[[[0.11], [0.6189]], [[0.2976], [0.7497]]]]]], Add11616), 
LCon69795 = conv3D_layer(Add11616, 1, 1, 1,[[[[[0.703, 0.5286]]]]],[0, 0], 1, 6, 1, false, 1, 1, 1, Con69795), 
LRes86346 = reshape_layer(Con69795, [1, 1, 4], Res86346), 
LSep46305 = separable_conv2D_layer(Res86346, 1, 1,[[[[[0.3175], [0.0748], [0.1765], [0.0288]]]],[[[[0.3796, 0.7546, 0.6334], [0.4385, 0.2104, 0.8724], [0.5087, 0.9026, 0.4737], [0.8183, 0.9632, 0.2136]]]]],[0, 0, 0], 1, 1, false, Sep46305), 
exec_layers([LAdd11616,LCon69795,LRes86346,LSep46305],["Add11616","Con69795","Res86346","Sep46305"],Sep46305,"Sep46305")

Actual (Unparsed): [[[[0.1030161, 0.1746237, 0.1165724]]]]

Expected (Unparsed): [[[[0.10301607619959499,0.17462373552497837,0.11657241369445738]]]]

Actual:   [[[[0.1031, 0.1747, 0.1166]]]]

Expected: [[[[0.1031, 0.1747, 0.1166]]]]