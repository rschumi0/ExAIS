import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Up_47382 = tf.keras.layers.Input(shape=([3, 1, 4]))
in0Add13035 = tf.keras.layers.Input(shape=([1, 2]))
in1Add13035 = tf.keras.layers.Input(shape=([1, 2]))
in0Con56236 = tf.keras.layers.Input(shape=([2, 1]))
in0Max24899 = tf.keras.layers.Input(shape=([2, 2]))
in1Max24899 = tf.keras.layers.Input(shape=([2, 2]))
in0Con66269 = tf.keras.layers.Input(shape=([3, 2]))
in0Mul26904 = tf.keras.layers.Input(shape=([1, 1, 2, 1]))
in1Mul26904 = tf.keras.layers.Input(shape=([1, 1, 2, 1]))
in0Add91333 = tf.keras.layers.Input(shape=([2, 2, 1, 1]))
in1Add91333 = tf.keras.layers.Input(shape=([2, 2, 1, 1]))

Up_47382 = keras.layers.UpSampling2D(size=(1, 1), name = 'Up_47382', )(in0Up_47382)
Res48215 = keras.layers.Reshape((3, 4), name = 'Res48215', )(Up_47382)
Cro7606 = keras.layers.Cropping1D(cropping=((0, 0)), name = 'Cro7606', )(Res48215)
Add13035 = keras.layers.Add(name = 'Add13035', )([in0Add13035,in1Add13035])
Glo51861 = keras.layers.GlobalMaxPool1D(name = 'Glo51861', )(Add13035)
Res30733 = keras.layers.Reshape((2, 1), name = 'Res30733', )(Glo51861)
Con56236 = keras.layers.Concatenate(axis=2, name = 'Con56236', )([Res30733,in0Con56236])
Max24899 = keras.layers.Maximum(name = 'Max24899', )([in0Max24899,in1Max24899])
Sub40615 = keras.layers.Subtract(name = 'Sub40615', )([Con56236,Max24899])
Zer83196 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer83196', )(Sub40615)
Con66269 = keras.layers.Concatenate(axis=2, name = 'Con66269', )([Zer83196,in0Con66269])
Add12729 = keras.layers.Add(name = 'Add12729', )([Cro7606,Con66269])
Res97282 = keras.layers.Reshape((3, 4, 1), name = 'Res97282', )(Add12729)
Mul26904 = keras.layers.Multiply(name = 'Mul26904', )([in0Mul26904,in1Mul26904])
Zer61357 = keras.layers.ZeroPadding3D(padding=((1, 0), (1, 0), (1, 0)), name = 'Zer61357', )(Mul26904)
Add91333 = keras.layers.Add(name = 'Add91333', )([in0Add91333,in1Add91333])
Zer93216 = keras.layers.ZeroPadding3D(padding=((0, 0), (0, 0), (2, 0)), name = 'Zer93216', )(Add91333)
Add16942 = keras.layers.Add(name = 'Add16942', )([Zer61357,Zer93216])
Res25474 = keras.layers.Reshape((3, 4, 1), name = 'Res25474', )(Add16942)
Sub72156 = keras.layers.Subtract(name = 'Sub72156', )([Res97282,Res25474])
model = tf.keras.models.Model(inputs=[in0Up_47382,in0Add13035,in1Add13035,in0Con56236,in0Max24899,in1Max24899,in0Con66269,in0Mul26904,in1Mul26904,in0Add91333,in1Add91333], outputs=Sub72156)
in0Up_47382 = tf.constant([[[[1.6202, 1.4383, 1.5195, 1.1036]], [[1.6423, 1.4681, 1.2454, 1.5907]], [[1.2132, 1.6325, 1.6966, 1.0742]]]])
in0Add13035 = tf.constant([[[0.8532, 0.2888]]])
in1Add13035 = tf.constant([[[0.67, 0.8989]]])
in0Con56236 = tf.constant([[[0.8311], [0.3842]]])
in0Max24899 = tf.constant([[[0.9482, 0.4805], [0.6872, 0.3815]]])
in1Max24899 = tf.constant([[[0.8706, 0.3207], [0.0258, 0.2103]]])
in0Con66269 = tf.constant([[[0.6409, 0.4045], [0.9444, 0.0219], [0.2083, 0.9337]]])
in0Mul26904 = tf.constant([[[[[0.5994], [0.3223]]]]])
in1Mul26904 = tf.constant([[[[[0.8205], [0.601]]]]])
in0Add91333 = tf.constant([[[[[0.1662]], [[0.0289]]], [[[0.1075]], [[0.4902]]]]])
in1Add91333 = tf.constant([[[[[0.5146]], [[0.3834]]], [[[0.9044]], [[0.209]]]]])
print (np.array2string(model.predict([in0Up_47382,in0Add13035,in1Add13035,in0Con56236,in0Max24899,in1Max24899,in0Con66269,in0Mul26904,in1Mul26904,in0Add91333,in1Add91333],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sub72156.png')

LUp_47382 = up_sampling2D_layer([[[[1.6202, 1.4383, 1.5195, 1.1036]], [[1.6423, 1.4681, 1.2454, 1.5907]], [[1.2132, 1.6325, 1.6966, 1.0742]]]], 1, 1, Up_47382), 
LRes48215 = reshape_layer(Up_47382, [3, 4], Res48215), 
LCro7606 = cropping1D_layer(Res48215, 0, 0, Cro7606), 
LAdd13035 = add_layer([[[[0.8532, 0.2888]]], [[[0.67, 0.8989]]]], Add13035), 
LGlo51861 = global_max_pool1D_layer(Add13035, Glo51861), 
LRes30733 = reshape_layer(Glo51861, [2, 1], Res30733), 
LCon56236 = concatenate_layer([Res30733,[[[0.8311], [0.3842]]]], 2, Con56236), 
LMax24899 = maximum_layer([[[[0.9482, 0.4805], [0.6872, 0.3815]]], [[[0.8706, 0.3207], [0.0258, 0.2103]]]], Max24899), 
LSub40615 = subtract_layer(Con56236,Max24899, Sub40615), 
LZer83196 = zero_padding1D_layer(Sub40615, 1, 0, Zer83196), 
LCon66269 = concatenate_layer([Zer83196,[[[0.6409, 0.4045], [0.9444, 0.0219], [0.2083, 0.9337]]]], 2, Con66269), 
LAdd12729 = add_layer([Cro7606,Con66269], Add12729), 
LRes97282 = reshape_layer(Add12729, [3, 4, 1], Res97282), 
LMul26904 = multiply_layer([[[[[[0.5994], [0.3223]]]]], [[[[[0.8205], [0.601]]]]]], Mul26904), 
LZer61357 = zero_padding3D_layer(Mul26904, 1, 0, 1, 0, 1, 0, Zer61357), 
LAdd91333 = add_layer([[[[[[0.1662]], [[0.0289]]], [[[0.1075]], [[0.4902]]]]], [[[[[0.5146]], [[0.3834]]], [[[0.9044]], [[0.209]]]]]], Add91333), 
LZer93216 = zero_padding3D_layer(Add91333, 0, 0, 0, 0, 2, 0, Zer93216), 
LAdd16942 = add_layer([Zer61357,Zer93216], Add16942), 
LRes25474 = reshape_layer(Add16942, [3, 4, 1], Res25474), 
LSub72156 = subtract_layer(Res97282,Res25474, Sub72156), 
exec_layers([LUp_47382,LRes48215,LCro7606,LAdd13035,LGlo51861,LRes30733,LCon56236,LMax24899,LSub40615,LZer83196,LCon66269,LAdd12729,LRes97282,LMul26904,LZer61357,LAdd91333,LZer93216,LAdd16942,LRes25474,LSub72156],["Up_47382","Res48215","Cro7606","Add13035","Glo51861","Res30733","Con56236","Max24899","Sub40615","Zer83196","Con66269","Add12729","Res97282","Mul26904","Zer61357","Add91333","Zer93216","Add16942","Res25474","Sub72156"],Sub72156,"Sub72156")

Actual (Unparsed): [[[[1.6202000], [1.4383000], [1.4796001], [1.5081000]], [[2.2173001], [1.4063999], [2.1898000], [1.6126000]], [[0.7017999], [1.6352001], [1.4130923], [1.1149977]]]]

Expected (Unparsed): [[[[1.6202],[1.4383],[1.4796],[1.5081]],[[2.2173000000000003],[1.4064],[2.1898],[1.6126]],[[0.7018],[1.6352],[1.4130923],[1.1149977000000002]]]]

Actual:   [[[[1.6202], [1.4383], [1.4797], [1.5081]], [[2.2174], [1.4064], [2.1898], [1.6126]], [[0.7018], [1.6353], [1.4131], [1.115]]]]

Expected: [[[[1.6202], [1.4383], [1.4796], [1.5081]], [[2.2174], [1.4064], [2.1898], [1.6126]], [[0.7018], [1.6352], [1.4131], [1.115]]]]