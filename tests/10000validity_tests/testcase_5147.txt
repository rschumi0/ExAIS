import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max76710 = tf.keras.layers.Input(shape=([2, 2]))

Max76710 = keras.layers.MaxPool1D(pool_size=(2), name = 'Max76710', )(in0Max76710)
Res51959 = keras.layers.Reshape((1, 2, 1), name = 'Res51959', )(Max76710)
Con3940 = keras.layers.Conv2DTranspose(4, (1, 1),strides=(1, 1), padding='same', name = 'Con3940', )(Res51959)
Fla38242 = keras.layers.Flatten(name = 'Fla38242', )(Con3940)
model = tf.keras.models.Model(inputs=[in0Max76710], outputs=Fla38242)
w = model.get_layer('Con3940').get_weights() 
w[0] = np.array([[[[0.6312], [0.9221], [0.7634], [0.9576]]]])
w[1] = np.array([0, 0, 0, 0])
model.get_layer('Con3940').set_weights(w) 
in0Max76710 = tf.constant([[[1.8017, 1.0921], [1.5783, 1.6902]]])
print (np.array2string(model.predict([in0Max76710],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Fla38242.png')

LMax76710 = max_pool1D_layer([[[1.8017, 1.0921], [1.5783, 1.6902]]], 2, Max76710), 
LRes51959 = reshape_layer(Max76710, [1, 2, 1], Res51959), 
LCon3940 = conv2D_transpose_layer(Res51959, 1, 1,[[[[0.6312], [0.9221], [0.7634], [0.9576]]]],[0, 0, 0, 0], 1, 1, true, Con3940), 
LFla38242 = flatten_layer(Con3940, Fla38242), 
exec_layers([LMax76710,LRes51959,LCon3940,LFla38242],["Max76710","Res51959","Con3940","Fla38242"],Fla38242,"Fla38242")

Actual (Unparsed): [[1.1372330, 1.6613476, 1.3754178, 1.7253079, 1.0668542, 1.5585334, 1.2902987, 1.6185355]]

Expected (Unparsed): [[1.13723304,1.6613475700000002,1.37541778,1.72530792,1.0668542399999998,1.55853342,1.2902986799999998,1.61853552]]

Actual:   [[1.1373, 1.6614, 1.3755, 1.7254, 1.0669, 1.5586, 1.2903, 1.6186]]

Expected: [[1.1373, 1.6614, 1.3755, 1.7254, 1.0669, 1.5586, 1.2903, 1.6186]]