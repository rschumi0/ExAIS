import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave27257 = tf.keras.layers.Input(shape=([1, 1, 2]))
in0Min72174 = tf.keras.layers.Input(shape=([1, 1, 2, 1]))
in1Min72174 = tf.keras.layers.Input(shape=([1, 1, 2, 1]))

Ave27257 = keras.layers.AveragePooling2D(pool_size=(1, 1), name = 'Ave27257', )(in0Ave27257)
Min72174 = keras.layers.Minimum(name = 'Min72174', )([in0Min72174,in1Min72174])
Res52410 = keras.layers.Reshape((1, 1, 2), name = 'Res52410', )(Min72174)
Sep56170 = keras.layers.SeparableConv2D(2, (1, 1),strides=(1, 1), padding='same', name = 'Sep56170', )(Res52410)
Add90594 = keras.layers.Add(name = 'Add90594', )([Ave27257,Sep56170])
model = tf.keras.models.Model(inputs=[in0Ave27257,in0Min72174,in1Min72174], outputs=Add90594)
w = model.get_layer('Sep56170').get_weights() 
w[0] = np.array([[[[0.4016], [0.7785]]]])
w[1] = np.array([[[[0.8032, 0.2664], [0.7394, 0.7304]]]])
w[2] = np.array([0, 0])
model.get_layer('Sep56170').set_weights(w) 
in0Ave27257 = tf.constant([[[[1.5045, 1.8176]]]])
in0Min72174 = tf.constant([[[[[0.1669], [0.1745]]]]])
in1Min72174 = tf.constant([[[[[0.302], [0.4214]]]]])
print (np.array2string(model.predict([in0Ave27257,in0Min72174,in1Min72174],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add90594.png')

LAve27257 = average_pooling2D_layer([[[[1.5045, 1.8176]]]], 1, 1, Ave27257), 
LMin72174 = minimum_layer([[[[[[0.1669], [0.1745]]]]], [[[[[0.302], [0.4214]]]]]], Min72174), 
LRes52410 = reshape_layer(Min72174, [1, 1, 2], Res52410), 
LSep56170 = separable_conv2D_layer(Res52410, 1, 1,[[[[[0.4016], [0.7785]]]],[[[[0.8032, 0.2664], [0.7394, 0.7304]]]]],[0, 0], 1, 1, true, Sep56170), 
LAdd90594 = add_layer([Ave27257,Sep56170], Add90594), 
exec_layers([LAve27257,LMin72174,LRes52410,LSep56170,LAdd90594],["Ave27257","Min72174","Res52410","Sep56170","Add90594"],Add90594,"Add90594")

Actual (Unparsed): [[[[1.6587823, 1.9346796]]]]

Expected (Unparsed): [[[[1.6587823145779999,1.934679565256]]]]

Actual:   [[[[1.6588, 1.9347]]]]

Expected: [[[[1.6588, 1.9347]]]]