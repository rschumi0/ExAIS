import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add53392 = tf.keras.layers.Input(shape=([1, 1, 1]))
in1Add53392 = tf.keras.layers.Input(shape=([1, 1, 1]))
in0Con4749 = tf.keras.layers.Input(shape=([1]))
in0Thr57326 = tf.keras.layers.Input(shape=([2, 1]))
in0Dot27044 = tf.keras.layers.Input(shape=([3]))
in1Dot27044 = tf.keras.layers.Input(shape=([3]))
in0Con7405 = tf.keras.layers.Input(shape=([1]))

Add53392 = keras.layers.Add(name = 'Add53392', )([in0Add53392,in1Add53392])
Res30934 = keras.layers.Reshape((1, 1), name = 'Res30934', )(Add53392)
Fla25975 = keras.layers.Flatten(name = 'Fla25975', )(Res30934)
Con4749 = keras.layers.Concatenate(axis=1, name = 'Con4749', )([Fla25975,in0Con4749])
Thr57326 = keras.layers.ThresholdedReLU(theta=5.7378667075945575, name = 'Thr57326', input_shape=(2, 1))(in0Thr57326)
Fla55540 = keras.layers.Flatten(name = 'Fla55540', )(Thr57326)
Dot27044 = keras.layers.Dot(axes=(1, 1), name = 'Dot27044', )([in0Dot27044,in1Dot27044])
Con7405 = keras.layers.Concatenate(axis=1, name = 'Con7405', )([Dot27044,in0Con7405])
Sub99195 = keras.layers.Subtract(name = 'Sub99195', )([Fla55540,Con7405])
Dot75161 = keras.layers.Dot(axes=(1, 1), name = 'Dot75161', )([Con4749,Sub99195])
Sof60394 = keras.layers.Softmax(axis=1, name = 'Sof60394', )(Dot75161)
model = tf.keras.models.Model(inputs=[in0Add53392,in1Add53392,in0Con4749,in0Thr57326,in0Dot27044,in1Dot27044,in0Con7405], outputs=Sof60394)
in0Add53392 = tf.constant([[[[0.9574]]]])
in1Add53392 = tf.constant([[[[0.1238]]]])
in0Con4749 = tf.constant([[0.6149]])
in0Thr57326 = tf.constant([[[0.2843], [0.9257]]])
in0Dot27044 = tf.constant([[0.8527, 0.9121, 0.7348]])
in1Dot27044 = tf.constant([[0.6802, 0.2702, 0.1443]])
in0Con7405 = tf.constant([[0.766]])
print (np.array2string(model.predict([in0Add53392,in1Add53392,in0Con4749,in0Thr57326,in0Dot27044,in1Dot27044,in0Con7405],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sof60394.png')

LAdd53392 = add_layer([[[[[0.9574]]]], [[[[0.1238]]]]], Add53392), 
LRes30934 = reshape_layer(Add53392, [1, 1], Res30934), 
LFla25975 = flatten_layer(Res30934, Fla25975), 
LCon4749 = concatenate_layer([Fla25975,[[0.6149]]], 1, Con4749), 
LThr57326 = thresholded_relu_layer([[[0.2843], [0.9257]]], 5.7378667075945575, Thr57326), 
LFla55540 = flatten_layer(Thr57326, Fla55540), 
LDot27044 = dot_layer([[0.8527, 0.9121, 0.7348]], [[0.6802, 0.2702, 0.1443]], 1, 1, Dot27044), 
LCon7405 = concatenate_layer([Dot27044,[[0.766]]], 1, Con7405), 
LSub99195 = subtract_layer(Fla55540,Con7405, Sub99195), 
LDot75161 = dot_layer(Con4749,Sub99195, 1, 1, Dot75161), 
LSof60394 = softmax_layer(Dot75161, 1, Sof60394), 
exec_layers([LAdd53392,LRes30934,LFla25975,LCon4749,LThr57326,LFla55540,LDot27044,LCon7405,LSub99195,LDot75161,LSof60394],["Add53392","Res30934","Fla25975","Con4749","Thr57326","Fla55540","Dot27044","Con7405","Sub99195","Dot75161","Sof60394"],Sof60394,"Sof60394")

Actual (Unparsed): [[1.0000000]]

Expected (Unparsed): [[1.0]]

Actual:   [[1]]

Expected: [[1]]