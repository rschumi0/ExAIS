import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Up_85747 = tf.keras.layers.Input(shape=([3, 4, 2, 4]))

Up_85747 = keras.layers.UpSampling3D(size=(1, 2, 1), name = 'Up_85747', )(in0Up_85747)
Sof89038 = keras.layers.Softmax(axis=1, name = 'Sof89038', )(Up_85747)
Glo17444 = keras.layers.GlobalAveragePooling3D(name = 'Glo17444', )(Sof89038)
model = tf.keras.models.Model(inputs=[in0Up_85747], outputs=Glo17444)
in0Up_85747 = tf.constant([[[[[1.3737, 1.6659, 1.1057, 1.0697], [1.7365, 1.6996, 1.8689, 1.7738]], [[1.6144, 1.6828, 1.8652, 1.4039], [1.6041, 1.5586, 1.61, 1.6972]], [[1.5207, 1.5198, 1.481, 1.5894], [1.7878, 1.8536, 1.7783, 1.3272]], [[1.2201, 1.3442, 1.1819, 1.2406], [1.585, 1.4611, 1.6833, 1.3014]]], [[[1.6528, 1.6182, 1.4102, 1.2923], [1.061, 1.3751, 1.8916, 1.1379]], [[1.2061, 1.5682, 1.2153, 1.7072], [1.5503, 1.0124, 1.2214, 1.1883]], [[1.1856, 1.5912, 1.3424, 1.9564], [1.2308, 1.2674, 1.9515, 1.7091]], [[1.6567, 1.7882, 1.1166, 1.5268], [1.4294, 1.6344, 1.4658, 1.4312]]], [[[1.4429, 1.0667, 1.4679, 1.9598], [1.5716, 1.963, 1.8086, 1.2554]], [[1.3153, 1.5034, 1.6956, 1.1734], [1.9323, 1.664, 1.8707, 1.9538]], [[1.659, 1.9086, 1.8198, 1.0747], [1.6015, 1.43, 1.18, 1.0054]], [[1.151, 1.7843, 1.6174, 1.7136], [1.321, 1.7903, 1.5201, 1.9442]]]]])
print (np.array2string(model.predict([in0Up_85747],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo17444.png')

LUp_85747 = up_sampling3D_layer([[[[[1.3737, 1.6659, 1.1057, 1.0697], [1.7365, 1.6996, 1.8689, 1.7738]], [[1.6144, 1.6828, 1.8652, 1.4039], [1.6041, 1.5586, 1.61, 1.6972]], [[1.5207, 1.5198, 1.481, 1.5894], [1.7878, 1.8536, 1.7783, 1.3272]], [[1.2201, 1.3442, 1.1819, 1.2406], [1.585, 1.4611, 1.6833, 1.3014]]], [[[1.6528, 1.6182, 1.4102, 1.2923], [1.061, 1.3751, 1.8916, 1.1379]], [[1.2061, 1.5682, 1.2153, 1.7072], [1.5503, 1.0124, 1.2214, 1.1883]], [[1.1856, 1.5912, 1.3424, 1.9564], [1.2308, 1.2674, 1.9515, 1.7091]], [[1.6567, 1.7882, 1.1166, 1.5268], [1.4294, 1.6344, 1.4658, 1.4312]]], [[[1.4429, 1.0667, 1.4679, 1.9598], [1.5716, 1.963, 1.8086, 1.2554]], [[1.3153, 1.5034, 1.6956, 1.1734], [1.9323, 1.664, 1.8707, 1.9538]], [[1.659, 1.9086, 1.8198, 1.0747], [1.6015, 1.43, 1.18, 1.0054]], [[1.151, 1.7843, 1.6174, 1.7136], [1.321, 1.7903, 1.5201, 1.9442]]]]], 1, 2, 1, Up_85747), 
LSof89038 = softmax_layer(Up_85747, 1, Sof89038), 
LGlo17444 = global_average_pooling3D_layer(Sof89038, Glo17444), 
exec_layers([LUp_85747,LSof89038,LGlo17444],["Up_85747","Sof89038","Glo17444"],Glo17444,"Glo17444")

Actual (Unparsed): [[0.3333333, 0.3333333, 0.3333333, 0.3333333]]

Expected (Unparsed): [[0.3333333333333332,0.3333333333333332,0.3333333333333333,0.3333333333333333]]

Actual:   [[0.3334, 0.3334, 0.3334, 0.3334]]

Expected: [[0.3334, 0.3334, 0.3334, 0.3334]]