import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub84386 = tf.keras.layers.Input(shape=([2]))
in1Sub84386 = tf.keras.layers.Input(shape=([2]))

Sub84386 = keras.layers.Subtract(name = 'Sub84386', )([in0Sub84386,in1Sub84386])
Res39147 = keras.layers.Reshape((2, 1), name = 'Res39147', )(Sub84386)
Per65344 = keras.layers.Permute((1,2), name = 'Per65344',)(Res39147)
Res17322 = keras.layers.Reshape((2, 1, 1), name = 'Res17322', )(Per65344)
Loc23501 = keras.layers.LocallyConnected2D(3, (2, 1),strides=(1, 1), name = 'Loc23501', )(Res17322)
Res7145 = keras.layers.Reshape((1, 3), name = 'Res7145', )(Loc23501)
Cro29996 = keras.layers.Cropping1D(cropping=((0, 0)), name = 'Cro29996', )(Res7145)
model = tf.keras.models.Model(inputs=[in0Sub84386,in1Sub84386], outputs=Cro29996)
w = model.get_layer('Loc23501').get_weights() 
w[0] = np.array([[[0.0204, 0.0415, 0.9101], [0.2397, 0.248, 0.3437]]])
w[1] = np.array([[[0, 0, 0]]])
model.get_layer('Loc23501').set_weights(w) 
in0Sub84386 = tf.constant([[0.8826, 0.3487]])
in1Sub84386 = tf.constant([[0.1392, 0.5416]])
print (np.array2string(model.predict([in0Sub84386,in1Sub84386],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Cro29996.png')

LSub84386 = subtract_layer([[0.8826, 0.3487]], [[0.1392, 0.5416]], Sub84386), 
LRes39147 = reshape_layer(Sub84386, [2, 1], Res39147), 
LPer65344 = permute_layer(Res39147, 1,2, Per65344), 
LRes17322 = reshape_layer(Per65344, [2, 1, 1], Res17322), 
LLoc23501 = locally_connected2D_layer(Res17322, 2, 1,[[[0.0204, 0.0415, 0.9101], [0.2397, 0.248, 0.3437]]],[[[0, 0, 0]]], 1, 1, Loc23501), 
LRes7145 = reshape_layer(Loc23501, [1, 3], Res7145), 
LCro29996 = cropping1D_layer(Res7145, 0, 0, Cro29996), 
exec_layers([LSub84386,LRes39147,LPer65344,LRes17322,LLoc23501,LRes7145,LCro29996],["Sub84386","Res39147","Per65344","Res17322","Loc23501","Res7145","Cro29996"],Cro29996,"Cro29996")

Actual (Unparsed): [[[-0.0310728, -0.0169881, 0.6102686]]]

Expected (Unparsed): [[[-0.031072769999999986,-0.01698809999999999,0.6102686100000001]]]

Actual:   [[[-0.031, -0.0169, 0.6103]]]

Expected: [[[-0.031, -0.0169, 0.6103]]]