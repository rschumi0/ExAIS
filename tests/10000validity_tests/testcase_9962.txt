import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo73493 = tf.keras.layers.Input(shape=([2, 1, 2]))
in0Ave28404 = tf.keras.layers.Input(shape=([1, 1, 1, 1]))
in1Ave28404 = tf.keras.layers.Input(shape=([1, 1, 1, 1]))
in0Con16487 = tf.keras.layers.Input(shape=([1]))
in0Glo23298 = tf.keras.layers.Input(shape=([2, 2]))
in0Con58589 = tf.keras.layers.Input(shape=([1]))

Glo73493 = keras.layers.GlobalAveragePooling2D(name = 'Glo73493', )(in0Glo73493)
Ave28404 = keras.layers.Average(name = 'Ave28404', )([in0Ave28404,in1Ave28404])
Res8697 = keras.layers.Reshape((1, 1, 1), name = 'Res8697', )(Ave28404)
Res69345 = keras.layers.Reshape((1, 1), name = 'Res69345', )(Res8697)
Fla95469 = keras.layers.Flatten(name = 'Fla95469', )(Res69345)
Con16487 = keras.layers.Concatenate(axis=1, name = 'Con16487', )([Fla95469,in0Con16487])
Glo23298 = keras.layers.GlobalMaxPool1D(name = 'Glo23298', )(in0Glo23298)
ELU29311 = keras.layers.ELU(alpha=-0.7780004221452703, name = 'ELU29311', )(Glo23298)
Dot97149 = keras.layers.Dot(axes=(1, 1), name = 'Dot97149', )([Con16487,ELU29311])
Con58589 = keras.layers.Concatenate(axis=1, name = 'Con58589', )([Dot97149,in0Con58589])
Mul98637 = keras.layers.Multiply(name = 'Mul98637', )([Glo73493,Con58589])
Res77637 = keras.layers.Reshape((2, 1), name = 'Res77637', )(Mul98637)
Res73086 = keras.layers.Reshape((2, 1, 1), name = 'Res73086', )(Res77637)
Up_92025 = keras.layers.UpSampling2D(size=(2, 2), name = 'Up_92025', )(Res73086)
model = tf.keras.models.Model(inputs=[in0Glo73493,in0Ave28404,in1Ave28404,in0Con16487,in0Glo23298,in0Con58589], outputs=Up_92025)
in0Glo73493 = tf.constant([[[[1.0337, 1.8326]], [[1.3338, 1.2338]]]])
in0Ave28404 = tf.constant([[[[[0.8772]]]]])
in1Ave28404 = tf.constant([[[[[0.4958]]]]])
in0Con16487 = tf.constant([[0.7021]])
in0Glo23298 = tf.constant([[[1.5658, 1.0994], [1.589, 1.9028]]])
in0Con58589 = tf.constant([[0.6795]])
print (np.array2string(model.predict([in0Glo73493,in0Ave28404,in1Ave28404,in0Con16487,in0Glo23298,in0Con58589],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Up_92025.png')

LGlo73493 = global_average_pooling2D_layer([[[[1.0337, 1.8326]], [[1.3338, 1.2338]]]], Glo73493), 
LAve28404 = average_layer([[[[[[0.8772]]]]], [[[[[0.4958]]]]]], Ave28404), 
LRes8697 = reshape_layer(Ave28404, [1, 1, 1], Res8697), 
LRes69345 = reshape_layer(Res8697, [1, 1], Res69345), 
LFla95469 = flatten_layer(Res69345, Fla95469), 
LCon16487 = concatenate_layer([Fla95469,[[0.7021]]], 1, Con16487), 
LGlo23298 = global_max_pool1D_layer([[[1.5658, 1.0994], [1.589, 1.9028]]], Glo23298), 
LELU29311 = elu_layer(Glo23298, -0.7780004221452703, ELU29311), 
LDot97149 = dot_layer(Con16487,ELU29311, 1, 1, Dot97149), 
LCon58589 = concatenate_layer([Dot97149,[[0.6795]]], 1, Con58589), 
LMul98637 = multiply_layer([Glo73493,Con58589], Mul98637), 
LRes77637 = reshape_layer(Mul98637, [2, 1], Res77637), 
LRes73086 = reshape_layer(Res77637, [2, 1, 1], Res73086), 
LUp_92025 = up_sampling2D_layer(Res73086, 2, 2, Up_92025), 
exec_layers([LGlo73493,LAve28404,LRes8697,LRes69345,LFla95469,LCon16487,LGlo23298,LELU29311,LDot97149,LCon58589,LMul98637,LRes77637,LRes73086,LUp_92025],["Glo73493","Ave28404","Res8697","Res69345","Fla95469","Con16487","Glo23298","ELU29311","Dot97149","Con58589","Mul98637","Res77637","Res73086","Up_92025"],Up_92025,"Up_92025")

Actual (Unparsed): [[[[2.8727295], [2.8727295]], [[2.8727295], [2.8727295]], [[1.0418094], [1.0418094]], [[1.0418094], [1.0418094]]]]

Expected (Unparsed): [[[[2.8727296848250004],[2.8727296848250004]],[[2.8727296848250004],[2.8727296848250004]],[[1.0418094],[1.0418094]],[[1.0418094],[1.0418094]]]]

Actual:   [[[[2.8728], [2.8728]], [[2.8728], [2.8728]], [[1.0419], [1.0419]], [[1.0419], [1.0419]]]]

Expected: [[[[2.8728], [2.8728]], [[2.8728], [2.8728]], [[1.0419], [1.0419]], [[1.0419], [1.0419]]]]