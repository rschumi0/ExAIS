import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max83398 = tf.keras.layers.Input(shape=([2, 1, 1]))
in0Con6193 = tf.keras.layers.Input(shape=([1, 1]))
in0Thr93718 = tf.keras.layers.Input(shape=([1, 2]))

Max83398 = keras.layers.MaxPool2D(pool_size=(2, 1), name = 'Max83398', )(in0Max83398)
Res55352 = keras.layers.Reshape((1, 1), name = 'Res55352', )(Max83398)
Con6193 = keras.layers.Concatenate(axis=2, name = 'Con6193', )([Res55352,in0Con6193])
Thr93718 = keras.layers.ThresholdedReLU(theta=0.37760233789224107, name = 'Thr93718', input_shape=(1, 2))(in0Thr93718)
Add17688 = keras.layers.Add(name = 'Add17688', )([Con6193,Thr93718])
model = tf.keras.models.Model(inputs=[in0Max83398,in0Con6193,in0Thr93718], outputs=Add17688)
in0Max83398 = tf.constant([[[[1.5988]], [[1.4917]]]])
in0Con6193 = tf.constant([[[0.4508]]])
in0Thr93718 = tf.constant([[[0.7671, 0.3485]]])
print (np.array2string(model.predict([in0Max83398,in0Con6193,in0Thr93718],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add17688.png')

LMax83398 = max_pool2D_layer([[[[1.5988]], [[1.4917]]]], 2, 1, Max83398), 
LRes55352 = reshape_layer(Max83398, [1, 1], Res55352), 
LCon6193 = concatenate_layer([Res55352,[[[0.4508]]]], 2, Con6193), 
LThr93718 = thresholded_relu_layer([[[0.7671, 0.3485]]], 0.37760233789224107, Thr93718), 
LAdd17688 = add_layer([Con6193,Thr93718], Add17688), 
exec_layers([LMax83398,LRes55352,LCon6193,LThr93718,LAdd17688],["Max83398","Res55352","Con6193","Thr93718","Add17688"],Add17688,"Add17688")

Actual (Unparsed): [[[2.3658999, 0.4508000]]]

Expected (Unparsed): [[[2.3659,0.4508]]]

Actual:   [[[2.3659, 0.4508]]]

Expected: [[[2.3659, 0.4508]]]