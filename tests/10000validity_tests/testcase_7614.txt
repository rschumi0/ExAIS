import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add20935 = tf.keras.layers.Input(shape=([1, 1, 1]))
in1Add20935 = tf.keras.layers.Input(shape=([1, 1, 1]))
in0Ave92800 = tf.keras.layers.Input(shape=([2, 1]))
in1Ave92800 = tf.keras.layers.Input(shape=([2, 1]))
in0Con25370 = tf.keras.layers.Input(shape=([2, 1]))
in0Dot54780 = tf.keras.layers.Input(shape=([2, 2]))
in1Dot54780 = tf.keras.layers.Input(shape=([2, 2]))

Add20935 = keras.layers.Add(name = 'Add20935', )([in0Add20935,in1Add20935])
Res13127 = keras.layers.Reshape((1, 1), name = 'Res13127', )(Add20935)
Zer41777 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer41777', )(Res13127)
Ave92800 = keras.layers.Average(name = 'Ave92800', )([in0Ave92800,in1Ave92800])
Mul29355 = keras.layers.Multiply(name = 'Mul29355', )([Zer41777,Ave92800])
Con25370 = keras.layers.Concatenate(axis=2, name = 'Con25370', )([Mul29355,in0Con25370])
Dot54780 = keras.layers.Dot(axes=(1, 1), name = 'Dot54780', )([in0Dot54780,in1Dot54780])
Add80391 = keras.layers.Add(name = 'Add80391', )([Con25370,Dot54780])
model = tf.keras.models.Model(inputs=[in0Add20935,in1Add20935,in0Ave92800,in1Ave92800,in0Con25370,in0Dot54780,in1Dot54780], outputs=Add80391)
in0Add20935 = tf.constant([[[[0.3338]]]])
in1Add20935 = tf.constant([[[[0.1949]]]])
in0Ave92800 = tf.constant([[[0.659], [0.9331]]])
in1Ave92800 = tf.constant([[[0.5699], [0.4222]]])
in0Con25370 = tf.constant([[[0.5577], [0.6346]]])
in0Dot54780 = tf.constant([[[0.6949, 0.3119], [0.333, 0.7572]]])
in1Dot54780 = tf.constant([[[0.657, 0.2325], [0.6448, 0.9506]]])
print (np.array2string(model.predict([in0Add20935,in1Add20935,in0Ave92800,in1Ave92800,in0Con25370,in0Dot54780,in1Dot54780],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add80391.png')

LAdd20935 = add_layer([[[[[0.3338]]]], [[[[0.1949]]]]], Add20935), 
LRes13127 = reshape_layer(Add20935, [1, 1], Res13127), 
LZer41777 = zero_padding1D_layer(Res13127, 1, 0, Zer41777), 
LAve92800 = average_layer([[[[0.659], [0.9331]]], [[[0.5699], [0.4222]]]], Ave92800), 
LMul29355 = multiply_layer([Zer41777,Ave92800], Mul29355), 
LCon25370 = concatenate_layer([Mul29355,[[[0.5577], [0.6346]]]], 2, Con25370), 
LDot54780 = dot_layer([[[0.6949, 0.3119], [0.333, 0.7572]]], [[[0.657, 0.2325], [0.6448, 0.9506]]], 1, 1, Dot54780), 
LAdd80391 = add_layer([Con25370,Dot54780], Add80391), 
exec_layers([LAdd20935,LRes13127,LZer41777,LAve92800,LMul29355,LCon25370,LDot54780,LAdd80391],["Add20935","Res13127","Zer41777","Ave92800","Mul29355","Con25370","Dot54780","Add80391"],Add80391,"Add80391")

Actual (Unparsed): [[[0.6712677, 1.0358140], [1.0514344, 1.4269111]]]

Expected (Unparsed): [[[0.6712677,1.03581405],[1.0514344150000001,1.42691107]]]

Actual:   [[[0.6713, 1.0359], [1.0515, 1.427]]]

Expected: [[[0.6713, 1.0359], [1.0515, 1.427]]]