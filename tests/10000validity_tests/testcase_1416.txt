import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave58864 = tf.keras.layers.Input(shape=([1, 2]))

Ave58864 = keras.layers.AveragePooling1D(pool_size=(1), name = 'Ave58864', )(in0Ave58864)
LST35333 = keras.layers.LSTM(1,recurrent_activation='sigmoid', name = 'LST35333', )(Ave58864)
model = tf.keras.models.Model(inputs=[in0Ave58864], outputs=LST35333)
w = model.get_layer('LST35333').get_weights() 
w[0] = np.array([[10, 9, 6, 7], [4, 2, 9, 5]])
w[1] = np.array([[2, 2, 8, 9]])
w[2] = np.array([3, 10, 3, 1])
model.get_layer('LST35333').set_weights(w) 
in0Ave58864 = tf.constant([[[1.1514, 1.4097]]])
print (np.array2string(model.predict([in0Ave58864],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='LST35333.png')

LAve58864 = average_pooling1D_layer([[[1.1514, 1.4097]]], 1, Ave58864), 
LLST35333 = lstm_layer(Ave58864,[[10, 9, 6, 7], [4, 2, 9, 5]],[[2, 2, 8, 9]],[3, 10, 3, 1], LST35333), 
exec_layers([LAve58864,LLST35333],["Ave58864","LST35333"],LST35333,"LST35333")

Actual (Unparsed): [[0.7615941]]

Expected (Unparsed): [[0.7615940783036873]]

Actual:   [[0.7616]]

Expected: [[0.7616]]