import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul92499 = tf.keras.layers.Input(shape=([2, 1]))
in1Mul92499 = tf.keras.layers.Input(shape=([2, 1]))

Mul92499 = keras.layers.Multiply(name = 'Mul92499', )([in0Mul92499,in1Mul92499])
Res28992 = keras.layers.Reshape((2, 1, 1), name = 'Res28992', )(Mul92499)
Res37698 = keras.layers.Reshape((2, 1, 1, 1), name = 'Res37698', )(Res28992)
Glo18319 = keras.layers.GlobalAveragePooling3D(name = 'Glo18319', )(Res37698)
model = tf.keras.models.Model(inputs=[in0Mul92499,in1Mul92499], outputs=Glo18319)
in0Mul92499 = tf.constant([[[0.5368], [0.4544]]])
in1Mul92499 = tf.constant([[[0.8172], [0.9491]]])
print (np.array2string(model.predict([in0Mul92499,in1Mul92499],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo18319.png')

LMul92499 = multiply_layer([[[[0.5368], [0.4544]]], [[[0.8172], [0.9491]]]], Mul92499), 
LRes28992 = reshape_layer(Mul92499, [2, 1, 1], Res28992), 
LRes37698 = reshape_layer(Res28992, [2, 1, 1, 1], Res37698), 
LGlo18319 = global_average_pooling3D_layer(Res37698, Glo18319), 
exec_layers([LMul92499,LRes28992,LRes37698,LGlo18319],["Mul92499","Res28992","Res37698","Glo18319"],Glo18319,"Glo18319")

Actual (Unparsed): [[0.4349720]]

Expected (Unparsed): [[0.434972]]

Actual:   [[0.435]]

Expected: [[0.435]]