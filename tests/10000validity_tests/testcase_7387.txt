import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot76571 = tf.keras.layers.Input(shape=([2, 3]))
in1Dot76571 = tf.keras.layers.Input(shape=([2, 3]))
in0Con42930 = tf.keras.layers.Input(shape=([3, 3, 1]))
in0Add67298 = tf.keras.layers.Input(shape=([1, 2, 2]))
in1Add67298 = tf.keras.layers.Input(shape=([1, 2, 2]))

Dot76571 = keras.layers.Dot(axes=(1, 1), name = 'Dot76571', )([in0Dot76571,in1Dot76571])
Res43079 = keras.layers.Reshape((3, 3, 1), name = 'Res43079', )(Dot76571)
Con42930 = keras.layers.Concatenate(axis=3, name = 'Con42930', )([Res43079,in0Con42930])
Add67298 = keras.layers.Add(name = 'Add67298', )([in0Add67298,in1Add67298])
Zer49741 = keras.layers.ZeroPadding2D(padding=((2, 0), (1, 0)), name = 'Zer49741', )(Add67298)
Mul8600 = keras.layers.Multiply(name = 'Mul8600', )([Con42930,Zer49741])
Res62180 = keras.layers.Reshape((3, 3, 2, 1), name = 'Res62180', )(Mul8600)
Glo9329 = keras.layers.GlobalMaxPool3D(name = 'Glo9329', )(Res62180)
model = tf.keras.models.Model(inputs=[in0Dot76571,in1Dot76571,in0Con42930,in0Add67298,in1Add67298], outputs=Glo9329)
in0Dot76571 = tf.constant([[[0.2869, 0.7445, 0.8236], [0.1051, 0.9657, 0.1851]]])
in1Dot76571 = tf.constant([[[0.3802, 0.0611, 0.1076], [0.5637, 0.7324, 0.5817]]])
in0Con42930 = tf.constant([[[[0.4438], [0.048], [0.2045]], [[0.0547], [0.1856], [0.7409]], [[0.2452], [0.6959], [0.7412]]]])
in0Add67298 = tf.constant([[[[0.4561, 0.9588], [0.1732, 0.5338]]]])
in1Add67298 = tf.constant([[[[0.1112, 0.3581], [0.7854, 0.0685]]]])
print (np.array2string(model.predict([in0Dot76571,in1Dot76571,in0Con42930,in0Add67298,in1Add67298],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo9329.png')

LDot76571 = dot_layer([[[0.2869, 0.7445, 0.8236], [0.1051, 0.9657, 0.1851]]], [[[0.3802, 0.0611, 0.1076], [0.5637, 0.7324, 0.5817]]], 1, 1, Dot76571), 
LRes43079 = reshape_layer(Dot76571, [3, 3, 1], Res43079), 
LCon42930 = concatenate_layer([Res43079,[[[[0.4438], [0.048], [0.2045]], [[0.0547], [0.1856], [0.7409]], [[0.2452], [0.6959], [0.7412]]]]], 3, Con42930), 
LAdd67298 = add_layer([[[[[0.4561, 0.9588], [0.1732, 0.5338]]]], [[[[0.1112, 0.3581], [0.7854, 0.0685]]]]], Add67298), 
LZer49741 = zero_padding2D_layer(Add67298, 2, 0, 1, 0, Zer49741), 
LMul8600 = multiply_layer([Con42930,Zer49741], Mul8600), 
LRes62180 = reshape_layer(Mul8600, [3, 3, 2, 1], Res62180), 
LGlo9329 = global_max_pool3D_layer(Res62180, Glo9329), 
exec_layers([LDot76571,LRes43079,LCon42930,LAdd67298,LZer49741,LMul8600,LRes62180,LGlo9329],["Dot76571","Res43079","Con42930","Add67298","Zer49741","Mul8600","Res62180","Glo9329"],Glo9329,"Glo9329")

Actual (Unparsed): [[0.9164308]]

Expected (Unparsed): [[0.9164307099999999]]

Actual:   [[0.9165]]

Expected: [[0.9165]]