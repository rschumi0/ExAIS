import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max17148 = tf.keras.layers.Input(shape=([2, 2, 1, 2]))
in1Max17148 = tf.keras.layers.Input(shape=([2, 2, 1, 2]))

Max17148 = keras.layers.Maximum(name = 'Max17148', )([in0Max17148,in1Max17148])
Glo27764 = keras.layers.GlobalMaxPool3D(name = 'Glo27764', )(Max17148)
model = tf.keras.models.Model(inputs=[in0Max17148,in1Max17148], outputs=Glo27764)
in0Max17148 = tf.constant([[[[[0.5827, 0.515]], [[0.7297, 0.2292]]], [[[0.4407, 0.1062]], [[0.728, 0.2126]]]]])
in1Max17148 = tf.constant([[[[[0.2267, 0.644]], [[0.8339, 0.1999]]], [[[0.8623, 0.3613]], [[0.7467, 0.1061]]]]])
print (np.array2string(model.predict([in0Max17148,in1Max17148],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo27764.png')

LMax17148 = maximum_layer([[[[[[0.5827, 0.515]], [[0.7297, 0.2292]]], [[[0.4407, 0.1062]], [[0.728, 0.2126]]]]], [[[[[0.2267, 0.644]], [[0.8339, 0.1999]]], [[[0.8623, 0.3613]], [[0.7467, 0.1061]]]]]], Max17148), 
LGlo27764 = global_max_pool3D_layer(Max17148, Glo27764), 
exec_layers([LMax17148,LGlo27764],["Max17148","Glo27764"],Glo27764,"Glo27764")

Actual (Unparsed): [[0.8623000, 0.6440000]]

Expected (Unparsed): [[0.8623,0.644]]

Actual:   [[0.8623, 0.644]]

Expected: [[0.8623, 0.644]]