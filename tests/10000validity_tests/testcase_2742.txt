import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot3526 = tf.keras.layers.Input(shape=([3]))
in1Dot3526 = tf.keras.layers.Input(shape=([3]))

Dot3526 = keras.layers.Dot(axes=(1, 1), name = 'Dot3526', )([in0Dot3526,in1Dot3526])
Res75202 = keras.layers.Reshape((1, 1), name = 'Res75202', )(Dot3526)
Res89177 = keras.layers.Reshape((1, 1, 1), name = 'Res89177', )(Res75202)
Sep56846 = keras.layers.SeparableConv2D(2, (1, 1),strides=(1, 1), padding='valid', name = 'Sep56846', )(Res89177)
Res30144 = keras.layers.Reshape((1, 1, 2, 1), name = 'Res30144', )(Sep56846)
Cro82248 = keras.layers.Cropping3D(cropping=((0, 0), (0, 0), (1, 0)), name = 'Cro82248', )(Res30144)
model = tf.keras.models.Model(inputs=[in0Dot3526,in1Dot3526], outputs=Cro82248)
w = model.get_layer('Sep56846').get_weights() 
w[0] = np.array([[[[0.8588]]]])
w[1] = np.array([[[[0.4533, 0.5313]]]])
w[2] = np.array([0, 0])
model.get_layer('Sep56846').set_weights(w) 
in0Dot3526 = tf.constant([[0.9004, 0.7607, 0.9186]])
in1Dot3526 = tf.constant([[0.4016, 0.1182, 0.5264]])
print (np.array2string(model.predict([in0Dot3526,in1Dot3526],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Cro82248.png')

LDot3526 = dot_layer([[0.9004, 0.7607, 0.9186]], [[0.4016, 0.1182, 0.5264]], 1, 1, Dot3526), 
LRes75202 = reshape_layer(Dot3526, [1, 1], Res75202), 
LRes89177 = reshape_layer(Res75202, [1, 1, 1], Res89177), 
LSep56846 = separable_conv2D_layer(Res89177, 1, 1,[[[[[0.8588]]]],[[[[0.4533, 0.5313]]]]],[0, 0], 1, 1, false, Sep56846), 
LRes30144 = reshape_layer(Sep56846, [1, 1, 2, 1], Res30144), 
LCro82248 = cropping3D_layer(Res30144, 0, 0, 0, 0, 1, 0, Cro82248), 
exec_layers([LDot3526,LRes75202,LRes89177,LSep56846,LRes30144,LCro82248],["Dot3526","Res75202","Res89177","Sep56846","Res30144","Cro82248"],Cro82248,"Cro82248")

Actual (Unparsed): [[[[[0.4266525]]]]]

Expected (Unparsed): [[[[[0.4266525175468248]]]]]

Actual:   [[[[[0.4267]]]]]

Expected: [[[[[0.4267]]]]]