import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul61563 = tf.keras.layers.Input(shape=([2, 1, 1]))
in1Mul61563 = tf.keras.layers.Input(shape=([2, 1, 1]))
in0Mul21012 = tf.keras.layers.Input(shape=([1, 1]))
in1Mul21012 = tf.keras.layers.Input(shape=([1, 1]))

Mul61563 = keras.layers.Multiply(name = 'Mul61563', )([in0Mul61563,in1Mul61563])
Res61383 = keras.layers.Reshape((2, 1), name = 'Res61383', )(Mul61563)
Mul21012 = keras.layers.Multiply(name = 'Mul21012', )([in0Mul21012,in1Mul21012])
Zer5269 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer5269', )(Mul21012)
Max53715 = keras.layers.Maximum(name = 'Max53715', )([Res61383,Zer5269])
model = tf.keras.models.Model(inputs=[in0Mul61563,in1Mul61563,in0Mul21012,in1Mul21012], outputs=Max53715)
in0Mul61563 = tf.constant([[[[0.2663]], [[0.4815]]]])
in1Mul61563 = tf.constant([[[[0.3094]], [[0.6173]]]])
in0Mul21012 = tf.constant([[[0.4186]]])
in1Mul21012 = tf.constant([[[0.6533]]])
print (np.array2string(model.predict([in0Mul61563,in1Mul61563,in0Mul21012,in1Mul21012],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max53715.png')

LMul61563 = multiply_layer([[[[[0.2663]], [[0.4815]]]], [[[[0.3094]], [[0.6173]]]]], Mul61563), 
LRes61383 = reshape_layer(Mul61563, [2, 1], Res61383), 
LMul21012 = multiply_layer([[[[0.4186]]], [[[0.6533]]]], Mul21012), 
LZer5269 = zero_padding1D_layer(Mul21012, 1, 0, Zer5269), 
LMax53715 = maximum_layer([Res61383,Zer5269], Max53715), 
exec_layers([LMul61563,LRes61383,LMul21012,LZer5269,LMax53715],["Mul61563","Res61383","Mul21012","Zer5269","Max53715"],Max53715,"Max53715")

Actual (Unparsed): [[[0.0823932], [0.2972299]]]

Expected (Unparsed): [[[0.08239322],[0.29722994999999997]]]

Actual:   [[[0.0824], [0.2973]]]

Expected: [[[0.0824], [0.2973]]]