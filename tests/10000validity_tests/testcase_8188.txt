import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Lea24650 = tf.keras.layers.Input(shape=([2, 2, 2]))
in0Min57001 = tf.keras.layers.Input(shape=([2, 1]))
in1Min57001 = tf.keras.layers.Input(shape=([2, 1]))
in0Con81470 = tf.keras.layers.Input(shape=([2, 3]))

Lea24650 = keras.layers.LeakyReLU(alpha=1.8442192181188763, name = 'Lea24650', input_shape=(2, 2, 2))(in0Lea24650)
Res32567 = keras.layers.Reshape((2, 4), name = 'Res32567', )(Lea24650)
Min57001 = keras.layers.Minimum(name = 'Min57001', )([in0Min57001,in1Min57001])
Con81470 = keras.layers.Concatenate(axis=2, name = 'Con81470', )([Min57001,in0Con81470])
Min8810 = keras.layers.Minimum(name = 'Min8810', )([Res32567,Con81470])
Res63867 = keras.layers.Reshape((2, 4, 1), name = 'Res63867', )(Min8810)
Res17289 = keras.layers.Reshape((2, 4, 1, 1), name = 'Res17289', )(Res63867)
Glo90178 = keras.layers.GlobalMaxPool3D(name = 'Glo90178', )(Res17289)
model = tf.keras.models.Model(inputs=[in0Lea24650,in0Min57001,in1Min57001,in0Con81470], outputs=Glo90178)
in0Lea24650 = tf.constant([[[[0.7167, 0.485], [0.915, 0.2007]], [[0.4794, 0.8987], [0.202, 0.0383]]]])
in0Min57001 = tf.constant([[[0.1895], [0.4067]]])
in1Min57001 = tf.constant([[[0.1693], [0.1727]]])
in0Con81470 = tf.constant([[[0.1376, 0.3365, 0.3436], [0.488, 0.2999, 0.2477]]])
print (np.array2string(model.predict([in0Lea24650,in0Min57001,in1Min57001,in0Con81470],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo90178.png')

LLea24650 = leaky_relu_layer([[[[0.7167, 0.485], [0.915, 0.2007]], [[0.4794, 0.8987], [0.202, 0.0383]]]], 1.8442192181188763, Lea24650), 
LRes32567 = reshape_layer(Lea24650, [2, 4], Res32567), 
LMin57001 = minimum_layer([[[[0.1895], [0.4067]]], [[[0.1693], [0.1727]]]], Min57001), 
LCon81470 = concatenate_layer([Min57001,[[[0.1376, 0.3365, 0.3436], [0.488, 0.2999, 0.2477]]]], 2, Con81470), 
LMin8810 = minimum_layer([Res32567,Con81470], Min8810), 
LRes63867 = reshape_layer(Min8810, [2, 4, 1], Res63867), 
LRes17289 = reshape_layer(Res63867, [2, 4, 1, 1], Res17289), 
LGlo90178 = global_max_pool3D_layer(Res17289, Glo90178), 
exec_layers([LLea24650,LRes32567,LMin57001,LCon81470,LMin8810,LRes63867,LRes17289,LGlo90178],["Lea24650","Res32567","Min57001","Con81470","Min8810","Res63867","Res17289","Glo90178"],Glo90178,"Glo90178")

Actual (Unparsed): [[0.4880000]]

Expected (Unparsed): [[0.488]]

Actual:   [[0.488]]

Expected: [[0.488]]