import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave47953 = tf.keras.layers.Input(shape=([1, 1, 1]))
in0Max83300 = tf.keras.layers.Input(shape=([1, 1]))
in1Max83300 = tf.keras.layers.Input(shape=([1, 1]))

Ave47953 = keras.layers.AveragePooling2D(pool_size=(1, 1), strides=(5, 8), padding='same', name = 'Ave47953', )(in0Ave47953)
Max46700 = keras.layers.MaxPool2D(pool_size=(1, 1), name = 'Max46700', )(Ave47953)
Res66702 = keras.layers.Reshape((1, 1), name = 'Res66702', )(Max46700)
Max83300 = keras.layers.Maximum(name = 'Max83300', )([in0Max83300,in1Max83300])
Sub89226 = keras.layers.Subtract(name = 'Sub89226', )([Res66702,Max83300])
model = tf.keras.models.Model(inputs=[in0Ave47953,in0Max83300,in1Max83300], outputs=Sub89226)
in0Ave47953 = tf.constant([[[[1.3016]]]])
in0Max83300 = tf.constant([[[0.4574]]])
in1Max83300 = tf.constant([[[0.1861]]])
print (np.array2string(model.predict([in0Ave47953,in0Max83300,in1Max83300],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sub89226.png')

LAve47953 = average_pooling2D_layer([[[[1.3016]]]], 1, 1, 5, 8, true, Ave47953), 
LMax46700 = max_pool2D_layer(Ave47953, 1, 1, Max46700), 
LRes66702 = reshape_layer(Max46700, [1, 1], Res66702), 
LMax83300 = maximum_layer([[[[0.4574]]], [[[0.1861]]]], Max83300), 
LSub89226 = subtract_layer(Res66702,Max83300, Sub89226), 
exec_layers([LAve47953,LMax46700,LRes66702,LMax83300,LSub89226],["Ave47953","Max46700","Res66702","Max83300","Sub89226"],Sub89226,"Sub89226")

Actual (Unparsed): [[[0.8442000]]]

Expected (Unparsed): [[[0.8442000000000001]]]

Actual:   [[[0.8442]]]

Expected: [[[0.8443]]]