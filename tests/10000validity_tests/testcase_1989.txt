import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Up_5515 = tf.keras.layers.Input(shape=([1, 2]))
in0Add96376 = tf.keras.layers.Input(shape=([1, 2, 2, 1]))
in1Add96376 = tf.keras.layers.Input(shape=([1, 2, 2, 1]))

Up_5515 = keras.layers.UpSampling1D(size=(1), name = 'Up_5515', )(in0Up_5515)
Bat79464 = keras.layers.BatchNormalization(axis=1, epsilon=0.840099196257781,  name = 'Bat79464', )(Up_5515)
Res90876 = keras.layers.Reshape((1, 2, 1), name = 'Res90876', )(Bat79464)
Res99376 = keras.layers.Reshape((1, 2, 1, 1), name = 'Res99376', )(Res90876)
Zer34692 = keras.layers.ZeroPadding3D(padding=((0, 0), (0, 0), (1, 0)), name = 'Zer34692', )(Res99376)
Add96376 = keras.layers.Add(name = 'Add96376', )([in0Add96376,in1Add96376])
Add97030 = keras.layers.Add(name = 'Add97030', )([Zer34692,Add96376])
model = tf.keras.models.Model(inputs=[in0Up_5515,in0Add96376,in1Add96376], outputs=Add97030)
w = model.get_layer('Bat79464').get_weights() 
w[0] = np.array([0.4318])
w[1] = np.array([0.0972])
w[2] = np.array([0.5649])
w[3] = np.array([0.175])
model.get_layer('Bat79464').set_weights(w) 
in0Up_5515 = tf.constant([[[1.6779, 1.1688]]])
in0Add96376 = tf.constant([[[[[0.3071], [0.6001]], [[0.5404], [0.2962]]]]])
in1Add96376 = tf.constant([[[[[0.1112], [0.0286]], [[0.7027], [0.914]]]]])
print (np.array2string(model.predict([in0Up_5515,in0Add96376,in1Add96376],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add97030.png')

LUp_5515 = up_sampling1D_layer([[[1.6779, 1.1688]]], 1, Up_5515), 
LBat79464 = batch_normalization_layer(Up_5515, 1, 0.840099196257781, [0.4318], [0.0972], [0.5649], [0.175], Bat79464), 
LRes90876 = reshape_layer(Bat79464, [1, 2, 1], Res90876), 
LRes99376 = reshape_layer(Res90876, [1, 2, 1, 1], Res99376), 
LZer34692 = zero_padding3D_layer(Res99376, 0, 0, 0, 0, 1, 0, Zer34692), 
LAdd96376 = add_layer([[[[[[0.3071], [0.6001]], [[0.5404], [0.2962]]]]], [[[[[0.1112], [0.0286]], [[0.7027], [0.914]]]]]], Add96376), 
LAdd97030 = add_layer([Zer34692,Add96376], Add97030), 
exec_layers([LUp_5515,LBat79464,LRes90876,LRes99376,LZer34692,LAdd96376,LAdd97030],["Up_5515","Bat79464","Res90876","Res99376","Zer34692","Add96376","Add97030"],Add97030,"Add97030")

Actual (Unparsed): [[[[[0.4183000], [1.2029057]], [[1.2431000], [1.5662174]]]]]

Expected (Unparsed): [[[[[0.4183],[1.2029056908704887]],[[1.2431],[1.5662173735100522]]]]]

Actual:   [[[[[0.4183], [1.203]], [[1.2431], [1.5663]]]]]

Expected: [[[[[0.4183], [1.203]], [[1.2431], [1.5663]]]]]