import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave39374 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))
in1Ave39374 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))

Ave39374 = keras.layers.Average(name = 'Ave39374', )([in0Ave39374,in1Ave39374])
Lay99833 = keras.layers.LayerNormalization(axis=1, epsilon=2.1176584531451836, name = 'Lay99833', )(Ave39374)
model = tf.keras.models.Model(inputs=[in0Ave39374,in1Ave39374], outputs=Lay99833)
in0Ave39374 = tf.constant([[[[[0.8551]]], [[[0.4296]]]]])
in1Ave39374 = tf.constant([[[[[0.4428]]], [[[0.8424]]]]])
print (np.array2string(model.predict([in0Ave39374,in1Ave39374],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Lay99833.png')

LAve39374 = average_layer([[[[[[0.8551]]], [[[0.4296]]]]], [[[[[0.4428]]], [[[0.8424]]]]]], Ave39374), 
LLay99833 = layer_normalization_layer(Ave39374, 1, 2.1176584531451836, Lay99833), 
exec_layers([LAve39374,LLay99833],["Ave39374","Lay99833"],Lay99833,"Lay99833")

Actual (Unparsed): [[[[[0.0044495]]], [[[-0.0044495]]]]]

Expected (Unparsed): [[[[[0.004449462138464643]]],[[[-0.004449462138464643]]]]]

Actual:   [[[[[0.0045]]], [[[-0.0044]]]]]

Expected: [[[[[0.0045]]], [[[-0.0044]]]]]