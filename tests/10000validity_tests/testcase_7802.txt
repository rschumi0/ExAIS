import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul12117 = tf.keras.layers.Input(shape=([2, 1, 1]))
in1Mul12117 = tf.keras.layers.Input(shape=([2, 1, 1]))
in0Con65462 = tf.keras.layers.Input(shape=([2, 3]))
in0Up_85926 = tf.keras.layers.Input(shape=([1, 4]))

Mul12117 = keras.layers.Multiply(name = 'Mul12117', )([in0Mul12117,in1Mul12117])
Res61516 = keras.layers.Reshape((2, 1), name = 'Res61516', )(Mul12117)
Con65462 = keras.layers.Concatenate(axis=2, name = 'Con65462', )([Res61516,in0Con65462])
Up_85926 = keras.layers.UpSampling1D(size=(2), name = 'Up_85926', )(in0Up_85926)
Add90880 = keras.layers.Add(name = 'Add90880', )([Con65462,Up_85926])
model = tf.keras.models.Model(inputs=[in0Mul12117,in1Mul12117,in0Con65462,in0Up_85926], outputs=Add90880)
in0Mul12117 = tf.constant([[[[0.5603]], [[0.0961]]]])
in1Mul12117 = tf.constant([[[[0.7869]], [[0.9797]]]])
in0Con65462 = tf.constant([[[0.7896, 0.5914, 0.3649], [0.9546, 0.2897, 0.6981]]])
in0Up_85926 = tf.constant([[[1.9619, 1.7478, 1.1578, 1.6914]]])
print (np.array2string(model.predict([in0Mul12117,in1Mul12117,in0Con65462,in0Up_85926],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add90880.png')

LMul12117 = multiply_layer([[[[[0.5603]], [[0.0961]]]], [[[[0.7869]], [[0.9797]]]]], Mul12117), 
LRes61516 = reshape_layer(Mul12117, [2, 1], Res61516), 
LCon65462 = concatenate_layer([Res61516,[[[0.7896, 0.5914, 0.3649], [0.9546, 0.2897, 0.6981]]]], 2, Con65462), 
LUp_85926 = up_sampling1D_layer([[[1.9619, 1.7478, 1.1578, 1.6914]]], 2, Up_85926), 
LAdd90880 = add_layer([Con65462,Up_85926], Add90880), 
exec_layers([LMul12117,LRes61516,LCon65462,LUp_85926,LAdd90880],["Mul12117","Res61516","Con65462","Up_85926","Add90880"],Add90880,"Add90880")

Actual (Unparsed): [[[2.4028001, 2.5374000, 1.7492000, 2.0563000], [2.0560492, 2.7024000, 1.4475000, 2.3895000]]]

Expected (Unparsed): [[[2.40280007,2.5374,1.7492,2.0563000000000002],[2.05604917,2.7024,1.4475,2.3895]]]

Actual:   [[[2.4029, 2.5374, 1.7492, 2.0563], [2.0561, 2.7024, 1.4475, 2.3895]]]

Expected: [[[2.4029, 2.5374, 1.7492, 2.0564], [2.0561, 2.7024, 1.4475, 2.3895]]]