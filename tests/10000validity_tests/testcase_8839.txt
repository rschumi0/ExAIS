import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add31204 = tf.keras.layers.Input(shape=([1, 2]))
in1Add31204 = tf.keras.layers.Input(shape=([1, 2]))

Add31204 = keras.layers.Add(name = 'Add31204', )([in0Add31204,in1Add31204])
Res64875 = keras.layers.Reshape((1, 2, 1), name = 'Res64875', )(Add31204)
Res82019 = keras.layers.Reshape((1, 2, 1, 1), name = 'Res82019', )(Res64875)
Con43226 = keras.layers.Conv3DTranspose(2, (1, 2, 1),strides=(1, 1, 1), padding='same', name = 'Con43226', )(Res82019)
Zer29147 = keras.layers.ZeroPadding3D(padding=((1, 1), (1, 1), (1, 1)), name = 'Zer29147', )(Con43226)
Con36803 = keras.layers.Conv3DTranspose(4, (1, 1, 2),strides=(1, 1, 1), padding='valid', name = 'Con36803', )(Zer29147)
model = tf.keras.models.Model(inputs=[in0Add31204,in1Add31204], outputs=Con36803)
w = model.get_layer('Con43226').get_weights() 
w[0] = np.array([[[[[0.9332], [0.6873]]], [[[0.7689], [0.2993]]]]])
w[1] = np.array([0, 0])
model.get_layer('Con43226').set_weights(w) 
w = model.get_layer('Con36803').get_weights() 
w[0] = np.array([[[[[0.1822, 0.9466], [0.5233, 0.8442], [0.7445, 0.9923], [0.6782, 0.8556]], [[0.9378, 0.6191], [0.7497, 0.8908], [0.2868, 0.5205], [0.449, 0.079]]]]])
w[1] = np.array([0, 0, 0, 0])
model.get_layer('Con36803').set_weights(w) 
in0Add31204 = tf.constant([[[0.3821, 0.7652]]])
in1Add31204 = tf.constant([[[0.5836, 0.8344]]])
print (np.array2string(model.predict([in0Add31204,in1Add31204],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Con36803.png')

LAdd31204 = add_layer([[[[0.3821, 0.7652]]], [[[0.5836, 0.8344]]]], Add31204), 
LRes64875 = reshape_layer(Add31204, [1, 2, 1], Res64875), 
LRes82019 = reshape_layer(Res64875, [1, 2, 1, 1], Res82019), 
LCon43226 = conv3D_transpose_layer(Res82019, 1, 2, 1,[[[[[0.9332], [0.6873]]], [[[0.7689], [0.2993]]]]],[0, 0], 1, 1, 1, true, Con43226), 
LZer29147 = zero_padding3D_layer(Con43226, 1, 1, 1, 1, 1, 1, Zer29147), 
LCon36803 = conv3D_transpose_layer(Zer29147, 1, 1, 2,[[[[[0.1822, 0.9466], [0.5233, 0.8442], [0.7445, 0.9923], [0.6782, 0.8556]], [[0.9378, 0.6191], [0.7497, 0.8908], [0.2868, 0.5205], [0.449, 0.079]]]]],[0, 0, 0, 0], 1, 1, 1, false, Con36803), 
exec_layers([LAdd31204,LRes64875,LRes82019,LCon43226,LZer29147,LCon36803],["Add31204","Res64875","Res82019","Con43226","Zer29147","Con36803"],Con36803,"Con36803")

Actual (Unparsed): [[[[[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000]]], [[[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.7924797, 1.0319105, 1.3295518, 1.1790715], [1.2560496, 1.2668698, 0.6039308, 0.4570692], [0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000], [1.7215633, 2.3418389, 3.0419092, 2.7039109], [2.9558221, 2.9126060, 1.3637590, 1.1133245], [0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000]]], [[[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000]]]]]

Expected (Unparsed): [[[[[0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0]],[[0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0]],[[0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0]],[[0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0]]],[[[0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0]],[[0.0,0.0,0.0,0.0],[0.7924797063540001,1.0319105358540002,1.3295518009830003,1.1790715308840003],[1.256049670023,1.2668698460160002,0.6039308276370001,0.45706918995000007],[0.0,0.0,0.0,0.0]],[[0.0,0.0,0.0,0.0],[1.721563265184,2.341838876163,3.0419091925320005,2.7039109391940004],[2.9558220820290004,2.9126060468370003,1.363758971805,1.1133244671600002],[0.0,0.0,0.0,0.0]],[[0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0]]],[[[0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0]],[[0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0]],[[0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0]],[[0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0]]]]]

Actual:   [[[[[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]]], [[[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0.7925, 1.032, 1.3296, 1.1791], [1.2561, 1.2669, 0.604, 0.4571], [0, 0, 0, 0]], [[0, 0, 0, 0], [1.7216, 2.3419, 3.042, 2.704], [2.9559, 2.9127, 1.3638, 1.1134], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]]], [[[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]]]]]

Expected: [[[[[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]]], [[[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0.7925, 1.032, 1.3296, 1.1791], [1.2561, 1.2669, 0.604, 0.4571], [0, 0, 0, 0]], [[0, 0, 0, 0], [1.7216, 2.3419, 3.042, 2.704], [2.9559, 2.9127, 1.3638, 1.1134], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]]], [[[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]]]]]