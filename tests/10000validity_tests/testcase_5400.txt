import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave72657 = tf.keras.layers.Input(shape=([1, 1, 1, 2]))
in1Ave72657 = tf.keras.layers.Input(shape=([1, 1, 1, 2]))
in0Ave92451 = tf.keras.layers.Input(shape=([1, 1, 1]))
in1Ave92451 = tf.keras.layers.Input(shape=([1, 1, 1]))
in0Min67884 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))
in1Min67884 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))
in0Mul44914 = tf.keras.layers.Input(shape=([1, 2]))
in1Mul44914 = tf.keras.layers.Input(shape=([1, 2]))
in0Con70821 = tf.keras.layers.Input(shape=([2, 1, 1]))

Ave72657 = keras.layers.Average(name = 'Ave72657', )([in0Ave72657,in1Ave72657])
Res52671 = keras.layers.Reshape((1, 1, 2), name = 'Res52671', )(Ave72657)
Zer28587 = keras.layers.ZeroPadding2D(padding=((1, 0), (0, 0)), name = 'Zer28587', )(Res52671)
Ave92451 = keras.layers.Average(name = 'Ave92451', )([in0Ave92451,in1Ave92451])
Zer78204 = keras.layers.ZeroPadding2D(padding=((1, 0), (0, 0)), name = 'Zer78204', )(Ave92451)
Min67884 = keras.layers.Minimum(name = 'Min67884', )([in0Min67884,in1Min67884])
Lea98726 = keras.layers.LeakyReLU(alpha=6.96142002674678, name = 'Lea98726', )(Min67884)
Res9614 = keras.layers.Reshape((2, 1, 1), name = 'Res9614', )(Lea98726)
Mul44914 = keras.layers.Multiply(name = 'Mul44914', )([in0Mul44914,in1Mul44914])
Res14075 = keras.layers.Reshape((2, 1, 1), name = 'Res14075', )(Mul44914)
Mul28927 = keras.layers.Multiply(name = 'Mul28927', )([Res9614,Res14075])
Sub30760 = keras.layers.Subtract(name = 'Sub30760', )([Zer78204,Mul28927])
Con70821 = keras.layers.Concatenate(axis=3, name = 'Con70821', )([Sub30760,in0Con70821])
Add43395 = keras.layers.Add(name = 'Add43395', )([Zer28587,Con70821])
Lea30334 = keras.layers.LeakyReLU(alpha=4.950155342217096, name = 'Lea30334', )(Add43395)
model = tf.keras.models.Model(inputs=[in0Ave72657,in1Ave72657,in0Ave92451,in1Ave92451,in0Min67884,in1Min67884,in0Mul44914,in1Mul44914,in0Con70821], outputs=Lea30334)
in0Ave72657 = tf.constant([[[[[0.8078, 0.1811]]]]])
in1Ave72657 = tf.constant([[[[[0.3302, 0.5302]]]]])
in0Ave92451 = tf.constant([[[[0.1107]]]])
in1Ave92451 = tf.constant([[[[0.6325]]]])
in0Min67884 = tf.constant([[[[[0.3101]]], [[[0.4571]]]]])
in1Min67884 = tf.constant([[[[[0.761]]], [[[0.4865]]]]])
in0Mul44914 = tf.constant([[[0.1112, 0.5645]]])
in1Mul44914 = tf.constant([[[0.6494, 0.8475]]])
in0Con70821 = tf.constant([[[[0.9794]], [[0.7679]]]])
print (np.array2string(model.predict([in0Ave72657,in1Ave72657,in0Ave92451,in1Ave92451,in0Min67884,in1Min67884,in0Mul44914,in1Mul44914,in0Con70821],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Lea30334.png')

LAve72657 = average_layer([[[[[[0.8078, 0.1811]]]]], [[[[[0.3302, 0.5302]]]]]], Ave72657), 
LRes52671 = reshape_layer(Ave72657, [1, 1, 2], Res52671), 
LZer28587 = zero_padding2D_layer(Res52671, 1, 0, 0, 0, Zer28587), 
LAve92451 = average_layer([[[[[0.1107]]]], [[[[0.6325]]]]], Ave92451), 
LZer78204 = zero_padding2D_layer(Ave92451, 1, 0, 0, 0, Zer78204), 
LMin67884 = minimum_layer([[[[[[0.3101]]], [[[0.4571]]]]], [[[[[0.761]]], [[[0.4865]]]]]], Min67884), 
LLea98726 = leaky_relu_layer(Min67884, 6.96142002674678, Lea98726), 
LRes9614 = reshape_layer(Lea98726, [2, 1, 1], Res9614), 
LMul44914 = multiply_layer([[[[0.1112, 0.5645]]], [[[0.6494, 0.8475]]]], Mul44914), 
LRes14075 = reshape_layer(Mul44914, [2, 1, 1], Res14075), 
LMul28927 = multiply_layer([Res9614,Res14075], Mul28927), 
LSub30760 = subtract_layer(Zer78204,Mul28927, Sub30760), 
LCon70821 = concatenate_layer([Sub30760,[[[[0.9794]], [[0.7679]]]]], 3, Con70821), 
LAdd43395 = add_layer([Zer28587,Con70821], Add43395), 
LLea30334 = leaky_relu_layer(Add43395, 4.950155342217096, Lea30334), 
exec_layers([LAve72657,LRes52671,LZer28587,LAve92451,LZer78204,LMin67884,LLea98726,LRes9614,LMul44914,LRes14075,LMul28927,LSub30760,LCon70821,LAdd43395,LLea30334],["Ave72657","Res52671","Zer28587","Ave92451","Zer78204","Min67884","Lea98726","Res9614","Mul44914","Res14075","Mul28927","Sub30760","Con70821","Add43395","Lea30334"],Lea30334,"Lea30334")

Actual (Unparsed): [[[[-0.1108505, 0.9794000]], [[0.7219171, 1.1235500]]]]

Expected (Unparsed): [[[[-0.11085050236439296,0.9794]],[[0.7219170748749999,1.12355]]]]

Actual:   [[[[-0.1108, 0.9794]], [[0.722, 1.1236]]]]

Expected: [[[[-0.1108, 0.9794]], [[0.722, 1.1236]]]]