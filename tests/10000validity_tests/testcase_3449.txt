import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot2907 = tf.keras.layers.Input(shape=([3, 2]))
in1Dot2907 = tf.keras.layers.Input(shape=([3, 2]))

Dot2907 = keras.layers.Dot(axes=(1, 1), name = 'Dot2907', )([in0Dot2907,in1Dot2907])
Res25535 = keras.layers.Reshape((2, 2, 1), name = 'Res25535', )(Dot2907)
Res95274 = keras.layers.Reshape((2, 2, 1, 1), name = 'Res95274', )(Res25535)
Cro10578 = keras.layers.Cropping3D(cropping=((1, 0), (0, 0), (0, 0)), name = 'Cro10578', )(Res95274)
Res95399 = keras.layers.Reshape((1, 2, 1), name = 'Res95399', )(Cro10578)
Cro74982 = keras.layers.Cropping2D(cropping=((0, 0), (1, 0)), name = 'Cro74982', )(Res95399)
Glo65211 = keras.layers.GlobalAveragePooling2D(name = 'Glo65211', )(Cro74982)
model = tf.keras.models.Model(inputs=[in0Dot2907,in1Dot2907], outputs=Glo65211)
in0Dot2907 = tf.constant([[[0.5667, 0.529], [0.8525, 0.4032], [0.2972, 0.0272]]])
in1Dot2907 = tf.constant([[[0.2807, 0.93], [0.2538, 0.9647], [0.8571, 0.7908]]])
print (np.array2string(model.predict([in0Dot2907,in1Dot2907],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo65211.png')

LDot2907 = dot_layer([[[0.5667, 0.529], [0.8525, 0.4032], [0.2972, 0.0272]]], [[[0.2807, 0.93], [0.2538, 0.9647], [0.8571, 0.7908]]], 1, 1, Dot2907), 
LRes25535 = reshape_layer(Dot2907, [2, 2, 1], Res25535), 
LRes95274 = reshape_layer(Res25535, [2, 2, 1, 1], Res95274), 
LCro10578 = cropping3D_layer(Res95274, 1, 0, 0, 0, 0, 0, Cro10578), 
LRes95399 = reshape_layer(Cro10578, [1, 2, 1], Res95399), 
LCro74982 = cropping2D_layer(Res95399, 0, 0, 1, 0, Cro74982), 
LGlo65211 = global_average_pooling2D_layer(Cro74982, Glo65211), 
exec_layers([LDot2907,LRes25535,LRes95274,LCro10578,LRes95399,LCro74982,LGlo65211],["Dot2907","Res25535","Res95274","Cro10578","Res95399","Cro74982","Glo65211"],Glo65211,"Glo65211")

Actual (Unparsed): [[0.9024468]]

Expected (Unparsed): [[0.9024468000000001]]

Actual:   [[0.9025]]

Expected: [[0.9025]]