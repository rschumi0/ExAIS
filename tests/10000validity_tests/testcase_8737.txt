import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max60491 = tf.keras.layers.Input(shape=([1, 2, 1, 2]))
in1Max60491 = tf.keras.layers.Input(shape=([1, 2, 1, 2]))

Max60491 = keras.layers.Maximum(name = 'Max60491', )([in0Max60491,in1Max60491])
Res98018 = keras.layers.Reshape((1, 2, 2), name = 'Res98018', )(Max60491)
Con16652 = keras.layers.Conv2DTranspose(4, (1, 2),strides=(1, 1), padding='same', name = 'Con16652', )(Res98018)
model = tf.keras.models.Model(inputs=[in0Max60491,in1Max60491], outputs=Con16652)
w = model.get_layer('Con16652').get_weights() 
w[0] = np.array([[[[0.429, 0.0339], [0.0349, 0.7176], [0.26, 0.7923], [0.213, 0.1776]], [[0.4803, 0.488], [0.1406, 0.3303], [0.2586, 0.9579], [0.9982, 0.6144]]]])
w[1] = np.array([0, 0, 0, 0])
model.get_layer('Con16652').set_weights(w) 
in0Max60491 = tf.constant([[[[[0.3932, 0.4494]], [[0.6087, 0.1621]]]]])
in1Max60491 = tf.constant([[[[[0.1903, 0.9719]], [[0.4396, 0.518]]]]])
print (np.array2string(model.predict([in0Max60491,in1Max60491],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Con16652.png')

LMax60491 = maximum_layer([[[[[[0.3932, 0.4494]], [[0.6087, 0.1621]]]]], [[[[[0.1903, 0.9719]], [[0.4396, 0.518]]]]]], Max60491), 
LRes98018 = reshape_layer(Max60491, [1, 2, 2], Res98018), 
LCon16652 = conv2D_transpose_layer(Res98018, 1, 2,[[[[0.429, 0.0339], [0.0349, 0.7176], [0.26, 0.7923], [0.213, 0.1776]], [[0.4803, 0.488], [0.1406, 0.3303], [0.2586, 0.9579], [0.9982, 0.6144]]]],[0, 0, 0, 0], 1, 1, true, Con16652), 
exec_layers([LMax60491,LRes98018,LCon16652],["Max60491","Res98018","Con16652"],Con16652,"Con16652")

Actual (Unparsed): [[[[0.2016302, 0.7111581, 0.8722684, 0.2563610], [0.9418336, 0.7692629, 1.6013379, 1.2112775]]]]

Expected (Unparsed): [[[[0.20163020999999998,0.71115812,0.87226837,0.25636104],[0.9418336599999999,0.7692629200000001,1.6013379300000001,1.2112775]]]]

Actual:   [[[[0.2017, 0.7112, 0.8723, 0.2564], [0.9419, 0.7693, 1.6014, 1.2113]]]]

Expected: [[[[0.2017, 0.7112, 0.8723, 0.2564], [0.9419, 0.7693, 1.6014, 1.2113]]]]