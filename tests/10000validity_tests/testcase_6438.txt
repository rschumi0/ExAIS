import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max69232 = tf.keras.layers.Input(shape=([1, 2, 1, 1]))
in1Max69232 = tf.keras.layers.Input(shape=([1, 2, 1, 1]))
in0ELU34779 = tf.keras.layers.Input(shape=([2, 2, 1]))

Max69232 = keras.layers.Maximum(name = 'Max69232', )([in0Max69232,in1Max69232])
Res27637 = keras.layers.Reshape((1, 2, 1), name = 'Res27637', )(Max69232)
Res15353 = keras.layers.Reshape((1, 2), name = 'Res15353', )(Res27637)
Per62346 = keras.layers.Permute((2,1), name = 'Per62346',)(Res15353)
Res74659 = keras.layers.Reshape((2, 1, 1), name = 'Res74659', )(Per62346)
Zer80231 = keras.layers.ZeroPadding2D(padding=((0, 0), (1, 0)), name = 'Zer80231', )(Res74659)
ELU34779 = keras.layers.ELU(alpha=9.753621396043034, name = 'ELU34779', input_shape=(2, 2, 1))(in0ELU34779)
Ave94025 = keras.layers.Average(name = 'Ave94025', )([Zer80231,ELU34779])
model = tf.keras.models.Model(inputs=[in0Max69232,in1Max69232,in0ELU34779], outputs=Ave94025)
in0Max69232 = tf.constant([[[[[0.3263]], [[0.8082]]]]])
in1Max69232 = tf.constant([[[[[0.1072]], [[0.2795]]]]])
in0ELU34779 = tf.constant([[[[0.1365], [0.76]], [[0.5477], [0.0806]]]])
print (np.array2string(model.predict([in0Max69232,in1Max69232,in0ELU34779],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Ave94025.png')

LMax69232 = maximum_layer([[[[[[0.3263]], [[0.8082]]]]], [[[[[0.1072]], [[0.2795]]]]]], Max69232), 
LRes27637 = reshape_layer(Max69232, [1, 2, 1], Res27637), 
LRes15353 = reshape_layer(Res27637, [1, 2], Res15353), 
LPer62346 = permute_layer(Res15353, 2,1, Per62346), 
LRes74659 = reshape_layer(Per62346, [2, 1, 1], Res74659), 
LZer80231 = zero_padding2D_layer(Res74659, 0, 0, 1, 0, Zer80231), 
LELU34779 = elu_layer([[[[0.1365], [0.76]], [[0.5477], [0.0806]]]], 9.753621396043034, ELU34779), 
LAve94025 = average_layer([Zer80231,ELU34779], Ave94025), 
exec_layers([LMax69232,LRes27637,LRes15353,LPer62346,LRes74659,LZer80231,LELU34779,LAve94025],["Max69232","Res27637","Res15353","Per62346","Res74659","Zer80231","ELU34779","Ave94025"],Ave94025,"Ave94025")

Actual (Unparsed): [[[[0.0682500], [0.5431500]], [[0.2738500], [0.4444000]]]]

Expected (Unparsed): [[[[0.06825],[0.54315]],[[0.27385],[0.4444]]]]

Actual:   [[[[0.0683], [0.5432]], [[0.2739], [0.4444]]]]

Expected: [[[[0.0683], [0.5432]], [[0.2739], [0.4444]]]]