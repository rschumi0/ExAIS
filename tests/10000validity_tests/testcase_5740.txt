import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Fla90659 = tf.keras.layers.Input(shape=([3]))
in0Dot50295 = tf.keras.layers.Input(shape=([2]))
in1Dot50295 = tf.keras.layers.Input(shape=([2]))

Fla90659 = keras.layers.Flatten(name = 'Fla90659', )(in0Fla90659)
Res69992 = keras.layers.Reshape((3, 1), name = 'Res69992', )(Fla90659)
Max92693 = keras.layers.MaxPool1D(pool_size=(1), strides=(2), padding='same', name = 'Max92693', )(Res69992)
Dot50295 = keras.layers.Dot(axes=(1, 1), name = 'Dot50295', )([in0Dot50295,in1Dot50295])
Res49473 = keras.layers.Reshape((1, 1), name = 'Res49473', )(Dot50295)
Ave81535 = keras.layers.AveragePooling1D(pool_size=(1), name = 'Ave81535', )(Res49473)
Zer67698 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer67698', )(Ave81535)
Ave43696 = keras.layers.Average(name = 'Ave43696', )([Max92693,Zer67698])
model = tf.keras.models.Model(inputs=[in0Fla90659,in0Dot50295,in1Dot50295], outputs=Ave43696)
in0Fla90659 = tf.constant([[1.5975, 1.452, 1.5225]])
in0Dot50295 = tf.constant([[0.6672, 0.9438]])
in1Dot50295 = tf.constant([[0.6719, 0.6218]])
print (np.array2string(model.predict([in0Fla90659,in0Dot50295,in1Dot50295],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Ave43696.png')

LFla90659 = flatten_layer([[1.5975, 1.452, 1.5225]], Fla90659), 
LRes69992 = reshape_layer(Fla90659, [3, 1], Res69992), 
LMax92693 = max_pool1D_layer(Res69992, 1, 2, true, Max92693), 
LDot50295 = dot_layer([[0.6672, 0.9438]], [[0.6719, 0.6218]], 1, 1, Dot50295), 
LRes49473 = reshape_layer(Dot50295, [1, 1], Res49473), 
LAve81535 = average_pooling1D_layer(Res49473, 1, Ave81535), 
LZer67698 = zero_padding1D_layer(Ave81535, 1, 0, Zer67698), 
LAve43696 = average_layer([Max92693,Zer67698], Ave43696), 
exec_layers([LFla90659,LRes69992,LMax92693,LDot50295,LRes49473,LAve81535,LZer67698,LAve43696],["Fla90659","Res69992","Max92693","Dot50295","Res49473","Ave81535","Zer67698","Ave43696"],Ave43696,"Ave43696")

Actual (Unparsed): [[[0.7987500], [1.2788233]]]

Expected (Unparsed): [[[0.79875],[1.27882326]]]

Actual:   [[[0.7988], [1.2789]]]

Expected: [[[0.7988], [1.2789]]]