import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub93210 = tf.keras.layers.Input(shape=([2]))
in1Sub93210 = tf.keras.layers.Input(shape=([2]))

Sub93210 = keras.layers.Subtract(name = 'Sub93210', )([in0Sub93210,in1Sub93210])
Res18661 = keras.layers.Reshape((2, 1), name = 'Res18661', )(Sub93210)
Res32358 = keras.layers.Reshape((2, 1, 1), name = 'Res32358', )(Res18661)
Res76907 = keras.layers.Reshape((2, 1, 1, 1), name = 'Res76907', )(Res32358)
Glo37315 = keras.layers.GlobalAveragePooling3D(name = 'Glo37315', )(Res76907)
model = tf.keras.models.Model(inputs=[in0Sub93210,in1Sub93210], outputs=Glo37315)
in0Sub93210 = tf.constant([[0.325, 0.7983]])
in1Sub93210 = tf.constant([[0.9205, 0.2551]])
print (np.array2string(model.predict([in0Sub93210,in1Sub93210],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo37315.png')

LSub93210 = subtract_layer([[0.325, 0.7983]], [[0.9205, 0.2551]], Sub93210), 
LRes18661 = reshape_layer(Sub93210, [2, 1], Res18661), 
LRes32358 = reshape_layer(Res18661, [2, 1, 1], Res32358), 
LRes76907 = reshape_layer(Res32358, [2, 1, 1, 1], Res76907), 
LGlo37315 = global_average_pooling3D_layer(Res76907, Glo37315), 
exec_layers([LSub93210,LRes18661,LRes32358,LRes76907,LGlo37315],["Sub93210","Res18661","Res32358","Res76907","Glo37315"],Glo37315,"Glo37315")

Actual (Unparsed): [[-0.0261500]]

Expected (Unparsed): [[-0.02614999999999995]]

Actual:   [[-0.0261]]

Expected: [[-0.0261]]