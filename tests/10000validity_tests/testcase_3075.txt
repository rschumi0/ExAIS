import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add3108 = tf.keras.layers.Input(shape=([1, 2, 2, 1]))
in1Add3108 = tf.keras.layers.Input(shape=([1, 2, 2, 1]))
in0Max69994 = tf.keras.layers.Input(shape=([1, 1, 1]))
in1Max69994 = tf.keras.layers.Input(shape=([1, 1, 1]))

Add3108 = keras.layers.Add(name = 'Add3108', )([in0Add3108,in1Add3108])
ELU43985 = keras.layers.ELU(alpha=5.506122415792111, name = 'ELU43985', )(Add3108)
Glo51215 = keras.layers.GlobalMaxPool3D(name = 'Glo51215', )(ELU43985)
Max69994 = keras.layers.Maximum(name = 'Max69994', )([in0Max69994,in1Max69994])
Glo47673 = keras.layers.GlobalAveragePooling2D(name = 'Glo47673', )(Max69994)
Ave88388 = keras.layers.Average(name = 'Ave88388', )([Glo51215,Glo47673])
model = tf.keras.models.Model(inputs=[in0Add3108,in1Add3108,in0Max69994,in1Max69994], outputs=Ave88388)
in0Add3108 = tf.constant([[[[[0.7824], [0.0638]], [[0.7694], [0.1181]]]]])
in1Add3108 = tf.constant([[[[[0.4757], [0.0442]], [[0.0576], [0.4834]]]]])
in0Max69994 = tf.constant([[[[0.6032]]]])
in1Max69994 = tf.constant([[[[0.1746]]]])
print (np.array2string(model.predict([in0Add3108,in1Add3108,in0Max69994,in1Max69994],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Ave88388.png')

LAdd3108 = add_layer([[[[[[0.7824], [0.0638]], [[0.7694], [0.1181]]]]], [[[[[0.4757], [0.0442]], [[0.0576], [0.4834]]]]]], Add3108), 
LELU43985 = elu_layer(Add3108, 5.506122415792111, ELU43985), 
LGlo51215 = global_max_pool3D_layer(ELU43985, Glo51215), 
LMax69994 = maximum_layer([[[[[0.6032]]]], [[[[0.1746]]]]], Max69994), 
LGlo47673 = global_average_pooling2D_layer(Max69994, Glo47673), 
LAve88388 = average_layer([Glo51215,Glo47673], Ave88388), 
exec_layers([LAdd3108,LELU43985,LGlo51215,LMax69994,LGlo47673,LAve88388],["Add3108","ELU43985","Glo51215","Max69994","Glo47673","Ave88388"],Ave88388,"Ave88388")

Actual (Unparsed): [[0.9306500]]

Expected (Unparsed): [[0.93065]]

Actual:   [[0.9307]]

Expected: [[0.9307]]