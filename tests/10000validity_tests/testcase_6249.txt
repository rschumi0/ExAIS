import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Fla87769 = tf.keras.layers.Input(shape=([2, 2]))

Fla87769 = keras.layers.Flatten(name = 'Fla87769', )(in0Fla87769)
Res74352 = keras.layers.Reshape((4, 1), name = 'Res74352', )(Fla87769)
Res53578 = keras.layers.Reshape((4, 1, 1), name = 'Res53578', )(Res74352)
Ave11163 = keras.layers.AveragePooling2D(pool_size=(2, 1), strides=(2, 1), padding='valid', name = 'Ave11163', )(Res53578)
model = tf.keras.models.Model(inputs=[in0Fla87769], outputs=Ave11163)
in0Fla87769 = tf.constant([[[1.4687, 1.857], [1.065, 1.4815]]])
print (np.array2string(model.predict([in0Fla87769],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Ave11163.png')

LFla87769 = flatten_layer([[[1.4687, 1.857], [1.065, 1.4815]]], Fla87769), 
LRes74352 = reshape_layer(Fla87769, [4, 1], Res74352), 
LRes53578 = reshape_layer(Res74352, [4, 1, 1], Res53578), 
LAve11163 = average_pooling2D_layer(Res53578, 2, 1, 2, 1, false, Ave11163), 
exec_layers([LFla87769,LRes74352,LRes53578,LAve11163],["Fla87769","Res74352","Res53578","Ave11163"],Ave11163,"Ave11163")

Actual (Unparsed): [[[[1.6628500]], [[1.2732500]]]]

Expected (Unparsed): [[[[1.66285]],[[1.27325]]]]

Actual:   [[[[1.6629]], [[1.2733]]]]

Expected: [[[[1.6629]], [[1.2733]]]]