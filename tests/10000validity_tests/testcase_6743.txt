import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot11564 = tf.keras.layers.Input(shape=([3]))
in1Dot11564 = tf.keras.layers.Input(shape=([3]))

Dot11564 = keras.layers.Dot(axes=(1, 1), name = 'Dot11564', )([in0Dot11564,in1Dot11564])
Res70435 = keras.layers.Reshape((1, 1), name = 'Res70435', )(Dot11564)
Res11998 = keras.layers.Reshape((1, 1, 1), name = 'Res11998', )(Res70435)
Glo28690 = keras.layers.GlobalAveragePooling2D(name = 'Glo28690', )(Res11998)
Res24189 = keras.layers.Reshape((1, 1), name = 'Res24189', )(Glo28690)
Up_65794 = keras.layers.UpSampling1D(size=(2), name = 'Up_65794', )(Res24189)
Res96920 = keras.layers.Reshape((2, 1, 1), name = 'Res96920', )(Up_65794)
Glo71886 = keras.layers.GlobalAveragePooling2D(name = 'Glo71886', )(Res96920)
Res71787 = keras.layers.Reshape((1, 1), name = 'Res71787', )(Glo71886)
Res10890 = keras.layers.Reshape((1, 1, 1), name = 'Res10890', )(Res71787)
Res45162 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res45162', )(Res10890)
Zer25076 = keras.layers.ZeroPadding3D(padding=((1, 1), (1, 1), (1, 1)), name = 'Zer25076', )(Res45162)
model = tf.keras.models.Model(inputs=[in0Dot11564,in1Dot11564], outputs=Zer25076)
in0Dot11564 = tf.constant([[0.8885, 0.0628, 0.7433]])
in1Dot11564 = tf.constant([[0.1741, 0.6156, 0.5423]])
print (np.array2string(model.predict([in0Dot11564,in1Dot11564],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Zer25076.png')

LDot11564 = dot_layer([[0.8885, 0.0628, 0.7433]], [[0.1741, 0.6156, 0.5423]], 1, 1, Dot11564), 
LRes70435 = reshape_layer(Dot11564, [1, 1], Res70435), 
LRes11998 = reshape_layer(Res70435, [1, 1, 1], Res11998), 
LGlo28690 = global_average_pooling2D_layer(Res11998, Glo28690), 
LRes24189 = reshape_layer(Glo28690, [1, 1], Res24189), 
LUp_65794 = up_sampling1D_layer(Res24189, 2, Up_65794), 
LRes96920 = reshape_layer(Up_65794, [2, 1, 1], Res96920), 
LGlo71886 = global_average_pooling2D_layer(Res96920, Glo71886), 
LRes71787 = reshape_layer(Glo71886, [1, 1], Res71787), 
LRes10890 = reshape_layer(Res71787, [1, 1, 1], Res10890), 
LRes45162 = reshape_layer(Res10890, [1, 1, 1, 1], Res45162), 
LZer25076 = zero_padding3D_layer(Res45162, 1, 1, 1, 1, 1, 1, Zer25076), 
exec_layers([LDot11564,LRes70435,LRes11998,LGlo28690,LRes24189,LUp_65794,LRes96920,LGlo71886,LRes71787,LRes10890,LRes45162,LZer25076],["Dot11564","Res70435","Res11998","Glo28690","Res24189","Up_65794","Res96920","Glo71886","Res71787","Res10890","Res45162","Zer25076"],Zer25076,"Zer25076")

Actual (Unparsed): [[[[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.5964391], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]]]]

Expected (Unparsed): [[[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0.59643912],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]]]]]

Actual:   [[[[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.5965], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]]]]

Expected: [[[[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.5965], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]]]]