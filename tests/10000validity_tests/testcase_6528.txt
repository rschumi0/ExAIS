import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot3135 = tf.keras.layers.Input(shape=([2, 3]))
in1Dot3135 = tf.keras.layers.Input(shape=([2, 3]))
in0Max40429 = tf.keras.layers.Input(shape=([2, 2]))
in1Max40429 = tf.keras.layers.Input(shape=([2, 2]))
in0Con54971 = tf.keras.layers.Input(shape=([2]))

Dot3135 = keras.layers.Dot(axes=(2, 2), name = 'Dot3135', )([in0Dot3135,in1Dot3135])
Fla42957 = keras.layers.Flatten(name = 'Fla42957', )(Dot3135)
Max40429 = keras.layers.Maximum(name = 'Max40429', )([in0Max40429,in1Max40429])
Glo10724 = keras.layers.GlobalAveragePooling1D(name = 'Glo10724', )(Max40429)
Con54971 = keras.layers.Concatenate(axis=1, name = 'Con54971', )([Glo10724,in0Con54971])
Min92479 = keras.layers.Minimum(name = 'Min92479', )([Fla42957,Con54971])
model = tf.keras.models.Model(inputs=[in0Dot3135,in1Dot3135,in0Max40429,in1Max40429,in0Con54971], outputs=Min92479)
in0Dot3135 = tf.constant([[[0.3548, 0.8202, 0.7386], [0.0164, 0.3105, 0.1775]]])
in1Dot3135 = tf.constant([[[0.6337, 0.5798, 0.9996], [0.7725, 0.4507, 0.1864]]])
in0Max40429 = tf.constant([[[0.8714, 0.8263], [0.2962, 0.2148]]])
in1Max40429 = tf.constant([[[0.9435, 0.8973], [0.2405, 0.0155]]])
in0Con54971 = tf.constant([[0.814, 0.3989]])
print (np.array2string(model.predict([in0Dot3135,in1Dot3135,in0Max40429,in1Max40429,in0Con54971],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min92479.png')

LDot3135 = dot_layer([[[0.3548, 0.8202, 0.7386], [0.0164, 0.3105, 0.1775]]], [[[0.6337, 0.5798, 0.9996], [0.7725, 0.4507, 0.1864]]], 2, 2, Dot3135), 
LFla42957 = flatten_layer(Dot3135, Fla42957), 
LMax40429 = maximum_layer([[[[0.8714, 0.8263], [0.2962, 0.2148]]], [[[0.9435, 0.8973], [0.2405, 0.0155]]]], Max40429), 
LGlo10724 = global_average_pooling1D_layer(Max40429, Glo10724), 
LCon54971 = concatenate_layer([Glo10724,[[0.814, 0.3989]]], 1, Con54971), 
LMin92479 = minimum_layer([Fla42957,Con54971], Min92479), 
exec_layers([LDot3135,LFla42957,LMax40429,LGlo10724,LCon54971,LMin92479],["Dot3135","Fla42957","Max40429","Glo10724","Con54971","Min92479"],Min92479,"Min92479")

Actual (Unparsed): [[0.6198500, 0.5560500, 0.3678496, 0.1856974]]

Expected (Unparsed): [[0.61985,0.5560499999999999,0.36784958,0.18569734999999998]]

Actual:   [[0.6199, 0.5561, 0.3679, 0.1857]]

Expected: [[0.6199, 0.5561, 0.3679, 0.1857]]