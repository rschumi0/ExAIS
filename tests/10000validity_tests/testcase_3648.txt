import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub70390 = tf.keras.layers.Input(shape=([3, 2, 3, 3]))
in1Sub70390 = tf.keras.layers.Input(shape=([3, 2, 3, 3]))
in0ELU20300 = tf.keras.layers.Input(shape=([1, 2, 1]))
in0Mul90140 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))
in1Mul90140 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))
in0Con96326 = tf.keras.layers.Input(shape=([3, 4, 3, 2]))

Sub70390 = keras.layers.Subtract(name = 'Sub70390', )([in0Sub70390,in1Sub70390])
Zer35858 = keras.layers.ZeroPadding3D(padding=((0, 0), (2, 0), (0, 0)), name = 'Zer35858', )(Sub70390)
ELU20300 = keras.layers.ELU(alpha=6.655000583840959, name = 'ELU20300', input_shape=(1, 2, 1))(in0ELU20300)
Res51220 = keras.layers.Reshape((1, 2, 1, 1), name = 'Res51220', )(ELU20300)
Zer81696 = keras.layers.ZeroPadding3D(padding=((1, 0), (1, 0), (0, 0)), name = 'Zer81696', )(Res51220)
Mul90140 = keras.layers.Multiply(name = 'Mul90140', )([in0Mul90140,in1Mul90140])
Zer51626 = keras.layers.ZeroPadding3D(padding=((0, 0), (2, 0), (0, 0)), name = 'Zer51626', )(Mul90140)
Sub32094 = keras.layers.Subtract(name = 'Sub32094', )([Zer81696,Zer51626])
Zer43260 = keras.layers.ZeroPadding3D(padding=((1, 0), (1, 0), (2, 0)), name = 'Zer43260', )(Sub32094)
Con96326 = keras.layers.Concatenate(axis=4, name = 'Con96326', )([Zer43260,in0Con96326])
Sub49434 = keras.layers.Subtract(name = 'Sub49434', )([Zer35858,Con96326])
model = tf.keras.models.Model(inputs=[in0Sub70390,in1Sub70390,in0ELU20300,in0Mul90140,in1Mul90140,in0Con96326], outputs=Sub49434)
in0Sub70390 = tf.constant([[[[[0.0668, 0.2765, 0.3462], [0.871, 0.4979, 0.7058], [0.1036, 0.9838, 0.1104]], [[0.8193, 0.9159, 0.2267], [0.2126, 0.2408, 0.8235], [0.0161, 0.2116, 0.8396]]], [[[0.885, 0.516, 0.274], [0.6501, 0.1563, 0.7936], [0.4843, 0.0168, 0.7602]], [[0.195, 0.4527, 0.5946], [0.4874, 0.3439, 0.5309], [0.1754, 0.658, 0.7132]]], [[[0.41, 0.3054, 0.1629], [0.4189, 0.8925, 0.3162], [0.7042, 0.7409, 0.0621]], [[0.6971, 0.2589, 0.8893], [0.9012, 0.7063, 0.7003], [0.7037, 0.6528, 0.737]]]]])
in1Sub70390 = tf.constant([[[[[0.3296, 0.2978, 0.8614], [0.2359, 0.7945, 0.1421], [0.0865, 0.9035, 0.4987]], [[0.718, 0.7344, 0.4986], [0.147, 0.667, 0.322], [0.8149, 0.5075, 0.3117]]], [[[0.7545, 0.3019, 0.8265], [0.5304, 0.8781, 0.3611], [0.5822, 0.2299, 0.6491]], [[0.5653, 0.427, 0.0805], [0.7516, 0.9199, 0.2346], [0.7519, 0.3919, 0.8134]]], [[[0.1424, 0.6207, 0.2981], [0.4905, 0.3583, 0.8071], [0.6623, 0.7196, 0.2886]], [[0.443, 0.8773, 0.8254], [0.2354, 0.274, 0.4387], [0.4096, 0.5098, 0.0535]]]]])
in0ELU20300 = tf.constant([[[[0.3127], [0.8934]]]])
in0Mul90140 = tf.constant([[[[[0.3146]]], [[[0.7005]]]]])
in1Mul90140 = tf.constant([[[[[0.4001]]], [[[0.4795]]]]])
in0Con96326 = tf.constant([[[[[0.9847, 0.7233], [0.7172, 0.0313], [0.6872, 0.0546]], [[0.6977, 0.7665], [0.1874, 0.109], [0.3156, 0.6742]], [[0.1679, 0.4868], [0.7491, 0.2077], [0.9676, 0.1262]], [[0.3552, 0.3197], [0.7552, 0.0081], [0.6255, 0.7341]]], [[[0.171, 0.7815], [0.9996, 0.5452], [0.8969, 0.1369]], [[0.1749, 0.7283], [0.6654, 0.2839], [0.1119, 0.8172]], [[0.5424, 0.9397], [0.2815, 0.6952], [0.9339, 0.8257]], [[0.8243, 0.1771], [0.6561, 0.7869], [0.2006, 0.8171]]], [[[0.5799, 0.297], [0.5993, 0.1669], [0.8177, 0.2936]], [[0.8393, 0.5319], [0.1549, 0.001], [0.755, 0.1231]], [[0.4424, 0.6381], [0.0815, 0.3881], [0.969, 0.6869]], [[0.6764, 0.219], [0.4079, 0.7002], [0.5041, 0.6809]]]]])
print (np.array2string(model.predict([in0Sub70390,in1Sub70390,in0ELU20300,in0Mul90140,in1Mul90140,in0Con96326],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sub49434.png')

LSub70390 = subtract_layer([[[[[0.0668, 0.2765, 0.3462], [0.871, 0.4979, 0.7058], [0.1036, 0.9838, 0.1104]], [[0.8193, 0.9159, 0.2267], [0.2126, 0.2408, 0.8235], [0.0161, 0.2116, 0.8396]]], [[[0.885, 0.516, 0.274], [0.6501, 0.1563, 0.7936], [0.4843, 0.0168, 0.7602]], [[0.195, 0.4527, 0.5946], [0.4874, 0.3439, 0.5309], [0.1754, 0.658, 0.7132]]], [[[0.41, 0.3054, 0.1629], [0.4189, 0.8925, 0.3162], [0.7042, 0.7409, 0.0621]], [[0.6971, 0.2589, 0.8893], [0.9012, 0.7063, 0.7003], [0.7037, 0.6528, 0.737]]]]], [[[[[0.3296, 0.2978, 0.8614], [0.2359, 0.7945, 0.1421], [0.0865, 0.9035, 0.4987]], [[0.718, 0.7344, 0.4986], [0.147, 0.667, 0.322], [0.8149, 0.5075, 0.3117]]], [[[0.7545, 0.3019, 0.8265], [0.5304, 0.8781, 0.3611], [0.5822, 0.2299, 0.6491]], [[0.5653, 0.427, 0.0805], [0.7516, 0.9199, 0.2346], [0.7519, 0.3919, 0.8134]]], [[[0.1424, 0.6207, 0.2981], [0.4905, 0.3583, 0.8071], [0.6623, 0.7196, 0.2886]], [[0.443, 0.8773, 0.8254], [0.2354, 0.274, 0.4387], [0.4096, 0.5098, 0.0535]]]]], Sub70390), 
LZer35858 = zero_padding3D_layer(Sub70390, 0, 0, 2, 0, 0, 0, Zer35858), 
LELU20300 = elu_layer([[[[0.3127], [0.8934]]]], 6.655000583840959, ELU20300), 
LRes51220 = reshape_layer(ELU20300, [1, 2, 1, 1], Res51220), 
LZer81696 = zero_padding3D_layer(Res51220, 1, 0, 1, 0, 0, 0, Zer81696), 
LMul90140 = multiply_layer([[[[[[0.3146]]], [[[0.7005]]]]], [[[[[0.4001]]], [[[0.4795]]]]]], Mul90140), 
LZer51626 = zero_padding3D_layer(Mul90140, 0, 0, 2, 0, 0, 0, Zer51626), 
LSub32094 = subtract_layer(Zer81696,Zer51626, Sub32094), 
LZer43260 = zero_padding3D_layer(Sub32094, 1, 0, 1, 0, 2, 0, Zer43260), 
LCon96326 = concatenate_layer([Zer43260,[[[[[0.9847, 0.7233], [0.7172, 0.0313], [0.6872, 0.0546]], [[0.6977, 0.7665], [0.1874, 0.109], [0.3156, 0.6742]], [[0.1679, 0.4868], [0.7491, 0.2077], [0.9676, 0.1262]], [[0.3552, 0.3197], [0.7552, 0.0081], [0.6255, 0.7341]]], [[[0.171, 0.7815], [0.9996, 0.5452], [0.8969, 0.1369]], [[0.1749, 0.7283], [0.6654, 0.2839], [0.1119, 0.8172]], [[0.5424, 0.9397], [0.2815, 0.6952], [0.9339, 0.8257]], [[0.8243, 0.1771], [0.6561, 0.7869], [0.2006, 0.8171]]], [[[0.5799, 0.297], [0.5993, 0.1669], [0.8177, 0.2936]], [[0.8393, 0.5319], [0.1549, 0.001], [0.755, 0.1231]], [[0.4424, 0.6381], [0.0815, 0.3881], [0.969, 0.6869]], [[0.6764, 0.219], [0.4079, 0.7002], [0.5041, 0.6809]]]]]], 4, Con96326), 
LSub49434 = subtract_layer(Zer35858,Con96326, Sub49434), 
exec_layers([LSub70390,LZer35858,LELU20300,LRes51220,LZer81696,LMul90140,LZer51626,LSub32094,LZer43260,LCon96326,LSub49434],["Sub70390","Zer35858","ELU20300","Res51220","Zer81696","Mul90140","Zer51626","Sub32094","Zer43260","Con96326","Sub49434"],Sub49434,"Sub49434")

Actual (Unparsed): [[[[[0.0000000, -0.9847000, -0.7233000], [0.0000000, -0.7172000, -0.0313000], [0.0000000, -0.6872000, -0.0546000]], [[0.0000000, -0.6977000, -0.7665000], [0.0000000, -0.1874000, -0.1090000], [0.0000000, -0.3156000, -0.6742000]], [[-0.2628000, -0.1892000, -1.0020000], [0.6351000, -1.0457000, 0.3560000], [0.0171000, -0.8873000, -0.5145000]], [[0.1013000, -0.1737000, -0.5916000], [0.0656000, -1.1814000, 0.4934000], [-0.7988000, -0.9214000, -0.2061999]]], [[[0.0000000, -0.1710000, -0.7815000], [0.0000000, -0.9996000, -0.5452000], [0.0000000, -0.8969000, -0.1369000]], [[0.0000000, -0.1749000, -0.7283000], [0.0000000, -0.6654000, -0.2839000], [0.0000000, -0.1119000, -0.8172000]], [[0.1305000, -0.3283000, -1.4922000], [0.1197000, -1.0033000, -0.2627000], [-0.0979000, -1.1470000, -0.7146000]], [[-0.3703000, -0.7986000, 0.3370000], [-0.2642000, -1.2321000, -0.4906000], [-0.4506286, 0.0655000, -0.9173000]]], [[[0.0000000, -0.5799000, -0.2970000], [0.0000000, -0.5993000, -0.1669000], [0.0000000, -0.8177000, -0.2936000]], [[0.0000000, -0.8393000, -0.5319000], [0.0000000, -0.1549000, -0.0010000], [0.0000000, -0.7550000, -0.1231000]], [[0.2676000, -0.7577000, -0.7733000], [-0.0716000, 0.4527000, -0.8790000], [-0.2708000, -0.9477000, -0.9134000]], [[0.2541000, -1.2948000, -0.1551000], [0.6658000, 0.0244000, -0.4386000], [-0.2634102, -0.3611000, 0.0026000]]]]]

Expected (Unparsed): [[[[[0,-0.9847,-0.7233],[0,-0.7172,-0.0313],[0,-0.6872,-0.0546]],[[0,-0.6977,-0.7665],[0,-0.1874,-0.109],[0,-0.3156,-0.6742]],[[-0.26280000000000003,-0.18919999999999998,-1.0020000000000002],[0.6351,-1.0457,0.356],[0.017100000000000004,-0.8873,-0.5145]],[[0.10130000000000006,-0.17370000000000002,-0.5915999999999999],[0.06560000000000002,-1.1814,0.49340000000000006],[-0.7988,-0.9213999999999999,-0.20619999999999994]]],[[[0,-0.171,-0.7815],[0,-0.9996,-0.5452],[0,-0.8969,-0.1369]],[[0,-0.1749,-0.7283],[0,-0.6654,-0.2839],[0,-0.1119,-0.8172]],[[0.13050000000000006,-0.3283,-1.4922],[0.11970000000000003,-1.0032999999999999,-0.26270000000000004],[-0.09790000000000004,-1.147,-0.7146]],[[-0.3703,-0.7986,0.33699999999999997],[-0.26420000000000005,-1.2321,-0.49060000000000004],[-0.45062854,0.0655,-0.9173000000000001]]],[[[0,-0.5799,-0.297],[0,-0.5993,-0.1669],[0,-0.8177,-0.2936]],[[0,-0.8393,-0.5319],[0,-0.1549,-0.001],[0,-0.755,-0.1231]],[[0.26759999999999995,-0.7577,-0.7733],[-0.0716,0.4527,-0.879],[-0.27079999999999993,-0.9477,-0.9134]],[[0.25410000000000005,-1.2948,-0.15510000000000004],[0.6658,0.024400000000000033,-0.4386],[-0.26341025,-0.3611,0.0026000000000000467]]]]]

Actual:   [[[[[0, -0.9847, -0.7233], [0, -0.7172, -0.0313], [0, -0.6872, -0.0546]], [[0, -0.6977, -0.7665], [0, -0.1874, -0.109], [0, -0.3156, -0.6742]], [[-0.2628, -0.1892, -1.002], [0.6351, -1.0457, 0.356], [0.0171, -0.8873, -0.5145]], [[0.1013, -0.1737, -0.5916], [0.0656, -1.1814, 0.4934], [-0.7988, -0.9214, -0.2061]]], [[[0, -0.171, -0.7815], [0, -0.9996, -0.5452], [0, -0.8969, -0.1369]], [[0, -0.1749, -0.7283], [0, -0.6654, -0.2839], [0, -0.1119, -0.8172]], [[0.1305, -0.3283, -1.4922], [0.1197, -1.0033, -0.2627], [-0.0979, -1.147, -0.7146]], [[-0.3703, -0.7986, 0.337], [-0.2642, -1.2321, -0.4906], [-0.4506, 0.0655, -0.9173]]], [[[0, -0.5799, -0.297], [0, -0.5993, -0.1669], [0, -0.8177, -0.2936]], [[0, -0.8393, -0.5319], [0, -0.1549, -0.001], [0, -0.755, -0.1231]], [[0.2676, -0.7577, -0.7733], [-0.0716, 0.4527, -0.879], [-0.2708, -0.9477, -0.9134]], [[0.2541, -1.2948, -0.1551], [0.6658, 0.0244, -0.4386], [-0.2634, -0.3611, 0.0026]]]]]

Expected: [[[[[0, -0.9847, -0.7233], [0, -0.7172, -0.0313], [0, -0.6872, -0.0546]], [[0, -0.6977, -0.7665], [0, -0.1874, -0.109], [0, -0.3156, -0.6742]], [[-0.2628, -0.1891, -1.002], [0.6351, -1.0457, 0.356], [0.0172, -0.8873, -0.5145]], [[0.1014, -0.1737, -0.5915], [0.0657, -1.1814, 0.4935], [-0.7988, -0.9213, -0.2061]]], [[[0, -0.171, -0.7815], [0, -0.9996, -0.5452], [0, -0.8969, -0.1369]], [[0, -0.1749, -0.7283], [0, -0.6654, -0.2839], [0, -0.1119, -0.8172]], [[0.1306, -0.3283, -1.4922], [0.1198, -1.0032, -0.2627], [-0.0979, -1.147, -0.7146]], [[-0.3703, -0.7986, 0.337], [-0.2642, -1.2321, -0.4906], [-0.4506, 0.0655, -0.9173]]], [[[0, -0.5799, -0.297], [0, -0.5993, -0.1669], [0, -0.8177, -0.2936]], [[0, -0.8393, -0.5319], [0, -0.1549, -0.001], [0, -0.755, -0.1231]], [[0.2676, -0.7577, -0.7733], [-0.0716, 0.4527, -0.879], [-0.2707, -0.9477, -0.9134]], [[0.2542, -1.2948, -0.1551], [0.6658, 0.0245, -0.4386], [-0.2634, -0.3611, 0.0027]]]]]