import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min62720 = tf.keras.layers.Input(shape=([2, 2, 2]))
in1Min62720 = tf.keras.layers.Input(shape=([2, 2, 2]))
in0Min19898 = tf.keras.layers.Input(shape=([1, 1]))
in1Min19898 = tf.keras.layers.Input(shape=([1, 1]))
in0Con33749 = tf.keras.layers.Input(shape=([2, 3]))

Min62720 = keras.layers.Minimum(name = 'Min62720', )([in0Min62720,in1Min62720])
Res63205 = keras.layers.Reshape((2, 4), name = 'Res63205', )(Min62720)
Min19898 = keras.layers.Minimum(name = 'Min19898', )([in0Min19898,in1Min19898])
Zer64651 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer64651', )(Min19898)
Con33749 = keras.layers.Concatenate(axis=2, name = 'Con33749', )([Zer64651,in0Con33749])
Min10240 = keras.layers.Minimum(name = 'Min10240', )([Res63205,Con33749])
model = tf.keras.models.Model(inputs=[in0Min62720,in1Min62720,in0Min19898,in1Min19898,in0Con33749], outputs=Min10240)
in0Min62720 = tf.constant([[[[0.6562, 0.5443], [0.1939, 0.3788]], [[0.9779, 0.787], [0.55, 0.5286]]]])
in1Min62720 = tf.constant([[[[0.6385, 0.7525], [0.3107, 0.7875]], [[0.9546, 0.9356], [0.132, 0.7339]]]])
in0Min19898 = tf.constant([[[0.7145]]])
in1Min19898 = tf.constant([[[0.175]]])
in0Con33749 = tf.constant([[[0.733, 0.1657, 0.0352], [0.9306, 0.5304, 0.0014]]])
print (np.array2string(model.predict([in0Min62720,in1Min62720,in0Min19898,in1Min19898,in0Con33749],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min10240.png')

LMin62720 = minimum_layer([[[[[0.6562, 0.5443], [0.1939, 0.3788]], [[0.9779, 0.787], [0.55, 0.5286]]]], [[[[0.6385, 0.7525], [0.3107, 0.7875]], [[0.9546, 0.9356], [0.132, 0.7339]]]]], Min62720), 
LRes63205 = reshape_layer(Min62720, [2, 4], Res63205), 
LMin19898 = minimum_layer([[[[0.7145]]], [[[0.175]]]], Min19898), 
LZer64651 = zero_padding1D_layer(Min19898, 1, 0, Zer64651), 
LCon33749 = concatenate_layer([Zer64651,[[[0.733, 0.1657, 0.0352], [0.9306, 0.5304, 0.0014]]]], 2, Con33749), 
LMin10240 = minimum_layer([Res63205,Con33749], Min10240), 
exec_layers([LMin62720,LRes63205,LMin19898,LZer64651,LCon33749,LMin10240],["Min62720","Res63205","Min19898","Zer64651","Con33749","Min10240"],Min10240,"Min10240")

Actual (Unparsed): [[[0.0000000, 0.5443000, 0.1657000, 0.0352000], [0.1750000, 0.7870000, 0.1320000, 0.0014000]]]

Expected (Unparsed): [[[0,0.5443,0.1657,0.0352],[0.175,0.787,0.132,0.0014]]]

Actual:   [[[0, 0.5443, 0.1657, 0.0352], [0.175, 0.787, 0.132, 0.0014]]]

Expected: [[[0, 0.5443, 0.1657, 0.0352], [0.175, 0.787, 0.132, 0.0014]]]