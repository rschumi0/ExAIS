import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add98892 = tf.keras.layers.Input(shape=([1, 1]))
in1Add98892 = tf.keras.layers.Input(shape=([1, 1]))
in0Max90040 = tf.keras.layers.Input(shape=([1, 1]))
in1Max90040 = tf.keras.layers.Input(shape=([1, 1]))

Add98892 = keras.layers.Add(name = 'Add98892', )([in0Add98892,in1Add98892])
Max90040 = keras.layers.Maximum(name = 'Max90040', )([in0Max90040,in1Max90040])
Ave44711 = keras.layers.Average(name = 'Ave44711', )([Add98892,Max90040])
Glo75639 = keras.layers.GlobalMaxPool1D(name = 'Glo75639', )(Ave44711)
Res51276 = keras.layers.Reshape((1, 1), name = 'Res51276', )(Glo75639)
Res49080 = keras.layers.Reshape((1, 1, 1), name = 'Res49080', )(Res51276)
Res35376 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res35376', )(Res49080)
Up_95102 = keras.layers.UpSampling3D(size=(2, 1, 1), name = 'Up_95102', )(Res35376)
model = tf.keras.models.Model(inputs=[in0Add98892,in1Add98892,in0Max90040,in1Max90040], outputs=Up_95102)
in0Add98892 = tf.constant([[[0.8453]]])
in1Add98892 = tf.constant([[[0.4423]]])
in0Max90040 = tf.constant([[[0.2144]]])
in1Max90040 = tf.constant([[[0.2917]]])
print (np.array2string(model.predict([in0Add98892,in1Add98892,in0Max90040,in1Max90040],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Up_95102.png')

LAdd98892 = add_layer([[[[0.8453]]], [[[0.4423]]]], Add98892), 
LMax90040 = maximum_layer([[[[0.2144]]], [[[0.2917]]]], Max90040), 
LAve44711 = average_layer([Add98892,Max90040], Ave44711), 
LGlo75639 = global_max_pool1D_layer(Ave44711, Glo75639), 
LRes51276 = reshape_layer(Glo75639, [1, 1], Res51276), 
LRes49080 = reshape_layer(Res51276, [1, 1, 1], Res49080), 
LRes35376 = reshape_layer(Res49080, [1, 1, 1, 1], Res35376), 
LUp_95102 = up_sampling3D_layer(Res35376, 2, 1, 1, Up_95102), 
exec_layers([LAdd98892,LMax90040,LAve44711,LGlo75639,LRes51276,LRes49080,LRes35376,LUp_95102],["Add98892","Max90040","Ave44711","Glo75639","Res51276","Res49080","Res35376","Up_95102"],Up_95102,"Up_95102")

Actual (Unparsed): [[[[[0.7896500]]], [[[0.7896500]]]]]

Expected (Unparsed): [[[[[0.7896500000000001]]],[[[0.7896500000000001]]]]]

Actual:   [[[[[0.7897]]], [[[0.7897]]]]]

Expected: [[[[[0.7897]]], [[[0.7897]]]]]