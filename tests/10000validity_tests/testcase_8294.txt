import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave78246 = tf.keras.layers.Input(shape=([1, 2, 2]))
in1Ave78246 = tf.keras.layers.Input(shape=([1, 2, 2]))
in0Dot63438 = tf.keras.layers.Input(shape=([2, 2]))
in1Dot63438 = tf.keras.layers.Input(shape=([2, 2]))
in0Con45479 = tf.keras.layers.Input(shape=([2, 2]))
in0Lea14028 = tf.keras.layers.Input(shape=([2, 2]))
in0Con6792 = tf.keras.layers.Input(shape=([8]))
in0Sub13785 = tf.keras.layers.Input(shape=([2, 3, 2]))
in1Sub13785 = tf.keras.layers.Input(shape=([2, 3, 2]))
in0Glo68641 = tf.keras.layers.Input(shape=([1, 2, 2, 2]))
in0Con20819 = tf.keras.layers.Input(shape=([10]))
in0Con77944 = tf.keras.layers.Input(shape=([7]))

Ave78246 = keras.layers.Average(name = 'Ave78246', )([in0Ave78246,in1Ave78246])
Res19391 = keras.layers.Reshape((1, 4), name = 'Res19391', )(Ave78246)
Zer79505 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer79505', )(Res19391)
Dot63438 = keras.layers.Dot(axes=(1, 2), name = 'Dot63438', )([in0Dot63438,in1Dot63438])
Con45479 = keras.layers.Concatenate(axis=2, name = 'Con45479', )([Dot63438,in0Con45479])
Sub83077 = keras.layers.Subtract(name = 'Sub83077', )([Zer79505,Con45479])
Fla45082 = keras.layers.Flatten(name = 'Fla45082', )(Sub83077)
Lea14028 = keras.layers.LeakyReLU(alpha=9.478170418858989, name = 'Lea14028', input_shape=(2, 2))(in0Lea14028)
Fla2948 = keras.layers.Flatten(name = 'Fla2948', )(Lea14028)
Con6792 = keras.layers.Concatenate(axis=1, name = 'Con6792', )([Fla2948,in0Con6792])
Sub13785 = keras.layers.Subtract(name = 'Sub13785', )([in0Sub13785,in1Sub13785])
Res68048 = keras.layers.Reshape((2, 6), name = 'Res68048', )(Sub13785)
Fla30920 = keras.layers.Flatten(name = 'Fla30920', )(Res68048)
Glo68641 = keras.layers.GlobalAveragePooling3D(name = 'Glo68641', )(in0Glo68641)
Con20819 = keras.layers.Concatenate(axis=1, name = 'Con20819', )([Glo68641,in0Con20819])
Ave82053 = keras.layers.Average(name = 'Ave82053', )([Fla30920,Con20819])
Ave88188 = keras.layers.Average(name = 'Ave88188', )([Con6792,Ave82053])
Res87910 = keras.layers.Reshape((12, 1), name = 'Res87910', )(Ave88188)
Res57601 = keras.layers.Reshape((12, 1, 1), name = 'Res57601', )(Res87910)
Res90362 = keras.layers.Reshape((12, 1, 1, 1), name = 'Res90362', )(Res57601)
Glo65604 = keras.layers.GlobalMaxPool3D(name = 'Glo65604', )(Res90362)
Con77944 = keras.layers.Concatenate(axis=1, name = 'Con77944', )([Glo65604,in0Con77944])
Add56895 = keras.layers.Add(name = 'Add56895', )([Fla45082,Con77944])
model = tf.keras.models.Model(inputs=[in0Ave78246,in1Ave78246,in0Dot63438,in1Dot63438,in0Con45479,in0Lea14028,in0Con6792,in0Sub13785,in1Sub13785,in0Glo68641,in0Con20819,in0Con77944], outputs=Add56895)
in0Ave78246 = tf.constant([[[[0.5742, 0.9099], [0.4128, 0.4056]]]])
in1Ave78246 = tf.constant([[[[0.2613, 0.1373], [0.9669, 0.6818]]]])
in0Dot63438 = tf.constant([[[0.3775, 0.9647], [0.1061, 0.5403]]])
in1Dot63438 = tf.constant([[[0.7063, 0.093], [0.7199, 0.2586]]])
in0Con45479 = tf.constant([[[0.7043, 0.1906], [0.8499, 0.3775]]])
in0Lea14028 = tf.constant([[[0.0148, 0.6993], [0.0013, 0.2976]]])
in0Con6792 = tf.constant([[0.443, 0.9566, 0.797, 0.4619, 0.4371, 0.2939, 0.0575, 0.9256]])
in0Sub13785 = tf.constant([[[[0.1843, 0.4573], [0.3516, 0.3175], [0.7983, 0.3212]], [[0.8827, 0.0642], [0.9747, 0.8494], [0.3179, 0.4344]]]])
in1Sub13785 = tf.constant([[[[0.3215, 0.2892], [0.4471, 0.3641], [0.7766, 0.1226]], [[0.9399, 0.0532], [0.7415, 0.2833], [0.2381, 0.4375]]]])
in0Glo68641 = tf.constant([[[[[1.3663, 1.7901], [1.4554, 1.7526]], [[1.0548, 1.12], [1.6987, 1.4922]]]]])
in0Con20819 = tf.constant([[0.1159, 0.0929, 0.4162, 0.1509, 0.6139, 0.2582, 0.0239, 0.7531, 0.7345, 0.2935]])
in0Con77944 = tf.constant([[0.2611, 0.8011, 0.6359, 0.6166, 0.4574, 0.067, 0.5599]])
print (np.array2string(model.predict([in0Ave78246,in1Ave78246,in0Dot63438,in1Dot63438,in0Con45479,in0Lea14028,in0Con6792,in0Sub13785,in1Sub13785,in0Glo68641,in0Con20819,in0Con77944],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add56895.png')

LAve78246 = average_layer([[[[[0.5742, 0.9099], [0.4128, 0.4056]]]], [[[[0.2613, 0.1373], [0.9669, 0.6818]]]]], Ave78246), 
LRes19391 = reshape_layer(Ave78246, [1, 4], Res19391), 
LZer79505 = zero_padding1D_layer(Res19391, 1, 0, Zer79505), 
LDot63438 = dot_layer([[[0.3775, 0.9647], [0.1061, 0.5403]]], [[[0.7063, 0.093], [0.7199, 0.2586]]], 1, 2, Dot63438), 
LCon45479 = concatenate_layer([Dot63438,[[[0.7043, 0.1906], [0.8499, 0.3775]]]], 2, Con45479), 
LSub83077 = subtract_layer(Zer79505,Con45479, Sub83077), 
LFla45082 = flatten_layer(Sub83077, Fla45082), 
LLea14028 = leaky_relu_layer([[[0.0148, 0.6993], [0.0013, 0.2976]]], 9.478170418858989, Lea14028), 
LFla2948 = flatten_layer(Lea14028, Fla2948), 
LCon6792 = concatenate_layer([Fla2948,[[0.443, 0.9566, 0.797, 0.4619, 0.4371, 0.2939, 0.0575, 0.9256]]], 1, Con6792), 
LSub13785 = subtract_layer([[[[0.1843, 0.4573], [0.3516, 0.3175], [0.7983, 0.3212]], [[0.8827, 0.0642], [0.9747, 0.8494], [0.3179, 0.4344]]]], [[[[0.3215, 0.2892], [0.4471, 0.3641], [0.7766, 0.1226]], [[0.9399, 0.0532], [0.7415, 0.2833], [0.2381, 0.4375]]]], Sub13785), 
LRes68048 = reshape_layer(Sub13785, [2, 6], Res68048), 
LFla30920 = flatten_layer(Res68048, Fla30920), 
LGlo68641 = global_average_pooling3D_layer([[[[[1.3663, 1.7901], [1.4554, 1.7526]], [[1.0548, 1.12], [1.6987, 1.4922]]]]], Glo68641), 
LCon20819 = concatenate_layer([Glo68641,[[0.1159, 0.0929, 0.4162, 0.1509, 0.6139, 0.2582, 0.0239, 0.7531, 0.7345, 0.2935]]], 1, Con20819), 
LAve82053 = average_layer([Fla30920,Con20819], Ave82053), 
LAve88188 = average_layer([Con6792,Ave82053], Ave88188), 
LRes87910 = reshape_layer(Ave88188, [12, 1], Res87910), 
LRes57601 = reshape_layer(Res87910, [12, 1, 1], Res57601), 
LRes90362 = reshape_layer(Res57601, [12, 1, 1, 1], Res90362), 
LGlo65604 = global_max_pool3D_layer(Res90362, Glo65604), 
LCon77944 = concatenate_layer([Glo65604,[[0.2611, 0.8011, 0.6359, 0.6166, 0.4574, 0.067, 0.5599]]], 1, Con77944), 
LAdd56895 = add_layer([Fla45082,Con77944], Add56895), 
exec_layers([LAve78246,LRes19391,LZer79505,LDot63438,LCon45479,LSub83077,LFla45082,LLea14028,LFla2948,LCon6792,LSub13785,LRes68048,LFla30920,LGlo68641,LCon20819,LAve82053,LAve88188,LRes87910,LRes57601,LRes90362,LGlo65604,LCon77944,LAdd56895],["Ave78246","Res19391","Zer79505","Dot63438","Con45479","Sub83077","Fla45082","Lea14028","Fla2948","Con6792","Sub13785","Res68048","Fla30920","Glo68641","Con20819","Ave82053","Ave88188","Res87910","Res57601","Res90362","Glo65604","Con77944","Add56895"],Add56895,"Add56895")

Actual (Unparsed): [[0.4998607, -0.0380997, 0.0968000, 0.4453000, 0.3027344, 0.1467909, -0.0930500, 0.7261000]]

Expected (Unparsed): [[0.49986069999999994,-0.03809971000000001,0.0968,0.44530000000000003,0.30273449,0.14679089000000006,-0.09305000000000002,0.7261]]

Actual:   [[0.4999, -0.038, 0.0968, 0.4453, 0.3028, 0.1468, -0.093, 0.7261]]

Expected: [[0.4999, -0.038, 0.0968, 0.4454, 0.3028, 0.1468, -0.093, 0.7261]]