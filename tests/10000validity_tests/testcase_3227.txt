import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min86546 = tf.keras.layers.Input(shape=([2, 1]))
in1Min86546 = tf.keras.layers.Input(shape=([2, 1]))
in0Min5570 = tf.keras.layers.Input(shape=([2, 2, 1]))
in1Min5570 = tf.keras.layers.Input(shape=([2, 2, 1]))

Min86546 = keras.layers.Minimum(name = 'Min86546', )([in0Min86546,in1Min86546])
Fla75811 = keras.layers.Flatten(name = 'Fla75811', )(Min86546)
Res56653 = keras.layers.Reshape((2, 1), name = 'Res56653', )(Fla75811)
Res92497 = keras.layers.Reshape((2, 1, 1), name = 'Res92497', )(Res56653)
Zer65646 = keras.layers.ZeroPadding2D(padding=((0, 0), (1, 0)), name = 'Zer65646', )(Res92497)
Min5570 = keras.layers.Minimum(name = 'Min5570', )([in0Min5570,in1Min5570])
Add87465 = keras.layers.Add(name = 'Add87465', )([Zer65646,Min5570])
model = tf.keras.models.Model(inputs=[in0Min86546,in1Min86546,in0Min5570,in1Min5570], outputs=Add87465)
in0Min86546 = tf.constant([[[0.2468], [0.6257]]])
in1Min86546 = tf.constant([[[0.1698], [0.5816]]])
in0Min5570 = tf.constant([[[[0.3437], [0.0806]], [[0.9931], [0.2202]]]])
in1Min5570 = tf.constant([[[[0.3586], [0.9672]], [[0.4557], [0.8057]]]])
print (np.array2string(model.predict([in0Min86546,in1Min86546,in0Min5570,in1Min5570],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add87465.png')

LMin86546 = minimum_layer([[[[0.2468], [0.6257]]], [[[0.1698], [0.5816]]]], Min86546), 
LFla75811 = flatten_layer(Min86546, Fla75811), 
LRes56653 = reshape_layer(Fla75811, [2, 1], Res56653), 
LRes92497 = reshape_layer(Res56653, [2, 1, 1], Res92497), 
LZer65646 = zero_padding2D_layer(Res92497, 0, 0, 1, 0, Zer65646), 
LMin5570 = minimum_layer([[[[[0.3437], [0.0806]], [[0.9931], [0.2202]]]], [[[[0.3586], [0.9672]], [[0.4557], [0.8057]]]]], Min5570), 
LAdd87465 = add_layer([Zer65646,Min5570], Add87465), 
exec_layers([LMin86546,LFla75811,LRes56653,LRes92497,LZer65646,LMin5570,LAdd87465],["Min86546","Fla75811","Res56653","Res92497","Zer65646","Min5570","Add87465"],Add87465,"Add87465")

Actual (Unparsed): [[[[0.3437000], [0.2504000]], [[0.4557000], [0.8018000]]]]

Expected (Unparsed): [[[[0.3437],[0.2504]],[[0.4557],[0.8018000000000001]]]]

Actual:   [[[[0.3437], [0.2504]], [[0.4557], [0.8018]]]]

Expected: [[[[0.3437], [0.2504]], [[0.4557], [0.8019]]]]