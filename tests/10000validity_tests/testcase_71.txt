import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul48827 = tf.keras.layers.Input(shape=([1, 2, 1, 1]))
in1Mul48827 = tf.keras.layers.Input(shape=([1, 2, 1, 1]))

Mul48827 = keras.layers.Multiply(name = 'Mul48827', )([in0Mul48827,in1Mul48827])
ReL27763 = keras.layers.ReLU(max_value=6.453102395043798, negative_slope=5.5522479896877925, threshold=8.983694530352832, name = 'ReL27763', )(Mul48827)
Res39174 = keras.layers.Reshape((1, 2, 1), name = 'Res39174', )(ReL27763)
Res84911 = keras.layers.Reshape((1, 2), name = 'Res84911', )(Res39174)
Ave7118 = keras.layers.AveragePooling1D(pool_size=(1), strides=(8), padding='valid', name = 'Ave7118', )(Res84911)
model = tf.keras.models.Model(inputs=[in0Mul48827,in1Mul48827], outputs=Ave7118)
in0Mul48827 = tf.constant([[[[[0.8378]], [[0.7516]]]]])
in1Mul48827 = tf.constant([[[[[0.0961]], [[0.2689]]]]])
print (np.array2string(model.predict([in0Mul48827,in1Mul48827],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Ave7118.png')

LMul48827 = multiply_layer([[[[[[0.8378]], [[0.7516]]]]], [[[[[0.0961]], [[0.2689]]]]]], Mul48827), 
LReL27763 = relu_layer(Mul48827, 6.453102395043798, 5.5522479896877925, 8.983694530352832, ReL27763), 
LRes39174 = reshape_layer(ReL27763, [1, 2, 1], Res39174), 
LRes84911 = reshape_layer(Res39174, [1, 2], Res84911), 
LAve7118 = average_pooling1D_layer(Res84911, 1, 8, false, Ave7118), 
exec_layers([LMul48827,LReL27763,LRes39174,LRes84911,LAve7118],["Mul48827","ReL27763","Res39174","Res84911","Ave7118"],Ave7118,"Ave7118")

Actual (Unparsed): [[[-49.4326741, -48.7575614]]]

Expected (Unparsed): [[[-49.43267408567115,-48.75756148362536]]]

Actual:   [[[-49.4326, -48.7575]]]

Expected: [[[-49.4326, -48.7575]]]