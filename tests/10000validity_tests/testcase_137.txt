import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Cro68483 = tf.keras.layers.Input(shape=([2, 3]))
in0Dot67434 = tf.keras.layers.Input(shape=([3, 3]))
in1Dot67434 = tf.keras.layers.Input(shape=([3, 3]))
in0Min4578 = tf.keras.layers.Input(shape=([1, 1]))
in1Min4578 = tf.keras.layers.Input(shape=([1, 1]))
in0Con5518 = tf.keras.layers.Input(shape=([3, 2]))
in0Min60309 = tf.keras.layers.Input(shape=([1, 2]))
in1Min60309 = tf.keras.layers.Input(shape=([1, 2]))
in0Con89736 = tf.keras.layers.Input(shape=([3, 1]))
in0Con53764 = tf.keras.layers.Input(shape=([3, 1]))
in0Zer75876 = tf.keras.layers.Input(shape=([1, 2, 3]))
in0Up_41512 = tf.keras.layers.Input(shape=([4, 3, 2, 1]))

Cro68483 = keras.layers.Cropping1D(cropping=((0, 1)), name = 'Cro68483', )(in0Cro68483)
ELU35437 = keras.layers.ELU(alpha=7.214253693421622, name = 'ELU35437', )(Cro68483)
Zer66640 = keras.layers.ZeroPadding1D(padding=((2, 0)), name = 'Zer66640', )(ELU35437)
Dot67434 = keras.layers.Dot(axes=(2, 2), name = 'Dot67434', )([in0Dot67434,in1Dot67434])
Min4578 = keras.layers.Minimum(name = 'Min4578', )([in0Min4578,in1Min4578])
Zer78153 = keras.layers.ZeroPadding1D(padding=((2, 0)), name = 'Zer78153', )(Min4578)
Con5518 = keras.layers.Concatenate(axis=2, name = 'Con5518', )([Zer78153,in0Con5518])
Ave96043 = keras.layers.Average(name = 'Ave96043', )([Dot67434,Con5518])
Min60309 = keras.layers.Minimum(name = 'Min60309', )([in0Min60309,in1Min60309])
Zer87637 = keras.layers.ZeroPadding1D(padding=((2, 0)), name = 'Zer87637', )(Min60309)
Con89736 = keras.layers.Concatenate(axis=2, name = 'Con89736', )([Zer87637,in0Con89736])
Min98138 = keras.layers.Minimum(name = 'Min98138', )([Ave96043,Con89736])
Sub75014 = keras.layers.Subtract(name = 'Sub75014', )([Zer66640,Min98138])
Con53764 = keras.layers.Concatenate(axis=2, name = 'Con53764', )([Sub75014,in0Con53764])
Zer75876 = keras.layers.ZeroPadding2D(padding=((1, 1), (1, 1)), name = 'Zer75876', )(in0Zer75876)
Res9733 = keras.layers.Reshape((3, 12), name = 'Res9733', )(Zer75876)
Up_41512 = keras.layers.UpSampling3D(size=(1, 2, 1), name = 'Up_41512', )(in0Up_41512)
Res16991 = keras.layers.Reshape((4, 6, 2), name = 'Res16991', )(Up_41512)
Res69328 = keras.layers.Reshape((4, 12), name = 'Res69328', )(Res16991)
Dot79730 = keras.layers.Dot(axes=(2, 2), name = 'Dot79730', )([Res9733,Res69328])
Mul8109 = keras.layers.Multiply(name = 'Mul8109', )([Con53764,Dot79730])
model = tf.keras.models.Model(inputs=[in0Cro68483,in0Dot67434,in1Dot67434,in0Min4578,in1Min4578,in0Con5518,in0Min60309,in1Min60309,in0Con89736,in0Con53764,in0Zer75876,in0Up_41512], outputs=Mul8109)
in0Cro68483 = tf.constant([[[1.5115, 1.8687, 1.2115], [1.1607, 1.7881, 1.4005]]])
in0Dot67434 = tf.constant([[[0.4334, 0.0653, 0.4168], [0.4185, 0.9138, 0.7791], [0.9824, 0.8062, 0.2787]]])
in1Dot67434 = tf.constant([[[0.998, 0.0016, 0.0055], [0.8982, 0.8435, 0.9245], [0.5443, 0.4942, 0.4997]]])
in0Min4578 = tf.constant([[[0.7966]]])
in1Min4578 = tf.constant([[[0.4745]]])
in0Con5518 = tf.constant([[[0.192, 0.7267], [0.4523, 0.6651], [0.2622, 0.3544]]])
in0Min60309 = tf.constant([[[0.7419, 0.7068]]])
in1Min60309 = tf.constant([[[0.9763, 0.3589]]])
in0Con89736 = tf.constant([[[0.3354], [0.3008], [0.0213]]])
in0Con53764 = tf.constant([[[0.6153], [0.9678], [0.2219]]])
in0Zer75876 = tf.constant([[[[1.5837, 1.889, 1.4927], [1.3283, 1.8658, 1.4053]]]])
in0Up_41512 = tf.constant([[[[[1.4649], [1.5134]], [[1.9475], [1.5241]], [[1.5029], [1.8515]]], [[[1.1374], [1.2435]], [[1.1654], [1.8638]], [[1.163], [1.0057]]], [[[1.3547], [1.5063]], [[1.3967], [1.6886]], [[1.9994], [1.606]]], [[[1.2281], [1.9939]], [[1.4957], [1.7147]], [[1.7973], [1.4992]]]]])
print (np.array2string(model.predict([in0Cro68483,in0Dot67434,in1Dot67434,in0Min4578,in1Min4578,in0Con5518,in0Min60309,in1Min60309,in0Con89736,in0Con53764,in0Zer75876,in0Up_41512],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Mul8109.png')

LCro68483 = cropping1D_layer([[[1.5115, 1.8687, 1.2115], [1.1607, 1.7881, 1.4005]]], 0, 1, Cro68483), 
LELU35437 = elu_layer(Cro68483, 7.214253693421622, ELU35437), 
LZer66640 = zero_padding1D_layer(ELU35437, 2, 0, Zer66640), 
LDot67434 = dot_layer([[[0.4334, 0.0653, 0.4168], [0.4185, 0.9138, 0.7791], [0.9824, 0.8062, 0.2787]]], [[[0.998, 0.0016, 0.0055], [0.8982, 0.8435, 0.9245], [0.5443, 0.4942, 0.4997]]], 2, 2, Dot67434), 
LMin4578 = minimum_layer([[[[0.7966]]], [[[0.4745]]]], Min4578), 
LZer78153 = zero_padding1D_layer(Min4578, 2, 0, Zer78153), 
LCon5518 = concatenate_layer([Zer78153,[[[0.192, 0.7267], [0.4523, 0.6651], [0.2622, 0.3544]]]], 2, Con5518), 
LAve96043 = average_layer([Dot67434,Con5518], Ave96043), 
LMin60309 = minimum_layer([[[[0.7419, 0.7068]]], [[[0.9763, 0.3589]]]], Min60309), 
LZer87637 = zero_padding1D_layer(Min60309, 2, 0, Zer87637), 
LCon89736 = concatenate_layer([Zer87637,[[[0.3354], [0.3008], [0.0213]]]], 2, Con89736), 
LMin98138 = minimum_layer([Ave96043,Con89736], Min98138), 
LSub75014 = subtract_layer(Zer66640,Min98138, Sub75014), 
LCon53764 = concatenate_layer([Sub75014,[[[0.6153], [0.9678], [0.2219]]]], 2, Con53764), 
LZer75876 = zero_padding2D_layer([[[[1.5837, 1.889, 1.4927], [1.3283, 1.8658, 1.4053]]]], 1, 1, 1, 1, Zer75876), 
LRes9733 = reshape_layer(Zer75876, [3, 12], Res9733), 
LUp_41512 = up_sampling3D_layer([[[[[1.4649], [1.5134]], [[1.9475], [1.5241]], [[1.5029], [1.8515]]], [[[1.1374], [1.2435]], [[1.1654], [1.8638]], [[1.163], [1.0057]]], [[[1.3547], [1.5063]], [[1.3967], [1.6886]], [[1.9994], [1.606]]], [[[1.2281], [1.9939]], [[1.4957], [1.7147]], [[1.7973], [1.4992]]]]], 1, 2, 1, Up_41512), 
LRes16991 = reshape_layer(Up_41512, [4, 6, 2], Res16991), 
LRes69328 = reshape_layer(Res16991, [4, 12], Res69328), 
LDot79730 = dot_layer(Res9733,Res69328, 2, 2, Dot79730), 
LMul8109 = multiply_layer([Con53764,Dot79730], Mul8109), 
exec_layers([LCro68483,LELU35437,LZer66640,LDot67434,LMin4578,LZer78153,LCon5518,LAve96043,LMin60309,LZer87637,LCon89736,LMin98138,LSub75014,LCon53764,LZer75876,LRes9733,LUp_41512,LRes16991,LRes69328,LDot79730,LMul8109],["Cro68483","ELU35437","Zer66640","Dot67434","Min4578","Zer78153","Con5518","Ave96043","Min60309","Zer87637","Con89736","Min98138","Sub75014","Con53764","Zer75876","Res9733","Up_41512","Res16991","Res69328","Dot79730","Mul8109"],Mul8109,"Mul8109")

Actual (Unparsed): [[[0.0000000, 0.0000000, -0.0000000, 0.0000000], [0.0000000, 0.0000000, -4.6203030, 15.7310285], [0.0000000, 0.0000000, 0.0000000, 0.0000000]]]

Expected (Unparsed): [[[0.0,0.0,-0.0,0.0],[0.0,0.0,-4.620303082112001,15.731028334104],[0.0,0.0,0.0,0.0]]]

Actual:   [[[0, 0, -0, 0], [0, 0, -4.6203, 15.7311], [0, 0, 0, 0]]]

Expected: [[[0, 0, -0, 0], [0, 0, -4.6203, 15.7311], [0, 0, 0, 0]]]