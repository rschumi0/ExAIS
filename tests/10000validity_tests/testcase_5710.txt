import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Per93182 = tf.keras.layers.Input(shape=([1, 1]))

Per93182 = keras.layers.Permute((2,1), name = 'Per93182',)(in0Per93182)
Mas96678 = keras.layers.Masking(mask_value=1, name = 'Mas96678', )(Per93182)
Mas40684 = keras.layers.Masking(mask_value=1, name = 'Mas40684', )(Mas96678)
PRe27455 = keras.layers.PReLU(name = 'PRe27455', )(Mas40684)
Res82056 = keras.layers.Reshape((1, 1, 1), name = 'Res82056', )(PRe27455)
Res43539 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res43539', )(Res82056)
Con37621 = keras.layers.Conv3DTranspose(2, (1, 1, 1),strides=(1, 1, 1), padding='same', name = 'Con37621', )(Res43539)
model = tf.keras.models.Model(inputs=[in0Per93182], outputs=Con37621)
w = model.get_layer('PRe27455').get_weights() 
w[0] = np.array([[0.1797]])
model.get_layer('PRe27455').set_weights(w) 
w = model.get_layer('Con37621').get_weights() 
w[0] = np.array([[[[[0.0037], [0.9988]]]]])
w[1] = np.array([0, 0])
model.get_layer('Con37621').set_weights(w) 
in0Per93182 = tf.constant([[[1.9727]]])
print (np.array2string(model.predict([in0Per93182],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Con37621.png')

LPer93182 = permute_layer([[[1.9727]]], 2,1, Per93182), 
LMas96678 = masking_layer(Per93182, 1, Mas96678), 
LMas40684 = masking_layer(Mas96678, 1, Mas40684), 
LPRe27455 = prelu_layer(Mas40684, [[0.1797]], PRe27455), 
LRes82056 = reshape_layer(PRe27455, [1, 1, 1], Res82056), 
LRes43539 = reshape_layer(Res82056, [1, 1, 1, 1], Res43539), 
LCon37621 = conv3D_transpose_layer(Res43539, 1, 1, 1,[[[[[0.0037], [0.9988]]]]],[0, 0], 1, 1, 1, true, Con37621), 
exec_layers([LPer93182,LMas96678,LMas40684,LPRe27455,LRes82056,LRes43539,LCon37621],["Per93182","Mas96678","Mas40684","PRe27455","Res82056","Res43539","Con37621"],Con37621,"Con37621")

Actual (Unparsed): [[[[[0.0072990, 1.9703328]]]]]

Expected (Unparsed): [[[[[0.00729899,1.97033276]]]]]

Actual:   [[[[[0.0073, 1.9704]]]]]

Expected: [[[[[0.0073, 1.9704]]]]]