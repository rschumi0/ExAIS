import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add97550 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))
in1Add97550 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))
in0Thr76074 = tf.keras.layers.Input(shape=([2, 1, 2, 2]))

Add97550 = keras.layers.Add(name = 'Add97550', )([in0Add97550,in1Add97550])
Res39894 = keras.layers.Reshape((2, 1, 1), name = 'Res39894', )(Add97550)
Res56465 = keras.layers.Reshape((2, 1), name = 'Res56465', )(Res39894)
Fla74087 = keras.layers.Flatten(name = 'Fla74087', )(Res56465)
Thr76074 = keras.layers.ThresholdedReLU(theta=6.287338259381732, name = 'Thr76074', input_shape=(2, 1, 2, 2))(in0Thr76074)
Glo87541 = keras.layers.GlobalMaxPool3D(name = 'Glo87541', )(Thr76074)
Mul53812 = keras.layers.Multiply(name = 'Mul53812', )([Fla74087,Glo87541])
model = tf.keras.models.Model(inputs=[in0Add97550,in1Add97550,in0Thr76074], outputs=Mul53812)
in0Add97550 = tf.constant([[[[[0.2]]], [[[0.6946]]]]])
in1Add97550 = tf.constant([[[[[0.8347]]], [[[0.39]]]]])
in0Thr76074 = tf.constant([[[[[0.9843, 0.9451], [0.8767, 0.3728]]], [[[0.7457, 0.9114], [0.989, 0.2577]]]]])
print (np.array2string(model.predict([in0Add97550,in1Add97550,in0Thr76074],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Mul53812.png')

LAdd97550 = add_layer([[[[[[0.2]]], [[[0.6946]]]]], [[[[[0.8347]]], [[[0.39]]]]]], Add97550), 
LRes39894 = reshape_layer(Add97550, [2, 1, 1], Res39894), 
LRes56465 = reshape_layer(Res39894, [2, 1], Res56465), 
LFla74087 = flatten_layer(Res56465, Fla74087), 
LThr76074 = thresholded_relu_layer([[[[[0.9843, 0.9451], [0.8767, 0.3728]]], [[[0.7457, 0.9114], [0.989, 0.2577]]]]], 6.287338259381732, Thr76074), 
LGlo87541 = global_max_pool3D_layer(Thr76074, Glo87541), 
LMul53812 = multiply_layer([Fla74087,Glo87541], Mul53812), 
exec_layers([LAdd97550,LRes39894,LRes56465,LFla74087,LThr76074,LGlo87541,LMul53812],["Add97550","Res39894","Res56465","Fla74087","Thr76074","Glo87541","Mul53812"],Mul53812,"Mul53812")

Actual (Unparsed): [[0.0000000, 0.0000000]]

Expected (Unparsed): [[0.0,0.0]]

Actual:   [[0, 0]]

Expected: [[0, 0]]