import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul11335 = tf.keras.layers.Input(shape=([2, 2, 2, 2]))
in1Mul11335 = tf.keras.layers.Input(shape=([2, 2, 2, 2]))
in0Add96207 = tf.keras.layers.Input(shape=([1, 1, 1]))
in1Add96207 = tf.keras.layers.Input(shape=([1, 1, 1]))
in0Con69480 = tf.keras.layers.Input(shape=([2, 2, 3]))
in0Max71360 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))
in1Max71360 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))

Mul11335 = keras.layers.Multiply(name = 'Mul11335', )([in0Mul11335,in1Mul11335])
Res80625 = keras.layers.Reshape((2, 2, 4), name = 'Res80625', )(Mul11335)
Add96207 = keras.layers.Add(name = 'Add96207', )([in0Add96207,in1Add96207])
Zer25372 = keras.layers.ZeroPadding2D(padding=((1, 0), (1, 0)), name = 'Zer25372', )(Add96207)
Con69480 = keras.layers.Concatenate(axis=3, name = 'Con69480', )([Zer25372,in0Con69480])
Ave47087 = keras.layers.Average(name = 'Ave47087', )([Res80625,Con69480])
Res61751 = keras.layers.Reshape((2, 2, 4, 1), name = 'Res61751', )(Ave47087)
Max71360 = keras.layers.Maximum(name = 'Max71360', )([in0Max71360,in1Max71360])
Zer69978 = keras.layers.ZeroPadding3D(padding=((0, 0), (1, 0), (3, 0)), name = 'Zer69978', )(Max71360)
Min8708 = keras.layers.Minimum(name = 'Min8708', )([Res61751,Zer69978])
ELU13025 = keras.layers.ELU(alpha=-1.2056702082900745, name = 'ELU13025', )(Min8708)
model = tf.keras.models.Model(inputs=[in0Mul11335,in1Mul11335,in0Add96207,in1Add96207,in0Con69480,in0Max71360,in1Max71360], outputs=ELU13025)
in0Mul11335 = tf.constant([[[[[0.8775, 0.5452], [0.6798, 0.6704]], [[0.9476, 0.6112], [0.0066, 0.6305]]], [[[0.8314, 0.8457], [0.6867, 0.152]], [[0.9351, 0.5806], [0.152, 0.1252]]]]])
in1Mul11335 = tf.constant([[[[[0.3685, 0.8565], [0.4259, 0.2171]], [[0.0209, 0.1757], [0.8089, 0.8447]]], [[[0.7734, 0.8176], [0.132, 0.9361]], [[0.0888, 0.2033], [0.3489, 0.8414]]]]])
in0Add96207 = tf.constant([[[[0.134]]]])
in1Add96207 = tf.constant([[[[0.9653]]]])
in0Con69480 = tf.constant([[[[0.1419, 0.0916, 0.9569], [0.4559, 0.6524, 0.6698]], [[0.5653, 0.9101, 0.2105], [0.3001, 0.9967, 0.4794]]]])
in0Max71360 = tf.constant([[[[[0.4791]]], [[[0.3823]]]]])
in1Max71360 = tf.constant([[[[[0.4051]]], [[[0.7038]]]]])
print (np.array2string(model.predict([in0Mul11335,in1Mul11335,in0Add96207,in1Add96207,in0Con69480,in0Max71360,in1Max71360],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='ELU13025.png')

LMul11335 = multiply_layer([[[[[[0.8775, 0.5452], [0.6798, 0.6704]], [[0.9476, 0.6112], [0.0066, 0.6305]]], [[[0.8314, 0.8457], [0.6867, 0.152]], [[0.9351, 0.5806], [0.152, 0.1252]]]]], [[[[[0.3685, 0.8565], [0.4259, 0.2171]], [[0.0209, 0.1757], [0.8089, 0.8447]]], [[[0.7734, 0.8176], [0.132, 0.9361]], [[0.0888, 0.2033], [0.3489, 0.8414]]]]]], Mul11335), 
LRes80625 = reshape_layer(Mul11335, [2, 2, 4], Res80625), 
LAdd96207 = add_layer([[[[[0.134]]]], [[[[0.9653]]]]], Add96207), 
LZer25372 = zero_padding2D_layer(Add96207, 1, 0, 1, 0, Zer25372), 
LCon69480 = concatenate_layer([Zer25372,[[[[0.1419, 0.0916, 0.9569], [0.4559, 0.6524, 0.6698]], [[0.5653, 0.9101, 0.2105], [0.3001, 0.9967, 0.4794]]]]], 3, Con69480), 
LAve47087 = average_layer([Res80625,Con69480], Ave47087), 
LRes61751 = reshape_layer(Ave47087, [2, 2, 4, 1], Res61751), 
LMax71360 = maximum_layer([[[[[[0.4791]]], [[[0.3823]]]]], [[[[[0.4051]]], [[[0.7038]]]]]], Max71360), 
LZer69978 = zero_padding3D_layer(Max71360, 0, 0, 1, 0, 3, 0, Zer69978), 
LMin8708 = minimum_layer([Res61751,Zer69978], Min8708), 
LELU13025 = elu_layer(Min8708, -1.2056702082900745, ELU13025), 
exec_layers([LMul11335,LRes80625,LAdd96207,LZer25372,LCon69480,LAve47087,LRes61751,LMax71360,LZer69978,LMin8708,LELU13025],["Mul11335","Res80625","Add96207","Zer25372","Con69480","Ave47087","Res61751","Max71360","Zer69978","Min8708","ELU13025"],ELU13025,"ELU13025")

Actual (Unparsed): [[[[[-0.0000000], [-0.0000000], [-0.0000000], [-0.0000000]], [[-0.0000000], [-0.0000000], [-0.0000000], [0.4791000]]], [[[-0.0000000], [-0.0000000], [-0.0000000], [-0.0000000]], [[-0.0000000], [-0.0000000], [-0.0000000], [0.2923716]]]]]

Expected (Unparsed): [[[[[0],[0],[0],[0]],[[0],[0],[0],[0.4791]]],[[[0],[0],[0],[0]],[[0],[0],[0],[0.29237164]]]]]

Actual:   [[[[[-0], [-0], [-0], [-0]], [[-0], [-0], [-0], [0.4791]]], [[[-0], [-0], [-0], [-0]], [[-0], [-0], [-0], [0.2924]]]]]

Expected: [[[[[0], [0], [0], [0]], [[0], [0], [0], [0.4791]]], [[[0], [0], [0], [0]], [[0], [0], [0], [0.2924]]]]]