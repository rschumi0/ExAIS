import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot57212 = tf.keras.layers.Input(shape=([3]))
in1Dot57212 = tf.keras.layers.Input(shape=([3]))
in0Con69132 = tf.keras.layers.Input(shape=([3, 4, 3]))
in0Zer26055 = tf.keras.layers.Input(shape=([1, 2, 4]))

Dot57212 = keras.layers.Dot(axes=(1, 1), name = 'Dot57212', )([in0Dot57212,in1Dot57212])
Res25205 = keras.layers.Reshape((1, 1), name = 'Res25205', )(Dot57212)
Res41097 = keras.layers.Reshape((1, 1, 1), name = 'Res41097', )(Res25205)
Zer2091 = keras.layers.ZeroPadding2D(padding=((2, 0), (3, 0)), name = 'Zer2091', )(Res41097)
Con69132 = keras.layers.Concatenate(axis=3, name = 'Con69132', )([Zer2091,in0Con69132])
Zer26055 = keras.layers.ZeroPadding2D(padding=((1, 1), (1, 1)), name = 'Zer26055', )(in0Zer26055)
Add62837 = keras.layers.Add(name = 'Add62837', )([Con69132,Zer26055])
ReL68961 = keras.layers.ReLU(max_value=2.8038164845334497, negative_slope=7.906613663277452, threshold=4.186307833574653, name = 'ReL68961', )(Add62837)
model = tf.keras.models.Model(inputs=[in0Dot57212,in1Dot57212,in0Con69132,in0Zer26055], outputs=ReL68961)
in0Dot57212 = tf.constant([[0.1194, 0.1518, 0.5554]])
in1Dot57212 = tf.constant([[0.7987, 0.0192, 0.7065]])
in0Con69132 = tf.constant([[[[0.6624, 0.6967, 0.7606], [0.1647, 0.0297, 0.6595], [0.3095, 0.4103, 0.6769], [0.5957, 0.2232, 0.6694]], [[0.7742, 0.5484, 0.2], [0.2752, 0.2474, 0.8403], [0.8822, 0.2353, 0.8101], [0.936, 0.4583, 0.8815]], [[0.2666, 0.4678, 0.6111], [0.005, 0.2481, 0.7578], [0.4275, 0.8933, 0.1219], [0.0627, 0.4224, 0.6591]]]])
in0Zer26055 = tf.constant([[[[1.6366, 1.5307, 1.5219, 1.2879], [1.8228, 1.5104, 1.9806, 1.9389]]]])
print (np.array2string(model.predict([in0Dot57212,in1Dot57212,in0Con69132,in0Zer26055],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='ReL68961.png')

LDot57212 = dot_layer([[0.1194, 0.1518, 0.5554]], [[0.7987, 0.0192, 0.7065]], 1, 1, Dot57212), 
LRes25205 = reshape_layer(Dot57212, [1, 1], Res25205), 
LRes41097 = reshape_layer(Res25205, [1, 1, 1], Res41097), 
LZer2091 = zero_padding2D_layer(Res41097, 2, 0, 3, 0, Zer2091), 
LCon69132 = concatenate_layer([Zer2091,[[[[0.6624, 0.6967, 0.7606], [0.1647, 0.0297, 0.6595], [0.3095, 0.4103, 0.6769], [0.5957, 0.2232, 0.6694]], [[0.7742, 0.5484, 0.2], [0.2752, 0.2474, 0.8403], [0.8822, 0.2353, 0.8101], [0.936, 0.4583, 0.8815]], [[0.2666, 0.4678, 0.6111], [0.005, 0.2481, 0.7578], [0.4275, 0.8933, 0.1219], [0.0627, 0.4224, 0.6591]]]]], 3, Con69132), 
LZer26055 = zero_padding2D_layer([[[[1.6366, 1.5307, 1.5219, 1.2879], [1.8228, 1.5104, 1.9806, 1.9389]]]], 1, 1, 1, 1, Zer26055), 
LAdd62837 = add_layer([Con69132,Zer26055], Add62837), 
LReL68961 = relu_layer(Add62837, 2.8038164845334497, 7.906613663277452, 4.186307833574653, ReL68961), 
exec_layers([LDot57212,LRes25205,LRes41097,LZer2091,LCon69132,LZer26055,LAdd62837,LReL68961],["Dot57212","Res25205","Res41097","Zer2091","Con69132","Zer26055","Add62837","ReL68961"],ReL68961,"ReL68961")

Actual (Unparsed): [[[[-33.0995187, -27.8621778, -27.5909812, -27.0857486], [-33.0995187, -31.7972994, -32.8646923, -27.8851070], [-33.0995187, -30.6524217, -29.8554352, -27.7475317], [-33.0995187, -28.3895488, -31.3347626, -27.8068317]], [[-33.0995187, -26.9782182, -28.7635319, -31.5181960], [-20.1595547, -18.8209653, -19.1103467, -16.2726636], [-18.6873430, -14.1821544, -15.5792535, -11.3642377], [-33.0995187, -25.6989284, -29.4759177, -26.1298387]], [[-33.0995187, -30.9916154, -29.4008049, -28.2677870], [-33.0995187, -33.0599856, -31.1378879, -27.1078870], [-33.0995187, -29.7194413, -26.0365408, -32.1357025], [-29.2199850, -32.6037740, -29.7597651, -27.8882697]]]]

Expected (Unparsed): [[[[-33.09951871562678,-27.862177825071797,-27.590980976421378,-27.08574836333795],[-33.09951871562678,-31.79729944528498,-32.86469228982744,-27.8851070046953],[-33.09951871562678,-30.652421786842407,-29.85543512958404,-27.747531926954274],[-33.09951871562678,-28.3895489564124,-31.334762545983253,-27.80683152942885]],[[-33.09951871562678,-26.978218417517375,-28.763531782685426,-31.51819598297129],[-20.1595547943069,-18.82096510111403,-19.110347161189985,-16.272663517439707],[-18.68734333020464,-14.182154864869148,-15.579253499170274,-11.364237755277063],[-33.09951871562678,-25.698928326799084,-29.47591767374672,-26.129838771447705]],[[-33.09951871562678,-30.99161551299701,-29.400804843945586,-28.26778710599793],[-33.09951871562678,-33.05998564731039,-31.13788786576764,-27.107886881595125],[-33.09951871562678,-29.71944137457567,-26.03654073022103,-32.13570251007326],[-29.21998501717008,-32.603774038939285,-29.759765104258385,-27.88826965016061]]]]

Actual:   [[[[-33.0995, -27.8621, -27.5909, -27.0857], [-33.0995, -31.7972, -32.8646, -27.8851], [-33.0995, -30.6524, -29.8554, -27.7475], [-33.0995, -28.3895, -31.3347, -27.8068]], [[-33.0995, -26.9782, -28.7635, -31.5181], [-20.1595, -18.8209, -19.1103, -16.2726], [-18.6873, -14.1821, -15.5792, -11.3642], [-33.0995, -25.6989, -29.4759, -26.1298]], [[-33.0995, -30.9916, -29.4008, -28.2677], [-33.0995, -33.0599, -31.1378, -27.1078], [-33.0995, -29.7194, -26.0365, -32.1357], [-29.2199, -32.6037, -29.7597, -27.8882]]]]

Expected: [[[[-33.0995, -27.8621, -27.5909, -27.0857], [-33.0995, -31.7972, -32.8646, -27.8851], [-33.0995, -30.6524, -29.8554, -27.7475], [-33.0995, -28.3895, -31.3347, -27.8068]], [[-33.0995, -26.9782, -28.7635, -31.5181], [-20.1595, -18.8209, -19.1103, -16.2726], [-18.6873, -14.1821, -15.5792, -11.3642], [-33.0995, -25.6989, -29.4759, -26.1298]], [[-33.0995, -30.9916, -29.4008, -28.2677], [-33.0995, -33.0599, -31.1378, -27.1078], [-33.0995, -29.7194, -26.0365, -32.1357], [-29.2199, -32.6037, -29.7597, -27.8882]]]]