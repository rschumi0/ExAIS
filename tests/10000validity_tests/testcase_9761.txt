import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min77809 = tf.keras.layers.Input(shape=([2, 1, 1]))
in1Min77809 = tf.keras.layers.Input(shape=([2, 1, 1]))
in0Con11251 = tf.keras.layers.Input(shape=([2, 1]))
in0Dot83299 = tf.keras.layers.Input(shape=([3, 2]))
in1Dot83299 = tf.keras.layers.Input(shape=([3, 2]))

Min77809 = keras.layers.Minimum(name = 'Min77809', )([in0Min77809,in1Min77809])
Glo44094 = keras.layers.GlobalMaxPool2D(name = 'Glo44094', )(Min77809)
Res92749 = keras.layers.Reshape((1, 1), name = 'Res92749', )(Glo44094)
Zer73474 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer73474', )(Res92749)
Con11251 = keras.layers.Concatenate(axis=2, name = 'Con11251', )([Zer73474,in0Con11251])
Dot83299 = keras.layers.Dot(axes=(1, 1), name = 'Dot83299', )([in0Dot83299,in1Dot83299])
Add60116 = keras.layers.Add(name = 'Add60116', )([Con11251,Dot83299])
Glo75555 = keras.layers.GlobalAveragePooling1D(name = 'Glo75555', )(Add60116)
model = tf.keras.models.Model(inputs=[in0Min77809,in1Min77809,in0Con11251,in0Dot83299,in1Dot83299], outputs=Glo75555)
in0Min77809 = tf.constant([[[[0.184]], [[0.8985]]]])
in1Min77809 = tf.constant([[[[0.5558]], [[0.1985]]]])
in0Con11251 = tf.constant([[[0.8253], [0.3573]]])
in0Dot83299 = tf.constant([[[0.0729, 0.1232], [0.5786, 0.4769], [0.5312, 0.0445]]])
in1Dot83299 = tf.constant([[[0.1162, 0.968], [0.9575, 0.3873], [0.9582, 0.9551]]])
print (np.array2string(model.predict([in0Min77809,in1Min77809,in0Con11251,in0Dot83299,in1Dot83299],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo75555.png')

LMin77809 = minimum_layer([[[[[0.184]], [[0.8985]]]], [[[[0.5558]], [[0.1985]]]]], Min77809), 
LGlo44094 = global_max_pool2D_layer(Min77809, Glo44094), 
LRes92749 = reshape_layer(Glo44094, [1, 1], Res92749), 
LZer73474 = zero_padding1D_layer(Res92749, 1, 0, Zer73474), 
LCon11251 = concatenate_layer([Zer73474,[[[0.8253], [0.3573]]]], 2, Con11251), 
LDot83299 = dot_layer([[[0.0729, 0.1232], [0.5786, 0.4769], [0.5312, 0.0445]]], [[[0.1162, 0.968], [0.9575, 0.3873], [0.9582, 0.9551]]], 1, 1, Dot83299), 
LAdd60116 = add_layer([Con11251,Dot83299], Add60116), 
LGlo75555 = global_average_pooling1D_layer(Add60116, Glo75555), 
exec_layers([LMin77809,LGlo44094,LRes92749,LZer73474,LCon11251,LDot83299,LAdd60116,LGlo75555],["Min77809","Glo44094","Res92749","Zer73474","Con11251","Dot83299","Add60116","Glo75555"],Glo75555,"Glo75555")

Actual (Unparsed): [[0.8917819, 1.1655355]]

Expected (Unparsed): [[0.8917819050000001,1.16553551]]

Actual:   [[0.8918, 1.1656]]

Expected: [[0.8918, 1.1656]]