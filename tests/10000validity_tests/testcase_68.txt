import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Loc73999 = tf.keras.layers.Input(shape=([1, 2, 1]))

Loc73999 = keras.layers.LocallyConnected2D(3, (1, 1),strides=(1, 1), name = 'Loc73999', )(in0Loc73999)
Mas60547 = keras.layers.Masking(mask_value=2, name = 'Mas60547', )(Loc73999)
model = tf.keras.models.Model(inputs=[in0Loc73999], outputs=Mas60547)
w = model.get_layer('Loc73999').get_weights() 
w[0] = np.array([[[0.295, 0.0579, 0.649]], [[0.9174, 0.1466, 0.5045]]])
w[1] = np.array([[[0, 0, 0], [0, 0, 0]]])
model.get_layer('Loc73999').set_weights(w) 
in0Loc73999 = tf.constant([[[[0.4364], [0.8147]]]])
print (np.array2string(model.predict([in0Loc73999],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Mas60547.png')

LLoc73999 = locally_connected2D_layer([[[[0.4364], [0.8147]]]], 1, 1,[[[0.295, 0.0579, 0.649]], [[0.9174, 0.1466, 0.5045]]],[[[0, 0, 0], [0, 0, 0]]], 1, 1, Loc73999), 
LMas60547 = masking_layer(Loc73999, 2, Mas60547), 
exec_layers([LLoc73999,LMas60547],["Loc73999","Mas60547"],Mas60547,"Mas60547")

Actual (Unparsed): [[[[0.1287380, 0.0252676, 0.2832236], [0.7474058, 0.1194350, 0.4110162]]]]

Expected (Unparsed): [[[[0.128738,0.02526756,0.2832236],[0.74740578,0.11943502,0.41101614999999997]]]]

Actual:   [[[[0.1288, 0.0253, 0.2833], [0.7475, 0.1195, 0.4111]]]]

Expected: [[[[0.1288, 0.0253, 0.2833], [0.7475, 0.1195, 0.4111]]]]