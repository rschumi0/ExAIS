import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo5884 = tf.keras.layers.Input(shape=([2, 1, 1, 2]))

Glo5884 = keras.layers.GlobalMaxPool3D(name = 'Glo5884', )(in0Glo5884)
Res47525 = keras.layers.Reshape((2, 1), name = 'Res47525', )(Glo5884)
Res83217 = keras.layers.Reshape((2, 1, 1), name = 'Res83217', )(Res47525)
Sep9417 = keras.layers.SeparableConv2D(3, (1, 1),strides=(2, 2), padding='valid', name = 'Sep9417', )(Res83217)
Con19270 = keras.layers.Conv2D(3, (1, 1),strides=(1, 1), padding='valid', dilation_rate=(1, 1), name = 'Con19270', )(Sep9417)
model = tf.keras.models.Model(inputs=[in0Glo5884], outputs=Con19270)
w = model.get_layer('Sep9417').get_weights() 
w[0] = np.array([[[[0.1287]]]])
w[1] = np.array([[[[0.1209, 0.8185, 0.7859]]]])
w[2] = np.array([0, 0, 0])
model.get_layer('Sep9417').set_weights(w) 
w = model.get_layer('Con19270').get_weights() 
w[0] = np.array([[[[0.1194, 0.6433, 0.2075], [0.5141, 0.6225, 0.7957], [0.8856, 0.1868, 0.3206]]]])
w[1] = np.array([0, 0, 0])
model.get_layer('Con19270').set_weights(w) 
in0Glo5884 = tf.constant([[[[[1.638, 1.5532]]], [[[1.7454, 1.645]]]]])
print (np.array2string(model.predict([in0Glo5884],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Con19270.png')

LGlo5884 = global_max_pool3D_layer([[[[[1.638, 1.5532]]], [[[1.7454, 1.645]]]]], Glo5884), 
LRes47525 = reshape_layer(Glo5884, [2, 1], Res47525), 
LRes83217 = reshape_layer(Res47525, [2, 1, 1], Res83217), 
LSep9417 = separable_conv2D_layer(Res83217, 1, 1,[[[[[0.1287]]]],[[[[0.1209, 0.8185, 0.7859]]]]],[0, 0, 0], 2, 2, false, Sep9417), 
LCon19270 = conv2D_layer(Sep9417, 1, 1,[[[[0.1194, 0.6433, 0.2075], [0.5141, 0.6225, 0.7957], [0.8856, 0.1868, 0.3206]]]],[0, 0, 0], 1, 1, false, 1, 1, Con19270), 
exec_layers([LGlo5884,LRes47525,LRes83217,LSep9417,LCon19270],["Glo5884","Res47525","Res83217","Sep9417","Con19270"],Con19270,"Con19270")

Actual (Unparsed): [[[[0.2541092, 0.1649025, 0.2085328]]]]

Expected (Unparsed): [[[[0.254109173624163,0.16490247309427322,0.2085328020198852]]]]

Actual:   [[[[0.2542, 0.165, 0.2086]]]]

Expected: [[[[0.2542, 0.165, 0.2086]]]]