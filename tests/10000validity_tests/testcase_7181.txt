import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot66081 = tf.keras.layers.Input(shape=([3]))
in1Dot66081 = tf.keras.layers.Input(shape=([3]))

Dot66081 = keras.layers.Dot(axes=(1, 1), name = 'Dot66081', )([in0Dot66081,in1Dot66081])
Res38162 = keras.layers.Reshape((1, 1), name = 'Res38162', )(Dot66081)
Res44429 = keras.layers.Reshape((1, 1, 1), name = 'Res44429', )(Res38162)
Ave36598 = keras.layers.AveragePooling2D(pool_size=(1, 1), strides=(1, 7), padding='valid', name = 'Ave36598', )(Res44429)
Lay426 = keras.layers.LayerNormalization(axis=1, epsilon=1.4924863245609041, name = 'Lay426', )(Ave36598)
Res29708 = keras.layers.Reshape((1, 1), name = 'Res29708', )(Lay426)
Loc76237 = keras.layers.LocallyConnected1D(2, (1),strides=(1), name = 'Loc76237', )(Res29708)
Cro45369 = keras.layers.Cropping1D(cropping=((0, 0)), name = 'Cro45369', )(Loc76237)
model = tf.keras.models.Model(inputs=[in0Dot66081,in1Dot66081], outputs=Cro45369)
w = model.get_layer('Loc76237').get_weights() 
w[0] = np.array([[[0.3877, 0.1293]]])
w[1] = np.array([[0, 0]])
model.get_layer('Loc76237').set_weights(w) 
in0Dot66081 = tf.constant([[0.4446, 0.4791, 0.6114]])
in1Dot66081 = tf.constant([[0.2482, 0.6687, 0.8591]])
print (np.array2string(model.predict([in0Dot66081,in1Dot66081],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Cro45369.png')

LDot66081 = dot_layer([[0.4446, 0.4791, 0.6114]], [[0.2482, 0.6687, 0.8591]], 1, 1, Dot66081), 
LRes38162 = reshape_layer(Dot66081, [1, 1], Res38162), 
LRes44429 = reshape_layer(Res38162, [1, 1, 1], Res44429), 
LAve36598 = average_pooling2D_layer(Res44429, 1, 1, 1, 7, false, Ave36598), 
LLay426 = layer_normalization_layer(Ave36598, 1, 1.4924863245609041, Lay426), 
LRes29708 = reshape_layer(Lay426, [1, 1], Res29708), 
LLoc76237 = locally_connected1D_layer(Res29708, 1,[[[0.3877, 0.1293]]],[[0, 0]], 1, Loc76237), 
LCro45369 = cropping1D_layer(Loc76237, 0, 0, Cro45369), 
exec_layers([LDot66081,LRes38162,LRes44429,LAve36598,LLay426,LRes29708,LLoc76237,LCro45369],["Dot66081","Res38162","Res44429","Ave36598","Lay426","Res29708","Loc76237","Cro45369"],Cro45369,"Cro45369")

Actual (Unparsed): [[[0.0000000, 0.0000000]]]

Expected (Unparsed): [[[0.0,0.0]]]

Actual:   [[[0, 0]]]

Expected: [[[0, 0]]]