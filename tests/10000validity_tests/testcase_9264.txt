import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Zer58071 = tf.keras.layers.Input(shape=([4, 1, 2]))

Zer58071 = keras.layers.ZeroPadding2D(padding=((1, 1), (1, 1)), name = 'Zer58071', )(in0Zer58071)
Res6628 = keras.layers.Reshape((6, 6), name = 'Res6628', )(Zer58071)
Sim57388 = keras.layers.SimpleRNN(2,name = 'Sim57388', )(Res6628)
model = tf.keras.models.Model(inputs=[in0Zer58071], outputs=Sim57388)
w = model.get_layer('Sim57388').get_weights() 
w[0] = np.array([[5, 4], [1, 5], [5, 8], [2, 2], [9, 8], [5, 6]])
w[1] = np.array([[1, 10], [10, 10]])
w[2] = np.array([9, 3])
model.get_layer('Sim57388').set_weights(w) 
in0Zer58071 = tf.constant([[[[1.7867, 1.1226]], [[1.7894, 1.148]], [[1.6351, 1.4434]], [[1.8174, 1.0414]]]])
print (np.array2string(model.predict([in0Zer58071],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sim57388.png')

LZer58071 = zero_padding2D_layer([[[[1.7867, 1.1226]], [[1.7894, 1.148]], [[1.6351, 1.4434]], [[1.8174, 1.0414]]]], 1, 1, 1, 1, Zer58071), 
LRes6628 = reshape_layer(Zer58071, [6, 6], Res6628), 
LSim57388 = simple_rnn_layer(Res6628,[[5, 4], [1, 5], [5, 8], [2, 2], [9, 8], [5, 6]],[[1, 10], [10, 10]],[9, 3], Sim57388), 
exec_layers([LZer58071,LRes6628,LSim57388],["Zer58071","Res6628","Sim57388"],Sim57388,"Sim57388")

Actual (Unparsed): [[1.0000000, 1.0000000]]

Expected (Unparsed): [[1.0,1.0]]

Actual:   [[1, 1]]

Expected: [[1, 1]]