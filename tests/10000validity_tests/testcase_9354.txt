import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max48891 = tf.keras.layers.Input(shape=([1, 1]))
in1Max48891 = tf.keras.layers.Input(shape=([1, 1]))
in0PRe95495 = tf.keras.layers.Input(shape=([1, 1]))

Max48891 = keras.layers.Maximum(name = 'Max48891', )([in0Max48891,in1Max48891])
Glo27694 = keras.layers.GlobalAveragePooling1D(name = 'Glo27694', )(Max48891)
Res4567 = keras.layers.Reshape((1, 1), name = 'Res4567', )(Glo27694)
Res74697 = keras.layers.Reshape((1, 1, 1), name = 'Res74697', )(Res4567)
Res39722 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res39722', )(Res74697)
Cro74173 = keras.layers.Cropping3D(cropping=((0, 0), (0, 0), (0, 0)), name = 'Cro74173', )(Res39722)
Res64931 = keras.layers.Reshape((1, 1, 1), name = 'Res64931', )(Cro74173)
PRe95495 = keras.layers.PReLU(name = 'PRe95495', input_shape=(1, 1))(in0PRe95495)
Thr67371 = keras.layers.ThresholdedReLU(theta=9.360543988913863, name = 'Thr67371', )(PRe95495)
Res9782 = keras.layers.Reshape((1, 1, 1), name = 'Res9782', )(Thr67371)
Add63191 = keras.layers.Add(name = 'Add63191', )([Res64931,Res9782])
Up_42895 = keras.layers.UpSampling2D(size=(2, 2), name = 'Up_42895', )(Add63191)
model = tf.keras.models.Model(inputs=[in0Max48891,in1Max48891,in0PRe95495], outputs=Up_42895)
w = model.get_layer('PRe95495').get_weights() 
w[0] = np.array([[0.7199]])
model.get_layer('PRe95495').set_weights(w) 
in0Max48891 = tf.constant([[[0.8016]]])
in1Max48891 = tf.constant([[[0.9095]]])
in0PRe95495 = tf.constant([[[0.4937]]])
print (np.array2string(model.predict([in0Max48891,in1Max48891,in0PRe95495],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Up_42895.png')

LMax48891 = maximum_layer([[[[0.8016]]], [[[0.9095]]]], Max48891), 
LGlo27694 = global_average_pooling1D_layer(Max48891, Glo27694), 
LRes4567 = reshape_layer(Glo27694, [1, 1], Res4567), 
LRes74697 = reshape_layer(Res4567, [1, 1, 1], Res74697), 
LRes39722 = reshape_layer(Res74697, [1, 1, 1, 1], Res39722), 
LCro74173 = cropping3D_layer(Res39722, 0, 0, 0, 0, 0, 0, Cro74173), 
LRes64931 = reshape_layer(Cro74173, [1, 1, 1], Res64931), 
LPRe95495 = prelu_layer([[[0.4937]]], [[0.7199]], PRe95495), 
LThr67371 = thresholded_relu_layer(PRe95495, 9.360543988913863, Thr67371), 
LRes9782 = reshape_layer(Thr67371, [1, 1, 1], Res9782), 
LAdd63191 = add_layer([Res64931,Res9782], Add63191), 
LUp_42895 = up_sampling2D_layer(Add63191, 2, 2, Up_42895), 
exec_layers([LMax48891,LGlo27694,LRes4567,LRes74697,LRes39722,LCro74173,LRes64931,LPRe95495,LThr67371,LRes9782,LAdd63191,LUp_42895],["Max48891","Glo27694","Res4567","Res74697","Res39722","Cro74173","Res64931","PRe95495","Thr67371","Res9782","Add63191","Up_42895"],Up_42895,"Up_42895")

Actual (Unparsed): [[[[0.9095000], [0.9095000]], [[0.9095000], [0.9095000]]]]

Expected (Unparsed): [[[[0.9095],[0.9095]],[[0.9095],[0.9095]]]]

Actual:   [[[[0.9095], [0.9095]], [[0.9095], [0.9095]]]]

Expected: [[[[0.9095], [0.9095]], [[0.9095], [0.9095]]]]