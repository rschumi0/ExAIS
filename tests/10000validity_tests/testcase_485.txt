import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0ReL85964 = tf.keras.layers.Input(shape=([1, 2, 1]))
in0Dot55220 = tf.keras.layers.Input(shape=([3]))
in1Dot55220 = tf.keras.layers.Input(shape=([3]))
in0Con55608 = tf.keras.layers.Input(shape=([1]))

ReL85964 = keras.layers.ReLU(max_value=2.1195063281680673, negative_slope=2.7405248045540866, threshold=7.822613020163402, name = 'ReL85964', input_shape=(1, 2, 1))(in0ReL85964)
Res35056 = keras.layers.Reshape((1, 2), name = 'Res35056', )(ReL85964)
Fla88114 = keras.layers.Flatten(name = 'Fla88114', )(Res35056)
Dot55220 = keras.layers.Dot(axes=(1, 1), name = 'Dot55220', )([in0Dot55220,in1Dot55220])
Con55608 = keras.layers.Concatenate(axis=1, name = 'Con55608', )([Dot55220,in0Con55608])
Ave47441 = keras.layers.Average(name = 'Ave47441', )([Fla88114,Con55608])
Res10965 = keras.layers.Reshape((2, 1), name = 'Res10965', )(Ave47441)
Up_46459 = keras.layers.UpSampling1D(size=(2), name = 'Up_46459', )(Res10965)
model = tf.keras.models.Model(inputs=[in0ReL85964,in0Dot55220,in1Dot55220,in0Con55608], outputs=Up_46459)
in0ReL85964 = tf.constant([[[[0.805], [0.6873]]]])
in0Dot55220 = tf.constant([[0.5372, 0.307, 0.4547]])
in1Dot55220 = tf.constant([[0.8772, 0.3586, 0.9725]])
in0Con55608 = tf.constant([[0.2952]])
print (np.array2string(model.predict([in0ReL85964,in0Dot55220,in1Dot55220,in0Con55608],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Up_46459.png')

LReL85964 = relu_layer([[[[0.805], [0.6873]]]], 2.1195063281680673, 2.7405248045540866, 7.822613020163402, ReL85964), 
LRes35056 = reshape_layer(ReL85964, [1, 2], Res35056), 
LFla88114 = flatten_layer(Res35056, Fla88114), 
LDot55220 = dot_layer([[0.5372, 0.307, 0.4547]], [[0.8772, 0.3586, 0.9725]], 1, 1, Dot55220), 
LCon55608 = concatenate_layer([Dot55220,[[0.2952]]], 1, Con55608), 
LAve47441 = average_layer([Fla88114,Con55608], Ave47441), 
LRes10965 = reshape_layer(Ave47441, [2, 1], Res10965), 
LUp_46459 = up_sampling1D_layer(Res10965, 2, Up_46459), 
exec_layers([LReL85964,LRes35056,LFla88114,LDot55220,LCon55608,LAve47441,LRes10965,LUp_46459],["ReL85964","Res35056","Fla88114","Dot55220","Con55608","Ave47441","Res10965","Up_46459"],Up_46459,"Up_46459")

Actual (Unparsed): [[[-9.1042124], [-9.1042124], [-9.6296511], [-9.6296511]]]

Expected (Unparsed): [[[-9.10421238025976],[-9.10421238025976],[-9.629651160007768],[-9.629651160007768]]]

Actual:   [[[-9.1042], [-9.1042], [-9.6296], [-9.6296]]]

Expected: [[[-9.1042], [-9.1042], [-9.6296], [-9.6296]]]