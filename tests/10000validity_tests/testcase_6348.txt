import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min78308 = tf.keras.layers.Input(shape=([2, 1]))
in1Min78308 = tf.keras.layers.Input(shape=([2, 1]))
in0Sub94525 = tf.keras.layers.Input(shape=([3]))
in1Sub94525 = tf.keras.layers.Input(shape=([3]))

Min78308 = keras.layers.Minimum(name = 'Min78308', )([in0Min78308,in1Min78308])
Fla28137 = keras.layers.Flatten(name = 'Fla28137', )(Min78308)
Sub94525 = keras.layers.Subtract(name = 'Sub94525', )([in0Sub94525,in1Sub94525])
Res60514 = keras.layers.Reshape((3, 1), name = 'Res60514', )(Sub94525)
LST92243 = keras.layers.LSTM(2,recurrent_activation='sigmoid', name = 'LST92243', )(Res60514)
Min12948 = keras.layers.Minimum(name = 'Min12948', )([Fla28137,LST92243])
model = tf.keras.models.Model(inputs=[in0Min78308,in1Min78308,in0Sub94525,in1Sub94525], outputs=Min12948)
w = model.get_layer('LST92243').get_weights() 
w[0] = np.array([[7, 3, 8, 1, 5, 5, 3, 2]])
w[1] = np.array([[8, 9, 10, 5, 6, 8, 7, 7], [7, 5, 3, 1, 3, 3, 4, 6]])
w[2] = np.array([3, 4, 1, 7, 10, 7, 2, 4])
model.get_layer('LST92243').set_weights(w) 
in0Min78308 = tf.constant([[[0.6483], [0.0217]]])
in1Min78308 = tf.constant([[[0.2606], [0.8362]]])
in0Sub94525 = tf.constant([[0.5613, 0.8736, 0.7441]])
in1Sub94525 = tf.constant([[0.9174, 0.8653, 0.6257]])
print (np.array2string(model.predict([in0Min78308,in1Min78308,in0Sub94525,in1Sub94525],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min12948.png')

LMin78308 = minimum_layer([[[[0.6483], [0.0217]]], [[[0.2606], [0.8362]]]], Min78308), 
LFla28137 = flatten_layer(Min78308, Fla28137), 
LSub94525 = subtract_layer([[0.5613, 0.8736, 0.7441]], [[0.9174, 0.8653, 0.6257]], Sub94525), 
LRes60514 = reshape_layer(Sub94525, [3, 1], Res60514), 
LLST92243 = lstm_layer(Res60514,[[7, 3, 8, 1, 5, 5, 3, 2]],[[8, 9, 10, 5, 6, 8, 7, 7], [7, 5, 3, 1, 3, 3, 4, 6]],[3, 4, 1, 7, 10, 7, 2, 4], LST92243), 
LMin12948 = minimum_layer([Fla28137,LST92243], Min12948), 
exec_layers([LMin78308,LFla28137,LSub94525,LRes60514,LLST92243,LMin12948],["Min78308","Fla28137","Sub94525","Res60514","LST92243","Min12948"],Min12948,"Min12948")

Actual (Unparsed): [[0.2606000, 0.0217000]]

Expected (Unparsed): [[0.2606,0.0217]]

Actual:   [[0.2606, 0.0217]]

Expected: [[0.2606, 0.0217]]