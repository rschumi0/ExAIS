import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul52778 = tf.keras.layers.Input(shape=([1, 2]))
in1Mul52778 = tf.keras.layers.Input(shape=([1, 2]))
in0Sep42203 = tf.keras.layers.Input(shape=([2, 1, 2]))
in0Max32063 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))
in1Max32063 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))
in0Dot29003 = tf.keras.layers.Input(shape=([3]))
in1Dot29003 = tf.keras.layers.Input(shape=([3]))
in0Con43232 = tf.keras.layers.Input(shape=([5]))
in0Con14054 = tf.keras.layers.Input(shape=([1]))

Mul52778 = keras.layers.Multiply(name = 'Mul52778', )([in0Mul52778,in1Mul52778])
Fla68767 = keras.layers.Flatten(name = 'Fla68767', )(Mul52778)
Sep42203 = keras.layers.SeparableConv2D(2, (2, 1),strides=(1, 1), padding='valid', name = 'Sep42203', )(in0Sep42203)
Res86944 = keras.layers.Reshape((1, 1, 2, 1), name = 'Res86944', )(Sep42203)
Zer57158 = keras.layers.ZeroPadding3D(padding=((1, 0), (0, 0), (1, 0)), name = 'Zer57158', )(Res86944)
Max32063 = keras.layers.Maximum(name = 'Max32063', )([in0Max32063,in1Max32063])
Zer58110 = keras.layers.ZeroPadding3D(padding=((0, 0), (0, 0), (2, 0)), name = 'Zer58110', )(Max32063)
Min98941 = keras.layers.Minimum(name = 'Min98941', )([Zer57158,Zer58110])
Res47046 = keras.layers.Reshape((2, 1, 3), name = 'Res47046', )(Min98941)
Res62748 = keras.layers.Reshape((2, 3), name = 'Res62748', )(Res47046)
Fla78981 = keras.layers.Flatten(name = 'Fla78981', )(Res62748)
Dot29003 = keras.layers.Dot(axes=(1, 1), name = 'Dot29003', )([in0Dot29003,in1Dot29003])
Con43232 = keras.layers.Concatenate(axis=1, name = 'Con43232', )([Dot29003,in0Con43232])
Add44011 = keras.layers.Add(name = 'Add44011', )([Fla78981,Con43232])
Res57028 = keras.layers.Reshape((6, 1), name = 'Res57028', )(Add44011)
Res30091 = keras.layers.Reshape((6, 1, 1), name = 'Res30091', )(Res57028)
Res53077 = keras.layers.Reshape((6, 1, 1, 1), name = 'Res53077', )(Res30091)
Glo2634 = keras.layers.GlobalAveragePooling3D(name = 'Glo2634', )(Res53077)
Con14054 = keras.layers.Concatenate(axis=1, name = 'Con14054', )([Glo2634,in0Con14054])
Min89723 = keras.layers.Minimum(name = 'Min89723', )([Fla68767,Con14054])
model = tf.keras.models.Model(inputs=[in0Mul52778,in1Mul52778,in0Sep42203,in0Max32063,in1Max32063,in0Dot29003,in1Dot29003,in0Con43232,in0Con14054], outputs=Min89723)
w = model.get_layer('Sep42203').get_weights() 
w[0] = np.array([[[[0.7325], [0.6824]]], [[[0.7419], [0.2489]]]])
w[1] = np.array([[[[0.2378, 0.8547], [0.3529, 0.1255]]]])
w[2] = np.array([0, 0])
model.get_layer('Sep42203').set_weights(w) 
in0Mul52778 = tf.constant([[[0.4521, 0.6843]]])
in1Mul52778 = tf.constant([[[0.263, 0.8142]]])
in0Sep42203 = tf.constant([[[[0.8042, 0.2164]], [[0.343, 0.5696]]]])
in0Max32063 = tf.constant([[[[[0.8148]]], [[[0.7694]]]]])
in1Max32063 = tf.constant([[[[[0.0706]]], [[[0.9968]]]]])
in0Dot29003 = tf.constant([[0.2865, 0.1472, 0.8994]])
in1Dot29003 = tf.constant([[0.4232, 0.5555, 0.8231]])
in0Con43232 = tf.constant([[0.2957, 0.4497, 0.6036, 0.7517, 0.3213]])
in0Con14054 = tf.constant([[0.9128]])
print (np.array2string(model.predict([in0Mul52778,in1Mul52778,in0Sep42203,in0Max32063,in1Max32063,in0Dot29003,in1Dot29003,in0Con43232,in0Con14054],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min89723.png')

LMul52778 = multiply_layer([[[[0.4521, 0.6843]]], [[[0.263, 0.8142]]]], Mul52778), 
LFla68767 = flatten_layer(Mul52778, Fla68767), 
LSep42203 = separable_conv2D_layer([[[[0.8042, 0.2164]], [[0.343, 0.5696]]]], 2, 1,[[[[[0.7325], [0.6824]]], [[[0.7419], [0.2489]]]],[[[[0.2378, 0.8547], [0.3529, 0.1255]]]]],[0, 0], 1, 1, false, Sep42203), 
LRes86944 = reshape_layer(Sep42203, [1, 1, 2, 1], Res86944), 
LZer57158 = zero_padding3D_layer(Res86944, 1, 0, 0, 0, 1, 0, Zer57158), 
LMax32063 = maximum_layer([[[[[[0.8148]]], [[[0.7694]]]]], [[[[[0.0706]]], [[[0.9968]]]]]], Max32063), 
LZer58110 = zero_padding3D_layer(Max32063, 0, 0, 0, 0, 2, 0, Zer58110), 
LMin98941 = minimum_layer([Zer57158,Zer58110], Min98941), 
LRes47046 = reshape_layer(Min98941, [2, 1, 3], Res47046), 
LRes62748 = reshape_layer(Res47046, [2, 3], Res62748), 
LFla78981 = flatten_layer(Res62748, Fla78981), 
LDot29003 = dot_layer([[0.2865, 0.1472, 0.8994]], [[0.4232, 0.5555, 0.8231]], 1, 1, Dot29003), 
LCon43232 = concatenate_layer([Dot29003,[[0.2957, 0.4497, 0.6036, 0.7517, 0.3213]]], 1, Con43232), 
LAdd44011 = add_layer([Fla78981,Con43232], Add44011), 
LRes57028 = reshape_layer(Add44011, [6, 1], Res57028), 
LRes30091 = reshape_layer(Res57028, [6, 1, 1], Res30091), 
LRes53077 = reshape_layer(Res30091, [6, 1, 1, 1], Res53077), 
LGlo2634 = global_average_pooling3D_layer(Res53077, Glo2634), 
LCon14054 = concatenate_layer([Glo2634,[[0.9128]]], 1, Con14054), 
LMin89723 = minimum_layer([Fla68767,Con14054], Min89723), 
exec_layers([LMul52778,LFla68767,LSep42203,LRes86944,LZer57158,LMax32063,LZer58110,LMin98941,LRes47046,LRes62748,LFla78981,LDot29003,LCon43232,LAdd44011,LRes57028,LRes30091,LRes53077,LGlo2634,LCon14054,LMin89723],["Mul52778","Fla68767","Sep42203","Res86944","Zer57158","Max32063","Zer58110","Min98941","Res47046","Res62748","Fla78981","Dot29003","Con43232","Add44011","Res57028","Res30091","Res53077","Glo2634","Con14054","Min89723"],Min89723,"Min89723")

Actual (Unparsed): [[0.1189023, 0.5571571]]

Expected (Unparsed): [[0.1189023,0.5571570600000001]]

Actual:   [[0.119, 0.5572]]

Expected: [[0.119, 0.5572]]