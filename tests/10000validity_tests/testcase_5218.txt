import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub34033 = tf.keras.layers.Input(shape=([3]))
in1Sub34033 = tf.keras.layers.Input(shape=([3]))

Sub34033 = keras.layers.Subtract(name = 'Sub34033', )([in0Sub34033,in1Sub34033])
Res60683 = keras.layers.Reshape((3, 1), name = 'Res60683', )(Sub34033)
Res81112 = keras.layers.Reshape((3, 1, 1), name = 'Res81112', )(Res60683)
Ave85053 = keras.layers.AveragePooling2D(pool_size=(1, 1), strides=(11, 1), padding='valid', name = 'Ave85053', )(Res81112)
model = tf.keras.models.Model(inputs=[in0Sub34033,in1Sub34033], outputs=Ave85053)
in0Sub34033 = tf.constant([[0.1408, 0.6282, 0.0859]])
in1Sub34033 = tf.constant([[0.8173, 0.0614, 0.3083]])
print (np.array2string(model.predict([in0Sub34033,in1Sub34033],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Ave85053.png')

LSub34033 = subtract_layer([[0.1408, 0.6282, 0.0859]], [[0.8173, 0.0614, 0.3083]], Sub34033), 
LRes60683 = reshape_layer(Sub34033, [3, 1], Res60683), 
LRes81112 = reshape_layer(Res60683, [3, 1, 1], Res81112), 
LAve85053 = average_pooling2D_layer(Res81112, 1, 1, 11, 1, false, Ave85053), 
exec_layers([LSub34033,LRes60683,LRes81112,LAve85053],["Sub34033","Res60683","Res81112","Ave85053"],Ave85053,"Ave85053")

Actual (Unparsed): [[[[-0.6765000]]]]

Expected (Unparsed): [[[[-0.6765]]]]

Actual:   [[[[-0.6765]]]]

Expected: [[[[-0.6765]]]]