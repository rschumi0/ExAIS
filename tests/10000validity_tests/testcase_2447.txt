import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo95723 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))

Glo95723 = keras.layers.GlobalAveragePooling3D(name = 'Glo95723', )(in0Glo95723)
Res4645 = keras.layers.Reshape((1, 1), name = 'Res4645', )(Glo95723)
Res74249 = keras.layers.Reshape((1, 1, 1), name = 'Res74249', )(Res4645)
Ave44505 = keras.layers.AveragePooling2D(pool_size=(1, 1), name = 'Ave44505', )(Res74249)
Glo82691 = keras.layers.GlobalMaxPool2D(name = 'Glo82691', )(Ave44505)
Res64871 = keras.layers.Reshape((1, 1), name = 'Res64871', )(Glo82691)
Max15793 = keras.layers.MaxPool1D(pool_size=(1), name = 'Max15793', )(Res64871)
model = tf.keras.models.Model(inputs=[in0Glo95723], outputs=Max15793)
in0Glo95723 = tf.constant([[[[[1.5172]]], [[[1.0762]]]]])
print (np.array2string(model.predict([in0Glo95723],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max15793.png')

LGlo95723 = global_average_pooling3D_layer([[[[[1.5172]]], [[[1.0762]]]]], Glo95723), 
LRes4645 = reshape_layer(Glo95723, [1, 1], Res4645), 
LRes74249 = reshape_layer(Res4645, [1, 1, 1], Res74249), 
LAve44505 = average_pooling2D_layer(Res74249, 1, 1, Ave44505), 
LGlo82691 = global_max_pool2D_layer(Ave44505, Glo82691), 
LRes64871 = reshape_layer(Glo82691, [1, 1], Res64871), 
LMax15793 = max_pool1D_layer(Res64871, 1, Max15793), 
exec_layers([LGlo95723,LRes4645,LRes74249,LAve44505,LGlo82691,LRes64871,LMax15793],["Glo95723","Res4645","Res74249","Ave44505","Glo82691","Res64871","Max15793"],Max15793,"Max15793")

Actual (Unparsed): [[[1.2967000]]]

Expected (Unparsed): [[[1.2967]]]

Actual:   [[[1.2967]]]

Expected: [[[1.2967]]]