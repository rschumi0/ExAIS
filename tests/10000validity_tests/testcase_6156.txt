import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max51925 = tf.keras.layers.Input(shape=([1, 1]))
in1Max51925 = tf.keras.layers.Input(shape=([1, 1]))

Max51925 = keras.layers.Maximum(name = 'Max51925', )([in0Max51925,in1Max51925])
Up_81168 = keras.layers.UpSampling1D(size=(2), name = 'Up_81168', )(Max51925)
Res35304 = keras.layers.Reshape((2, 1, 1), name = 'Res35304', )(Up_81168)
Glo76376 = keras.layers.GlobalAveragePooling2D(name = 'Glo76376', )(Res35304)
Res97473 = keras.layers.Reshape((1, 1), name = 'Res97473', )(Glo76376)
Glo51433 = keras.layers.GlobalMaxPool1D(name = 'Glo51433', )(Res97473)
model = tf.keras.models.Model(inputs=[in0Max51925,in1Max51925], outputs=Glo51433)
in0Max51925 = tf.constant([[[0.8645]]])
in1Max51925 = tf.constant([[[0.0727]]])
print (np.array2string(model.predict([in0Max51925,in1Max51925],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo51433.png')

LMax51925 = maximum_layer([[[[0.8645]]], [[[0.0727]]]], Max51925), 
LUp_81168 = up_sampling1D_layer(Max51925, 2, Up_81168), 
LRes35304 = reshape_layer(Up_81168, [2, 1, 1], Res35304), 
LGlo76376 = global_average_pooling2D_layer(Res35304, Glo76376), 
LRes97473 = reshape_layer(Glo76376, [1, 1], Res97473), 
LGlo51433 = global_max_pool1D_layer(Res97473, Glo51433), 
exec_layers([LMax51925,LUp_81168,LRes35304,LGlo76376,LRes97473,LGlo51433],["Max51925","Up_81168","Res35304","Glo76376","Res97473","Glo51433"],Glo51433,"Glo51433")

Actual (Unparsed): [[0.8645000]]

Expected (Unparsed): [[0.8645]]

Actual:   [[0.8645]]

Expected: [[0.8645]]