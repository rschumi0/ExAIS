import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot10275 = tf.keras.layers.Input(shape=([3]))
in1Dot10275 = tf.keras.layers.Input(shape=([3]))
in0Add43812 = tf.keras.layers.Input(shape=([1, 2, 1, 2]))
in1Add43812 = tf.keras.layers.Input(shape=([1, 2, 1, 2]))

Dot10275 = keras.layers.Dot(axes=(1, 1), name = 'Dot10275', )([in0Dot10275,in1Dot10275])
Res33840 = keras.layers.Reshape((1, 1), name = 'Res33840', )(Dot10275)
Add43812 = keras.layers.Add(name = 'Add43812', )([in0Add43812,in1Add43812])
Res16847 = keras.layers.Reshape((1, 2, 2), name = 'Res16847', )(Add43812)
Res18356 = keras.layers.Reshape((1, 4), name = 'Res18356', )(Res16847)
Dot15216 = keras.layers.Dot(axes=(1, 1), name = 'Dot15216', )([Res33840,Res18356])
ReL45994 = keras.layers.ReLU(max_value=6.820059764563229, negative_slope=5.000524033640619, threshold=0.17606615753358867, name = 'ReL45994', )(Dot15216)
model = tf.keras.models.Model(inputs=[in0Dot10275,in1Dot10275,in0Add43812,in1Add43812], outputs=ReL45994)
in0Dot10275 = tf.constant([[0.2944, 0.1777, 0.1202]])
in1Dot10275 = tf.constant([[0.6399, 0.0365, 0.4948]])
in0Add43812 = tf.constant([[[[[0.8933, 0.9714]], [[0.8231, 0.2562]]]]])
in1Add43812 = tf.constant([[[[[0.0259, 0.087]], [[0.543, 0.5851]]]]])
print (np.array2string(model.predict([in0Dot10275,in1Dot10275,in0Add43812,in1Add43812],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='ReL45994.png')

LDot10275 = dot_layer([[0.2944, 0.1777, 0.1202]], [[0.6399, 0.0365, 0.4948]], 1, 1, Dot10275), 
LRes33840 = reshape_layer(Dot10275, [1, 1], Res33840), 
LAdd43812 = add_layer([[[[[[0.8933, 0.9714]], [[0.8231, 0.2562]]]]], [[[[[0.0259, 0.087]], [[0.543, 0.5851]]]]]], Add43812), 
LRes16847 = reshape_layer(Add43812, [1, 2, 2], Res16847), 
LRes18356 = reshape_layer(Res16847, [1, 4], Res18356), 
LDot15216 = dot_layer(Res33840,Res18356, 1, 1, Dot15216), 
LReL45994 = relu_layer(Dot15216, 6.820059764563229, 5.000524033640619, 0.17606615753358867, ReL45994), 
exec_layers([LDot10275,LRes33840,LAdd43812,LRes16847,LRes18356,LDot15216,LReL45994],["Dot10275","Res33840","Add43812","Res16847","Res18356","Dot15216","ReL45994"],ReL45994,"ReL45994")

Actual (Unparsed): [[[0.2337963, 0.2692015, 0.3474642, 0.2139826]]]

Expected (Unparsed): [[[0.23379628634400001,0.26920146808800005,0.34746421537700006,0.213982610641]]]

Actual:   [[[0.2338, 0.2693, 0.3475, 0.214]]]

Expected: [[[0.2338, 0.2693, 0.3475, 0.214]]]