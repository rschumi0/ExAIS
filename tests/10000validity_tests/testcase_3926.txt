import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Con72506 = tf.keras.layers.Input(shape=([1, 1, 2]))
in0Max21914 = tf.keras.layers.Input(shape=([1, 1, 2, 1]))
in1Max21914 = tf.keras.layers.Input(shape=([1, 1, 2, 1]))

Con72506 = keras.layers.Conv2DTranspose(4, (1, 1),strides=(1, 1), padding='same', name = 'Con72506', )(in0Con72506)
Res17498 = keras.layers.Reshape((1, 1, 4, 1), name = 'Res17498', )(Con72506)
Max21914 = keras.layers.Maximum(name = 'Max21914', )([in0Max21914,in1Max21914])
Sof35962 = keras.layers.Softmax(axis=1, name = 'Sof35962', )(Max21914)
Zer25331 = keras.layers.ZeroPadding3D(padding=((0, 0), (0, 0), (2, 0)), name = 'Zer25331', )(Sof35962)
Add98108 = keras.layers.Add(name = 'Add98108', )([Res17498,Zer25331])
model = tf.keras.models.Model(inputs=[in0Con72506,in0Max21914,in1Max21914], outputs=Add98108)
w = model.get_layer('Con72506').get_weights() 
w[0] = np.array([[[[0.9083, 0.8872], [0.2322, 0.7177], [0.9535, 0.2439], [0.3605, 0.2119]]]])
w[1] = np.array([0, 0, 0, 0])
model.get_layer('Con72506').set_weights(w) 
in0Con72506 = tf.constant([[[[0.212, 0.6119]]]])
in0Max21914 = tf.constant([[[[[0.7954], [0.181]]]]])
in1Max21914 = tf.constant([[[[[0.9944], [0.8529]]]]])
print (np.array2string(model.predict([in0Con72506,in0Max21914,in1Max21914],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add98108.png')

LCon72506 = conv2D_transpose_layer([[[[0.212, 0.6119]]]], 1, 1,[[[[0.9083, 0.8872], [0.2322, 0.7177], [0.9535, 0.2439], [0.3605, 0.2119]]]],[0, 0, 0, 0], 1, 1, true, Con72506), 
LRes17498 = reshape_layer(Con72506, [1, 1, 4, 1], Res17498), 
LMax21914 = maximum_layer([[[[[[0.7954], [0.181]]]]], [[[[[0.9944], [0.8529]]]]]], Max21914), 
LSof35962 = softmax_layer(Max21914, 1, Sof35962), 
LZer25331 = zero_padding3D_layer(Sof35962, 0, 0, 0, 0, 2, 0, Zer25331), 
LAdd98108 = add_layer([Res17498,Zer25331], Add98108), 
exec_layers([LCon72506,LRes17498,LMax21914,LSof35962,LZer25331,LAdd98108],["Con72506","Res17498","Max21914","Sof35962","Zer25331","Add98108"],Add98108,"Add98108")

Actual (Unparsed): [[[[[0.7354373], [0.4883870], [1.3513844], [1.2060876]]]]]

Expected (Unparsed): [[[[[0.73543728],[0.48838703],[1.35138441],[1.20608761]]]]]

Actual:   [[[[[0.7355], [0.4884], [1.3514], [1.2061]]]]]

Expected: [[[[[0.7355], [0.4884], [1.3514], [1.2061]]]]]