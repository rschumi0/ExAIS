import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0ReL30123 = tf.keras.layers.Input(shape=([2, 2, 1, 1]))
in0Sub93200 = tf.keras.layers.Input(shape=([3]))
in1Sub93200 = tf.keras.layers.Input(shape=([3]))
in0Con18461 = tf.keras.layers.Input(shape=([3, 2]))
in0Cro12602 = tf.keras.layers.Input(shape=([4, 3]))

ReL30123 = keras.layers.ReLU(max_value=4.876535330045153, negative_slope=1.7489982849688284, threshold=9.633621836078971, name = 'ReL30123', input_shape=(2, 2, 1, 1))(in0ReL30123)
Glo2219 = keras.layers.GlobalAveragePooling3D(name = 'Glo2219', )(ReL30123)
Sub93200 = keras.layers.Subtract(name = 'Sub93200', )([in0Sub93200,in1Sub93200])
Res96389 = keras.layers.Reshape((3, 1), name = 'Res96389', )(Sub93200)
Con18461 = keras.layers.Concatenate(axis=2, name = 'Con18461', )([Res96389,in0Con18461])
Cro12602 = keras.layers.Cropping1D(cropping=((1, 2)), name = 'Cro12602', )(in0Cro12602)
Zer1940 = keras.layers.ZeroPadding1D(padding=((2, 0)), name = 'Zer1940', )(Cro12602)
Ave23436 = keras.layers.Average(name = 'Ave23436', )([Con18461,Zer1940])
Res17231 = keras.layers.Reshape((3, 3, 1), name = 'Res17231', )(Ave23436)
Glo61635 = keras.layers.GlobalAveragePooling2D(name = 'Glo61635', )(Res17231)
Add19077 = keras.layers.Add(name = 'Add19077', )([Glo2219,Glo61635])
model = tf.keras.models.Model(inputs=[in0ReL30123,in0Sub93200,in1Sub93200,in0Con18461,in0Cro12602], outputs=Add19077)
in0ReL30123 = tf.constant([[[[[0.8214]], [[0.32]]], [[[0.6144]], [[0.3614]]]]])
in0Sub93200 = tf.constant([[0.7279, 0.2458, 0.2217]])
in1Sub93200 = tf.constant([[0.9687, 0.5034, 0.4402]])
in0Con18461 = tf.constant([[[0.9835, 0.7254], [0.4883, 0.7077], [0.9215, 0.9346]]])
in0Cro12602 = tf.constant([[[1.3619, 1.7052, 1.9897], [1.8594, 1.8303, 1.9072], [1.9067, 1.8656, 1.778], [1.9266, 1.9643, 1.4318]]])
print (np.array2string(model.predict([in0ReL30123,in0Sub93200,in1Sub93200,in0Con18461,in0Cro12602],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add19077.png')

LReL30123 = relu_layer([[[[[0.8214]], [[0.32]]], [[[0.6144]], [[0.3614]]]]], 4.876535330045153, 1.7489982849688284, 9.633621836078971, ReL30123), 
LGlo2219 = global_average_pooling3D_layer(ReL30123, Glo2219), 
LSub93200 = subtract_layer([[0.7279, 0.2458, 0.2217]], [[0.9687, 0.5034, 0.4402]], Sub93200), 
LRes96389 = reshape_layer(Sub93200, [3, 1], Res96389), 
LCon18461 = concatenate_layer([Res96389,[[[0.9835, 0.7254], [0.4883, 0.7077], [0.9215, 0.9346]]]], 2, Con18461), 
LCro12602 = cropping1D_layer([[[1.3619, 1.7052, 1.9897], [1.8594, 1.8303, 1.9072], [1.9067, 1.8656, 1.778], [1.9266, 1.9643, 1.4318]]], 1, 2, Cro12602), 
LZer1940 = zero_padding1D_layer(Cro12602, 2, 0, Zer1940), 
LAve23436 = average_layer([Con18461,Zer1940], Ave23436), 
LRes17231 = reshape_layer(Ave23436, [3, 3, 1], Res17231), 
LGlo61635 = global_average_pooling2D_layer(Res17231, Glo61635), 
LAdd19077 = add_layer([Glo2219,Glo61635], Add19077), 
exec_layers([LReL30123,LGlo2219,LSub93200,LRes96389,LCon18461,LCro12602,LZer1940,LAve23436,LRes17231,LGlo61635,LAdd19077],["ReL30123","Glo2219","Sub93200","Res96389","Con18461","Cro12602","Zer1940","Ave23436","Res17231","Glo61635","Add19077"],Add19077,"Add19077")

Actual (Unparsed): [[-15.3878322]]

Expected (Unparsed): [[-15.387832165995265]]

Actual:   [[-15.3878]]

Expected: [[-15.3878]]