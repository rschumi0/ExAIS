import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mas52270 = tf.keras.layers.Input(shape=([1, 3]))
in0Max75075 = tf.keras.layers.Input(shape=([1, 1, 2]))
in1Max75075 = tf.keras.layers.Input(shape=([1, 1, 2]))

Mas52270 = keras.layers.Masking(mask_value=1, name = 'Mas52270', )(in0Mas52270)
Res59309 = keras.layers.Reshape((1, 3, 1), name = 'Res59309', )(Mas52270)
Res31662 = keras.layers.Reshape((1, 3, 1, 1), name = 'Res31662', )(Res59309)
Max75075 = keras.layers.Maximum(name = 'Max75075', )([in0Max75075,in1Max75075])
Res75998 = keras.layers.Reshape((1, 1, 2, 1), name = 'Res75998', )(Max75075)
Cro30425 = keras.layers.Cropping3D(cropping=((0, 0), (0, 0), (1, 0)), name = 'Cro30425', )(Res75998)
Lea89472 = keras.layers.LeakyReLU(alpha=2.2524369672586393, name = 'Lea89472', )(Cro30425)
Zer4137 = keras.layers.ZeroPadding3D(padding=((0, 0), (2, 0), (0, 0)), name = 'Zer4137', )(Lea89472)
Ave42110 = keras.layers.Average(name = 'Ave42110', )([Res31662,Zer4137])
model = tf.keras.models.Model(inputs=[in0Mas52270,in0Max75075,in1Max75075], outputs=Ave42110)
in0Mas52270 = tf.constant([[[1.2139, 1.253, 1.5851]]])
in0Max75075 = tf.constant([[[[0.3456, 0.5277]]]])
in1Max75075 = tf.constant([[[[0.872, 0.2448]]]])
print (np.array2string(model.predict([in0Mas52270,in0Max75075,in1Max75075],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Ave42110.png')

LMas52270 = masking_layer([[[1.2139, 1.253, 1.5851]]], 1, Mas52270), 
LRes59309 = reshape_layer(Mas52270, [1, 3, 1], Res59309), 
LRes31662 = reshape_layer(Res59309, [1, 3, 1, 1], Res31662), 
LMax75075 = maximum_layer([[[[[0.3456, 0.5277]]]], [[[[0.872, 0.2448]]]]], Max75075), 
LRes75998 = reshape_layer(Max75075, [1, 1, 2, 1], Res75998), 
LCro30425 = cropping3D_layer(Res75998, 0, 0, 0, 0, 1, 0, Cro30425), 
LLea89472 = leaky_relu_layer(Cro30425, 2.2524369672586393, Lea89472), 
LZer4137 = zero_padding3D_layer(Lea89472, 0, 0, 2, 0, 0, 0, Zer4137), 
LAve42110 = average_layer([Res31662,Zer4137], Ave42110), 
exec_layers([LMas52270,LRes59309,LRes31662,LMax75075,LRes75998,LCro30425,LLea89472,LZer4137,LAve42110],["Mas52270","Res59309","Res31662","Max75075","Res75998","Cro30425","Lea89472","Zer4137","Ave42110"],Ave42110,"Ave42110")

Actual (Unparsed): [[[[[0.6069500]], [[0.6265000]], [[1.0564000]]]]]

Expected (Unparsed): [[[[[0.60695]],[[0.6265]],[[1.0564]]]]]

Actual:   [[[[[0.607]], [[0.6265]], [[1.0564]]]]]

Expected: [[[[[0.607]], [[0.6265]], [[1.0564]]]]]