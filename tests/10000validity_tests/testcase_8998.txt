import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add79781 = tf.keras.layers.Input(shape=([1, 2, 2, 1]))
in1Add79781 = tf.keras.layers.Input(shape=([1, 2, 2, 1]))

Add79781 = keras.layers.Add(name = 'Add79781', )([in0Add79781,in1Add79781])
Res91046 = keras.layers.Reshape((1, 2, 2), name = 'Res91046', )(Add79781)
Res30586 = keras.layers.Reshape((1, 4), name = 'Res30586', )(Res91046)
Con71563 = keras.layers.Conv1D(4, (1),strides=(1), padding='same', dilation_rate=(1), name = 'Con71563', )(Res30586)
Res64587 = keras.layers.Reshape((1, 4, 1), name = 'Res64587', )(Con71563)
Cro9864 = keras.layers.Cropping2D(cropping=((0, 0), (0, 3)), name = 'Cro9864', )(Res64587)
model = tf.keras.models.Model(inputs=[in0Add79781,in1Add79781], outputs=Cro9864)
w = model.get_layer('Con71563').get_weights() 
w[0] = np.array([[[0.0568, 0.5136, 0.9827, 0.6062], [0.0127, 0.9991, 0.779, 0.8999], [0.7723, 0.0979, 0.2031, 0.0157], [0.5763, 0.0762, 0.9469, 0.0533]]])
w[1] = np.array([0, 0, 0, 0])
model.get_layer('Con71563').set_weights(w) 
in0Add79781 = tf.constant([[[[[0.2845], [0.6089]], [[0.8667], [0.8287]]]]])
in1Add79781 = tf.constant([[[[[0.8823], [0.0241]], [[0.5449], [0.469]]]]])
print (np.array2string(model.predict([in0Add79781,in1Add79781],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Cro9864.png')

LAdd79781 = add_layer([[[[[[0.2845], [0.6089]], [[0.8667], [0.8287]]]]], [[[[[0.8823], [0.0241]], [[0.5449], [0.469]]]]]], Add79781), 
LRes91046 = reshape_layer(Add79781, [1, 2, 2], Res91046), 
LRes30586 = reshape_layer(Res91046, [1, 4], Res30586), 
LCon71563 = conv1D_layer(Res30586, 1,[[[0.0568, 0.5136, 0.9827, 0.6062], [0.0127, 0.9991, 0.779, 0.8999], [0.7723, 0.0979, 0.2031, 0.0157], [0.5763, 0.0762, 0.9469, 0.0533]]],[0, 0, 0, 0], 1, true, 1, Con71563), 
LRes64587 = reshape_layer(Con71563, [1, 4, 1], Res64587), 
LCro9864 = cropping2D_layer(Res64587, 0, 0, 0, 3, Cro9864), 
exec_layers([LAdd79781,LRes91046,LRes30586,LCon71563,LRes64587,LCro9864],["Add79781","Res91046","Res30586","Con71563","Res64587","Cro9864"],Cro9864,"Cro9864")

Actual (Unparsed): [[[[1.9123565]]]]

Expected (Unparsed): [[[[1.9123565299999998]]]]

Actual:   [[[[1.9124]]]]

Expected: [[[[1.9124]]]]