import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Con72259 = tf.keras.layers.Input(shape=([2, 1, 1, 2]))
in0Glo19749 = tf.keras.layers.Input(shape=([2, 1, 1]))
in0Con79121 = tf.keras.layers.Input(shape=([5]))

Con72259 = keras.layers.Conv3D(3, (2, 1, 1),strides=(1, 1, 1), padding='same', dilation_rate=(1, 1, 1), name = 'Con72259', )(in0Con72259)
Res95963 = keras.layers.Reshape((2, 1, 3), name = 'Res95963', )(Con72259)
Res44101 = keras.layers.Reshape((2, 3), name = 'Res44101', )(Res95963)
Fla13157 = keras.layers.Flatten(name = 'Fla13157', )(Res44101)
Glo19749 = keras.layers.GlobalMaxPool2D(name = 'Glo19749', )(in0Glo19749)
Con79121 = keras.layers.Concatenate(axis=1, name = 'Con79121', )([Glo19749,in0Con79121])
Min55118 = keras.layers.Minimum(name = 'Min55118', )([Fla13157,Con79121])
Res14725 = keras.layers.Reshape((6, 1), name = 'Res14725', )(Min55118)
Cro93224 = keras.layers.Cropping1D(cropping=((1, 2)), name = 'Cro93224', )(Res14725)
model = tf.keras.models.Model(inputs=[in0Con72259,in0Glo19749,in0Con79121], outputs=Cro93224)
w = model.get_layer('Con72259').get_weights() 
w[0] = np.array([[[[[0.2448, 0.5898, 0.6039], [0.5352, 0.2782, 0.7886]]]], [[[[0.3125, 0.8015, 0.2361], [0.6237, 0.3378, 0.3995]]]]])
w[1] = np.array([0, 0, 0])
model.get_layer('Con72259').set_weights(w) 
in0Con72259 = tf.constant([[[[[0.4065, 0.4345]]], [[[0.9642, 0.3986]]]]])
in0Glo19749 = tf.constant([[[[1.1434]], [[1.234]]]])
in0Con79121 = tf.constant([[0.7474, 0.5688, 0.6367, 0.261, 0.3147]])
print (np.array2string(model.predict([in0Con72259,in0Glo19749,in0Con79121],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Cro93224.png')

LCon72259 = conv3D_layer([[[[[0.4065, 0.4345]]], [[[0.9642, 0.3986]]]]], 2, 1, 1,[[[[[0.2448, 0.5898, 0.6039], [0.5352, 0.2782, 0.7886]]]], [[[[0.3125, 0.8015, 0.2361], [0.6237, 0.3378, 0.3995]]]]],[0, 0, 0], 1, 1, 1, true, 1, 1, 1, Con72259), 
LRes95963 = reshape_layer(Con72259, [2, 1, 3], Res95963), 
LRes44101 = reshape_layer(Res95963, [2, 3], Res44101), 
LFla13157 = flatten_layer(Res44101, Fla13157), 
LGlo19749 = global_max_pool2D_layer([[[[1.1434]], [[1.234]]]], Glo19749), 
LCon79121 = concatenate_layer([Glo19749,[[0.7474, 0.5688, 0.6367, 0.261, 0.3147]]], 1, Con79121), 
LMin55118 = minimum_layer([Fla13157,Con79121], Min55118), 
LRes14725 = reshape_layer(Min55118, [6, 1], Res14725), 
LCro93224 = cropping1D_layer(Res14725, 1, 2, Cro93224), 
exec_layers([LCon72259,LRes95963,LRes44101,LFla13157,LGlo19749,LCon79121,LMin55118,LRes14725,LCro93224],["Con72259","Res95963","Res44101","Fla13157","Glo19749","Con79121","Min55118","Res14725","Cro93224"],Cro93224,"Cro93224")

Actual (Unparsed): [[[0.7474000], [0.5688000], [0.4493669]]]

Expected (Unparsed): [[[0.7474],[0.5688],[0.44936687999999997]]]

Actual:   [[[0.7474], [0.5688], [0.4494]]]

Expected: [[[0.7474], [0.5688], [0.4494]]]