import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add39345 = tf.keras.layers.Input(shape=([1, 2]))
in1Add39345 = tf.keras.layers.Input(shape=([1, 2]))
in0Lay14456 = tf.keras.layers.Input(shape=([1]))
in0Con84564 = tf.keras.layers.Input(shape=([1]))

Add39345 = keras.layers.Add(name = 'Add39345', )([in0Add39345,in1Add39345])
Fla41635 = keras.layers.Flatten(name = 'Fla41635', )(Add39345)
Lay14456 = keras.layers.LayerNormalization(axis=1, epsilon=2.696849669098153, name = 'Lay14456', )(in0Lay14456)
Con84564 = keras.layers.Concatenate(axis=1, name = 'Con84564', )([Lay14456,in0Con84564])
Mul11141 = keras.layers.Multiply(name = 'Mul11141', )([Fla41635,Con84564])
Res40746 = keras.layers.Reshape((2, 1), name = 'Res40746', )(Mul11141)
Res33109 = keras.layers.Reshape((2, 1, 1), name = 'Res33109', )(Res40746)
Zer22998 = keras.layers.ZeroPadding2D(padding=((1, 1), (1, 1)), name = 'Zer22998', )(Res33109)
Res87614 = keras.layers.Reshape((4, 3), name = 'Res87614', )(Zer22998)
Max70912 = keras.layers.MaxPool1D(pool_size=(4), name = 'Max70912', )(Res87614)
model = tf.keras.models.Model(inputs=[in0Add39345,in1Add39345,in0Lay14456,in0Con84564], outputs=Max70912)
in0Add39345 = tf.constant([[[0.7637, 0.2884]]])
in1Add39345 = tf.constant([[[0.9856, 0.6755]]])
in0Lay14456 = tf.constant([[1.2531]])
in0Con84564 = tf.constant([[0.0751]])
print (np.array2string(model.predict([in0Add39345,in1Add39345,in0Lay14456,in0Con84564],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max70912.png')

LAdd39345 = add_layer([[[[0.7637, 0.2884]]], [[[0.9856, 0.6755]]]], Add39345), 
LFla41635 = flatten_layer(Add39345, Fla41635), 
LLay14456 = layer_normalization_layer([[1.2531]], 1, 2.696849669098153, Lay14456), 
LCon84564 = concatenate_layer([Lay14456,[[0.0751]]], 1, Con84564), 
LMul11141 = multiply_layer([Fla41635,Con84564], Mul11141), 
LRes40746 = reshape_layer(Mul11141, [2, 1], Res40746), 
LRes33109 = reshape_layer(Res40746, [2, 1, 1], Res33109), 
LZer22998 = zero_padding2D_layer(Res33109, 1, 1, 1, 1, Zer22998), 
LRes87614 = reshape_layer(Zer22998, [4, 3], Res87614), 
LMax70912 = max_pool1D_layer(Res87614, 4, Max70912), 
exec_layers([LAdd39345,LFla41635,LLay14456,LCon84564,LMul11141,LRes40746,LRes33109,LZer22998,LRes87614,LMax70912],["Add39345","Fla41635","Lay14456","Con84564","Mul11141","Res40746","Res33109","Zer22998","Res87614","Max70912"],Max70912,"Max70912")

Actual (Unparsed): [[[0.0000000, 0.0723889, 0.0000000]]]

Expected (Unparsed): [[[0,0.07238889,0]]]

Actual:   [[[0, 0.0724, 0]]]

Expected: [[[0, 0.0724, 0]]]