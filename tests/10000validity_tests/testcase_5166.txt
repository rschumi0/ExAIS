import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot67282 = tf.keras.layers.Input(shape=([2, 2]))
in1Dot67282 = tf.keras.layers.Input(shape=([2, 2]))
in0Con56115 = tf.keras.layers.Input(shape=([1, 1, 2]))

Dot67282 = keras.layers.Dot(axes=(1, 1), name = 'Dot67282', )([in0Dot67282,in1Dot67282])
Con56115 = keras.layers.Conv2D(2, (1, 1),strides=(9, 1), padding='same', dilation_rate=(1, 1), name = 'Con56115', )(in0Con56115)
Res61910 = keras.layers.Reshape((1, 2), name = 'Res61910', )(Con56115)
Dot37044 = keras.layers.Dot(axes=(2, 2), name = 'Dot37044', )([Dot67282,Res61910])
model = tf.keras.models.Model(inputs=[in0Dot67282,in1Dot67282,in0Con56115], outputs=Dot37044)
w = model.get_layer('Con56115').get_weights() 
w[0] = np.array([[[[0.8734, 0.0576], [0.0589, 0.5668]]]])
w[1] = np.array([0, 0])
model.get_layer('Con56115').set_weights(w) 
in0Dot67282 = tf.constant([[[0.276, 0.325], [0.7573, 0.4936]]])
in1Dot67282 = tf.constant([[[0.8503, 0.4787], [0.1054, 0.7905]]])
in0Con56115 = tf.constant([[[[0.5729, 0.1105]]]])
print (np.array2string(model.predict([in0Dot67282,in1Dot67282,in0Con56115],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Dot37044.png')

LDot67282 = dot_layer([[[0.276, 0.325], [0.7573, 0.4936]]], [[[0.8503, 0.4787], [0.1054, 0.7905]]], 1, 1, Dot67282), 
LCon56115 = conv2D_layer([[[[0.5729, 0.1105]]]], 1, 1,[[[[0.8734, 0.0576], [0.0589, 0.5668]]]],[0, 0], 9, 1, true, 1, 1, Con56115), 
LRes61910 = reshape_layer(Con56115, [1, 2], Res61910), 
LDot37044 = dot_layer(Dot67282,Res61910, 2, 2, Dot37044), 
exec_layers([LDot67282,LCon56115,LRes61910,LDot37044],["Dot67282","Con56115","Res61910","Dot37044"],Dot37044,"Dot37044")

Actual (Unparsed): [[[0.2292982], [0.2186375]]]

Expected (Unparsed): [[[0.2292982236699822],[0.21863751191692338]]]

Actual:   [[[0.2293], [0.2187]]]

Expected: [[[0.2293], [0.2187]]]