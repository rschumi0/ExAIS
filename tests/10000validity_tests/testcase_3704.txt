import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo34654 = tf.keras.layers.Input(shape=([2, 1, 1]))
in0Con44782 = tf.keras.layers.Input(shape=([1, 2, 1]))
in0Add68568 = tf.keras.layers.Input(shape=([1, 2, 1, 1]))
in1Add68568 = tf.keras.layers.Input(shape=([1, 2, 1, 1]))
in0Con45434 = tf.keras.layers.Input(shape=([1, 2, 1]))
in0Max1602 = tf.keras.layers.Input(shape=([1, 1, 2]))
in1Max1602 = tf.keras.layers.Input(shape=([1, 1, 2]))

Glo34654 = keras.layers.GlobalMaxPool2D(name = 'Glo34654', )(in0Glo34654)
Res57673 = keras.layers.Reshape((1, 1), name = 'Res57673', )(Glo34654)
Res87243 = keras.layers.Reshape((1, 1, 1), name = 'Res87243', )(Res57673)
Zer29446 = keras.layers.ZeroPadding2D(padding=((0, 0), (1, 0)), name = 'Zer29446', )(Res87243)
Con44782 = keras.layers.Concatenate(axis=3, name = 'Con44782', )([Zer29446,in0Con44782])
Add68568 = keras.layers.Add(name = 'Add68568', )([in0Add68568,in1Add68568])
Res43855 = keras.layers.Reshape((1, 2, 1), name = 'Res43855', )(Add68568)
Con45434 = keras.layers.Concatenate(axis=3, name = 'Con45434', )([Res43855,in0Con45434])
Max1602 = keras.layers.Maximum(name = 'Max1602', )([in0Max1602,in1Max1602])
Zer99796 = keras.layers.ZeroPadding2D(padding=((0, 0), (1, 0)), name = 'Zer99796', )(Max1602)
Max94373 = keras.layers.Maximum(name = 'Max94373', )([Con45434,Zer99796])
Max78175 = keras.layers.Maximum(name = 'Max78175', )([Con44782,Max94373])
model = tf.keras.models.Model(inputs=[in0Glo34654,in0Con44782,in0Add68568,in1Add68568,in0Con45434,in0Max1602,in1Max1602], outputs=Max78175)
in0Glo34654 = tf.constant([[[[1.2183]], [[1.1427]]]])
in0Con44782 = tf.constant([[[[0.1393], [0.9569]]]])
in0Add68568 = tf.constant([[[[[0.923]], [[0.2139]]]]])
in1Add68568 = tf.constant([[[[[0.8766]], [[0.2161]]]]])
in0Con45434 = tf.constant([[[[0.4257], [0.2104]]]])
in0Max1602 = tf.constant([[[[0.6506, 0.443]]]])
in1Max1602 = tf.constant([[[[0.1566, 0.4135]]]])
print (np.array2string(model.predict([in0Glo34654,in0Con44782,in0Add68568,in1Add68568,in0Con45434,in0Max1602,in1Max1602],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max78175.png')

LGlo34654 = global_max_pool2D_layer([[[[1.2183]], [[1.1427]]]], Glo34654), 
LRes57673 = reshape_layer(Glo34654, [1, 1], Res57673), 
LRes87243 = reshape_layer(Res57673, [1, 1, 1], Res87243), 
LZer29446 = zero_padding2D_layer(Res87243, 0, 0, 1, 0, Zer29446), 
LCon44782 = concatenate_layer([Zer29446,[[[[0.1393], [0.9569]]]]], 3, Con44782), 
LAdd68568 = add_layer([[[[[[0.923]], [[0.2139]]]]], [[[[[0.8766]], [[0.2161]]]]]], Add68568), 
LRes43855 = reshape_layer(Add68568, [1, 2, 1], Res43855), 
LCon45434 = concatenate_layer([Res43855,[[[[0.4257], [0.2104]]]]], 3, Con45434), 
LMax1602 = maximum_layer([[[[[0.6506, 0.443]]]], [[[[0.1566, 0.4135]]]]], Max1602), 
LZer99796 = zero_padding2D_layer(Max1602, 0, 0, 1, 0, Zer99796), 
LMax94373 = maximum_layer([Con45434,Zer99796], Max94373), 
LMax78175 = maximum_layer([Con44782,Max94373], Max78175), 
exec_layers([LGlo34654,LRes57673,LRes87243,LZer29446,LCon44782,LAdd68568,LRes43855,LCon45434,LMax1602,LZer99796,LMax94373,LMax78175],["Glo34654","Res57673","Res87243","Zer29446","Con44782","Add68568","Res43855","Con45434","Max1602","Zer99796","Max94373","Max78175"],Max78175,"Max78175")

Actual (Unparsed): [[[[1.7996000, 0.4257000], [1.2183000, 0.9569000]]]]

Expected (Unparsed): [[[[1.7996,0.4257],[1.2183,0.9569]]]]

Actual:   [[[[1.7996, 0.4257], [1.2183, 0.9569]]]]

Expected: [[[[1.7996, 0.4257], [1.2183, 0.9569]]]]