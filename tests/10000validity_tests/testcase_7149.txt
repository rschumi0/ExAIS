import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Cro94765 = tf.keras.layers.Input(shape=([1, 1, 4, 3]))
in0Add78784 = tf.keras.layers.Input(shape=([2, 1]))
in1Add78784 = tf.keras.layers.Input(shape=([2, 1]))
in0Con72617 = tf.keras.layers.Input(shape=([2, 2]))

Cro94765 = keras.layers.Cropping3D(cropping=((0, 0), (0, 0), (2, 1)), name = 'Cro94765', )(in0Cro94765)
Res74540 = keras.layers.Reshape((1, 1, 3), name = 'Res74540', )(Cro94765)
Res71934 = keras.layers.Reshape((1, 3), name = 'Res71934', )(Res74540)
Zer94194 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer94194', )(Res71934)
Add78784 = keras.layers.Add(name = 'Add78784', )([in0Add78784,in1Add78784])
Con72617 = keras.layers.Concatenate(axis=2, name = 'Con72617', )([Add78784,in0Con72617])
Max89749 = keras.layers.Maximum(name = 'Max89749', )([Zer94194,Con72617])
Res27907 = keras.layers.Reshape((2, 3, 1), name = 'Res27907', )(Max89749)
Glo79162 = keras.layers.GlobalMaxPool2D(name = 'Glo79162', )(Res27907)
model = tf.keras.models.Model(inputs=[in0Cro94765,in0Add78784,in1Add78784,in0Con72617], outputs=Glo79162)
in0Cro94765 = tf.constant([[[[[1.3664, 1.2466, 1.7297], [1.6653, 1.2693, 1.4365], [1.2014, 1.4984, 1.2811], [1.0653, 1.8556, 1.3269]]]]])
in0Add78784 = tf.constant([[[0.4397], [0.8699]]])
in1Add78784 = tf.constant([[[0.5509], [0.0473]]])
in0Con72617 = tf.constant([[[0.3988, 0.1155], [0.9981, 0.8428]]])
print (np.array2string(model.predict([in0Cro94765,in0Add78784,in1Add78784,in0Con72617],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo79162.png')

LCro94765 = cropping3D_layer([[[[[1.3664, 1.2466, 1.7297], [1.6653, 1.2693, 1.4365], [1.2014, 1.4984, 1.2811], [1.0653, 1.8556, 1.3269]]]]], 0, 0, 0, 0, 2, 1, Cro94765), 
LRes74540 = reshape_layer(Cro94765, [1, 1, 3], Res74540), 
LRes71934 = reshape_layer(Res74540, [1, 3], Res71934), 
LZer94194 = zero_padding1D_layer(Res71934, 1, 0, Zer94194), 
LAdd78784 = add_layer([[[[0.4397], [0.8699]]], [[[0.5509], [0.0473]]]], Add78784), 
LCon72617 = concatenate_layer([Add78784,[[[0.3988, 0.1155], [0.9981, 0.8428]]]], 2, Con72617), 
LMax89749 = maximum_layer([Zer94194,Con72617], Max89749), 
LRes27907 = reshape_layer(Max89749, [2, 3, 1], Res27907), 
LGlo79162 = global_max_pool2D_layer(Res27907, Glo79162), 
exec_layers([LCro94765,LRes74540,LRes71934,LZer94194,LAdd78784,LCon72617,LMax89749,LRes27907,LGlo79162],["Cro94765","Res74540","Res71934","Zer94194","Add78784","Con72617","Max89749","Res27907","Glo79162"],Glo79162,"Glo79162")

Actual (Unparsed): [[1.4984000]]

Expected (Unparsed): [[1.4984]]

Actual:   [[1.4984]]

Expected: [[1.4984]]