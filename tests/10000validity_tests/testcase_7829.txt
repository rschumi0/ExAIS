import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot44265 = tf.keras.layers.Input(shape=([2]))
in1Dot44265 = tf.keras.layers.Input(shape=([2]))
in0Con83552 = tf.keras.layers.Input(shape=([2, 1, 2, 1]))
in0Min44869 = tf.keras.layers.Input(shape=([1, 2, 1]))
in1Min44869 = tf.keras.layers.Input(shape=([1, 2, 1]))
in0Glo26507 = tf.keras.layers.Input(shape=([1, 1]))
in0Con4553 = tf.keras.layers.Input(shape=([1]))
in0Con94979 = tf.keras.layers.Input(shape=([2, 1, 2, 1]))
in0Max91973 = tf.keras.layers.Input(shape=([2, 1, 2, 2]))
in1Max91973 = tf.keras.layers.Input(shape=([2, 1, 2, 2]))

Dot44265 = keras.layers.Dot(axes=(1, 1), name = 'Dot44265', )([in0Dot44265,in1Dot44265])
Res33278 = keras.layers.Reshape((1, 1), name = 'Res33278', )(Dot44265)
Res92803 = keras.layers.Reshape((1, 1, 1), name = 'Res92803', )(Res33278)
Res82241 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res82241', )(Res92803)
Zer12467 = keras.layers.ZeroPadding3D(padding=((1, 0), (0, 0), (1, 0)), name = 'Zer12467', )(Res82241)
Con83552 = keras.layers.Concatenate(axis=4, name = 'Con83552', )([Zer12467,in0Con83552])
Min44869 = keras.layers.Minimum(name = 'Min44869', )([in0Min44869,in1Min44869])
Res78401 = keras.layers.Reshape((1, 2), name = 'Res78401', )(Min44869)
Fla81532 = keras.layers.Flatten(name = 'Fla81532', )(Res78401)
Glo26507 = keras.layers.GlobalMaxPool1D(name = 'Glo26507', )(in0Glo26507)
Con4553 = keras.layers.Concatenate(axis=1, name = 'Con4553', )([Glo26507,in0Con4553])
Add5991 = keras.layers.Add(name = 'Add5991', )([Fla81532,Con4553])
Res98863 = keras.layers.Reshape((2, 1), name = 'Res98863', )(Add5991)
Res99091 = keras.layers.Reshape((2, 1, 1), name = 'Res99091', )(Res98863)
Res74199 = keras.layers.Reshape((2, 1, 1, 1), name = 'Res74199', )(Res99091)
Zer44893 = keras.layers.ZeroPadding3D(padding=((0, 0), (0, 0), (1, 0)), name = 'Zer44893', )(Res74199)
Con94979 = keras.layers.Concatenate(axis=4, name = 'Con94979', )([Zer44893,in0Con94979])
Max91973 = keras.layers.Maximum(name = 'Max91973', )([in0Max91973,in1Max91973])
Ave89792 = keras.layers.Average(name = 'Ave89792', )([Con94979,Max91973])
Add74712 = keras.layers.Add(name = 'Add74712', )([Con83552,Ave89792])
model = tf.keras.models.Model(inputs=[in0Dot44265,in1Dot44265,in0Con83552,in0Min44869,in1Min44869,in0Glo26507,in0Con4553,in0Con94979,in0Max91973,in1Max91973], outputs=Add74712)
in0Dot44265 = tf.constant([[0.7735, 0.8164]])
in1Dot44265 = tf.constant([[0.9031, 0.0666]])
in0Con83552 = tf.constant([[[[[0.9423], [0.42]]], [[[0.0029], [0.7511]]]]])
in0Min44869 = tf.constant([[[[0.339], [0.5845]]]])
in1Min44869 = tf.constant([[[[0.5912], [0.5179]]]])
in0Glo26507 = tf.constant([[[1.8272]]])
in0Con4553 = tf.constant([[0.7656]])
in0Con94979 = tf.constant([[[[[0.7243], [0.7623]]], [[[0.9917], [0.0177]]]]])
in0Max91973 = tf.constant([[[[[0.1191, 0.3528], [0.0189, 0.5679]]], [[[0.9113, 0.3275], [0.6154, 0.9411]]]]])
in1Max91973 = tf.constant([[[[[0.7671, 0.9161], [0.2695, 0.3644]]], [[[0.6586, 0.813], [0.118, 0.032]]]]])
print (np.array2string(model.predict([in0Dot44265,in1Dot44265,in0Con83552,in0Min44869,in1Min44869,in0Glo26507,in0Con4553,in0Con94979,in0Max91973,in1Max91973],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add74712.png')

LDot44265 = dot_layer([[0.7735, 0.8164]], [[0.9031, 0.0666]], 1, 1, Dot44265), 
LRes33278 = reshape_layer(Dot44265, [1, 1], Res33278), 
LRes92803 = reshape_layer(Res33278, [1, 1, 1], Res92803), 
LRes82241 = reshape_layer(Res92803, [1, 1, 1, 1], Res82241), 
LZer12467 = zero_padding3D_layer(Res82241, 1, 0, 0, 0, 1, 0, Zer12467), 
LCon83552 = concatenate_layer([Zer12467,[[[[[0.9423], [0.42]]], [[[0.0029], [0.7511]]]]]], 4, Con83552), 
LMin44869 = minimum_layer([[[[[0.339], [0.5845]]]], [[[[0.5912], [0.5179]]]]], Min44869), 
LRes78401 = reshape_layer(Min44869, [1, 2], Res78401), 
LFla81532 = flatten_layer(Res78401, Fla81532), 
LGlo26507 = global_max_pool1D_layer([[[1.8272]]], Glo26507), 
LCon4553 = concatenate_layer([Glo26507,[[0.7656]]], 1, Con4553), 
LAdd5991 = add_layer([Fla81532,Con4553], Add5991), 
LRes98863 = reshape_layer(Add5991, [2, 1], Res98863), 
LRes99091 = reshape_layer(Res98863, [2, 1, 1], Res99091), 
LRes74199 = reshape_layer(Res99091, [2, 1, 1, 1], Res74199), 
LZer44893 = zero_padding3D_layer(Res74199, 0, 0, 0, 0, 1, 0, Zer44893), 
LCon94979 = concatenate_layer([Zer44893,[[[[[0.7243], [0.7623]]], [[[0.9917], [0.0177]]]]]], 4, Con94979), 
LMax91973 = maximum_layer([[[[[[0.1191, 0.3528], [0.0189, 0.5679]]], [[[0.9113, 0.3275], [0.6154, 0.9411]]]]], [[[[[0.7671, 0.9161], [0.2695, 0.3644]]], [[[0.6586, 0.813], [0.118, 0.032]]]]]], Max91973), 
LAve89792 = average_layer([Con94979,Max91973], Ave89792), 
LAdd74712 = add_layer([Con83552,Ave89792], Add74712), 
exec_layers([LDot44265,LRes33278,LRes92803,LRes82241,LZer12467,LCon83552,LMin44869,LRes78401,LFla81532,LGlo26507,LCon4553,LAdd5991,LRes98863,LRes99091,LRes74199,LZer44893,LCon94979,LMax91973,LAve89792,LAdd74712],["Dot44265","Res33278","Res92803","Res82241","Zer12467","Con83552","Min44869","Res78401","Fla81532","Glo26507","Con4553","Add5991","Res98863","Res99091","Res74199","Zer44893","Con94979","Max91973","Ave89792","Add74712"],Add74712,"Add74712")

Actual (Unparsed): [[[[[0.3835500, 1.7625000], [1.2178500, 1.0851000]]], [[[0.4556500, 0.9052500], [1.7023701, 1.2305000]]]]]

Expected (Unparsed): [[[[[0.38355,1.7625000000000002],[1.2178499999999999,1.0851]]],[[[0.45565,0.90525],[1.70237009,1.2305000000000001]]]]]

Actual:   [[[[[0.3836, 1.7625], [1.2179, 1.0851]]], [[[0.4557, 0.9053], [1.7024, 1.2305]]]]]

Expected: [[[[[0.3836, 1.7626], [1.2179, 1.0851]]], [[[0.4557, 0.9053], [1.7024, 1.2306]]]]]