import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul86586 = tf.keras.layers.Input(shape=([2, 1, 2, 1]))
in1Mul86586 = tf.keras.layers.Input(shape=([2, 1, 2, 1]))
in0Max60200 = tf.keras.layers.Input(shape=([1, 2]))
in1Max60200 = tf.keras.layers.Input(shape=([1, 2]))

Mul86586 = keras.layers.Multiply(name = 'Mul86586', )([in0Mul86586,in1Mul86586])
Res86260 = keras.layers.Reshape((2, 1, 2), name = 'Res86260', )(Mul86586)
Res28622 = keras.layers.Reshape((2, 2), name = 'Res28622', )(Res86260)
Max60200 = keras.layers.Maximum(name = 'Max60200', )([in0Max60200,in1Max60200])
Zer89857 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer89857', )(Max60200)
Max63909 = keras.layers.Maximum(name = 'Max63909', )([Res28622,Zer89857])
model = tf.keras.models.Model(inputs=[in0Mul86586,in1Mul86586,in0Max60200,in1Max60200], outputs=Max63909)
in0Mul86586 = tf.constant([[[[[0.7108], [0.254]]], [[[0.1484], [0.9738]]]]])
in1Mul86586 = tf.constant([[[[[0.1575], [0.4775]]], [[[0.1458], [0.8339]]]]])
in0Max60200 = tf.constant([[[0.0954, 0.4895]]])
in1Max60200 = tf.constant([[[0.8724, 0.9463]]])
print (np.array2string(model.predict([in0Mul86586,in1Mul86586,in0Max60200,in1Max60200],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max63909.png')

LMul86586 = multiply_layer([[[[[[0.7108], [0.254]]], [[[0.1484], [0.9738]]]]], [[[[[0.1575], [0.4775]]], [[[0.1458], [0.8339]]]]]], Mul86586), 
LRes86260 = reshape_layer(Mul86586, [2, 1, 2], Res86260), 
LRes28622 = reshape_layer(Res86260, [2, 2], Res28622), 
LMax60200 = maximum_layer([[[[0.0954, 0.4895]]], [[[0.8724, 0.9463]]]], Max60200), 
LZer89857 = zero_padding1D_layer(Max60200, 1, 0, Zer89857), 
LMax63909 = maximum_layer([Res28622,Zer89857], Max63909), 
exec_layers([LMul86586,LRes86260,LRes28622,LMax60200,LZer89857,LMax63909],["Mul86586","Res86260","Res28622","Max60200","Zer89857","Max63909"],Max63909,"Max63909")

Actual (Unparsed): [[[0.1119510, 0.1212850], [0.8724000, 0.9463000]]]

Expected (Unparsed): [[[0.111951,0.12128499999999999],[0.8724,0.9463]]]

Actual:   [[[0.112, 0.1213], [0.8724, 0.9463]]]

Expected: [[[0.112, 0.1213], [0.8724, 0.9463]]]