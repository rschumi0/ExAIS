import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul39931 = tf.keras.layers.Input(shape=([2, 1, 1]))
in1Mul39931 = tf.keras.layers.Input(shape=([2, 1, 1]))

Mul39931 = keras.layers.Multiply(name = 'Mul39931', )([in0Mul39931,in1Mul39931])
Res49316 = keras.layers.Reshape((2, 1), name = 'Res49316', )(Mul39931)
Loc45500 = keras.layers.LocallyConnected1D(2, (1),strides=(1), name = 'Loc45500', )(Res49316)
model = tf.keras.models.Model(inputs=[in0Mul39931,in1Mul39931], outputs=Loc45500)
w = model.get_layer('Loc45500').get_weights() 
w[0] = np.array([[[0.4798, 0.687]], [[0.9539, 0.1826]]])
w[1] = np.array([[0, 0], [0, 0]])
model.get_layer('Loc45500').set_weights(w) 
in0Mul39931 = tf.constant([[[[0.9471]], [[0.2893]]]])
in1Mul39931 = tf.constant([[[[0.0956]], [[0.3905]]]])
print (np.array2string(model.predict([in0Mul39931,in1Mul39931],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Loc45500.png')

LMul39931 = multiply_layer([[[[[0.9471]], [[0.2893]]]], [[[[0.0956]], [[0.3905]]]]], Mul39931), 
LRes49316 = reshape_layer(Mul39931, [2, 1], Res49316), 
LLoc45500 = locally_connected1D_layer(Res49316, 1,[[[0.4798, 0.687]], [[0.9539, 0.1826]]],[[0, 0], [0, 0]], 1, Loc45500), 
exec_layers([LMul39931,LRes49316,LLoc45500],["Mul39931","Res49316","Loc45500"],Loc45500,"Loc45500")

Actual (Unparsed): [[[0.0434424, 0.0622029], [0.1077637, 0.0206286]]]

Expected (Unparsed): [[[0.04344241624800001,0.062202876120000014],[0.10776365693500001,0.020628623290000002]]]

Actual:   [[[0.0435, 0.0623], [0.1078, 0.0207]]]

Expected: [[[0.0435, 0.0623], [0.1078, 0.0207]]]