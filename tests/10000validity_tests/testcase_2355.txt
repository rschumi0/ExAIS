import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max36051 = tf.keras.layers.Input(shape=([1, 1, 1]))
in1Max36051 = tf.keras.layers.Input(shape=([1, 1, 1]))
in0Con92562 = tf.keras.layers.Input(shape=([1, 1]))
in0Add77684 = tf.keras.layers.Input(shape=([1, 2]))
in1Add77684 = tf.keras.layers.Input(shape=([1, 2]))
in0Min17768 = tf.keras.layers.Input(shape=([2, 2]))
in1Min17768 = tf.keras.layers.Input(shape=([2, 2]))

Max36051 = keras.layers.Maximum(name = 'Max36051', )([in0Max36051,in1Max36051])
Res67653 = keras.layers.Reshape((1, 1), name = 'Res67653', )(Max36051)
Con92562 = keras.layers.Concatenate(axis=2, name = 'Con92562', )([Res67653,in0Con92562])
Add77684 = keras.layers.Add(name = 'Add77684', )([in0Add77684,in1Add77684])
Ave51521 = keras.layers.Average(name = 'Ave51521', )([Con92562,Add77684])
Zer94793 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer94793', )(Ave51521)
Min17768 = keras.layers.Minimum(name = 'Min17768', )([in0Min17768,in1Min17768])
Dot33206 = keras.layers.Dot(axes=(1, 1), name = 'Dot33206', )([Zer94793,Min17768])
model = tf.keras.models.Model(inputs=[in0Max36051,in1Max36051,in0Con92562,in0Add77684,in1Add77684,in0Min17768,in1Min17768], outputs=Dot33206)
in0Max36051 = tf.constant([[[[0.4848]]]])
in1Max36051 = tf.constant([[[[0.4922]]]])
in0Con92562 = tf.constant([[[0.4606]]])
in0Add77684 = tf.constant([[[0.5657, 0.1083]]])
in1Add77684 = tf.constant([[[0.9589, 0.1511]]])
in0Min17768 = tf.constant([[[0.2541, 0.3778], [0.7311, 0.2022]]])
in1Min17768 = tf.constant([[[0.1604, 0.7069], [0.8658, 0.4233]]])
print (np.array2string(model.predict([in0Max36051,in1Max36051,in0Con92562,in0Add77684,in1Add77684,in0Min17768,in1Min17768],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Dot33206.png')

LMax36051 = maximum_layer([[[[[0.4848]]]], [[[[0.4922]]]]], Max36051), 
LRes67653 = reshape_layer(Max36051, [1, 1], Res67653), 
LCon92562 = concatenate_layer([Res67653,[[[0.4606]]]], 2, Con92562), 
LAdd77684 = add_layer([[[[0.5657, 0.1083]]], [[[0.9589, 0.1511]]]], Add77684), 
LAve51521 = average_layer([Con92562,Add77684], Ave51521), 
LZer94793 = zero_padding1D_layer(Ave51521, 1, 0, Zer94793), 
LMin17768 = minimum_layer([[[[0.2541, 0.3778], [0.7311, 0.2022]]], [[[0.1604, 0.7069], [0.8658, 0.4233]]]], Min17768), 
LDot33206 = dot_layer(Zer94793,Min17768, 1, 1, Dot33206), 
exec_layers([LMax36051,LRes67653,LCon92562,LAdd77684,LAve51521,LZer94793,LMin17768,LDot33206],["Max36051","Res67653","Con92562","Add77684","Ave51521","Zer94793","Min17768","Dot33206"],Dot33206,"Dot33206")

Actual (Unparsed): [[[0.7372412, 0.2038985], [0.2631960, 0.0727920]]]

Expected (Unparsed): [[[0.7372412399999999,0.20389848],[0.263196,0.072792]]]

Actual:   [[[0.7373, 0.2039], [0.2632, 0.0728]]]

Expected: [[[0.7373, 0.2039], [0.2632, 0.0728]]]