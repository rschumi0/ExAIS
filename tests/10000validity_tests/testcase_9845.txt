import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave22823 = tf.keras.layers.Input(shape=([2, 1, 1]))
in1Ave22823 = tf.keras.layers.Input(shape=([2, 1, 1]))

Ave22823 = keras.layers.Average(name = 'Ave22823', )([in0Ave22823,in1Ave22823])
Res89589 = keras.layers.Reshape((2, 1, 1, 1), name = 'Res89589', )(Ave22823)
Glo48946 = keras.layers.GlobalMaxPool3D(name = 'Glo48946', )(Res89589)
model = tf.keras.models.Model(inputs=[in0Ave22823,in1Ave22823], outputs=Glo48946)
in0Ave22823 = tf.constant([[[[0.9146]], [[0.3006]]]])
in1Ave22823 = tf.constant([[[[0.1832]], [[0.9134]]]])
print (np.array2string(model.predict([in0Ave22823,in1Ave22823],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo48946.png')

LAve22823 = average_layer([[[[[0.9146]], [[0.3006]]]], [[[[0.1832]], [[0.9134]]]]], Ave22823), 
LRes89589 = reshape_layer(Ave22823, [2, 1, 1, 1], Res89589), 
LGlo48946 = global_max_pool3D_layer(Res89589, Glo48946), 
exec_layers([LAve22823,LRes89589,LGlo48946],["Ave22823","Res89589","Glo48946"],Glo48946,"Glo48946")

Actual (Unparsed): [[0.6070000]]

Expected (Unparsed): [[0.607]]

Actual:   [[0.607]]

Expected: [[0.607]]