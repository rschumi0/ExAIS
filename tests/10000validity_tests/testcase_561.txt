import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min47566 = tf.keras.layers.Input(shape=([2, 1]))
in1Min47566 = tf.keras.layers.Input(shape=([2, 1]))
in0Glo70975 = tf.keras.layers.Input(shape=([2, 1, 2]))
in0Con36743 = tf.keras.layers.Input(shape=([1]))

Min47566 = keras.layers.Minimum(name = 'Min47566', )([in0Min47566,in1Min47566])
Fla1985 = keras.layers.Flatten(name = 'Fla1985', )(Min47566)
Glo70975 = keras.layers.GlobalMaxPool2D(name = 'Glo70975', )(in0Glo70975)
Res57396 = keras.layers.Reshape((2, 1), name = 'Res57396', )(Glo70975)
Res86010 = keras.layers.Reshape((2, 1, 1), name = 'Res86010', )(Res57396)
Glo11690 = keras.layers.GlobalAveragePooling2D(name = 'Glo11690', )(Res86010)
Con36743 = keras.layers.Concatenate(axis=1, name = 'Con36743', )([Glo11690,in0Con36743])
Ave61832 = keras.layers.Average(name = 'Ave61832', )([Fla1985,Con36743])
model = tf.keras.models.Model(inputs=[in0Min47566,in1Min47566,in0Glo70975,in0Con36743], outputs=Ave61832)
in0Min47566 = tf.constant([[[0.1572], [0.5236]]])
in1Min47566 = tf.constant([[[0.7841], [0.6083]]])
in0Glo70975 = tf.constant([[[[1.0687, 1.593]], [[1.5969, 1.1419]]]])
in0Con36743 = tf.constant([[0.6372]])
print (np.array2string(model.predict([in0Min47566,in1Min47566,in0Glo70975,in0Con36743],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Ave61832.png')

LMin47566 = minimum_layer([[[[0.1572], [0.5236]]], [[[0.7841], [0.6083]]]], Min47566), 
LFla1985 = flatten_layer(Min47566, Fla1985), 
LGlo70975 = global_max_pool2D_layer([[[[1.0687, 1.593]], [[1.5969, 1.1419]]]], Glo70975), 
LRes57396 = reshape_layer(Glo70975, [2, 1], Res57396), 
LRes86010 = reshape_layer(Res57396, [2, 1, 1], Res86010), 
LGlo11690 = global_average_pooling2D_layer(Res86010, Glo11690), 
LCon36743 = concatenate_layer([Glo11690,[[0.6372]]], 1, Con36743), 
LAve61832 = average_layer([Fla1985,Con36743], Ave61832), 
exec_layers([LMin47566,LFla1985,LGlo70975,LRes57396,LRes86010,LGlo11690,LCon36743,LAve61832],["Min47566","Fla1985","Glo70975","Res57396","Res86010","Glo11690","Con36743","Ave61832"],Ave61832,"Ave61832")

Actual (Unparsed): [[0.8760750, 0.5804000]]

Expected (Unparsed): [[0.8760749999999999,0.5804]]

Actual:   [[0.8761, 0.5804]]

Expected: [[0.8761, 0.5804]]