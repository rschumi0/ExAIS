import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub24628 = tf.keras.layers.Input(shape=([3, 2, 2]))
in1Sub24628 = tf.keras.layers.Input(shape=([3, 2, 2]))
in0Dot55469 = tf.keras.layers.Input(shape=([2, 2]))
in1Dot55469 = tf.keras.layers.Input(shape=([2, 2]))

Sub24628 = keras.layers.Subtract(name = 'Sub24628', )([in0Sub24628,in1Sub24628])
Cro60068 = keras.layers.Cropping2D(cropping=((2, 0), (1, 0)), name = 'Cro60068', )(Sub24628)
Res29490 = keras.layers.Reshape((1, 2), name = 'Res29490', )(Cro60068)
Zer42898 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer42898', )(Res29490)
Dot55469 = keras.layers.Dot(axes=(1, 1), name = 'Dot55469', )([in0Dot55469,in1Dot55469])
Min89349 = keras.layers.Minimum(name = 'Min89349', )([Zer42898,Dot55469])
model = tf.keras.models.Model(inputs=[in0Sub24628,in1Sub24628,in0Dot55469,in1Dot55469], outputs=Min89349)
in0Sub24628 = tf.constant([[[[0.901, 0.1698], [0.6427, 0.0314]], [[0.6126, 0.0227], [0.9949, 0.6641]], [[0.7966, 0.7375], [0.6979, 0.0108]]]])
in1Sub24628 = tf.constant([[[[0.7551, 0.4876], [0.7793, 0.354]], [[0.051, 0.4201], [0.4196, 0.3757]], [[0.0619, 0.8483], [0.2941, 0.29]]]])
in0Dot55469 = tf.constant([[[0.0251, 0.5416], [0.1859, 0.4045]]])
in1Dot55469 = tf.constant([[[0.8403, 0.2657], [0.5717, 0.2954]]])
print (np.array2string(model.predict([in0Sub24628,in1Sub24628,in0Dot55469,in1Dot55469],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min89349.png')

LSub24628 = subtract_layer([[[[0.901, 0.1698], [0.6427, 0.0314]], [[0.6126, 0.0227], [0.9949, 0.6641]], [[0.7966, 0.7375], [0.6979, 0.0108]]]], [[[[0.7551, 0.4876], [0.7793, 0.354]], [[0.051, 0.4201], [0.4196, 0.3757]], [[0.0619, 0.8483], [0.2941, 0.29]]]], Sub24628), 
LCro60068 = cropping2D_layer(Sub24628, 2, 0, 1, 0, Cro60068), 
LRes29490 = reshape_layer(Cro60068, [1, 2], Res29490), 
LZer42898 = zero_padding1D_layer(Res29490, 1, 0, Zer42898), 
LDot55469 = dot_layer([[[0.0251, 0.5416], [0.1859, 0.4045]]], [[[0.8403, 0.2657], [0.5717, 0.2954]]], 1, 1, Dot55469), 
LMin89349 = minimum_layer([Zer42898,Dot55469], Min89349), 
exec_layers([LSub24628,LCro60068,LRes29490,LZer42898,LDot55469,LMin89349],["Sub24628","Cro60068","Res29490","Zer42898","Dot55469","Min89349"],Min89349,"Min89349")

Actual (Unparsed): [[[0.0000000, 0.0000000], [0.4038000, -0.2792000]]]

Expected (Unparsed): [[[0,0],[0.4038,-0.2792]]]

Actual:   [[[0, 0], [0.4038, -0.2792]]]

Expected: [[[0, 0], [0.4038, -0.2792]]]