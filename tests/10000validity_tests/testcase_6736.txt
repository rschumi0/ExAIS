import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub16270 = tf.keras.layers.Input(shape=([3, 2]))
in1Sub16270 = tf.keras.layers.Input(shape=([3, 2]))
in0Dot6375 = tf.keras.layers.Input(shape=([3]))
in1Dot6375 = tf.keras.layers.Input(shape=([3]))
in0Con4813 = tf.keras.layers.Input(shape=([5]))

Sub16270 = keras.layers.Subtract(name = 'Sub16270', )([in0Sub16270,in1Sub16270])
Fla24318 = keras.layers.Flatten(name = 'Fla24318', )(Sub16270)
Dot6375 = keras.layers.Dot(axes=(1, 1), name = 'Dot6375', )([in0Dot6375,in1Dot6375])
Con4813 = keras.layers.Concatenate(axis=1, name = 'Con4813', )([Dot6375,in0Con4813])
Min32524 = keras.layers.Minimum(name = 'Min32524', )([Fla24318,Con4813])
model = tf.keras.models.Model(inputs=[in0Sub16270,in1Sub16270,in0Dot6375,in1Dot6375,in0Con4813], outputs=Min32524)
in0Sub16270 = tf.constant([[[0.5227, 0.0628], [0.6749, 0.7468], [0.5253, 0.6292]]])
in1Sub16270 = tf.constant([[[0.8688, 0.8402], [0.6477, 0.4443], [0.2071, 0.2058]]])
in0Dot6375 = tf.constant([[0.1499, 0.9256, 0.9051]])
in1Dot6375 = tf.constant([[0.4961, 0.1437, 0.4565]])
in0Con4813 = tf.constant([[0.6381, 0.5521, 0.6762, 0.7072, 0.2439]])
print (np.array2string(model.predict([in0Sub16270,in1Sub16270,in0Dot6375,in1Dot6375,in0Con4813],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min32524.png')

LSub16270 = subtract_layer([[[0.5227, 0.0628], [0.6749, 0.7468], [0.5253, 0.6292]]], [[[0.8688, 0.8402], [0.6477, 0.4443], [0.2071, 0.2058]]], Sub16270), 
LFla24318 = flatten_layer(Sub16270, Fla24318), 
LDot6375 = dot_layer([[0.1499, 0.9256, 0.9051]], [[0.4961, 0.1437, 0.4565]], 1, 1, Dot6375), 
LCon4813 = concatenate_layer([Dot6375,[[0.6381, 0.5521, 0.6762, 0.7072, 0.2439]]], 1, Con4813), 
LMin32524 = minimum_layer([Fla24318,Con4813], Min32524), 
exec_layers([LSub16270,LFla24318,LDot6375,LCon4813,LMin32524],["Sub16270","Fla24318","Dot6375","Con4813","Min32524"],Min32524,"Min32524")

Actual (Unparsed): [[-0.3461000, -0.7774000, 0.0272000, 0.3025000, 0.3182000, 0.2439000]]

Expected (Unparsed): [[-0.34609999999999996,-0.7774,0.027200000000000002,0.30250000000000005,0.3182,0.2439]]

Actual:   [[-0.3461, -0.7774, 0.0272, 0.3025, 0.3182, 0.2439]]

Expected: [[-0.346, -0.7774, 0.0273, 0.3026, 0.3182, 0.2439]]