import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul27661 = tf.keras.layers.Input(shape=([1, 2, 2]))
in1Mul27661 = tf.keras.layers.Input(shape=([1, 2, 2]))

Mul27661 = keras.layers.Multiply(name = 'Mul27661', )([in0Mul27661,in1Mul27661])
Zer18672 = keras.layers.ZeroPadding2D(padding=((1, 1), (1, 1)), name = 'Zer18672', )(Mul27661)
Ave66262 = keras.layers.AveragePooling2D(pool_size=(2, 2), name = 'Ave66262', )(Zer18672)
model = tf.keras.models.Model(inputs=[in0Mul27661,in1Mul27661], outputs=Ave66262)
in0Mul27661 = tf.constant([[[[0.7136, 0.8366], [0.9828, 0.985]]]])
in1Mul27661 = tf.constant([[[[0.2319, 0.3807], [0.5356, 0.2934]]]])
print (np.array2string(model.predict([in0Mul27661,in1Mul27661],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Ave66262.png')

LMul27661 = multiply_layer([[[[[0.7136, 0.8366], [0.9828, 0.985]]]], [[[[0.2319, 0.3807], [0.5356, 0.2934]]]]], Mul27661), 
LZer18672 = zero_padding2D_layer(Mul27661, 1, 1, 1, 1, Zer18672), 
LAve66262 = average_pooling2D_layer(Zer18672, 2, 2, Ave66262), 
exec_layers([LMul27661,LZer18672,LAve66262],["Mul27661","Zer18672","Ave66262"],Ave66262,"Ave66262")

Actual (Unparsed): [[[[0.0413710, 0.0796234], [0.1315969, 0.0722497]]]]

Expected (Unparsed): [[[[0.04137096,0.079623405],[0.13159692,0.07224975]]]]

Actual:   [[[[0.0414, 0.0797], [0.1316, 0.0723]]]]

Expected: [[[[0.0414, 0.0797], [0.1316, 0.0723]]]]