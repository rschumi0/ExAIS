import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul78527 = tf.keras.layers.Input(shape=([2, 1, 2, 2]))
in1Mul78527 = tf.keras.layers.Input(shape=([2, 1, 2, 2]))

Mul78527 = keras.layers.Multiply(name = 'Mul78527', )([in0Mul78527,in1Mul78527])
Res61254 = keras.layers.Reshape((2, 1, 4), name = 'Res61254', )(Mul78527)
Res26222 = keras.layers.Reshape((2, 4), name = 'Res26222', )(Res61254)
Glo50529 = keras.layers.GlobalAveragePooling1D(name = 'Glo50529', )(Res26222)
model = tf.keras.models.Model(inputs=[in0Mul78527,in1Mul78527], outputs=Glo50529)
in0Mul78527 = tf.constant([[[[[0.4725, 0.1393], [0.3847, 0.3468]]], [[[0.0071, 0.0551], [0.7538, 0.7745]]]]])
in1Mul78527 = tf.constant([[[[[0.9765, 0.8262], [0.9591, 0.9813]]], [[[0.6433, 0.0569], [0.0874, 0.3187]]]]])
print (np.array2string(model.predict([in0Mul78527,in1Mul78527],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo50529.png')

LMul78527 = multiply_layer([[[[[[0.4725, 0.1393], [0.3847, 0.3468]]], [[[0.0071, 0.0551], [0.7538, 0.7745]]]]], [[[[[0.9765, 0.8262], [0.9591, 0.9813]]], [[[0.6433, 0.0569], [0.0874, 0.3187]]]]]], Mul78527), 
LRes61254 = reshape_layer(Mul78527, [2, 1, 4], Res61254), 
LRes26222 = reshape_layer(Res61254, [2, 4], Res26222), 
LGlo50529 = global_average_pooling1D_layer(Res26222, Glo50529), 
exec_layers([LMul78527,LRes61254,LRes26222,LGlo50529],["Mul78527","Res61254","Res26222","Glo50529"],Glo50529,"Glo50529")

Actual (Unparsed): [[0.2329818, 0.0591124, 0.2174239, 0.2935740]]

Expected (Unparsed): [[0.23298184,0.059112425,0.21742394499999998,0.293573995]]

Actual:   [[0.233, 0.0592, 0.2175, 0.2936]]

Expected: [[0.233, 0.0592, 0.2175, 0.2936]]