import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo89628 = tf.keras.layers.Input(shape=([2, 2, 1]))

Glo89628 = keras.layers.GlobalMaxPool2D(name = 'Glo89628', )(in0Glo89628)
Den78915 = keras.layers.Dense(3,name = 'Den78915', )(Glo89628)
Mas60608 = keras.layers.Masking(mask_value=1, name = 'Mas60608', )(Den78915)
model = tf.keras.models.Model(inputs=[in0Glo89628], outputs=Mas60608)
w = model.get_layer('Den78915').get_weights() 
w[0] = np.array([[0.8071, 0.972, 0.2772]])
w[1] = np.array([0.4054, 0.8722, 0.5746])
model.get_layer('Den78915').set_weights(w) 
in0Glo89628 = tf.constant([[[[1.917], [1.5294]], [[1.9458], [1.0567]]]])
print (np.array2string(model.predict([in0Glo89628],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Mas60608.png')

LGlo89628 = global_max_pool2D_layer([[[[1.917], [1.5294]], [[1.9458], [1.0567]]]], Glo89628), 
LDen78915 = dense_layer(Glo89628, [[0.8071, 0.972, 0.2772]],[0.4054, 0.8722, 0.5746], Den78915), 
LMas60608 = masking_layer(Den78915, 1, Mas60608), 
exec_layers([LGlo89628,LDen78915,LMas60608],["Glo89628","Den78915","Mas60608"],Mas60608,"Mas60608")

Actual (Unparsed): [[1.9758551, 2.7635175, 1.1139757]]

Expected (Unparsed): [[1.97585518,2.7635175999999997,1.11397576]]

Actual:   [[1.9759, 2.7636, 1.114]]

Expected: [[1.9759, 2.7636, 1.114]]