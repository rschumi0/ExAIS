import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo71932 = tf.keras.layers.Input(shape=([1, 1, 1, 1]))
in0Sub34401 = tf.keras.layers.Input(shape=([2]))
in1Sub34401 = tf.keras.layers.Input(shape=([2]))

Glo71932 = keras.layers.GlobalMaxPool3D(name = 'Glo71932', )(in0Glo71932)
Res83771 = keras.layers.Reshape((1, 1), name = 'Res83771', )(Glo71932)
Zer36539 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer36539', )(Res83771)
Sub34401 = keras.layers.Subtract(name = 'Sub34401', )([in0Sub34401,in1Sub34401])
Res19459 = keras.layers.Reshape((2, 1), name = 'Res19459', )(Sub34401)
Per34724 = keras.layers.Permute((1,2), name = 'Per34724',)(Res19459)
Add42473 = keras.layers.Add(name = 'Add42473', )([Zer36539,Per34724])
model = tf.keras.models.Model(inputs=[in0Glo71932,in0Sub34401,in1Sub34401], outputs=Add42473)
in0Glo71932 = tf.constant([[[[[1.1116]]]]])
in0Sub34401 = tf.constant([[0.7864, 0.9794]])
in1Sub34401 = tf.constant([[0.3477, 0.0567]])
print (np.array2string(model.predict([in0Glo71932,in0Sub34401,in1Sub34401],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add42473.png')

LGlo71932 = global_max_pool3D_layer([[[[[1.1116]]]]], Glo71932), 
LRes83771 = reshape_layer(Glo71932, [1, 1], Res83771), 
LZer36539 = zero_padding1D_layer(Res83771, 1, 0, Zer36539), 
LSub34401 = subtract_layer([[0.7864, 0.9794]], [[0.3477, 0.0567]], Sub34401), 
LRes19459 = reshape_layer(Sub34401, [2, 1], Res19459), 
LPer34724 = permute_layer(Res19459, 1,2, Per34724), 
LAdd42473 = add_layer([Zer36539,Per34724], Add42473), 
exec_layers([LGlo71932,LRes83771,LZer36539,LSub34401,LRes19459,LPer34724,LAdd42473],["Glo71932","Res83771","Zer36539","Sub34401","Res19459","Per34724","Add42473"],Add42473,"Add42473")

Actual (Unparsed): [[[0.4387000], [2.0343000]]]

Expected (Unparsed): [[[0.4387],[2.0343]]]

Actual:   [[[0.4387], [2.0343]]]

Expected: [[[0.4387], [2.0343]]]