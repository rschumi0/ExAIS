import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot35799 = tf.keras.layers.Input(shape=([3]))
in1Dot35799 = tf.keras.layers.Input(shape=([3]))

Dot35799 = keras.layers.Dot(axes=(1, 1), name = 'Dot35799', )([in0Dot35799,in1Dot35799])
Res65415 = keras.layers.Reshape((1, 1), name = 'Res65415', )(Dot35799)
Res56104 = keras.layers.Reshape((1, 1, 1), name = 'Res56104', )(Res65415)
Res13002 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res13002', )(Res56104)
Con52170 = keras.layers.Conv3DTranspose(3, (1, 1, 1),strides=(1, 1, 1), padding='valid', name = 'Con52170', )(Res13002)
model = tf.keras.models.Model(inputs=[in0Dot35799,in1Dot35799], outputs=Con52170)
w = model.get_layer('Con52170').get_weights() 
w[0] = np.array([[[[[0.5337], [0.784], [0.682]]]]])
w[1] = np.array([0, 0, 0])
model.get_layer('Con52170').set_weights(w) 
in0Dot35799 = tf.constant([[0.1884, 0.4489, 0.6016]])
in1Dot35799 = tf.constant([[0.5819, 0.9663, 0.1395]])
print (np.array2string(model.predict([in0Dot35799,in1Dot35799],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Con52170.png')

LDot35799 = dot_layer([[0.1884, 0.4489, 0.6016]], [[0.5819, 0.9663, 0.1395]], 1, 1, Dot35799), 
LRes65415 = reshape_layer(Dot35799, [1, 1], Res65415), 
LRes56104 = reshape_layer(Res65415, [1, 1, 1], Res56104), 
LRes13002 = reshape_layer(Res56104, [1, 1, 1, 1], Res13002), 
LCon52170 = conv3D_transpose_layer(Res13002, 1, 1, 1,[[[[[0.5337], [0.784], [0.682]]]]],[0, 0, 0], 1, 1, 1, false, Con52170), 
exec_layers([LDot35799,LRes65415,LRes56104,LRes13002,LCon52170],["Dot35799","Res65415","Res56104","Res13002","Con52170"],Con52170,"Con52170")

Actual (Unparsed): [[[[[0.3348035, 0.4918230, 0.4278358]]]]]

Expected (Unparsed): [[[[[0.334803475251,0.49182298032000005,0.42783580686000006]]]]]

Actual:   [[[[[0.3349, 0.4919, 0.4279]]]]]

Expected: [[[[[0.3349, 0.4919, 0.4279]]]]]