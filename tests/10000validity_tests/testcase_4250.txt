import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mas7270 = tf.keras.layers.Input(shape=([3, 3]))

Mas7270 = keras.layers.Masking(mask_value=1, name = 'Mas7270', )(in0Mas7270)
Res25974 = keras.layers.Reshape((3, 3, 1), name = 'Res25974', )(Mas7270)
Res90093 = keras.layers.Reshape((3, 3, 1, 1), name = 'Res90093', )(Res25974)
Glo63907 = keras.layers.GlobalMaxPool3D(name = 'Glo63907', )(Res90093)
model = tf.keras.models.Model(inputs=[in0Mas7270], outputs=Glo63907)
in0Mas7270 = tf.constant([[[1.9307, 1.0134, 1.8531], [1.2432, 1.6746, 1.0737], [1.387, 1.7368, 1.2061]]])
print (np.array2string(model.predict([in0Mas7270],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo63907.png')

LMas7270 = masking_layer([[[1.9307, 1.0134, 1.8531], [1.2432, 1.6746, 1.0737], [1.387, 1.7368, 1.2061]]], 1, Mas7270), 
LRes25974 = reshape_layer(Mas7270, [3, 3, 1], Res25974), 
LRes90093 = reshape_layer(Res25974, [3, 3, 1, 1], Res90093), 
LGlo63907 = global_max_pool3D_layer(Res90093, Glo63907), 
exec_layers([LMas7270,LRes25974,LRes90093,LGlo63907],["Mas7270","Res25974","Res90093","Glo63907"],Glo63907,"Glo63907")

Actual (Unparsed): [[1.9306999]]

Expected (Unparsed): [[1.9307]]

Actual:   [[1.9307]]

Expected: [[1.9307]]