import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave18208 = tf.keras.layers.Input(shape=([1, 2]))
in1Ave18208 = tf.keras.layers.Input(shape=([1, 2]))

Ave18208 = keras.layers.Average(name = 'Ave18208', )([in0Ave18208,in1Ave18208])
Res91590 = keras.layers.Reshape((1, 2, 1), name = 'Res91590', )(Ave18208)
Glo59532 = keras.layers.GlobalAveragePooling2D(name = 'Glo59532', )(Res91590)
Res46593 = keras.layers.Reshape((1, 1), name = 'Res46593', )(Glo59532)
Glo74924 = keras.layers.GlobalMaxPool1D(name = 'Glo74924', )(Res46593)
model = tf.keras.models.Model(inputs=[in0Ave18208,in1Ave18208], outputs=Glo74924)
in0Ave18208 = tf.constant([[[0.3259, 0.6652]]])
in1Ave18208 = tf.constant([[[0.65, 0.1627]]])
print (np.array2string(model.predict([in0Ave18208,in1Ave18208],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo74924.png')

LAve18208 = average_layer([[[[0.3259, 0.6652]]], [[[0.65, 0.1627]]]], Ave18208), 
LRes91590 = reshape_layer(Ave18208, [1, 2, 1], Res91590), 
LGlo59532 = global_average_pooling2D_layer(Res91590, Glo59532), 
LRes46593 = reshape_layer(Glo59532, [1, 1], Res46593), 
LGlo74924 = global_max_pool1D_layer(Res46593, Glo74924), 
exec_layers([LAve18208,LRes91590,LGlo59532,LRes46593,LGlo74924],["Ave18208","Res91590","Glo59532","Res46593","Glo74924"],Glo74924,"Glo74924")

Actual (Unparsed): [[0.4509500]]

Expected (Unparsed): [[0.45095]]

Actual:   [[0.451]]

Expected: [[0.451]]