import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add10513 = tf.keras.layers.Input(shape=([1, 1, 2]))
in1Add10513 = tf.keras.layers.Input(shape=([1, 1, 2]))
in0Con55237 = tf.keras.layers.Input(shape=([6, 2]))
in0Glo31751 = tf.keras.layers.Input(shape=([1, 1, 1, 2]))
in0Con75356 = tf.keras.layers.Input(shape=([6, 3]))
in0Up_58797 = tf.keras.layers.Input(shape=([3, 4]))

Add10513 = keras.layers.Add(name = 'Add10513', )([in0Add10513,in1Add10513])
Res13813 = keras.layers.Reshape((1, 2), name = 'Res13813', )(Add10513)
Max20979 = keras.layers.MaxPool1D(pool_size=(1), strides=(1), padding='same', name = 'Max20979', )(Res13813)
Zer59025 = keras.layers.ZeroPadding1D(padding=((5, 0)), name = 'Zer59025', )(Max20979)
Con55237 = keras.layers.Concatenate(axis=2, name = 'Con55237', )([Zer59025,in0Con55237])
Glo31751 = keras.layers.GlobalMaxPool3D(name = 'Glo31751', )(in0Glo31751)
Res49606 = keras.layers.Reshape((2, 1), name = 'Res49606', )(Glo31751)
Zer56938 = keras.layers.ZeroPadding1D(padding=((4, 0)), name = 'Zer56938', )(Res49606)
Con75356 = keras.layers.Concatenate(axis=2, name = 'Con75356', )([Zer56938,in0Con75356])
Up_58797 = keras.layers.UpSampling1D(size=(2), name = 'Up_58797', )(in0Up_58797)
Sub93902 = keras.layers.Subtract(name = 'Sub93902', )([Con75356,Up_58797])
Per83427 = keras.layers.Permute((1,2), name = 'Per83427',)(Sub93902)
Add52997 = keras.layers.Add(name = 'Add52997', )([Con55237,Per83427])
model = tf.keras.models.Model(inputs=[in0Add10513,in1Add10513,in0Con55237,in0Glo31751,in0Con75356,in0Up_58797], outputs=Add52997)
in0Add10513 = tf.constant([[[[0.1683, 0.5106]]]])
in1Add10513 = tf.constant([[[[0.0032, 0.6567]]]])
in0Con55237 = tf.constant([[[0.6339, 0.9339], [0.7643, 0.2882], [0.3343, 0.2582], [0.6426, 0.3227], [0.3002, 0.6435], [0.7163, 0.9373]]])
in0Glo31751 = tf.constant([[[[[1.4566, 1.8801]]]]])
in0Con75356 = tf.constant([[[0.6267, 0.5584, 0.3562], [0.5772, 0.8559, 0.7667], [0.3491, 0.3332, 0.7213], [0.3684, 0.4725, 0.4195], [0.3618, 0.0177, 0.1866], [0.188, 0.8548, 0.5048]]])
in0Up_58797 = tf.constant([[[1.7663, 1.6331, 1.8757, 1.2633], [1.9115, 1.3599, 1.269, 1.3699], [1.5331, 1.7489, 1.1461, 1.9451]]])
print (np.array2string(model.predict([in0Add10513,in1Add10513,in0Con55237,in0Glo31751,in0Con75356,in0Up_58797],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add52997.png')

LAdd10513 = add_layer([[[[[0.1683, 0.5106]]]], [[[[0.0032, 0.6567]]]]], Add10513), 
LRes13813 = reshape_layer(Add10513, [1, 2], Res13813), 
LMax20979 = max_pool1D_layer(Res13813, 1, 1, true, Max20979), 
LZer59025 = zero_padding1D_layer(Max20979, 5, 0, Zer59025), 
LCon55237 = concatenate_layer([Zer59025,[[[0.6339, 0.9339], [0.7643, 0.2882], [0.3343, 0.2582], [0.6426, 0.3227], [0.3002, 0.6435], [0.7163, 0.9373]]]], 2, Con55237), 
LGlo31751 = global_max_pool3D_layer([[[[[1.4566, 1.8801]]]]], Glo31751), 
LRes49606 = reshape_layer(Glo31751, [2, 1], Res49606), 
LZer56938 = zero_padding1D_layer(Res49606, 4, 0, Zer56938), 
LCon75356 = concatenate_layer([Zer56938,[[[0.6267, 0.5584, 0.3562], [0.5772, 0.8559, 0.7667], [0.3491, 0.3332, 0.7213], [0.3684, 0.4725, 0.4195], [0.3618, 0.0177, 0.1866], [0.188, 0.8548, 0.5048]]]], 2, Con75356), 
LUp_58797 = up_sampling1D_layer([[[1.7663, 1.6331, 1.8757, 1.2633], [1.9115, 1.3599, 1.269, 1.3699], [1.5331, 1.7489, 1.1461, 1.9451]]], 2, Up_58797), 
LSub93902 = subtract_layer(Con75356,Up_58797, Sub93902), 
LPer83427 = permute_layer(Sub93902, 1,2, Per83427), 
LAdd52997 = add_layer([Con55237,Per83427], Add52997), 
exec_layers([LAdd10513,LRes13813,LMax20979,LZer59025,LCon55237,LGlo31751,LRes49606,LZer56938,LCon75356,LUp_58797,LSub93902,LPer83427,LAdd52997],["Add10513","Res13813","Max20979","Zer59025","Con55237","Glo31751","Res49606","Zer56938","Con75356","Up_58797","Sub93902","Per83427","Add52997"],Add52997,"Add52997")

Actual (Unparsed): [[[-1.7663000, -1.0064000, -0.6834000, 0.0268001], [-1.7663000, -1.0559000, -0.2555000, -0.2083999], [-1.9115000, -1.0108000, -0.6015000, -0.3904000], [-1.9115000, -0.9915000, -0.1539001, -0.6277000], [-0.0765001, -1.3871001, -0.8282001, -1.1150000], [0.5185000, -0.3936001, 0.4250000, -0.5029999]]]

Expected (Unparsed): [[[-1.7663,-1.0064,-0.6833999999999999,0.026799999999999935],[-1.7663,-1.0558999999999998,-0.25550000000000006,-0.20840000000000003],[-1.9115,-1.0108000000000001,-0.6014999999999999,-0.39039999999999986],[-1.9115,-0.9915,-0.15390000000000004,-0.6276999999999999],[-0.07650000000000001,-1.3870999999999998,-0.8281999999999998,-1.1150000000000002],[0.5185000000000002,-0.39359999999999995,0.42500000000000016,-0.5030000000000001]]]

Actual:   [[[-1.7663, -1.0064, -0.6834, 0.0269], [-1.7663, -1.0559, -0.2555, -0.2083], [-1.9115, -1.0108, -0.6015, -0.3904], [-1.9115, -0.9915, -0.1539, -0.6277], [-0.0765, -1.3871, -0.8282, -1.115], [0.5185, -0.3936, 0.425, -0.5029]]]

Expected: [[[-1.7663, -1.0064, -0.6833, 0.0268], [-1.7663, -1.0558, -0.2555, -0.2084], [-1.9115, -1.0108, -0.6014, -0.3903], [-1.9115, -0.9915, -0.1539, -0.6276], [-0.0765, -1.387, -0.8281, -1.115], [0.5186, -0.3935, 0.4251, -0.503]]]