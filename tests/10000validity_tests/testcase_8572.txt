import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot64187 = tf.keras.layers.Input(shape=([3]))
in1Dot64187 = tf.keras.layers.Input(shape=([3]))

Dot64187 = keras.layers.Dot(axes=(1, 1), name = 'Dot64187', )([in0Dot64187,in1Dot64187])
Res81516 = keras.layers.Reshape((1, 1), name = 'Res81516', )(Dot64187)
Res42563 = keras.layers.Reshape((1, 1, 1), name = 'Res42563', )(Res81516)
Dep39570 = keras.layers.DepthwiseConv2D((1, 1),strides=(1, 1), padding='valid', name = 'Dep39570', )(Res42563)
model = tf.keras.models.Model(inputs=[in0Dot64187,in1Dot64187], outputs=Dep39570)
w = model.get_layer('Dep39570').get_weights() 
w[0] = np.array([[[[0.2016]]]])
w[1] = np.array([0])
model.get_layer('Dep39570').set_weights(w) 
in0Dot64187 = tf.constant([[0.7208, 0.33, 0.4609]])
in1Dot64187 = tf.constant([[0.8399, 0.4611, 0.9145]])
print (np.array2string(model.predict([in0Dot64187,in1Dot64187],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Dep39570.png')

LDot64187 = dot_layer([[0.7208, 0.33, 0.4609]], [[0.8399, 0.4611, 0.9145]], 1, 1, Dot64187), 
LRes81516 = reshape_layer(Dot64187, [1, 1], Res81516), 
LRes42563 = reshape_layer(Res81516, [1, 1, 1], Res42563), 
LDep39570 = depthwise_conv2D_layer(Res42563, 1, 1,[[[[0.2016]]]],[0], 1, 1, false, Dep39570), 
exec_layers([LDot64187,LRes81516,LRes42563,LDep39570],["Dot64187","Res81516","Res42563","Dep39570"],Dep39570,"Dep39570")

Actual (Unparsed): [[[[0.2376977]]]]

Expected (Unparsed): [[[[0.23769768355200002]]]]

Actual:   [[[[0.2377]]]]

Expected: [[[[0.2377]]]]