import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Con2384 = tf.keras.layers.Input(shape=([1, 1, 2]))

Con2384 = keras.layers.Conv2DTranspose(4, (1, 1),strides=(1, 1), padding='same', name = 'Con2384', )(in0Con2384)
Con41282 = keras.layers.Conv2DTranspose(3, (1, 1),strides=(1, 1), padding='same', name = 'Con41282', )(Con2384)
Bat51753 = keras.layers.BatchNormalization(axis=2, epsilon=0.11034587092166342,  name = 'Bat51753', )(Con41282)
model = tf.keras.models.Model(inputs=[in0Con2384], outputs=Bat51753)
w = model.get_layer('Con2384').get_weights() 
w[0] = np.array([[[[0.0506, 0.7131], [0.1301, 0.1263], [0.247, 0.9456], [0.4417, 0.1898]]]])
w[1] = np.array([0, 0, 0, 0])
model.get_layer('Con2384').set_weights(w) 
w = model.get_layer('Con41282').get_weights() 
w[0] = np.array([[[[0.7232, 0.4819, 0.4367, 0.3986], [0.3605, 0.5538, 0.3967, 0.8845], [0.1515, 0.2489, 0.6429, 0.99]]]])
w[1] = np.array([0, 0, 0])
model.get_layer('Con41282').set_weights(w) 
w = model.get_layer('Bat51753').get_weights() 
w[0] = np.array([0.3086])
w[1] = np.array([0.6818])
w[2] = np.array([0.5804])
w[3] = np.array([0.856])
model.get_layer('Bat51753').set_weights(w) 
in0Con2384 = tf.constant([[[[0.0191, 0.4723]]]])
print (np.array2string(model.predict([in0Con2384],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Bat51753.png')

LCon2384 = conv2D_transpose_layer([[[[0.0191, 0.4723]]]], 1, 1,[[[[0.0506, 0.7131], [0.1301, 0.1263], [0.247, 0.9456], [0.4417, 0.1898]]]],[0, 0, 0, 0], 1, 1, true, Con2384), 
LCon41282 = conv2D_transpose_layer(Con2384, 1, 1,[[[[0.7232, 0.4819, 0.4367, 0.3986], [0.3605, 0.5538, 0.3967, 0.8845], [0.1515, 0.2489, 0.6429, 0.99]]]],[0, 0, 0], 1, 1, true, Con41282), 
LBat51753 = batch_normalization_layer(Con41282, 2, 0.11034587092166342, [0.3086], [0.6818], [0.5804], [0.856], Bat51753), 
exec_layers([LCon2384,LCon41282,LBat51753],["Con2384","Con41282","Bat51753"],Bat51753,"Bat51753")

Actual (Unparsed): [[[[0.6598257, 0.6320633, 0.6420855]]]]

Expected (Unparsed): [[[[0.6598256572094481,0.6320632613072328,0.6420855498733767]]]]

Actual:   [[[[0.6599, 0.6321, 0.6421]]]]

Expected: [[[[0.6599, 0.6321, 0.6421]]]]