import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max2026 = tf.keras.layers.Input(shape=([1, 1]))
in1Max2026 = tf.keras.layers.Input(shape=([1, 1]))
in0Con23249 = tf.keras.layers.Input(shape=([1, 1, 1, 1]))
in0Max26234 = tf.keras.layers.Input(shape=([1, 1, 1, 2]))
in1Max26234 = tf.keras.layers.Input(shape=([1, 1, 1, 2]))

Max2026 = keras.layers.Maximum(name = 'Max2026', )([in0Max2026,in1Max2026])
Res32331 = keras.layers.Reshape((1, 1, 1), name = 'Res32331', )(Max2026)
Res79748 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res79748', )(Res32331)
Con23249 = keras.layers.Concatenate(axis=4, name = 'Con23249', )([Res79748,in0Con23249])
Max26234 = keras.layers.Maximum(name = 'Max26234', )([in0Max26234,in1Max26234])
Sub35993 = keras.layers.Subtract(name = 'Sub35993', )([Con23249,Max26234])
model = tf.keras.models.Model(inputs=[in0Max2026,in1Max2026,in0Con23249,in0Max26234,in1Max26234], outputs=Sub35993)
in0Max2026 = tf.constant([[[0.3027]]])
in1Max2026 = tf.constant([[[0.0337]]])
in0Con23249 = tf.constant([[[[[0.3184]]]]])
in0Max26234 = tf.constant([[[[[0.4366, 0.9296]]]]])
in1Max26234 = tf.constant([[[[[0.867, 0.0192]]]]])
print (np.array2string(model.predict([in0Max2026,in1Max2026,in0Con23249,in0Max26234,in1Max26234],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sub35993.png')

LMax2026 = maximum_layer([[[[0.3027]]], [[[0.0337]]]], Max2026), 
LRes32331 = reshape_layer(Max2026, [1, 1, 1], Res32331), 
LRes79748 = reshape_layer(Res32331, [1, 1, 1, 1], Res79748), 
LCon23249 = concatenate_layer([Res79748,[[[[[0.3184]]]]]], 4, Con23249), 
LMax26234 = maximum_layer([[[[[[0.4366, 0.9296]]]]], [[[[[0.867, 0.0192]]]]]], Max26234), 
LSub35993 = subtract_layer(Con23249,Max26234, Sub35993), 
exec_layers([LMax2026,LRes32331,LRes79748,LCon23249,LMax26234,LSub35993],["Max2026","Res32331","Res79748","Con23249","Max26234","Sub35993"],Sub35993,"Sub35993")

Actual (Unparsed): [[[[[-0.5643000, -0.6112000]]]]]

Expected (Unparsed): [[[[[-0.5643,-0.6112]]]]]

Actual:   [[[[[-0.5643, -0.6112]]]]]

Expected: [[[[[-0.5643, -0.6112]]]]]