import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Con82815 = tf.keras.layers.Input(shape=([1, 1]))
in0Max98268 = tf.keras.layers.Input(shape=([2, 1]))
in1Max98268 = tf.keras.layers.Input(shape=([2, 1]))
in0Con58147 = tf.keras.layers.Input(shape=([1]))

Con82815 = keras.layers.Conv1D(3, (1),strides=(1), padding='valid', dilation_rate=(1), name = 'Con82815', )(in0Con82815)
ELU99573 = keras.layers.ELU(alpha=9.323783544593525, name = 'ELU99573', )(Con82815)
Fla6566 = keras.layers.Flatten(name = 'Fla6566', )(ELU99573)
Max98268 = keras.layers.Maximum(name = 'Max98268', )([in0Max98268,in1Max98268])
LST62037 = keras.layers.LSTM(2,recurrent_activation='sigmoid', name = 'LST62037', )(Max98268)
Con58147 = keras.layers.Concatenate(axis=1, name = 'Con58147', )([LST62037,in0Con58147])
Min33064 = keras.layers.Minimum(name = 'Min33064', )([Fla6566,Con58147])
model = tf.keras.models.Model(inputs=[in0Con82815,in0Max98268,in1Max98268,in0Con58147], outputs=Min33064)
w = model.get_layer('Con82815').get_weights() 
w[0] = np.array([[[0.6825, 0.5931, 0.2002]]])
w[1] = np.array([0, 0, 0])
model.get_layer('Con82815').set_weights(w) 
w = model.get_layer('LST62037').get_weights() 
w[0] = np.array([[1, 6, 4, 6, 8, 3, 9, 2]])
w[1] = np.array([[10, 2, 6, 4, 9, 10, 4, 6], [6, 6, 8, 1, 1, 7, 1, 1]])
w[2] = np.array([4, 2, 3, 8, 7, 9, 6, 3])
model.get_layer('LST62037').set_weights(w) 
in0Con82815 = tf.constant([[[0.698]]])
in0Max98268 = tf.constant([[[0.2081], [0.8811]]])
in1Max98268 = tf.constant([[[0.8309], [0.3701]]])
in0Con58147 = tf.constant([[0.0772]])
print (np.array2string(model.predict([in0Con82815,in0Max98268,in1Max98268,in0Con58147],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min33064.png')

LCon82815 = conv1D_layer([[[0.698]]], 1,[[[0.6825, 0.5931, 0.2002]]],[0, 0, 0], 1, false, 1, Con82815), 
LELU99573 = elu_layer(Con82815, 9.323783544593525, ELU99573), 
LFla6566 = flatten_layer(ELU99573, Fla6566), 
LMax98268 = maximum_layer([[[[0.2081], [0.8811]]], [[[0.8309], [0.3701]]]], Max98268), 
LLST62037 = lstm_layer(Max98268,[[1, 6, 4, 6, 8, 3, 9, 2]],[[10, 2, 6, 4, 9, 10, 4, 6], [6, 6, 8, 1, 1, 7, 1, 1]],[4, 2, 3, 8, 7, 9, 6, 3], LST62037), 
LCon58147 = concatenate_layer([LST62037,[[0.0772]]], 1, Con58147), 
LMin33064 = minimum_layer([Fla6566,Con58147], Min33064), 
exec_layers([LCon82815,LELU99573,LFla6566,LMax98268,LLST62037,LCon58147,LMin33064],["Con82815","ELU99573","Fla6566","Max98268","LST62037","Con58147","Min33064"],Min33064,"Min33064")

Actual (Unparsed): [[0.4763850, 0.4139838, 0.0772000]]

Expected (Unparsed): [[0.47638499999999995,0.41398379999999996,0.0772]]

Actual:   [[0.4764, 0.414, 0.0772]]

Expected: [[0.4764, 0.414, 0.0772]]