import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max38972 = tf.keras.layers.Input(shape=([2, 1, 2]))
in1Max38972 = tf.keras.layers.Input(shape=([2, 1, 2]))

Max38972 = keras.layers.Maximum(name = 'Max38972', )([in0Max38972,in1Max38972])
Res26957 = keras.layers.Reshape((2, 2), name = 'Res26957', )(Max38972)
Per97033 = keras.layers.Permute((2,1), name = 'Per97033',)(Res26957)
model = tf.keras.models.Model(inputs=[in0Max38972,in1Max38972], outputs=Per97033)
in0Max38972 = tf.constant([[[[0.1467, 0.9152]], [[0.0528, 0.8748]]]])
in1Max38972 = tf.constant([[[[0.9925, 0.2764]], [[0.9838, 0.582]]]])
print (np.array2string(model.predict([in0Max38972,in1Max38972],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Per97033.png')

LMax38972 = maximum_layer([[[[[0.1467, 0.9152]], [[0.0528, 0.8748]]]], [[[[0.9925, 0.2764]], [[0.9838, 0.582]]]]], Max38972), 
LRes26957 = reshape_layer(Max38972, [2, 2], Res26957), 
LPer97033 = permute_layer(Res26957, 2,1, Per97033), 
exec_layers([LMax38972,LRes26957,LPer97033],["Max38972","Res26957","Per97033"],Per97033,"Per97033")

Actual (Unparsed): [[[0.9925000, 0.9838000], [0.9152000, 0.8748000]]]

Expected (Unparsed): [[[0.9925,0.9838],[0.9152,0.8748]]]

Actual:   [[[0.9925, 0.9838], [0.9152, 0.8748]]]

Expected: [[[0.9925, 0.9838], [0.9152, 0.8748]]]