import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave23428 = tf.keras.layers.Input(shape=([1, 2]))
in1Ave23428 = tf.keras.layers.Input(shape=([1, 2]))

Ave23428 = keras.layers.Average(name = 'Ave23428', )([in0Ave23428,in1Ave23428])
Res54542 = keras.layers.Reshape((1, 2, 1), name = 'Res54542', )(Ave23428)
Sep38065 = keras.layers.SeparableConv2D(3, (1, 2),strides=(1, 1), padding='valid', name = 'Sep38065', )(Res54542)
model = tf.keras.models.Model(inputs=[in0Ave23428,in1Ave23428], outputs=Sep38065)
w = model.get_layer('Sep38065').get_weights() 
w[0] = np.array([[[[0.8936]], [[0.9391]]]])
w[1] = np.array([[[[0.7516, 0.1229, 0.3215]]]])
w[2] = np.array([0, 0, 0])
model.get_layer('Sep38065').set_weights(w) 
in0Ave23428 = tf.constant([[[0.8929, 0.8039]]])
in1Ave23428 = tf.constant([[[0.9486, 0.8618]]])
print (np.array2string(model.predict([in0Ave23428,in1Ave23428],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sep38065.png')

LAve23428 = average_layer([[[[0.8929, 0.8039]]], [[[0.9486, 0.8618]]]], Ave23428), 
LRes54542 = reshape_layer(Ave23428, [1, 2, 1], Res54542), 
LSep38065 = separable_conv2D_layer(Res54542, 1, 2,[[[[[0.8936]], [[0.9391]]]],[[[[0.7516, 0.1229, 0.3215]]]]],[0, 0, 0], 1, 1, false, Sep38065), 
exec_layers([LAve23428,LRes54542,LSep38065],["Ave23428","Res54542","Sep38065"],Sep38065,"Sep38065")

Actual (Unparsed): [[[[1.2062516, 0.1972436, 0.5159791]]]]

Expected (Unparsed): [[[[1.206251584866,0.19724363994149996,0.5159790906524999]]]]

Actual:   [[[[1.2063, 0.1973, 0.516]]]]

Expected: [[[[1.2063, 0.1973, 0.516]]]]