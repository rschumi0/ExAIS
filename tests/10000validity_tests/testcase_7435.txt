import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub44015 = tf.keras.layers.Input(shape=([3]))
in1Sub44015 = tf.keras.layers.Input(shape=([3]))
in0Con98552 = tf.keras.layers.Input(shape=([3, 1]))
in0Sof9578 = tf.keras.layers.Input(shape=([2, 2]))

Sub44015 = keras.layers.Subtract(name = 'Sub44015', )([in0Sub44015,in1Sub44015])
Res10217 = keras.layers.Reshape((3, 1), name = 'Res10217', )(Sub44015)
Con98552 = keras.layers.Concatenate(axis=2, name = 'Con98552', )([Res10217,in0Con98552])
Sof9578 = keras.layers.Softmax(axis=1, name = 'Sof9578', input_shape=(2, 2))(in0Sof9578)
Zer79677 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer79677', )(Sof9578)
Add28618 = keras.layers.Add(name = 'Add28618', )([Con98552,Zer79677])
model = tf.keras.models.Model(inputs=[in0Sub44015,in1Sub44015,in0Con98552,in0Sof9578], outputs=Add28618)
in0Sub44015 = tf.constant([[0.2835, 0.9831, 0.5434]])
in1Sub44015 = tf.constant([[0.7325, 0.5133, 0.5131]])
in0Con98552 = tf.constant([[[0.4587], [0.5936], [0.3728]]])
in0Sof9578 = tf.constant([[[0.087, 0.2623], [0.6156, 0.5334]]])
print (np.array2string(model.predict([in0Sub44015,in1Sub44015,in0Con98552,in0Sof9578],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add28618.png')

LSub44015 = subtract_layer([[0.2835, 0.9831, 0.5434]], [[0.7325, 0.5133, 0.5131]], Sub44015), 
LRes10217 = reshape_layer(Sub44015, [3, 1], Res10217), 
LCon98552 = concatenate_layer([Res10217,[[[0.4587], [0.5936], [0.3728]]]], 2, Con98552), 
LSof9578 = softmax_layer([[[0.087, 0.2623], [0.6156, 0.5334]]], 1, Sof9578), 
LZer79677 = zero_padding1D_layer(Sof9578, 1, 0, Zer79677), 
LAdd28618 = add_layer([Con98552,Zer79677], Add28618), 
exec_layers([LSub44015,LRes10217,LCon98552,LSof9578,LZer79677,LAdd28618],["Sub44015","Res10217","Con98552","Sof9578","Zer79677","Add28618"],Add28618,"Add28618")

Actual (Unparsed): [[[-0.4490000, 0.4587000], [0.8406435, 1.0262370], [0.6594565, 0.9401629]]]

Expected (Unparsed): [[[-0.44900000000000007,0.4587],[0.8406434749549514,1.0262370665941516],[0.6594565250450487,0.9401629334058484]]]

Actual:   [[[-0.449, 0.4587], [0.8407, 1.0263], [0.6595, 0.9402]]]

Expected: [[[-0.449, 0.4587], [0.8407, 1.0263], [0.6595, 0.9402]]]