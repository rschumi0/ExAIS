import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max31072 = tf.keras.layers.Input(shape=([1, 1, 2, 2]))
in1Max31072 = tf.keras.layers.Input(shape=([1, 1, 2, 2]))
in0Add53768 = tf.keras.layers.Input(shape=([2, 2, 1, 2]))
in1Add53768 = tf.keras.layers.Input(shape=([2, 2, 1, 2]))

Max31072 = keras.layers.Maximum(name = 'Max31072', )([in0Max31072,in1Max31072])
Zer92361 = keras.layers.ZeroPadding3D(padding=((1, 0), (1, 0), (1, 0)), name = 'Zer92361', )(Max31072)
Add53768 = keras.layers.Add(name = 'Add53768', )([in0Add53768,in1Add53768])
Zer3742 = keras.layers.ZeroPadding3D(padding=((0, 0), (0, 0), (2, 0)), name = 'Zer3742', )(Add53768)
Add86066 = keras.layers.Add(name = 'Add86066', )([Zer92361,Zer3742])
model = tf.keras.models.Model(inputs=[in0Max31072,in1Max31072,in0Add53768,in1Add53768], outputs=Add86066)
in0Max31072 = tf.constant([[[[[0.5425, 0.4273], [0.8715, 0.2768]]]]])
in1Max31072 = tf.constant([[[[[0.7766, 0.2145], [0.7379, 0.4385]]]]])
in0Add53768 = tf.constant([[[[[0.1638, 0.6546]], [[0.9645, 0.9642]]], [[[0.8294, 0.5465]], [[0.7436, 0.7078]]]]])
in1Add53768 = tf.constant([[[[[0.678, 0.3762]], [[0.6747, 0.7976]]], [[[0.0472, 0.2744]], [[0.3356, 0.0328]]]]])
print (np.array2string(model.predict([in0Max31072,in1Max31072,in0Add53768,in1Add53768],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add86066.png')

LMax31072 = maximum_layer([[[[[[0.5425, 0.4273], [0.8715, 0.2768]]]]], [[[[[0.7766, 0.2145], [0.7379, 0.4385]]]]]], Max31072), 
LZer92361 = zero_padding3D_layer(Max31072, 1, 0, 1, 0, 1, 0, Zer92361), 
LAdd53768 = add_layer([[[[[[0.1638, 0.6546]], [[0.9645, 0.9642]]], [[[0.8294, 0.5465]], [[0.7436, 0.7078]]]]], [[[[[0.678, 0.3762]], [[0.6747, 0.7976]]], [[[0.0472, 0.2744]], [[0.3356, 0.0328]]]]]], Add53768), 
LZer3742 = zero_padding3D_layer(Add53768, 0, 0, 0, 0, 2, 0, Zer3742), 
LAdd86066 = add_layer([Zer92361,Zer3742], Add86066), 
exec_layers([LMax31072,LZer92361,LAdd53768,LZer3742,LAdd86066],["Max31072","Zer92361","Add53768","Zer3742","Add86066"],Add86066,"Add86066")

Actual (Unparsed): [[[[[0.0000000, 0.0000000], [0.0000000, 0.0000000], [0.8418000, 1.0308000]], [[0.0000000, 0.0000000], [0.0000000, 0.0000000], [1.6392000, 1.7618000]]], [[[0.0000000, 0.0000000], [0.0000000, 0.0000000], [0.8766000, 0.8209000]], [[0.0000000, 0.0000000], [0.7766000, 0.4273000], [1.9507000, 1.1791000]]]]]

Expected (Unparsed): [[[[[0,0],[0,0],[0.8418000000000001,1.0308]],[[0,0],[0,0],[1.6392,1.7618]]],[[[0,0],[0,0],[0.8766,0.8209]],[[0,0],[0.7766,0.4273],[1.9507000000000003,1.1791]]]]]

Actual:   [[[[[0, 0], [0, 0], [0.8418, 1.0308]], [[0, 0], [0, 0], [1.6392, 1.7618]]], [[[0, 0], [0, 0], [0.8766, 0.8209]], [[0, 0], [0.7766, 0.4273], [1.9507, 1.1791]]]]]

Expected: [[[[[0, 0], [0, 0], [0.8419, 1.0308]], [[0, 0], [0, 0], [1.6392, 1.7618]]], [[[0, 0], [0, 0], [0.8766, 0.8209]], [[0, 0], [0.7766, 0.4273], [1.9508, 1.1791]]]]]