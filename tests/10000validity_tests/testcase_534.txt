import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add49505 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))
in1Add49505 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))
in0Con96713 = tf.keras.layers.Input(shape=([5, 4, 1]))
in0Zer57774 = tf.keras.layers.Input(shape=([3, 2, 2]))

Add49505 = keras.layers.Add(name = 'Add49505', )([in0Add49505,in1Add49505])
Res16301 = keras.layers.Reshape((2, 1, 1), name = 'Res16301', )(Add49505)
Zer54575 = keras.layers.ZeroPadding2D(padding=((3, 0), (3, 0)), name = 'Zer54575', )(Res16301)
Con96713 = keras.layers.Concatenate(axis=3, name = 'Con96713', )([Zer54575,in0Con96713])
Zer57774 = keras.layers.ZeroPadding2D(padding=((1, 1), (1, 1)), name = 'Zer57774', )(in0Zer57774)
Add11003 = keras.layers.Add(name = 'Add11003', )([Con96713,Zer57774])
Res78951 = keras.layers.Reshape((5, 4, 2, 1), name = 'Res78951', )(Add11003)
Up_89308 = keras.layers.UpSampling3D(size=(1, 1, 2), name = 'Up_89308', )(Res78951)
model = tf.keras.models.Model(inputs=[in0Add49505,in1Add49505,in0Con96713,in0Zer57774], outputs=Up_89308)
in0Add49505 = tf.constant([[[[[0.0326]]], [[[0.1165]]]]])
in1Add49505 = tf.constant([[[[[0.796]]], [[[0.3058]]]]])
in0Con96713 = tf.constant([[[[0.2066], [0.6872], [0.9607], [0.4277]], [[0.6906], [0.6705], [0.6405], [0.6747]], [[0.5685], [0.0469], [0.1961], [0.5981]], [[0.7431], [0.6733], [0.088], [0.9115]], [[0.4658], [0.2357], [0.9732], [0.7259]]]])
in0Zer57774 = tf.constant([[[[1.7475, 1.1941], [1.8624, 1.9557]], [[1.0173, 1.8075], [1.0264, 1.554]], [[1.6366, 1.3243], [1.8011, 1.8941]]]])
print (np.array2string(model.predict([in0Add49505,in1Add49505,in0Con96713,in0Zer57774],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Up_89308.png')

LAdd49505 = add_layer([[[[[[0.0326]]], [[[0.1165]]]]], [[[[[0.796]]], [[[0.3058]]]]]], Add49505), 
LRes16301 = reshape_layer(Add49505, [2, 1, 1], Res16301), 
LZer54575 = zero_padding2D_layer(Res16301, 3, 0, 3, 0, Zer54575), 
LCon96713 = concatenate_layer([Zer54575,[[[[0.2066], [0.6872], [0.9607], [0.4277]], [[0.6906], [0.6705], [0.6405], [0.6747]], [[0.5685], [0.0469], [0.1961], [0.5981]], [[0.7431], [0.6733], [0.088], [0.9115]], [[0.4658], [0.2357], [0.9732], [0.7259]]]]], 3, Con96713), 
LZer57774 = zero_padding2D_layer([[[[1.7475, 1.1941], [1.8624, 1.9557]], [[1.0173, 1.8075], [1.0264, 1.554]], [[1.6366, 1.3243], [1.8011, 1.8941]]]], 1, 1, 1, 1, Zer57774), 
LAdd11003 = add_layer([Con96713,Zer57774], Add11003), 
LRes78951 = reshape_layer(Add11003, [5, 4, 2, 1], Res78951), 
LUp_89308 = up_sampling3D_layer(Res78951, 1, 1, 2, Up_89308), 
exec_layers([LAdd49505,LRes16301,LZer54575,LCon96713,LZer57774,LAdd11003,LRes78951,LUp_89308],["Add49505","Res16301","Zer54575","Con96713","Zer57774","Add11003","Res78951","Up_89308"],Up_89308,"Up_89308")

Actual (Unparsed): [[[[[0.0000000], [0.0000000], [0.2066000], [0.2066000]], [[0.0000000], [0.0000000], [0.6872000], [0.6872000]], [[0.0000000], [0.0000000], [0.9607000], [0.9607000]], [[0.0000000], [0.0000000], [0.4277000], [0.4277000]]], [[[0.0000000], [0.0000000], [0.6906000], [0.6906000]], [[1.7474999], [1.7474999], [1.8646000], [1.8646000]], [[1.8624001], [1.8624001], [2.5962000], [2.5962000]], [[0.0000000], [0.0000000], [0.6747000], [0.6747000]]], [[[0.0000000], [0.0000000], [0.5685000], [0.5685000]], [[1.0173000], [1.0173000], [1.8544000], [1.8544000]], [[1.0264000], [1.0264000], [1.7501000], [1.7501000]], [[0.0000000], [0.0000000], [0.5981000], [0.5981000]]], [[[0.0000000], [0.0000000], [0.7431000], [0.7431000]], [[1.6366000], [1.6366000], [1.9976001], [1.9976001]], [[1.8011000], [1.8011000], [1.9821000], [1.9821000]], [[0.8286000], [0.8286000], [0.9115000], [0.9115000]]], [[[0.0000000], [0.0000000], [0.4658000], [0.4658000]], [[0.0000000], [0.0000000], [0.2357000], [0.2357000]], [[0.0000000], [0.0000000], [0.9732000], [0.9732000]], [[0.4223000], [0.4223000], [0.7259000], [0.7259000]]]]]

Expected (Unparsed): [[[[[0],[0],[0.2066],[0.2066]],[[0],[0],[0.6872],[0.6872]],[[0],[0],[0.9607],[0.9607]],[[0],[0],[0.4277],[0.4277]]],[[[0],[0],[0.6906],[0.6906]],[[1.7475],[1.7475],[1.8645999999999998],[1.8645999999999998]],[[1.8624],[1.8624],[2.5962],[2.5962]],[[0],[0],[0.6747],[0.6747]]],[[[0],[0],[0.5685],[0.5685]],[[1.0173],[1.0173],[1.8544],[1.8544]],[[1.0264],[1.0264],[1.7501],[1.7501]],[[0],[0],[0.5981],[0.5981]]],[[[0],[0],[0.7431],[0.7431]],[[1.6366],[1.6366],[1.9976],[1.9976]],[[1.8011],[1.8011],[1.9821],[1.9821]],[[0.8286],[0.8286],[0.9115],[0.9115]]],[[[0],[0],[0.4658],[0.4658]],[[0],[0],[0.2357],[0.2357]],[[0],[0],[0.9732],[0.9732]],[[0.4223],[0.4223],[0.7259],[0.7259]]]]]

Actual:   [[[[[0], [0], [0.2066], [0.2066]], [[0], [0], [0.6872], [0.6872]], [[0], [0], [0.9607], [0.9607]], [[0], [0], [0.4277], [0.4277]]], [[[0], [0], [0.6906], [0.6906]], [[1.7475], [1.7475], [1.8646], [1.8646]], [[1.8625], [1.8625], [2.5962], [2.5962]], [[0], [0], [0.6747], [0.6747]]], [[[0], [0], [0.5685], [0.5685]], [[1.0173], [1.0173], [1.8544], [1.8544]], [[1.0264], [1.0264], [1.7501], [1.7501]], [[0], [0], [0.5981], [0.5981]]], [[[0], [0], [0.7431], [0.7431]], [[1.6366], [1.6366], [1.9977], [1.9977]], [[1.8011], [1.8011], [1.9821], [1.9821]], [[0.8286], [0.8286], [0.9115], [0.9115]]], [[[0], [0], [0.4658], [0.4658]], [[0], [0], [0.2357], [0.2357]], [[0], [0], [0.9732], [0.9732]], [[0.4223], [0.4223], [0.7259], [0.7259]]]]]

Expected: [[[[[0], [0], [0.2066], [0.2066]], [[0], [0], [0.6872], [0.6872]], [[0], [0], [0.9607], [0.9607]], [[0], [0], [0.4277], [0.4277]]], [[[0], [0], [0.6906], [0.6906]], [[1.7475], [1.7475], [1.8646], [1.8646]], [[1.8624], [1.8624], [2.5962], [2.5962]], [[0], [0], [0.6747], [0.6747]]], [[[0], [0], [0.5685], [0.5685]], [[1.0173], [1.0173], [1.8544], [1.8544]], [[1.0264], [1.0264], [1.7501], [1.7501]], [[0], [0], [0.5981], [0.5981]]], [[[0], [0], [0.7431], [0.7431]], [[1.6366], [1.6366], [1.9976], [1.9976]], [[1.8011], [1.8011], [1.9821], [1.9821]], [[0.8286], [0.8286], [0.9115], [0.9115]]], [[[0], [0], [0.4658], [0.4658]], [[0], [0], [0.2357], [0.2357]], [[0], [0], [0.9732], [0.9732]], [[0.4223], [0.4223], [0.7259], [0.7259]]]]]