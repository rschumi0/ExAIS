import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0GRU25035 = tf.keras.layers.Input(shape=([3, 2]))
in0Sub323 = tf.keras.layers.Input(shape=([2]))
in1Sub323 = tf.keras.layers.Input(shape=([2]))

GRU25035 = keras.layers.GRU(2,reset_after=True, recurrent_activation='sigmoid', name = 'GRU25035', )(in0GRU25035)
Sub323 = keras.layers.Subtract(name = 'Sub323', )([in0Sub323,in1Sub323])
ReL88163 = keras.layers.ReLU(max_value=8.504790061078001, negative_slope=5.069666099460513, threshold=2.8167145480825875, name = 'ReL88163', )(Sub323)
Min27994 = keras.layers.Minimum(name = 'Min27994', )([GRU25035,ReL88163])
model = tf.keras.models.Model(inputs=[in0GRU25035,in0Sub323,in1Sub323], outputs=Min27994)
w = model.get_layer('GRU25035').get_weights() 
w[0] = np.array([[7, 9, 4, 3, 6, 7], [3, 10, 5, 5, 5, 4]])
w[1] = np.array([[6, 10, 8, 8, 5, 2], [5, 6, 6, 2, 9, 9]])
w[2] = np.array([[1, 7, 6, 8, 9, 5], [5, 2, 8, 2, 9, 2]])
model.get_layer('GRU25035').set_weights(w) 
in0GRU25035 = tf.constant([[[8, 3], [3, 9], [10, 7]]])
in0Sub323 = tf.constant([[0.7107, 0.8206]])
in1Sub323 = tf.constant([[0.2992, 0.1809]])
print (np.array2string(model.predict([in0GRU25035,in0Sub323,in1Sub323],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min27994.png')

LGRU25035 = gru_layer([[[8, 3], [3, 9], [10, 7]]],[[7, 9, 4, 3, 6, 7], [3, 10, 5, 5, 5, 4]],[[6, 10, 8, 8, 5, 2], [5, 6, 6, 2, 9, 9]],[[1, 7, 6, 8, 9, 5], [5, 2, 8, 2, 9, 2]], true, GRU25035), 
LSub323 = subtract_layer([[0.7107, 0.8206]], [[0.2992, 0.1809]], Sub323), 
LReL88163 = relu_layer(Sub323, 8.504790061078001, 5.069666099460513, 2.8167145480825875, ReL88163), 
LMin27994 = minimum_layer([GRU25035,ReL88163], Min27994), 
exec_layers([LGRU25035,LSub323,LReL88163,LMin27994],["GRU25035","Sub323","ReL88163","Min27994"],Min27994,"Min27994")

Actual (Unparsed): [[-12.1936348, -11.0367370]]

Expected (Unparsed): [[-12.193634656343534,-11.036736852446644]]

Actual:   [[-12.1936, -11.0367]]

Expected: [[-12.1936, -11.0367]]