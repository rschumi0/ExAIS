import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min58473 = tf.keras.layers.Input(shape=([1, 2]))
in1Min58473 = tf.keras.layers.Input(shape=([1, 2]))
in0Mul74687 = tf.keras.layers.Input(shape=([2, 2]))
in1Mul74687 = tf.keras.layers.Input(shape=([2, 2]))

Min58473 = keras.layers.Minimum(name = 'Min58473', )([in0Min58473,in1Min58473])
Zer68581 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer68581', )(Min58473)
Mul74687 = keras.layers.Multiply(name = 'Mul74687', )([in0Mul74687,in1Mul74687])
Max68685 = keras.layers.Maximum(name = 'Max68685', )([Zer68581,Mul74687])
Res1732 = keras.layers.Reshape((2, 2, 1), name = 'Res1732', )(Max68685)
Res45345 = keras.layers.Reshape((2, 2, 1, 1), name = 'Res45345', )(Res1732)
Glo86773 = keras.layers.GlobalAveragePooling3D(name = 'Glo86773', )(Res45345)
model = tf.keras.models.Model(inputs=[in0Min58473,in1Min58473,in0Mul74687,in1Mul74687], outputs=Glo86773)
in0Min58473 = tf.constant([[[0.6925, 0.9349]]])
in1Min58473 = tf.constant([[[0.2985, 0.3753]]])
in0Mul74687 = tf.constant([[[0.4284, 0.0155], [0.8597, 0.8262]]])
in1Mul74687 = tf.constant([[[0.9666, 0.7534], [0.2543, 0.1969]]])
print (np.array2string(model.predict([in0Min58473,in1Min58473,in0Mul74687,in1Mul74687],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo86773.png')

LMin58473 = minimum_layer([[[[0.6925, 0.9349]]], [[[0.2985, 0.3753]]]], Min58473), 
LZer68581 = zero_padding1D_layer(Min58473, 1, 0, Zer68581), 
LMul74687 = multiply_layer([[[[0.4284, 0.0155], [0.8597, 0.8262]]], [[[0.9666, 0.7534], [0.2543, 0.1969]]]], Mul74687), 
LMax68685 = maximum_layer([Zer68581,Mul74687], Max68685), 
LRes1732 = reshape_layer(Max68685, [2, 2, 1], Res1732), 
LRes45345 = reshape_layer(Res1732, [2, 2, 1, 1], Res45345), 
LGlo86773 = global_average_pooling3D_layer(Res45345, Glo86773), 
exec_layers([LMin58473,LZer68581,LMul74687,LMax68685,LRes1732,LRes45345,LGlo86773],["Min58473","Zer68581","Mul74687","Max68685","Res1732","Res45345","Glo86773"],Glo86773,"Glo86773")

Actual (Unparsed): [[0.2748923]]

Expected (Unparsed): [[0.274892285]]

Actual:   [[0.2749]]

Expected: [[0.2749]]