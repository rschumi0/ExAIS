import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max80797 = tf.keras.layers.Input(shape=([1, 2]))
in1Max80797 = tf.keras.layers.Input(shape=([1, 2]))
in0Max24360 = tf.keras.layers.Input(shape=([1, 1, 1]))
in1Max24360 = tf.keras.layers.Input(shape=([1, 1, 1]))
in0Con87426 = tf.keras.layers.Input(shape=([1]))

Max80797 = keras.layers.Maximum(name = 'Max80797', )([in0Max80797,in1Max80797])
Fla82110 = keras.layers.Flatten(name = 'Fla82110', )(Max80797)
Max24360 = keras.layers.Maximum(name = 'Max24360', )([in0Max24360,in1Max24360])
Glo21727 = keras.layers.GlobalMaxPool2D(name = 'Glo21727', )(Max24360)
Con87426 = keras.layers.Concatenate(axis=1, name = 'Con87426', )([Glo21727,in0Con87426])
Sub9867 = keras.layers.Subtract(name = 'Sub9867', )([Fla82110,Con87426])
model = tf.keras.models.Model(inputs=[in0Max80797,in1Max80797,in0Max24360,in1Max24360,in0Con87426], outputs=Sub9867)
in0Max80797 = tf.constant([[[0.7368, 0.356]]])
in1Max80797 = tf.constant([[[0.3277, 0.7076]]])
in0Max24360 = tf.constant([[[[0.9362]]]])
in1Max24360 = tf.constant([[[[0.7792]]]])
in0Con87426 = tf.constant([[0.8011]])
print (np.array2string(model.predict([in0Max80797,in1Max80797,in0Max24360,in1Max24360,in0Con87426],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sub9867.png')

LMax80797 = maximum_layer([[[[0.7368, 0.356]]], [[[0.3277, 0.7076]]]], Max80797), 
LFla82110 = flatten_layer(Max80797, Fla82110), 
LMax24360 = maximum_layer([[[[[0.9362]]]], [[[[0.7792]]]]], Max24360), 
LGlo21727 = global_max_pool2D_layer(Max24360, Glo21727), 
LCon87426 = concatenate_layer([Glo21727,[[0.8011]]], 1, Con87426), 
LSub9867 = subtract_layer(Fla82110,Con87426, Sub9867), 
exec_layers([LMax80797,LFla82110,LMax24360,LGlo21727,LCon87426,LSub9867],["Max80797","Fla82110","Max24360","Glo21727","Con87426","Sub9867"],Sub9867,"Sub9867")

Actual (Unparsed): [[-0.1994000, -0.0935000]]

Expected (Unparsed): [[-0.19940000000000002,-0.09350000000000003]]

Actual:   [[-0.1994, -0.0935]]

Expected: [[-0.1994, -0.0935]]