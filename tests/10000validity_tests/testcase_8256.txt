import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul74424 = tf.keras.layers.Input(shape=([2, 2]))
in1Mul74424 = tf.keras.layers.Input(shape=([2, 2]))
in0Add22782 = tf.keras.layers.Input(shape=([1, 2, 2, 2]))
in1Add22782 = tf.keras.layers.Input(shape=([1, 2, 2, 2]))
in0Con75252 = tf.keras.layers.Input(shape=([2]))

Mul74424 = keras.layers.Multiply(name = 'Mul74424', )([in0Mul74424,in1Mul74424])
Fla16799 = keras.layers.Flatten(name = 'Fla16799', )(Mul74424)
Add22782 = keras.layers.Add(name = 'Add22782', )([in0Add22782,in1Add22782])
Glo56921 = keras.layers.GlobalAveragePooling3D(name = 'Glo56921', )(Add22782)
Con75252 = keras.layers.Concatenate(axis=1, name = 'Con75252', )([Glo56921,in0Con75252])
Ave53549 = keras.layers.Average(name = 'Ave53549', )([Fla16799,Con75252])
model = tf.keras.models.Model(inputs=[in0Mul74424,in1Mul74424,in0Add22782,in1Add22782,in0Con75252], outputs=Ave53549)
in0Mul74424 = tf.constant([[[0.4489, 0.1862], [0.0939, 0.9512]]])
in1Mul74424 = tf.constant([[[0.3736, 0.0964], [0.9295, 0.2404]]])
in0Add22782 = tf.constant([[[[[0.5945, 0.6661], [0.4564, 0.1277]], [[0.6911, 0.8835], [0.5478, 0.0181]]]]])
in1Add22782 = tf.constant([[[[[0.1549, 0.578], [0.0481, 0.2946]], [[0.506, 0.9797], [0.9546, 0.914]]]]])
in0Con75252 = tf.constant([[0.0173, 0.2229]])
print (np.array2string(model.predict([in0Mul74424,in1Mul74424,in0Add22782,in1Add22782,in0Con75252],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Ave53549.png')

LMul74424 = multiply_layer([[[[0.4489, 0.1862], [0.0939, 0.9512]]], [[[0.3736, 0.0964], [0.9295, 0.2404]]]], Mul74424), 
LFla16799 = flatten_layer(Mul74424, Fla16799), 
LAdd22782 = add_layer([[[[[[0.5945, 0.6661], [0.4564, 0.1277]], [[0.6911, 0.8835], [0.5478, 0.0181]]]]], [[[[[0.1549, 0.578], [0.0481, 0.2946]], [[0.506, 0.9797], [0.9546, 0.914]]]]]], Add22782), 
LGlo56921 = global_average_pooling3D_layer(Add22782, Glo56921), 
LCon75252 = concatenate_layer([Glo56921,[[0.0173, 0.2229]]], 1, Con75252), 
LAve53549 = average_layer([Fla16799,Con75252], Ave53549), 
exec_layers([LMul74424,LFla16799,LAdd22782,LGlo56921,LCon75252,LAve53549],["Mul74424","Fla16799","Add22782","Glo56921","Con75252","Ave53549"],Ave53549,"Ave53549")

Actual (Unparsed): [[0.5780295, 0.5666873, 0.0522900, 0.2257842]]

Expected (Unparsed): [[0.5780295200000001,0.56668734,0.052290025,0.22578424]]

Actual:   [[0.5781, 0.5667, 0.0523, 0.2258]]

Expected: [[0.5781, 0.5667, 0.0523, 0.2258]]