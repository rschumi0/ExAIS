import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Con53193 = tf.keras.layers.Input(shape=([1, 2, 2]))

Con53193 = keras.layers.Conv2D(2, (1, 1),strides=(1, 1), padding='valid', dilation_rate=(1, 1), name = 'Con53193', )(in0Con53193)
Con27099 = keras.layers.Conv2DTranspose(3, (1, 2),strides=(1, 4), padding='valid', name = 'Con27099', )(Con53193)
Lea4649 = keras.layers.LeakyReLU(alpha=3.347402775225426, name = 'Lea4649', )(Con27099)
model = tf.keras.models.Model(inputs=[in0Con53193], outputs=Lea4649)
w = model.get_layer('Con53193').get_weights() 
w[0] = np.array([[[[0.7962, 0.6845], [0.8591, 0.8996]]]])
w[1] = np.array([0, 0])
model.get_layer('Con53193').set_weights(w) 
w = model.get_layer('Con27099').get_weights() 
w[0] = np.array([[[[0.4782, 0.201], [0.4642, 0.7752], [0.4137, 0.3673]], [[0.4852, 0.0687], [0.0499, 0.4197], [0.1481, 0.7148]]]])
w[1] = np.array([0, 0, 0])
model.get_layer('Con27099').set_weights(w) 
in0Con53193 = tf.constant([[[[0.1197, 0.5662], [0.4843, 0.6781]]]])
print (np.array2string(model.predict([in0Con53193],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Lea4649.png')

LCon53193 = conv2D_layer([[[[0.1197, 0.5662], [0.4843, 0.6781]]]], 1, 1,[[[[0.7962, 0.6845], [0.8591, 0.8996]]]],[0, 0], 1, 1, false, 1, 1, Con53193), 
LCon27099 = conv2D_transpose_layer(Con53193, 1, 2,[[[[0.4782, 0.201], [0.4642, 0.7752], [0.4137, 0.3673]], [[0.4852, 0.0687], [0.0499, 0.4197], [0.1481, 0.7148]]]],[0, 0, 0], 1, 4, false, Con27099), 
LLea4649 = leaky_relu_layer(Con27099, 3.347402775225426, Lea4649), 
exec_layers([LCon53193,LCon27099,LLea4649],["Con53193","Con27099","Lea4649"],Lea4649,"Lea4649")

Actual (Unparsed): [[[[0.3970311, 0.7284045, 0.4578408], [0.3228757, 0.2771919, 0.5088066], [0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000], [0.6522178, 1.1792856, 0.7463469], [0.5344315, 0.4434678, 0.8163838], [0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000]]]]

Expected (Unparsed): [[[[0.39703104136200007,0.728404522736,0.457840836413],[0.322875709391,0.277191850193,0.508806635552],[0,0,0],[0,0,0],[0.6522178420440001,1.179285662426,0.746346947572],[0.5344315544810001,0.44346778252999997,0.816383814525],[0,0,0],[0,0,0]]]]

Actual:   [[[[0.3971, 0.7285, 0.4579], [0.3229, 0.2772, 0.5089], [0, 0, 0], [0, 0, 0], [0.6523, 1.1793, 0.7464], [0.5345, 0.4435, 0.8164], [0, 0, 0], [0, 0, 0]]]]

Expected: [[[[0.3971, 0.7285, 0.4579], [0.3229, 0.2772, 0.5089], [0, 0, 0], [0, 0, 0], [0.6523, 1.1793, 0.7464], [0.5345, 0.4435, 0.8164], [0, 0, 0], [0, 0, 0]]]]