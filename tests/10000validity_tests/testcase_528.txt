import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave50597 = tf.keras.layers.Input(shape=([2, 2]))
in1Ave50597 = tf.keras.layers.Input(shape=([2, 2]))

Ave50597 = keras.layers.Average(name = 'Ave50597', )([in0Ave50597,in1Ave50597])
Res22849 = keras.layers.Reshape((2, 2, 1), name = 'Res22849', )(Ave50597)
Glo23477 = keras.layers.GlobalMaxPool2D(name = 'Glo23477', )(Res22849)
model = tf.keras.models.Model(inputs=[in0Ave50597,in1Ave50597], outputs=Glo23477)
in0Ave50597 = tf.constant([[[0.3308, 0.6454], [0.2249, 0.7079]]])
in1Ave50597 = tf.constant([[[0.0028, 0.0566], [0.7337, 0.3192]]])
print (np.array2string(model.predict([in0Ave50597,in1Ave50597],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo23477.png')

LAve50597 = average_layer([[[[0.3308, 0.6454], [0.2249, 0.7079]]], [[[0.0028, 0.0566], [0.7337, 0.3192]]]], Ave50597), 
LRes22849 = reshape_layer(Ave50597, [2, 2, 1], Res22849), 
LGlo23477 = global_max_pool2D_layer(Res22849, Glo23477), 
exec_layers([LAve50597,LRes22849,LGlo23477],["Ave50597","Res22849","Glo23477"],Glo23477,"Glo23477")

Actual (Unparsed): [[0.5135500]]

Expected (Unparsed): [[0.51355]]

Actual:   [[0.5136]]

Expected: [[0.5136]]