import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min12868 = tf.keras.layers.Input(shape=([1, 1, 1, 2]))
in1Min12868 = tf.keras.layers.Input(shape=([1, 1, 1, 2]))
in0Add11542 = tf.keras.layers.Input(shape=([1, 1]))
in1Add11542 = tf.keras.layers.Input(shape=([1, 1]))
in0Con2010 = tf.keras.layers.Input(shape=([1, 1]))

Min12868 = keras.layers.Minimum(name = 'Min12868', )([in0Min12868,in1Min12868])
Res53828 = keras.layers.Reshape((1, 1, 2), name = 'Res53828', )(Min12868)
Res31686 = keras.layers.Reshape((1, 2), name = 'Res31686', )(Res53828)
Add11542 = keras.layers.Add(name = 'Add11542', )([in0Add11542,in1Add11542])
Con2010 = keras.layers.Concatenate(axis=2, name = 'Con2010', )([Add11542,in0Con2010])
Mul60934 = keras.layers.Multiply(name = 'Mul60934', )([Res31686,Con2010])
Ave48248 = keras.layers.AveragePooling1D(pool_size=(1), strides=(1), padding='valid', name = 'Ave48248', )(Mul60934)
model = tf.keras.models.Model(inputs=[in0Min12868,in1Min12868,in0Add11542,in1Add11542,in0Con2010], outputs=Ave48248)
in0Min12868 = tf.constant([[[[[0.9135, 0.4618]]]]])
in1Min12868 = tf.constant([[[[[0.3228, 0.1513]]]]])
in0Add11542 = tf.constant([[[0.7157]]])
in1Add11542 = tf.constant([[[0.8796]]])
in0Con2010 = tf.constant([[[0.261]]])
print (np.array2string(model.predict([in0Min12868,in1Min12868,in0Add11542,in1Add11542,in0Con2010],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Ave48248.png')

LMin12868 = minimum_layer([[[[[[0.9135, 0.4618]]]]], [[[[[0.3228, 0.1513]]]]]], Min12868), 
LRes53828 = reshape_layer(Min12868, [1, 1, 2], Res53828), 
LRes31686 = reshape_layer(Res53828, [1, 2], Res31686), 
LAdd11542 = add_layer([[[[0.7157]]], [[[0.8796]]]], Add11542), 
LCon2010 = concatenate_layer([Add11542,[[[0.261]]]], 2, Con2010), 
LMul60934 = multiply_layer([Res31686,Con2010], Mul60934), 
LAve48248 = average_pooling1D_layer(Mul60934, 1, 1, false, Ave48248), 
exec_layers([LMin12868,LRes53828,LRes31686,LAdd11542,LCon2010,LMul60934,LAve48248],["Min12868","Res53828","Res31686","Add11542","Con2010","Mul60934","Ave48248"],Ave48248,"Ave48248")

Actual (Unparsed): [[[0.5149628, 0.0394893]]]

Expected (Unparsed): [[[0.5149628399999999,0.0394893]]]

Actual:   [[[0.515, 0.0395]]]

Expected: [[[0.515, 0.0395]]]