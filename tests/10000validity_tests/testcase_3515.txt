import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot20972 = tf.keras.layers.Input(shape=([2]))
in1Dot20972 = tf.keras.layers.Input(shape=([2]))
in0Con59894 = tf.keras.layers.Input(shape=([1, 2, 1]))
in0Min92705 = tf.keras.layers.Input(shape=([1, 1, 2, 1]))
in1Min92705 = tf.keras.layers.Input(shape=([1, 1, 2, 1]))

Dot20972 = keras.layers.Dot(axes=(1, 1), name = 'Dot20972', )([in0Dot20972,in1Dot20972])
Res58462 = keras.layers.Reshape((1, 1), name = 'Res58462', )(Dot20972)
Res6283 = keras.layers.Reshape((1, 1, 1), name = 'Res6283', )(Res58462)
Max44111 = keras.layers.MaxPool2D(pool_size=(1, 1), name = 'Max44111', )(Res6283)
Zer29954 = keras.layers.ZeroPadding2D(padding=((0, 0), (1, 0)), name = 'Zer29954', )(Max44111)
Con59894 = keras.layers.Concatenate(axis=3, name = 'Con59894', )([Zer29954,in0Con59894])
Min92705 = keras.layers.Minimum(name = 'Min92705', )([in0Min92705,in1Min92705])
Res26249 = keras.layers.Reshape((1, 1, 2), name = 'Res26249', )(Min92705)
Up_26945 = keras.layers.UpSampling2D(size=(1, 2), name = 'Up_26945', )(Res26249)
Max43350 = keras.layers.Maximum(name = 'Max43350', )([Con59894,Up_26945])
model = tf.keras.models.Model(inputs=[in0Dot20972,in1Dot20972,in0Con59894,in0Min92705,in1Min92705], outputs=Max43350)
in0Dot20972 = tf.constant([[0.658, 0.076]])
in1Dot20972 = tf.constant([[0.0753, 0.8473]])
in0Con59894 = tf.constant([[[[0.3547], [0.9444]]]])
in0Min92705 = tf.constant([[[[[0.123], [0.3174]]]]])
in1Min92705 = tf.constant([[[[[0.8456], [0.9004]]]]])
print (np.array2string(model.predict([in0Dot20972,in1Dot20972,in0Con59894,in0Min92705,in1Min92705],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max43350.png')

LDot20972 = dot_layer([[0.658, 0.076]], [[0.0753, 0.8473]], 1, 1, Dot20972), 
LRes58462 = reshape_layer(Dot20972, [1, 1], Res58462), 
LRes6283 = reshape_layer(Res58462, [1, 1, 1], Res6283), 
LMax44111 = max_pool2D_layer(Res6283, 1, 1, Max44111), 
LZer29954 = zero_padding2D_layer(Max44111, 0, 0, 1, 0, Zer29954), 
LCon59894 = concatenate_layer([Zer29954,[[[[0.3547], [0.9444]]]]], 3, Con59894), 
LMin92705 = minimum_layer([[[[[[0.123], [0.3174]]]]], [[[[[0.8456], [0.9004]]]]]], Min92705), 
LRes26249 = reshape_layer(Min92705, [1, 1, 2], Res26249), 
LUp_26945 = up_sampling2D_layer(Res26249, 1, 2, Up_26945), 
LMax43350 = maximum_layer([Con59894,Up_26945], Max43350), 
exec_layers([LDot20972,LRes58462,LRes6283,LMax44111,LZer29954,LCon59894,LMin92705,LRes26249,LUp_26945,LMax43350],["Dot20972","Res58462","Res6283","Max44111","Zer29954","Con59894","Min92705","Res26249","Up_26945","Max43350"],Max43350,"Max43350")

Actual (Unparsed): [[[[0.1230000, 0.3547000], [0.1230000, 0.9444000]]]]

Expected (Unparsed): [[[[0.123,0.3547],[0.123,0.9444]]]]

Actual:   [[[[0.123, 0.3547], [0.123, 0.9444]]]]

Expected: [[[[0.123, 0.3547], [0.123, 0.9444]]]]