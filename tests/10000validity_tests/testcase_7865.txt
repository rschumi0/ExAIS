import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add30060 = tf.keras.layers.Input(shape=([1, 2]))
in1Add30060 = tf.keras.layers.Input(shape=([1, 2]))

Add30060 = keras.layers.Add(name = 'Add30060', )([in0Add30060,in1Add30060])
Fla63831 = keras.layers.Flatten(name = 'Fla63831', )(Add30060)
Res97756 = keras.layers.Reshape((2, 1), name = 'Res97756', )(Fla63831)
Per39854 = keras.layers.Permute((1,2), name = 'Per39854',)(Res97756)
Res58172 = keras.layers.Reshape((2, 1, 1), name = 'Res58172', )(Per39854)
Res83108 = keras.layers.Reshape((2, 1, 1, 1), name = 'Res83108', )(Res58172)
Glo82697 = keras.layers.GlobalMaxPool3D(name = 'Glo82697', )(Res83108)
model = tf.keras.models.Model(inputs=[in0Add30060,in1Add30060], outputs=Glo82697)
in0Add30060 = tf.constant([[[0.9762, 0.8827]]])
in1Add30060 = tf.constant([[[0.3027, 0.9135]]])
print (np.array2string(model.predict([in0Add30060,in1Add30060],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo82697.png')

LAdd30060 = add_layer([[[[0.9762, 0.8827]]], [[[0.3027, 0.9135]]]], Add30060), 
LFla63831 = flatten_layer(Add30060, Fla63831), 
LRes97756 = reshape_layer(Fla63831, [2, 1], Res97756), 
LPer39854 = permute_layer(Res97756, 1,2, Per39854), 
LRes58172 = reshape_layer(Per39854, [2, 1, 1], Res58172), 
LRes83108 = reshape_layer(Res58172, [2, 1, 1, 1], Res83108), 
LGlo82697 = global_max_pool3D_layer(Res83108, Glo82697), 
exec_layers([LAdd30060,LFla63831,LRes97756,LPer39854,LRes58172,LRes83108,LGlo82697],["Add30060","Fla63831","Res97756","Per39854","Res58172","Res83108","Glo82697"],Glo82697,"Glo82697")

Actual (Unparsed): [[1.7962000]]

Expected (Unparsed): [[1.7962]]

Actual:   [[1.7962]]

Expected: [[1.7962]]