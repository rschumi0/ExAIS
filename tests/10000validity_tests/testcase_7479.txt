import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul56232 = tf.keras.layers.Input(shape=([1, 1]))
in1Mul56232 = tf.keras.layers.Input(shape=([1, 1]))

Mul56232 = keras.layers.Multiply(name = 'Mul56232', )([in0Mul56232,in1Mul56232])
Loc12463 = keras.layers.LocallyConnected1D(4, (1),strides=(1), name = 'Loc12463', )(Mul56232)
Res67698 = keras.layers.Reshape((1, 4, 1), name = 'Res67698', )(Loc12463)
Ave85057 = keras.layers.AveragePooling2D(pool_size=(1, 3), name = 'Ave85057', )(Res67698)
Res48017 = keras.layers.Reshape((1, 1), name = 'Res48017', )(Ave85057)
Res75215 = keras.layers.Reshape((1, 1, 1), name = 'Res75215', )(Res48017)
Dep29124 = keras.layers.DepthwiseConv2D((1, 1),strides=(1, 1), padding='same', name = 'Dep29124', )(Res75215)
Lay59893 = keras.layers.LayerNormalization(axis=2, epsilon=2.1652082818160485, name = 'Lay59893', )(Dep29124)
model = tf.keras.models.Model(inputs=[in0Mul56232,in1Mul56232], outputs=Lay59893)
w = model.get_layer('Loc12463').get_weights() 
w[0] = np.array([[[0.1886, 0.9356, 0.9211, 0.4252]]])
w[1] = np.array([[0, 0, 0, 0]])
model.get_layer('Loc12463').set_weights(w) 
w = model.get_layer('Dep29124').get_weights() 
w[0] = np.array([[[[0.1253]]]])
w[1] = np.array([0])
model.get_layer('Dep29124').set_weights(w) 
in0Mul56232 = tf.constant([[[0.5911]]])
in1Mul56232 = tf.constant([[[0.6549]]])
print (np.array2string(model.predict([in0Mul56232,in1Mul56232],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Lay59893.png')

LMul56232 = multiply_layer([[[[0.5911]]], [[[0.6549]]]], Mul56232), 
LLoc12463 = locally_connected1D_layer(Mul56232, 1,[[[0.1886, 0.9356, 0.9211, 0.4252]]],[[0, 0, 0, 0]], 1, Loc12463), 
LRes67698 = reshape_layer(Loc12463, [1, 4, 1], Res67698), 
LAve85057 = average_pooling2D_layer(Res67698, 1, 3, Ave85057), 
LRes48017 = reshape_layer(Ave85057, [1, 1], Res48017), 
LRes75215 = reshape_layer(Res48017, [1, 1, 1], Res75215), 
LDep29124 = depthwise_conv2D_layer(Res75215, 1, 1,[[[[0.1253]]]],[0], 1, 1, true, Dep29124), 
LLay59893 = layer_normalization_layer(Dep29124, 2, 2.1652082818160485, Lay59893), 
exec_layers([LMul56232,LLoc12463,LRes67698,LAve85057,LRes48017,LRes75215,LDep29124,LLay59893],["Mul56232","Loc12463","Res67698","Ave85057","Res48017","Res75215","Dep29124","Lay59893"],Lay59893,"Lay59893")

Actual (Unparsed): [[[[0.0000000]]]]

Expected (Unparsed): [[[[0.0]]]]

Actual:   [[[[0]]]]

Expected: [[[[0]]]]