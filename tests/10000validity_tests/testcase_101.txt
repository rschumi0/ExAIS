import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo48073 = tf.keras.layers.Input(shape=([2, 2, 1]))

Glo48073 = keras.layers.GlobalAveragePooling2D(name = 'Glo48073', )(in0Glo48073)
Res38381 = keras.layers.Reshape((1, 1), name = 'Res38381', )(Glo48073)
Res78701 = keras.layers.Reshape((1, 1, 1), name = 'Res78701', )(Res38381)
Dep46792 = keras.layers.DepthwiseConv2D((1, 1),strides=(1, 1), padding='valid', name = 'Dep46792', )(Res78701)
model = tf.keras.models.Model(inputs=[in0Glo48073], outputs=Dep46792)
w = model.get_layer('Dep46792').get_weights() 
w[0] = np.array([[[[0.1429]]]])
w[1] = np.array([0])
model.get_layer('Dep46792').set_weights(w) 
in0Glo48073 = tf.constant([[[[1.1305], [1.3104]], [[1.0293], [1.2017]]]])
print (np.array2string(model.predict([in0Glo48073],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Dep46792.png')

LGlo48073 = global_average_pooling2D_layer([[[[1.1305], [1.3104]], [[1.0293], [1.2017]]]], Glo48073), 
LRes38381 = reshape_layer(Glo48073, [1, 1], Res38381), 
LRes78701 = reshape_layer(Res38381, [1, 1, 1], Res78701), 
LDep46792 = depthwise_conv2D_layer(Res78701, 1, 1,[[[[0.1429]]]],[0], 1, 1, false, Dep46792), 
exec_layers([LGlo48073,LRes38381,LRes78701,LDep46792],["Glo48073","Res38381","Res78701","Dep46792"],Dep46792,"Dep46792")

Actual (Unparsed): [[[[0.1669036]]]]

Expected (Unparsed): [[[[0.16690362749999998]]]]

Actual:   [[[[0.167]]]]

Expected: [[[[0.167]]]]