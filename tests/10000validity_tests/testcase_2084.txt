import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot58398 = tf.keras.layers.Input(shape=([2, 3]))
in1Dot58398 = tf.keras.layers.Input(shape=([2, 3]))

Dot58398 = keras.layers.Dot(axes=(2, 2), name = 'Dot58398', )([in0Dot58398,in1Dot58398])
Res47960 = keras.layers.Reshape((2, 2, 1), name = 'Res47960', )(Dot58398)
Glo39613 = keras.layers.GlobalMaxPool2D(name = 'Glo39613', )(Res47960)
model = tf.keras.models.Model(inputs=[in0Dot58398,in1Dot58398], outputs=Glo39613)
in0Dot58398 = tf.constant([[[0.958, 0.5351, 0.439], [0.2202, 0.742, 0.7402]]])
in1Dot58398 = tf.constant([[[0.3379, 0.7151, 0.9107], [0.9279, 0.0543, 0.1758]]])
print (np.array2string(model.predict([in0Dot58398,in1Dot58398],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo39613.png')

LDot58398 = dot_layer([[[0.958, 0.5351, 0.439], [0.2202, 0.742, 0.7402]]], [[[0.3379, 0.7151, 0.9107], [0.9279, 0.0543, 0.1758]]], 2, 2, Dot58398), 
LRes47960 = reshape_layer(Dot58398, [2, 2, 1], Res47960), 
LGlo39613 = global_max_pool2D_layer(Res47960, Glo39613), 
exec_layers([LDot58398,LRes47960,LGlo39613],["Dot58398","Res47960","Glo39613"],Glo39613,"Glo39613")

Actual (Unparsed): [[1.2791099]]

Expected (Unparsed): [[1.2791099199999998]]

Actual:   [[1.2792]]

Expected: [[1.2792]]