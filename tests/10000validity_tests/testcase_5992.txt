import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Lay49039 = tf.keras.layers.Input(shape=([1, 1, 3]))
in0Dot33280 = tf.keras.layers.Input(shape=([3]))
in1Dot33280 = tf.keras.layers.Input(shape=([3]))
in0Con61780 = tf.keras.layers.Input(shape=([2]))

Lay49039 = keras.layers.LayerNormalization(axis=2, epsilon=2.6202402042206283, name = 'Lay49039', )(in0Lay49039)
Res90740 = keras.layers.Reshape((1, 3), name = 'Res90740', )(Lay49039)
Fla35854 = keras.layers.Flatten(name = 'Fla35854', )(Res90740)
Dot33280 = keras.layers.Dot(axes=(1, 1), name = 'Dot33280', )([in0Dot33280,in1Dot33280])
Con61780 = keras.layers.Concatenate(axis=1, name = 'Con61780', )([Dot33280,in0Con61780])
Max29393 = keras.layers.Maximum(name = 'Max29393', )([Fla35854,Con61780])
model = tf.keras.models.Model(inputs=[in0Lay49039,in0Dot33280,in1Dot33280,in0Con61780], outputs=Max29393)
in0Lay49039 = tf.constant([[[[1.6166, 1.2363, 1.6641]]]])
in0Dot33280 = tf.constant([[0.9888, 0.9853, 0.153]])
in1Dot33280 = tf.constant([[0.9014, 0.1143, 0.0428]])
in0Con61780 = tf.constant([[0.7731, 0.3578]])
print (np.array2string(model.predict([in0Lay49039,in0Dot33280,in1Dot33280,in0Con61780],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max29393.png')

LLay49039 = layer_normalization_layer([[[[1.6166, 1.2363, 1.6641]]]], 2, 2.6202402042206283, Lay49039), 
LRes90740 = reshape_layer(Lay49039, [1, 3], Res90740), 
LFla35854 = flatten_layer(Res90740, Fla35854), 
LDot33280 = dot_layer([[0.9888, 0.9853, 0.153]], [[0.9014, 0.1143, 0.0428]], 1, 1, Dot33280), 
LCon61780 = concatenate_layer([Dot33280,[[0.7731, 0.3578]]], 1, Con61780), 
LMax29393 = maximum_layer([Fla35854,Con61780], Max29393), 
exec_layers([LLay49039,LRes90740,LFla35854,LDot33280,LCon61780,LMax29393],["Lay49039","Res90740","Fla35854","Dot33280","Con61780","Max29393"],Max29393,"Max29393")

Actual (Unparsed): [[1.0104725, 0.7731000, 0.3578000]]

Expected (Unparsed): [[1.01047251,0.7731,0.3578]]

Actual:   [[1.0105, 0.7731, 0.3578]]

Expected: [[1.0105, 0.7731, 0.3578]]