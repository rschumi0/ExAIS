import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min88205 = tf.keras.layers.Input(shape=([1, 1, 2]))
in1Min88205 = tf.keras.layers.Input(shape=([1, 1, 2]))
in0Sub37813 = tf.keras.layers.Input(shape=([2]))
in1Sub37813 = tf.keras.layers.Input(shape=([2]))

Min88205 = keras.layers.Minimum(name = 'Min88205', )([in0Min88205,in1Min88205])
Res99080 = keras.layers.Reshape((1, 2), name = 'Res99080', )(Min88205)
Fla40940 = keras.layers.Flatten(name = 'Fla40940', )(Res99080)
Sub37813 = keras.layers.Subtract(name = 'Sub37813', )([in0Sub37813,in1Sub37813])
Sub84043 = keras.layers.Subtract(name = 'Sub84043', )([Fla40940,Sub37813])
model = tf.keras.models.Model(inputs=[in0Min88205,in1Min88205,in0Sub37813,in1Sub37813], outputs=Sub84043)
in0Min88205 = tf.constant([[[[0.9201, 0.8333]]]])
in1Min88205 = tf.constant([[[[0.1448, 0.1202]]]])
in0Sub37813 = tf.constant([[0.5344, 0.2924]])
in1Sub37813 = tf.constant([[0.7025, 0.0946]])
print (np.array2string(model.predict([in0Min88205,in1Min88205,in0Sub37813,in1Sub37813],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sub84043.png')

LMin88205 = minimum_layer([[[[[0.9201, 0.8333]]]], [[[[0.1448, 0.1202]]]]], Min88205), 
LRes99080 = reshape_layer(Min88205, [1, 2], Res99080), 
LFla40940 = flatten_layer(Res99080, Fla40940), 
LSub37813 = subtract_layer([[0.5344, 0.2924]], [[0.7025, 0.0946]], Sub37813), 
LSub84043 = subtract_layer(Fla40940,Sub37813, Sub84043), 
exec_layers([LMin88205,LRes99080,LFla40940,LSub37813,LSub84043],["Min88205","Res99080","Fla40940","Sub37813","Sub84043"],Sub84043,"Sub84043")

Actual (Unparsed): [[0.3129000, -0.0776000]]

Expected (Unparsed): [[0.31290000000000007,-0.07759999999999997]]

Actual:   [[0.3129, -0.0776]]

Expected: [[0.313, -0.0775]]