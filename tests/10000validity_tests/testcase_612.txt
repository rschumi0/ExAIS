import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add25263 = tf.keras.layers.Input(shape=([2, 2, 2, 2]))
in1Add25263 = tf.keras.layers.Input(shape=([2, 2, 2, 2]))

Add25263 = keras.layers.Add(name = 'Add25263', )([in0Add25263,in1Add25263])
Sof14241 = keras.layers.Softmax(axis=1, name = 'Sof14241', )(Add25263)
Res41551 = keras.layers.Reshape((2, 2, 4), name = 'Res41551', )(Sof14241)
Con45283 = keras.layers.Conv2DTranspose(2, (1, 2),strides=(8, 1), padding='same', name = 'Con45283', )(Res41551)
Res2655 = keras.layers.Reshape((16, 4), name = 'Res2655', )(Con45283)
Res40888 = keras.layers.Reshape((16, 4, 1), name = 'Res40888', )(Res2655)
Zer26223 = keras.layers.ZeroPadding2D(padding=((1, 1), (1, 1)), name = 'Zer26223', )(Res40888)
model = tf.keras.models.Model(inputs=[in0Add25263,in1Add25263], outputs=Zer26223)
w = model.get_layer('Con45283').get_weights() 
w[0] = np.array([[[[0.4641, 0.2769, 0.9399, 0.876], [0.8046, 0.0285, 0.3678, 0.1997]], [[0.0297, 0.4869, 0.5492, 0.259], [0.78, 0.4378, 0.2666, 0.5516]]]])
w[1] = np.array([0, 0])
model.get_layer('Con45283').set_weights(w) 
in0Add25263 = tf.constant([[[[[0.7812, 0.4383], [0.6961, 0.5254]], [[0.8095, 0.6354], [0.9161, 0.9877]]], [[[0.3454, 0.1122], [0.8964, 0.164]], [[0.6807, 0.7876], [0.6933, 0.0787]]]]])
in1Add25263 = tf.constant([[[[[0.8164, 0.7474], [0.5379, 0.3115]], [[0.7101, 0.6539], [0.2496, 0.1087]]], [[[0.326, 0.0452], [0.6575, 0.7655]], [[0.3519, 0.1065], [0.9267, 0.0355]]]]])
print (np.array2string(model.predict([in0Add25263,in1Add25263],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Zer26223.png')

LAdd25263 = add_layer([[[[[[0.7812, 0.4383], [0.6961, 0.5254]], [[0.8095, 0.6354], [0.9161, 0.9877]]], [[[0.3454, 0.1122], [0.8964, 0.164]], [[0.6807, 0.7876], [0.6933, 0.0787]]]]], [[[[[0.8164, 0.7474], [0.5379, 0.3115]], [[0.7101, 0.6539], [0.2496, 0.1087]]], [[[0.326, 0.0452], [0.6575, 0.7655]], [[0.3519, 0.1065], [0.9267, 0.0355]]]]]], Add25263), 
LSof14241 = softmax_layer(Add25263, 1, Sof14241), 
LRes41551 = reshape_layer(Sof14241, [2, 2, 4], Res41551), 
LCon45283 = conv2D_transpose_layer(Res41551, 1, 2,[[[[0.4641, 0.2769, 0.9399, 0.876], [0.8046, 0.0285, 0.3678, 0.1997]], [[0.0297, 0.4869, 0.5492, 0.259], [0.78, 0.4378, 0.2666, 0.5516]]]],[0, 0], 8, 1, true, Con45283), 
LRes2655 = reshape_layer(Con45283, [16, 4], Res2655), 
LRes40888 = reshape_layer(Res2655, [16, 4, 1], Res40888), 
LZer26223 = zero_padding2D_layer(Res40888, 1, 1, 1, 1, Zer26223), 
exec_layers([LAdd25263,LSof14241,LRes41551,LCon45283,LRes2655,LRes40888,LZer26223],["Add25263","Sof14241","Res41551","Con45283","Res2655","Res40888","Zer26223"],Zer26223,"Zer26223")

Actual (Unparsed): [[[[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [1.3495484], [0.8472944], [2.1897241], [2.0599127], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [1.2073516], [0.5533056], [1.6919759], [1.3766873], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]]]]

Expected (Unparsed): [[[[0],[0],[0],[0],[0],[0]],[[0],[1.3495483870483165],[0.8472944224916918],[2.1897241105065186],[2.0599127570901676],[0]],[[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0]],[[0],[1.2073516129516837],[0.5533055775083082],[1.6919758894934818],[1.376687242909833],[0]],[[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0]]]]

Actual:   [[[[0], [0], [0], [0], [0], [0]], [[0], [1.3496], [0.8473], [2.1898], [2.06], [0]], [[0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0]], [[0], [1.2074], [0.5534], [1.692], [1.3767], [0]], [[0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0]]]]

Expected: [[[[0], [0], [0], [0], [0], [0]], [[0], [1.3496], [0.8473], [2.1898], [2.06], [0]], [[0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0]], [[0], [1.2074], [0.5534], [1.692], [1.3767], [0]], [[0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0]]]]