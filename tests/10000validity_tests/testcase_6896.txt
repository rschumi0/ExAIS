import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo35394 = tf.keras.layers.Input(shape=([1, 2]))
in0Con97995 = tf.keras.layers.Input(shape=([2, 2]))
in0Min59858 = tf.keras.layers.Input(shape=([1, 2, 1, 2]))
in1Min59858 = tf.keras.layers.Input(shape=([1, 2, 1, 2]))
in0Con27525 = tf.keras.layers.Input(shape=([2, 1]))
in0Dot46576 = tf.keras.layers.Input(shape=([2]))
in1Dot46576 = tf.keras.layers.Input(shape=([2]))
in0Con34919 = tf.keras.layers.Input(shape=([1, 3]))
in0Add74235 = tf.keras.layers.Input(shape=([2, 2, 2]))
in1Add74235 = tf.keras.layers.Input(shape=([2, 2, 2]))

Glo35394 = keras.layers.GlobalAveragePooling1D(name = 'Glo35394', )(in0Glo35394)
Res61889 = keras.layers.Reshape((2, 1), name = 'Res61889', )(Glo35394)
Con97995 = keras.layers.Concatenate(axis=2, name = 'Con97995', )([Res61889,in0Con97995])
Min59858 = keras.layers.Minimum(name = 'Min59858', )([in0Min59858,in1Min59858])
Res30740 = keras.layers.Reshape((1, 2, 2), name = 'Res30740', )(Min59858)
Res73718 = keras.layers.Reshape((1, 4), name = 'Res73718', )(Res30740)
Res65009 = keras.layers.Reshape((1, 4, 1), name = 'Res65009', )(Res73718)
Up_60599 = keras.layers.UpSampling2D(size=(2, 2), name = 'Up_60599', )(Res65009)
Res68878 = keras.layers.Reshape((2, 8), name = 'Res68878', )(Up_60599)
Sep69324 = keras.layers.SeparableConv1D(3, (1),strides=(1), padding='same', name = 'Sep69324', )(Res68878)
Add98170 = keras.layers.Add(name = 'Add98170', )([Con97995,Sep69324])
Con27525 = keras.layers.Concatenate(axis=2, name = 'Con27525', )([Add98170,in0Con27525])
Dot46576 = keras.layers.Dot(axes=(1, 1), name = 'Dot46576', )([in0Dot46576,in1Dot46576])
Res7550 = keras.layers.Reshape((1, 1), name = 'Res7550', )(Dot46576)
Con34919 = keras.layers.Concatenate(axis=2, name = 'Con34919', )([Res7550,in0Con34919])
Add74235 = keras.layers.Add(name = 'Add74235', )([in0Add74235,in1Add74235])
Res45997 = keras.layers.Reshape((2, 4), name = 'Res45997', )(Add74235)
Con49373 = keras.layers.Conv1D(4, (2),strides=(6), padding='valid', dilation_rate=(1), name = 'Con49373', )(Res45997)
Add33763 = keras.layers.Add(name = 'Add33763', )([Con34919,Con49373])
Zer3679 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer3679', )(Add33763)
Min92705 = keras.layers.Minimum(name = 'Min92705', )([Con27525,Zer3679])
model = tf.keras.models.Model(inputs=[in0Glo35394,in0Con97995,in0Min59858,in1Min59858,in0Con27525,in0Dot46576,in1Dot46576,in0Con34919,in0Add74235,in1Add74235], outputs=Min92705)
w = model.get_layer('Sep69324').get_weights() 
w[0] = np.array([[[0.8353], [0.6786], [0.4762], [0.2327], [0.1793], [0.6188], [0.991], [0.39]]])
w[1] = np.array([[[0.559, 0.2688, 0.892], [0.7051, 0.7756, 0.7296], [0.6216, 0.251, 0.887], [0.0047, 0.3106, 0.9218], [0.7168, 0.7889, 0.0892], [0.8036, 0.7456, 0.1388], [0.8066, 0.9233, 0.8171], [0.2885, 0.1802, 0.8792]]])
w[2] = np.array([0, 0, 0])
model.get_layer('Sep69324').set_weights(w) 
w = model.get_layer('Con49373').get_weights() 
w[0] = np.array([[[0.5256, 0.4377, 0.4212, 0.8687], [0.0357, 0.0965, 0.9576, 0.3017], [0.2996, 0.0365, 0.4317, 0.1073], [0.2946, 0.4244, 0.1792, 0.9256]], [[0.547, 0.4467, 0.4435, 0.2009], [0.8542, 0.8986, 0.6264, 0.8264], [0.3961, 0.7443, 0.0024, 0.872], [0.739, 0.6413, 0.2065, 0.1797]]])
w[1] = np.array([0, 0, 0, 0])
model.get_layer('Con49373').set_weights(w) 
in0Glo35394 = tf.constant([[[1.723, 1.9098]]])
in0Con97995 = tf.constant([[[0.4679, 0.5091], [0.5816, 0.7988]]])
in0Min59858 = tf.constant([[[[[0.7343, 0.2892]], [[0.8481, 0.692]]]]])
in1Min59858 = tf.constant([[[[[0.1177, 0.6969]], [[0.0374, 0.8828]]]]])
in0Con27525 = tf.constant([[[0.8284], [0.5376]]])
in0Dot46576 = tf.constant([[0.9811, 0.2518]])
in1Dot46576 = tf.constant([[0.8477, 0.9869]])
in0Con34919 = tf.constant([[[0.4828, 0.7058, 0.5565]]])
in0Add74235 = tf.constant([[[[0.3023, 0.5097], [0.683, 0.4566]], [[0.0488, 0.4678], [0.7362, 0.3882]]]])
in1Add74235 = tf.constant([[[[0.4705, 0.3971], [0.3596, 0.6124]], [[0.5509, 0.1833], [0.568, 0.7175]]]])
print (np.array2string(model.predict([in0Glo35394,in0Con97995,in0Min59858,in1Min59858,in0Con27525,in0Dot46576,in1Dot46576,in0Con34919,in0Add74235,in1Add74235],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min92705.png')

LGlo35394 = global_average_pooling1D_layer([[[1.723, 1.9098]]], Glo35394), 
LRes61889 = reshape_layer(Glo35394, [2, 1], Res61889), 
LCon97995 = concatenate_layer([Res61889,[[[0.4679, 0.5091], [0.5816, 0.7988]]]], 2, Con97995), 
LMin59858 = minimum_layer([[[[[[0.7343, 0.2892]], [[0.8481, 0.692]]]]], [[[[[0.1177, 0.6969]], [[0.0374, 0.8828]]]]]], Min59858), 
LRes30740 = reshape_layer(Min59858, [1, 2, 2], Res30740), 
LRes73718 = reshape_layer(Res30740, [1, 4], Res73718), 
LRes65009 = reshape_layer(Res73718, [1, 4, 1], Res65009), 
LUp_60599 = up_sampling2D_layer(Res65009, 2, 2, Up_60599), 
LRes68878 = reshape_layer(Up_60599, [2, 8], Res68878), 
LSep69324 = separable_conv1D_layer(Res68878, 1,[[[[0.8353], [0.6786], [0.4762], [0.2327], [0.1793], [0.6188], [0.991], [0.39]]],[[[0.559, 0.2688, 0.892], [0.7051, 0.7756, 0.7296], [0.6216, 0.251, 0.887], [0.0047, 0.3106, 0.9218], [0.7168, 0.7889, 0.0892], [0.8036, 0.7456, 0.1388], [0.8066, 0.9233, 0.8171], [0.2885, 0.1802, 0.8792]]]],[0, 0, 0], 1, true, Sep69324), 
LAdd98170 = add_layer([Con97995,Sep69324], Add98170), 
LCon27525 = concatenate_layer([Add98170,[[[0.8284], [0.5376]]]], 2, Con27525), 
LDot46576 = dot_layer([[0.9811, 0.2518]], [[0.8477, 0.9869]], 1, 1, Dot46576), 
LRes7550 = reshape_layer(Dot46576, [1, 1], Res7550), 
LCon34919 = concatenate_layer([Res7550,[[[0.4828, 0.7058, 0.5565]]]], 2, Con34919), 
LAdd74235 = add_layer([[[[[0.3023, 0.5097], [0.683, 0.4566]], [[0.0488, 0.4678], [0.7362, 0.3882]]]], [[[[0.4705, 0.3971], [0.3596, 0.6124]], [[0.5509, 0.1833], [0.568, 0.7175]]]]], Add74235), 
LRes45997 = reshape_layer(Add74235, [2, 4], Res45997), 
LCon49373 = conv1D_layer(Res45997, 2,[[[0.5256, 0.4377, 0.4212, 0.8687], [0.0357, 0.0965, 0.9576, 0.3017], [0.2996, 0.0365, 0.4317, 0.1073], [0.2946, 0.4244, 0.1792, 0.9256]], [[0.547, 0.4467, 0.4435, 0.2009], [0.8542, 0.8986, 0.6264, 0.8264], [0.3961, 0.7443, 0.0024, 0.872], [0.739, 0.6413, 0.2065, 0.1797]]],[0, 0, 0, 0], 6, false, 1, Con49373), 
LAdd33763 = add_layer([Con34919,Con49373], Add33763), 
LZer3679 = zero_padding1D_layer(Add33763, 1, 0, Zer3679), 
LMin92705 = minimum_layer([Con27525,Zer3679], Min92705), 
exec_layers([LGlo35394,LRes61889,LCon97995,LMin59858,LRes30740,LRes73718,LRes65009,LUp_60599,LRes68878,LSep69324,LAdd98170,LCon27525,LDot46576,LRes7550,LCon34919,LAdd74235,LRes45997,LCon49373,LAdd33763,LZer3679,LMin92705],["Glo35394","Res61889","Con97995","Min59858","Res30740","Res73718","Res65009","Up_60599","Res68878","Sep69324","Add98170","Con27525","Dot46576","Res7550","Con34919","Add74235","Res45997","Con49373","Add33763","Zer3679","Min92705"],Min92705,"Min92705")

Actual (Unparsed): [[[0.0000000, 0.0000000, 0.0000000, 0.0000000], [2.7614050, 1.4297959, 1.9303933, 0.5376000]]]

Expected (Unparsed): [[[0,0,0,0],[2.7614050014319997,1.429795909974,1.930393315624,0.5376]]]

Actual:   [[[0, 0, 0, 0], [2.7615, 1.4298, 1.9304, 0.5376]]]

Expected: [[[0, 0, 0, 0], [2.7615, 1.4298, 1.9304, 0.5376]]]