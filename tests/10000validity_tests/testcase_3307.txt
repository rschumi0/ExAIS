import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot68646 = tf.keras.layers.Input(shape=([2]))
in1Dot68646 = tf.keras.layers.Input(shape=([2]))
in0Dot52707 = tf.keras.layers.Input(shape=([2]))
in1Dot52707 = tf.keras.layers.Input(shape=([2]))

Dot68646 = keras.layers.Dot(axes=(1, 1), name = 'Dot68646', )([in0Dot68646,in1Dot68646])
Res70853 = keras.layers.Reshape((1, 1), name = 'Res70853', )(Dot68646)
Res25565 = keras.layers.Reshape((1, 1, 1), name = 'Res25565', )(Res70853)
Res8352 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res8352', )(Res25565)
Glo82313 = keras.layers.GlobalAveragePooling3D(name = 'Glo82313', )(Res8352)
Dot52707 = keras.layers.Dot(axes=(1, 1), name = 'Dot52707', )([in0Dot52707,in1Dot52707])
Mul24029 = keras.layers.Multiply(name = 'Mul24029', )([Glo82313,Dot52707])
model = tf.keras.models.Model(inputs=[in0Dot68646,in1Dot68646,in0Dot52707,in1Dot52707], outputs=Mul24029)
in0Dot68646 = tf.constant([[0.1021, 0.3072]])
in1Dot68646 = tf.constant([[0.9591, 0.7948]])
in0Dot52707 = tf.constant([[0.5207, 0.6259]])
in1Dot52707 = tf.constant([[0.0117, 0.9353]])
print (np.array2string(model.predict([in0Dot68646,in1Dot68646,in0Dot52707,in1Dot52707],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Mul24029.png')

LDot68646 = dot_layer([[0.1021, 0.3072]], [[0.9591, 0.7948]], 1, 1, Dot68646), 
LRes70853 = reshape_layer(Dot68646, [1, 1], Res70853), 
LRes25565 = reshape_layer(Res70853, [1, 1, 1], Res25565), 
LRes8352 = reshape_layer(Res25565, [1, 1, 1, 1], Res8352), 
LGlo82313 = global_average_pooling3D_layer(Res8352, Glo82313), 
LDot52707 = dot_layer([[0.5207, 0.6259]], [[0.0117, 0.9353]], 1, 1, Dot52707), 
LMul24029 = multiply_layer([Glo82313,Dot52707], Mul24029), 
exec_layers([LDot68646,LRes70853,LRes25565,LRes8352,LGlo82313,LDot52707,LMul24029],["Dot68646","Res70853","Res25565","Res8352","Glo82313","Dot52707","Mul24029"],Mul24029,"Mul24029")

Actual (Unparsed): [[0.2023430]]

Expected (Unparsed): [[0.20234305431818822]]

Actual:   [[0.2024]]

Expected: [[0.2024]]