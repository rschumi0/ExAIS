import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul97071 = tf.keras.layers.Input(shape=([1, 2, 2]))
in1Mul97071 = tf.keras.layers.Input(shape=([1, 2, 2]))

Mul97071 = keras.layers.Multiply(name = 'Mul97071', )([in0Mul97071,in1Mul97071])
Res95931 = keras.layers.Reshape((1, 4), name = 'Res95931', )(Mul97071)
Res18913 = keras.layers.Reshape((1, 4, 1), name = 'Res18913', )(Res95931)
Glo97103 = keras.layers.GlobalMaxPool2D(name = 'Glo97103', )(Res18913)
Res70070 = keras.layers.Reshape((1, 1), name = 'Res70070', )(Glo97103)
Up_25388 = keras.layers.UpSampling1D(size=(2), name = 'Up_25388', )(Res70070)
Fla94289 = keras.layers.Flatten(name = 'Fla94289', )(Up_25388)
Res45180 = keras.layers.Reshape((2, 1), name = 'Res45180', )(Fla94289)
Zer57230 = keras.layers.ZeroPadding1D(padding=((1, 1)), name = 'Zer57230', )(Res45180)
model = tf.keras.models.Model(inputs=[in0Mul97071,in1Mul97071], outputs=Zer57230)
in0Mul97071 = tf.constant([[[[0.5831, 0.0636], [0.0765, 0.0853]]]])
in1Mul97071 = tf.constant([[[[0.5725, 0.3413], [0.6905, 0.296]]]])
print (np.array2string(model.predict([in0Mul97071,in1Mul97071],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Zer57230.png')

LMul97071 = multiply_layer([[[[[0.5831, 0.0636], [0.0765, 0.0853]]]], [[[[0.5725, 0.3413], [0.6905, 0.296]]]]], Mul97071), 
LRes95931 = reshape_layer(Mul97071, [1, 4], Res95931), 
LRes18913 = reshape_layer(Res95931, [1, 4, 1], Res18913), 
LGlo97103 = global_max_pool2D_layer(Res18913, Glo97103), 
LRes70070 = reshape_layer(Glo97103, [1, 1], Res70070), 
LUp_25388 = up_sampling1D_layer(Res70070, 2, Up_25388), 
LFla94289 = flatten_layer(Up_25388, Fla94289), 
LRes45180 = reshape_layer(Fla94289, [2, 1], Res45180), 
LZer57230 = zero_padding1D_layer(Res45180, 1, 1, Zer57230), 
exec_layers([LMul97071,LRes95931,LRes18913,LGlo97103,LRes70070,LUp_25388,LFla94289,LRes45180,LZer57230],["Mul97071","Res95931","Res18913","Glo97103","Res70070","Up_25388","Fla94289","Res45180","Zer57230"],Zer57230,"Zer57230")

Actual (Unparsed): [[[0.0000000], [0.3338248], [0.3338248], [0.0000000]]]

Expected (Unparsed): [[[0],[0.33382475],[0.33382475],[0]]]

Actual:   [[[0], [0.3339], [0.3339], [0]]]

Expected: [[[0], [0.3339], [0.3339], [0]]]