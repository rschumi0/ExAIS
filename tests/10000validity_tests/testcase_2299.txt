import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot14406 = tf.keras.layers.Input(shape=([3]))
in1Dot14406 = tf.keras.layers.Input(shape=([3]))

Dot14406 = keras.layers.Dot(axes=(1, 1), name = 'Dot14406', )([in0Dot14406,in1Dot14406])
Res788 = keras.layers.Reshape((1, 1), name = 'Res788', )(Dot14406)
Res78431 = keras.layers.Reshape((1, 1, 1), name = 'Res78431', )(Res788)
Res48621 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res48621', )(Res78431)
Cro97899 = keras.layers.Cropping3D(cropping=((0, 0), (0, 0), (0, 0)), name = 'Cro97899', )(Res48621)
Res65658 = keras.layers.Reshape((1, 1, 1), name = 'Res65658', )(Cro97899)
Loc47979 = keras.layers.LocallyConnected2D(2, (1, 1),strides=(1, 1), name = 'Loc47979', )(Res65658)
Zer73092 = keras.layers.ZeroPadding2D(padding=((1, 1), (1, 1)), name = 'Zer73092', )(Loc47979)
model = tf.keras.models.Model(inputs=[in0Dot14406,in1Dot14406], outputs=Zer73092)
w = model.get_layer('Loc47979').get_weights() 
w[0] = np.array([[[0.8051, 0.3915]]])
w[1] = np.array([[[0, 0]]])
model.get_layer('Loc47979').set_weights(w) 
in0Dot14406 = tf.constant([[0.2393, 0.0265, 0.7773]])
in1Dot14406 = tf.constant([[0.4165, 0.1398, 0.0878]])
print (np.array2string(model.predict([in0Dot14406,in1Dot14406],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Zer73092.png')

LDot14406 = dot_layer([[0.2393, 0.0265, 0.7773]], [[0.4165, 0.1398, 0.0878]], 1, 1, Dot14406), 
LRes788 = reshape_layer(Dot14406, [1, 1], Res788), 
LRes78431 = reshape_layer(Res788, [1, 1, 1], Res78431), 
LRes48621 = reshape_layer(Res78431, [1, 1, 1, 1], Res48621), 
LCro97899 = cropping3D_layer(Res48621, 0, 0, 0, 0, 0, 0, Cro97899), 
LRes65658 = reshape_layer(Cro97899, [1, 1, 1], Res65658), 
LLoc47979 = locally_connected2D_layer(Res65658, 1, 1,[[[0.8051, 0.3915]]],[[[0, 0]]], 1, 1, Loc47979), 
LZer73092 = zero_padding2D_layer(Loc47979, 1, 1, 1, 1, Zer73092), 
exec_layers([LDot14406,LRes788,LRes78431,LRes48621,LCro97899,LRes65658,LLoc47979,LZer73092],["Dot14406","Res788","Res78431","Res48621","Cro97899","Res65658","Loc47979","Zer73092"],Zer73092,"Zer73092")

Actual (Unparsed): [[[[0.0000000, 0.0000000], [0.0000000, 0.0000000], [0.0000000, 0.0000000]], [[0.0000000, 0.0000000], [0.1381713, 0.0671893], [0.0000000, 0.0000000]], [[0.0000000, 0.0000000], [0.0000000, 0.0000000], [0.0000000, 0.0000000]]]]

Expected (Unparsed): [[[[0,0],[0,0],[0,0]],[[0,0],[0.138171334459,0.067189265235],[0,0]],[[0,0],[0,0],[0,0]]]]

Actual:   [[[[0, 0], [0, 0], [0, 0]], [[0, 0], [0.1382, 0.0672], [0, 0]], [[0, 0], [0, 0], [0, 0]]]]

Expected: [[[[0, 0], [0, 0], [0, 0]], [[0, 0], [0.1382, 0.0672], [0, 0]], [[0, 0], [0, 0], [0, 0]]]]