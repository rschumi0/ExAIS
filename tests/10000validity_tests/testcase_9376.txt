import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave78997 = tf.keras.layers.Input(shape=([2, 2]))
in0Glo22025 = tf.keras.layers.Input(shape=([2, 1, 1, 2]))
in0Con66717 = tf.keras.layers.Input(shape=([2]))

Ave78997 = keras.layers.AveragePooling1D(pool_size=(1), name = 'Ave78997', )(in0Ave78997)
Fla69435 = keras.layers.Flatten(name = 'Fla69435', )(Ave78997)
Glo22025 = keras.layers.GlobalMaxPool3D(name = 'Glo22025', )(in0Glo22025)
Con66717 = keras.layers.Concatenate(axis=1, name = 'Con66717', )([Glo22025,in0Con66717])
Sub76980 = keras.layers.Subtract(name = 'Sub76980', )([Fla69435,Con66717])
Res33981 = keras.layers.Reshape((4, 1), name = 'Res33981', )(Sub76980)
Zer1351 = keras.layers.ZeroPadding1D(padding=((1, 1)), name = 'Zer1351', )(Res33981)
model = tf.keras.models.Model(inputs=[in0Ave78997,in0Glo22025,in0Con66717], outputs=Zer1351)
in0Ave78997 = tf.constant([[[1.0154, 1.1029], [1.1981, 1.0702]]])
in0Glo22025 = tf.constant([[[[[1.0942, 1.7248]]], [[[1.0875, 1.0678]]]]])
in0Con66717 = tf.constant([[0.5382, 0.9616]])
print (np.array2string(model.predict([in0Ave78997,in0Glo22025,in0Con66717],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Zer1351.png')

LAve78997 = average_pooling1D_layer([[[1.0154, 1.1029], [1.1981, 1.0702]]], 1, Ave78997), 
LFla69435 = flatten_layer(Ave78997, Fla69435), 
LGlo22025 = global_max_pool3D_layer([[[[[1.0942, 1.7248]]], [[[1.0875, 1.0678]]]]], Glo22025), 
LCon66717 = concatenate_layer([Glo22025,[[0.5382, 0.9616]]], 1, Con66717), 
LSub76980 = subtract_layer(Fla69435,Con66717, Sub76980), 
LRes33981 = reshape_layer(Sub76980, [4, 1], Res33981), 
LZer1351 = zero_padding1D_layer(Res33981, 1, 1, Zer1351), 
exec_layers([LAve78997,LFla69435,LGlo22025,LCon66717,LSub76980,LRes33981,LZer1351],["Ave78997","Fla69435","Glo22025","Con66717","Sub76980","Res33981","Zer1351"],Zer1351,"Zer1351")

Actual (Unparsed): [[[0.0000000], [-0.0788000], [-0.6219000], [0.6599000], [0.1086000], [0.0000000]]]

Expected (Unparsed): [[[0],[-0.07879999999999998],[-0.6219000000000001],[0.6598999999999999],[0.10860000000000003],[0]]]

Actual:   [[[0], [-0.0788], [-0.6219], [0.6599], [0.1086], [0]]]

Expected: [[[0], [-0.0787], [-0.6219], [0.6599], [0.1087], [0]]]