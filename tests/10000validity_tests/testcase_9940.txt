import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add10789 = tf.keras.layers.Input(shape=([2, 2, 1, 2]))
in1Add10789 = tf.keras.layers.Input(shape=([2, 2, 1, 2]))
in0Sub86734 = tf.keras.layers.Input(shape=([3, 3, 2, 2]))
in1Sub86734 = tf.keras.layers.Input(shape=([3, 3, 2, 2]))

Add10789 = keras.layers.Add(name = 'Add10789', )([in0Add10789,in1Add10789])
Zer36403 = keras.layers.ZeroPadding3D(padding=((1, 0), (1, 0), (1, 0)), name = 'Zer36403', )(Add10789)
Sub86734 = keras.layers.Subtract(name = 'Sub86734', )([in0Sub86734,in1Sub86734])
Min54602 = keras.layers.Minimum(name = 'Min54602', )([Zer36403,Sub86734])
model = tf.keras.models.Model(inputs=[in0Add10789,in1Add10789,in0Sub86734,in1Sub86734], outputs=Min54602)
in0Add10789 = tf.constant([[[[[0.6467, 0.5738]], [[0.9858, 0.6961]]], [[[0.2527, 0.3907]], [[0.3159, 0.3468]]]]])
in1Add10789 = tf.constant([[[[[0.5914, 0.0849]], [[0.8997, 0.5843]]], [[[0.9474, 0.3737]], [[0.9913, 0.9638]]]]])
in0Sub86734 = tf.constant([[[[[0.8841, 0.6435], [0.09, 0.0718]], [[0.9409, 0.3768], [0.378, 0.8261]], [[0.3886, 0.5757], [0.9573, 0.6282]]], [[[0.4603, 0.3798], [0.3528, 0.9941]], [[0.7418, 0.1576], [0.9692, 0.4499]], [[0.8222, 0.8428], [0.0548, 0.5454]]], [[[0.881, 0.178], [0.2607, 0.8147]], [[0.6188, 0.8349], [0.0635, 0.3889]], [[0.8297, 0.0839], [0.1609, 0.7577]]]]])
in1Sub86734 = tf.constant([[[[[0.9513, 0.8027], [0.4512, 0.8623]], [[0.1352, 0.1342], [0.3531, 0.3071]], [[0.7323, 0.0279], [0.0405, 0.9779]]], [[[0.6026, 0.2369], [0.6258, 0.7679]], [[0.3262, 0.0758], [0.4505, 0.4293]], [[0.2204, 0.3964], [0.4215, 0.7922]]], [[[0.0455, 0.785], [0.7618, 0.7224]], [[0.422, 0.9459], [0.6399, 0.2248]], [[0.2757, 0.5993], [0.8851, 0.0443]]]]])
print (np.array2string(model.predict([in0Add10789,in1Add10789,in0Sub86734,in1Sub86734],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min54602.png')

LAdd10789 = add_layer([[[[[[0.6467, 0.5738]], [[0.9858, 0.6961]]], [[[0.2527, 0.3907]], [[0.3159, 0.3468]]]]], [[[[[0.5914, 0.0849]], [[0.8997, 0.5843]]], [[[0.9474, 0.3737]], [[0.9913, 0.9638]]]]]], Add10789), 
LZer36403 = zero_padding3D_layer(Add10789, 1, 0, 1, 0, 1, 0, Zer36403), 
LSub86734 = subtract_layer([[[[[0.8841, 0.6435], [0.09, 0.0718]], [[0.9409, 0.3768], [0.378, 0.8261]], [[0.3886, 0.5757], [0.9573, 0.6282]]], [[[0.4603, 0.3798], [0.3528, 0.9941]], [[0.7418, 0.1576], [0.9692, 0.4499]], [[0.8222, 0.8428], [0.0548, 0.5454]]], [[[0.881, 0.178], [0.2607, 0.8147]], [[0.6188, 0.8349], [0.0635, 0.3889]], [[0.8297, 0.0839], [0.1609, 0.7577]]]]], [[[[[0.9513, 0.8027], [0.4512, 0.8623]], [[0.1352, 0.1342], [0.3531, 0.3071]], [[0.7323, 0.0279], [0.0405, 0.9779]]], [[[0.6026, 0.2369], [0.6258, 0.7679]], [[0.3262, 0.0758], [0.4505, 0.4293]], [[0.2204, 0.3964], [0.4215, 0.7922]]], [[[0.0455, 0.785], [0.7618, 0.7224]], [[0.422, 0.9459], [0.6399, 0.2248]], [[0.2757, 0.5993], [0.8851, 0.0443]]]]], Sub86734), 
LMin54602 = minimum_layer([Zer36403,Sub86734], Min54602), 
exec_layers([LAdd10789,LZer36403,LSub86734,LMin54602],["Add10789","Zer36403","Sub86734","Min54602"],Min54602,"Min54602")

Actual (Unparsed): [[[[[-0.0672000, -0.1592000], [-0.3612000, -0.7905000]], [[0.0000000, 0.0000000], [0.0000000, 0.0000000]], [[-0.3437000, 0.0000000], [0.0000000, -0.3497000]]], [[[-0.1423000, 0.0000000], [-0.2730000, 0.0000000]], [[0.0000000, 0.0000000], [0.5187000, 0.0206000]], [[0.0000000, 0.0000000], [-0.3667000, -0.2468000]]], [[[0.0000000, -0.6070000], [-0.5011000, 0.0000000]], [[0.0000000, -0.1110000], [-0.5764000, 0.1641000]], [[0.0000000, -0.5154000], [-0.7242000, 0.7134000]]]]]

Expected (Unparsed): [[[[[-0.06720000000000004,-0.1592],[-0.36119999999999997,-0.7905]],[[0,0],[0,0]],[[-0.34369999999999995,0],[0,-0.3497]]],[[[-0.14230000000000004,0],[-0.273,0]],[[0,0],[0.5186999999999999,0.020600000000000007]],[[0,0],[-0.36669999999999997,-0.24680000000000002]]],[[[0,-0.607],[-0.5011000000000001,0]],[[0,-0.11099999999999999],[-0.5764,0.16410000000000002]],[[0,-0.5154000000000001],[-0.7242,0.7134]]]]]

Actual:   [[[[[-0.0672, -0.1592], [-0.3612, -0.7905]], [[0, 0], [0, 0]], [[-0.3437, 0], [0, -0.3497]]], [[[-0.1423, 0], [-0.273, 0]], [[0, 0], [0.5187, 0.0206]], [[0, 0], [-0.3667, -0.2468]]], [[[0, -0.607], [-0.5011, 0]], [[0, -0.111], [-0.5764, 0.1641]], [[0, -0.5154], [-0.7242, 0.7134]]]]]

Expected: [[[[[-0.0672, -0.1592], [-0.3611, -0.7905]], [[0, 0], [0, 0]], [[-0.3436, 0], [0, -0.3497]]], [[[-0.1423, 0], [-0.273, 0]], [[0, 0], [0.5187, 0.0207]], [[0, 0], [-0.3666, -0.2468]]], [[[0, -0.607], [-0.5011, 0]], [[0, -0.1109], [-0.5764, 0.1642]], [[0, -0.5154], [-0.7242, 0.7134]]]]]