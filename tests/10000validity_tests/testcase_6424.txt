import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min19093 = tf.keras.layers.Input(shape=([2, 1, 2, 1]))
in1Min19093 = tf.keras.layers.Input(shape=([2, 1, 2, 1]))
in0Con14972 = tf.keras.layers.Input(shape=([2, 1]))
in0ELU91706 = tf.keras.layers.Input(shape=([2, 2]))

Min19093 = keras.layers.Minimum(name = 'Min19093', )([in0Min19093,in1Min19093])
Res80225 = keras.layers.Reshape((2, 1, 2), name = 'Res80225', )(Min19093)
Res83950 = keras.layers.Reshape((2, 2), name = 'Res83950', )(Res80225)
Glo4279 = keras.layers.GlobalAveragePooling1D(name = 'Glo4279', )(Res83950)
Res51747 = keras.layers.Reshape((2, 1), name = 'Res51747', )(Glo4279)
Con14972 = keras.layers.Concatenate(axis=2, name = 'Con14972', )([Res51747,in0Con14972])
ELU91706 = keras.layers.ELU(alpha=9.636869697685672, name = 'ELU91706', input_shape=(2, 2))(in0ELU91706)
Mul45696 = keras.layers.Multiply(name = 'Mul45696', )([Con14972,ELU91706])
Res52164 = keras.layers.Reshape((2, 2, 1), name = 'Res52164', )(Mul45696)
Glo38034 = keras.layers.GlobalAveragePooling2D(name = 'Glo38034', )(Res52164)
model = tf.keras.models.Model(inputs=[in0Min19093,in1Min19093,in0Con14972,in0ELU91706], outputs=Glo38034)
in0Min19093 = tf.constant([[[[[0.2451], [0.6357]]], [[[0.0384], [0.5972]]]]])
in1Min19093 = tf.constant([[[[[0.7156], [0.9755]]], [[[0.0293], [0.1167]]]]])
in0Con14972 = tf.constant([[[0.132], [0.0798]]])
in0ELU91706 = tf.constant([[[0.3975, 0.2779], [0.5053, 0.1144]]])
print (np.array2string(model.predict([in0Min19093,in1Min19093,in0Con14972,in0ELU91706],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo38034.png')

LMin19093 = minimum_layer([[[[[[0.2451], [0.6357]]], [[[0.0384], [0.5972]]]]], [[[[[0.7156], [0.9755]]], [[[0.0293], [0.1167]]]]]], Min19093), 
LRes80225 = reshape_layer(Min19093, [2, 1, 2], Res80225), 
LRes83950 = reshape_layer(Res80225, [2, 2], Res83950), 
LGlo4279 = global_average_pooling1D_layer(Res83950, Glo4279), 
LRes51747 = reshape_layer(Glo4279, [2, 1], Res51747), 
LCon14972 = concatenate_layer([Res51747,[[[0.132], [0.0798]]]], 2, Con14972), 
LELU91706 = elu_layer([[[0.3975, 0.2779], [0.5053, 0.1144]]], 9.636869697685672, ELU91706), 
LMul45696 = multiply_layer([Con14972,ELU91706], Mul45696), 
LRes52164 = reshape_layer(Mul45696, [2, 2, 1], Res52164), 
LGlo38034 = global_average_pooling2D_layer(Res52164, Glo38034), 
exec_layers([LMin19093,LRes80225,LRes83950,LGlo4279,LRes51747,LCon14972,LELU91706,LMul45696,LRes52164,LGlo38034],["Min19093","Res80225","Res83950","Glo4279","Res51747","Con14972","ELU91706","Mul45696","Res52164","Glo38034"],Glo38034,"Glo38034")

Actual (Unparsed): [[0.0726107]]

Expected (Unparsed): [[0.072610695]]

Actual:   [[0.0727]]

Expected: [[0.0727]]