import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub17844 = tf.keras.layers.Input(shape=([2, 3]))
in1Sub17844 = tf.keras.layers.Input(shape=([2, 3]))

Sub17844 = keras.layers.Subtract(name = 'Sub17844', )([in0Sub17844,in1Sub17844])
Res7 = keras.layers.Reshape((2, 3, 1), name = 'Res7', )(Sub17844)
Glo26513 = keras.layers.GlobalMaxPool2D(name = 'Glo26513', )(Res7)
Res84151 = keras.layers.Reshape((1, 1), name = 'Res84151', )(Glo26513)
Res12158 = keras.layers.Reshape((1, 1, 1), name = 'Res12158', )(Res84151)
Res85024 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res85024', )(Res12158)
Glo26631 = keras.layers.GlobalAveragePooling3D(name = 'Glo26631', )(Res85024)
Res10679 = keras.layers.Reshape((1, 1), name = 'Res10679', )(Glo26631)
Res38398 = keras.layers.Reshape((1, 1, 1), name = 'Res38398', )(Res10679)
Res98841 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res98841', )(Res38398)
Zer15136 = keras.layers.ZeroPadding3D(padding=((1, 1), (1, 1), (1, 1)), name = 'Zer15136', )(Res98841)
model = tf.keras.models.Model(inputs=[in0Sub17844,in1Sub17844], outputs=Zer15136)
in0Sub17844 = tf.constant([[[0.7196, 0.7994, 0.586], [0.7728, 0.1896, 0.2938]]])
in1Sub17844 = tf.constant([[[0.048, 0.2788, 0.6629], [0.5523, 0.8218, 0.4709]]])
print (np.array2string(model.predict([in0Sub17844,in1Sub17844],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Zer15136.png')

LSub17844 = subtract_layer([[[0.7196, 0.7994, 0.586], [0.7728, 0.1896, 0.2938]]], [[[0.048, 0.2788, 0.6629], [0.5523, 0.8218, 0.4709]]], Sub17844), 
LRes7 = reshape_layer(Sub17844, [2, 3, 1], Res7), 
LGlo26513 = global_max_pool2D_layer(Res7, Glo26513), 
LRes84151 = reshape_layer(Glo26513, [1, 1], Res84151), 
LRes12158 = reshape_layer(Res84151, [1, 1, 1], Res12158), 
LRes85024 = reshape_layer(Res12158, [1, 1, 1, 1], Res85024), 
LGlo26631 = global_average_pooling3D_layer(Res85024, Glo26631), 
LRes10679 = reshape_layer(Glo26631, [1, 1], Res10679), 
LRes38398 = reshape_layer(Res10679, [1, 1, 1], Res38398), 
LRes98841 = reshape_layer(Res38398, [1, 1, 1, 1], Res98841), 
LZer15136 = zero_padding3D_layer(Res98841, 1, 1, 1, 1, 1, 1, Zer15136), 
exec_layers([LSub17844,LRes7,LGlo26513,LRes84151,LRes12158,LRes85024,LGlo26631,LRes10679,LRes38398,LRes98841,LZer15136],["Sub17844","Res7","Glo26513","Res84151","Res12158","Res85024","Glo26631","Res10679","Res38398","Res98841","Zer15136"],Zer15136,"Zer15136")

Actual (Unparsed): [[[[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.6716000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]]]]

Expected (Unparsed): [[[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0.6716],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]]]]]

Actual:   [[[[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.6716], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]]]]

Expected: [[[[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.6716], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]]]]