import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add44940 = tf.keras.layers.Input(shape=([1, 2, 1, 2]))
in1Add44940 = tf.keras.layers.Input(shape=([1, 2, 1, 2]))
in0Sub66648 = tf.keras.layers.Input(shape=([2, 2, 2]))
in1Sub66648 = tf.keras.layers.Input(shape=([2, 2, 2]))

Add44940 = keras.layers.Add(name = 'Add44940', )([in0Add44940,in1Add44940])
Res24291 = keras.layers.Reshape((1, 2, 2), name = 'Res24291', )(Add44940)
Zer12208 = keras.layers.ZeroPadding2D(padding=((1, 0), (0, 0)), name = 'Zer12208', )(Res24291)
Sub66648 = keras.layers.Subtract(name = 'Sub66648', )([in0Sub66648,in1Sub66648])
Add65013 = keras.layers.Add(name = 'Add65013', )([Zer12208,Sub66648])
Res93608 = keras.layers.Reshape((2, 2, 2, 1), name = 'Res93608', )(Add65013)
Glo5313 = keras.layers.GlobalAveragePooling3D(name = 'Glo5313', )(Res93608)
Res44775 = keras.layers.Reshape((1, 1), name = 'Res44775', )(Glo5313)
Cro9736 = keras.layers.Cropping1D(cropping=((0, 0)), name = 'Cro9736', )(Res44775)
model = tf.keras.models.Model(inputs=[in0Add44940,in1Add44940,in0Sub66648,in1Sub66648], outputs=Cro9736)
in0Add44940 = tf.constant([[[[[0.202, 0.5151]], [[0.1619, 0.1406]]]]])
in1Add44940 = tf.constant([[[[[0.6054, 0.1242]], [[0.7338, 0.0297]]]]])
in0Sub66648 = tf.constant([[[[0.6708, 0.9816], [0.0163, 0.305]], [[0.6079, 0.8158], [0.1089, 0.7589]]]])
in1Sub66648 = tf.constant([[[[0.2768, 0.5946], [0.001, 0.9059]], [[0.0402, 0.3937], [0.8221, 0.034]]]])
print (np.array2string(model.predict([in0Add44940,in1Add44940,in0Sub66648,in1Sub66648],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Cro9736.png')

LAdd44940 = add_layer([[[[[[0.202, 0.5151]], [[0.1619, 0.1406]]]]], [[[[[0.6054, 0.1242]], [[0.7338, 0.0297]]]]]], Add44940), 
LRes24291 = reshape_layer(Add44940, [1, 2, 2], Res24291), 
LZer12208 = zero_padding2D_layer(Res24291, 1, 0, 0, 0, Zer12208), 
LSub66648 = subtract_layer([[[[0.6708, 0.9816], [0.0163, 0.305]], [[0.6079, 0.8158], [0.1089, 0.7589]]]], [[[[0.2768, 0.5946], [0.001, 0.9059]], [[0.0402, 0.3937], [0.8221, 0.034]]]], Sub66648), 
LAdd65013 = add_layer([Zer12208,Sub66648], Add65013), 
LRes93608 = reshape_layer(Add65013, [2, 2, 2, 1], Res93608), 
LGlo5313 = global_average_pooling3D_layer(Res93608, Glo5313), 
LRes44775 = reshape_layer(Glo5313, [1, 1], Res44775), 
LCro9736 = cropping1D_layer(Res44775, 0, 0, Cro9736), 
exec_layers([LAdd44940,LRes24291,LZer12208,LSub66648,LAdd65013,LRes93608,LGlo5313,LRes44775,LCro9736],["Add44940","Res24291","Zer12208","Sub66648","Add65013","Res93608","Glo5313","Res44775","Cro9736"],Cro9736,"Cro9736")

Actual (Unparsed): [[[0.4637000]]]

Expected (Unparsed): [[[0.4637]]]

Actual:   [[[0.4637]]]

Expected: [[[0.4637]]]