import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0ELU1094 = tf.keras.layers.Input(shape=([1, 2]))
in0Add28508 = tf.keras.layers.Input(shape=([2, 2, 1, 1]))
in1Add28508 = tf.keras.layers.Input(shape=([2, 2, 1, 1]))

ELU1094 = keras.layers.ELU(alpha=1.6162262306788922, name = 'ELU1094', input_shape=(1, 2))(in0ELU1094)
Res49950 = keras.layers.Reshape((1, 2, 1), name = 'Res49950', )(ELU1094)
Res7185 = keras.layers.Reshape((1, 2, 1, 1), name = 'Res7185', )(Res49950)
Zer95684 = keras.layers.ZeroPadding3D(padding=((1, 0), (0, 0), (0, 0)), name = 'Zer95684', )(Res7185)
Add28508 = keras.layers.Add(name = 'Add28508', )([in0Add28508,in1Add28508])
Ave47792 = keras.layers.Average(name = 'Ave47792', )([Zer95684,Add28508])
model = tf.keras.models.Model(inputs=[in0ELU1094,in0Add28508,in1Add28508], outputs=Ave47792)
in0ELU1094 = tf.constant([[[0.3561, 0.4331]]])
in0Add28508 = tf.constant([[[[[0.8049]], [[0.3633]]], [[[0.9478]], [[0.5218]]]]])
in1Add28508 = tf.constant([[[[[0.0515]], [[0.6813]]], [[[0.5104]], [[0.5716]]]]])
print (np.array2string(model.predict([in0ELU1094,in0Add28508,in1Add28508],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Ave47792.png')

LELU1094 = elu_layer([[[0.3561, 0.4331]]], 1.6162262306788922, ELU1094), 
LRes49950 = reshape_layer(ELU1094, [1, 2, 1], Res49950), 
LRes7185 = reshape_layer(Res49950, [1, 2, 1, 1], Res7185), 
LZer95684 = zero_padding3D_layer(Res7185, 1, 0, 0, 0, 0, 0, Zer95684), 
LAdd28508 = add_layer([[[[[[0.8049]], [[0.3633]]], [[[0.9478]], [[0.5218]]]]], [[[[[0.0515]], [[0.6813]]], [[[0.5104]], [[0.5716]]]]]], Add28508), 
LAve47792 = average_layer([Zer95684,Add28508], Ave47792), 
exec_layers([LELU1094,LRes49950,LRes7185,LZer95684,LAdd28508,LAve47792],["ELU1094","Res49950","Res7185","Zer95684","Add28508","Ave47792"],Ave47792,"Ave47792")

Actual (Unparsed): [[[[[0.4282000]], [[0.5223000]]], [[[0.9071500]], [[0.7632500]]]]]

Expected (Unparsed): [[[[[0.42819999999999997]],[[0.5223]]],[[[0.90715]],[[0.76325]]]]]

Actual:   [[[[[0.4282]], [[0.5223]]], [[[0.9072]], [[0.7633]]]]]

Expected: [[[[[0.4282]], [[0.5223]]], [[[0.9072]], [[0.7633]]]]]