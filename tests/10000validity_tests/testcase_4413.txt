import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo33101 = tf.keras.layers.Input(shape=([1, 2, 2, 2]))
in0Up_6755 = tf.keras.layers.Input(shape=([3, 4]))

Glo33101 = keras.layers.GlobalMaxPool3D(name = 'Glo33101', )(in0Glo33101)
Res5459 = keras.layers.Reshape((2, 1), name = 'Res5459', )(Glo33101)
Per80658 = keras.layers.Permute((2,1), name = 'Per80658',)(Res5459)
Res53221 = keras.layers.Reshape((1, 2, 1), name = 'Res53221', )(Per80658)
Zer89281 = keras.layers.ZeroPadding2D(padding=((2, 0), (2, 0)), name = 'Zer89281', )(Res53221)
Up_6755 = keras.layers.UpSampling1D(size=(1), name = 'Up_6755', )(in0Up_6755)
Res10599 = keras.layers.Reshape((3, 4, 1), name = 'Res10599', )(Up_6755)
Up_73710 = keras.layers.UpSampling2D(size=(1, 1), name = 'Up_73710', )(Res10599)
ELU88623 = keras.layers.ELU(alpha=4.547069346262884, name = 'ELU88623', )(Up_73710)
Max46768 = keras.layers.Maximum(name = 'Max46768', )([Zer89281,ELU88623])
model = tf.keras.models.Model(inputs=[in0Glo33101,in0Up_6755], outputs=Max46768)
in0Glo33101 = tf.constant([[[[[1.5178, 1.4529], [1.4351, 1.9557]], [[1.7735, 1.1642], [1.4866, 1.8983]]]]])
in0Up_6755 = tf.constant([[[1.1285, 1.7725, 1.8814, 1.6813], [1.1513, 1.9594, 1.6373, 1.1643], [1.1827, 1.0641, 1.8273, 1.88]]])
print (np.array2string(model.predict([in0Glo33101,in0Up_6755],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max46768.png')

LGlo33101 = global_max_pool3D_layer([[[[[1.5178, 1.4529], [1.4351, 1.9557]], [[1.7735, 1.1642], [1.4866, 1.8983]]]]], Glo33101), 
LRes5459 = reshape_layer(Glo33101, [2, 1], Res5459), 
LPer80658 = permute_layer(Res5459, 2,1, Per80658), 
LRes53221 = reshape_layer(Per80658, [1, 2, 1], Res53221), 
LZer89281 = zero_padding2D_layer(Res53221, 2, 0, 2, 0, Zer89281), 
LUp_6755 = up_sampling1D_layer([[[1.1285, 1.7725, 1.8814, 1.6813], [1.1513, 1.9594, 1.6373, 1.1643], [1.1827, 1.0641, 1.8273, 1.88]]], 1, Up_6755), 
LRes10599 = reshape_layer(Up_6755, [3, 4, 1], Res10599), 
LUp_73710 = up_sampling2D_layer(Res10599, 1, 1, Up_73710), 
LELU88623 = elu_layer(Up_73710, 4.547069346262884, ELU88623), 
LMax46768 = maximum_layer([Zer89281,ELU88623], Max46768), 
exec_layers([LGlo33101,LRes5459,LPer80658,LRes53221,LZer89281,LUp_6755,LRes10599,LUp_73710,LELU88623,LMax46768],["Glo33101","Res5459","Per80658","Res53221","Zer89281","Up_6755","Res10599","Up_73710","ELU88623","Max46768"],Max46768,"Max46768")

Actual (Unparsed): [[[[1.1285000], [1.7725000], [1.8814000], [1.6813000]], [[1.1513000], [1.9594001], [1.6373000], [1.1643000]], [[1.1827000], [1.0641000], [1.8273000], [1.9557000]]]]

Expected (Unparsed): [[[[1.1285],[1.7725],[1.8814],[1.6813]],[[1.1513],[1.9594],[1.6373],[1.1643]],[[1.1827],[1.0641],[1.8273],[1.9557]]]]

Actual:   [[[[1.1285], [1.7725], [1.8814], [1.6813]], [[1.1513], [1.9595], [1.6373], [1.1643]], [[1.1827], [1.0641], [1.8273], [1.9557]]]]

Expected: [[[[1.1285], [1.7725], [1.8814], [1.6813]], [[1.1513], [1.9594], [1.6373], [1.1643]], [[1.1827], [1.0641], [1.8273], [1.9557]]]]