import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul70676 = tf.keras.layers.Input(shape=([2, 1]))
in1Mul70676 = tf.keras.layers.Input(shape=([2, 1]))
in0Con64886 = tf.keras.layers.Input(shape=([2, 1, 1]))
in0Add93387 = tf.keras.layers.Input(shape=([1, 1, 2]))
in1Add93387 = tf.keras.layers.Input(shape=([1, 1, 2]))

Mul70676 = keras.layers.Multiply(name = 'Mul70676', )([in0Mul70676,in1Mul70676])
Res36860 = keras.layers.Reshape((2, 1, 1), name = 'Res36860', )(Mul70676)
Con64886 = keras.layers.Concatenate(axis=3, name = 'Con64886', )([Res36860,in0Con64886])
Add93387 = keras.layers.Add(name = 'Add93387', )([in0Add93387,in1Add93387])
Zer59538 = keras.layers.ZeroPadding2D(padding=((1, 0), (0, 0)), name = 'Zer59538', )(Add93387)
Sub35327 = keras.layers.Subtract(name = 'Sub35327', )([Con64886,Zer59538])
Res72364 = keras.layers.Reshape((2, 1, 2, 1), name = 'Res72364', )(Sub35327)
Zer57810 = keras.layers.ZeroPadding3D(padding=((1, 1), (1, 1), (1, 1)), name = 'Zer57810', )(Res72364)
Up_91043 = keras.layers.UpSampling3D(size=(1, 2, 2), name = 'Up_91043', )(Zer57810)
model = tf.keras.models.Model(inputs=[in0Mul70676,in1Mul70676,in0Con64886,in0Add93387,in1Add93387], outputs=Up_91043)
in0Mul70676 = tf.constant([[[0.2152], [0.5935]]])
in1Mul70676 = tf.constant([[[0.3133], [0.4692]]])
in0Con64886 = tf.constant([[[[0.7909]], [[0.6894]]]])
in0Add93387 = tf.constant([[[[0.2158, 0.7208]]]])
in1Add93387 = tf.constant([[[[0.0624, 0.0864]]]])
print (np.array2string(model.predict([in0Mul70676,in1Mul70676,in0Con64886,in0Add93387,in1Add93387],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Up_91043.png')

LMul70676 = multiply_layer([[[[0.2152], [0.5935]]], [[[0.3133], [0.4692]]]], Mul70676), 
LRes36860 = reshape_layer(Mul70676, [2, 1, 1], Res36860), 
LCon64886 = concatenate_layer([Res36860,[[[[0.7909]], [[0.6894]]]]], 3, Con64886), 
LAdd93387 = add_layer([[[[[0.2158, 0.7208]]]], [[[[0.0624, 0.0864]]]]], Add93387), 
LZer59538 = zero_padding2D_layer(Add93387, 1, 0, 0, 0, Zer59538), 
LSub35327 = subtract_layer(Con64886,Zer59538, Sub35327), 
LRes72364 = reshape_layer(Sub35327, [2, 1, 2, 1], Res72364), 
LZer57810 = zero_padding3D_layer(Res72364, 1, 1, 1, 1, 1, 1, Zer57810), 
LUp_91043 = up_sampling3D_layer(Zer57810, 1, 2, 2, Up_91043), 
exec_layers([LMul70676,LRes36860,LCon64886,LAdd93387,LZer59538,LSub35327,LRes72364,LZer57810,LUp_91043],["Mul70676","Res36860","Con64886","Add93387","Zer59538","Sub35327","Res72364","Zer57810","Up_91043"],Up_91043,"Up_91043")

Actual (Unparsed): [[[[[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0674222], [0.0674222], [0.7909000], [0.7909000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0674222], [0.0674222], [0.7909000], [0.7909000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0002702], [0.0002702], [-0.1178000], [-0.1178000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0002702], [0.0002702], [-0.1178000], [-0.1178000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]]]]]

Expected (Unparsed): [[[[[0],[0],[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0],[0],[0]]],[[[0],[0],[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0],[0],[0]],[[0],[0],[0.06742216000000001],[0.06742216000000001],[0.7909],[0.7909],[0],[0]],[[0],[0],[0.06742216000000001],[0.06742216000000001],[0.7909],[0.7909],[0],[0]],[[0],[0],[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0],[0],[0]]],[[[0],[0],[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0],[0],[0]],[[0],[0],[0.0002701999999999982],[0.0002701999999999982],[-0.11780000000000002],[-0.11780000000000002],[0],[0]],[[0],[0],[0.0002701999999999982],[0.0002701999999999982],[-0.11780000000000002],[-0.11780000000000002],[0],[0]],[[0],[0],[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0],[0],[0]]],[[[0],[0],[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0],[0],[0]]]]]

Actual:   [[[[[0], [0], [0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0], [0], [0]]], [[[0], [0], [0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0], [0], [0]], [[0], [0], [0.0675], [0.0675], [0.7909], [0.7909], [0], [0]], [[0], [0], [0.0675], [0.0675], [0.7909], [0.7909], [0], [0]], [[0], [0], [0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0], [0], [0]]], [[[0], [0], [0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0], [0], [0]], [[0], [0], [0.0003], [0.0003], [-0.1178], [-0.1178], [0], [0]], [[0], [0], [0.0003], [0.0003], [-0.1178], [-0.1178], [0], [0]], [[0], [0], [0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0], [0], [0]]], [[[0], [0], [0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0], [0], [0]]]]]

Expected: [[[[[0], [0], [0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0], [0], [0]]], [[[0], [0], [0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0], [0], [0]], [[0], [0], [0.0675], [0.0675], [0.7909], [0.7909], [0], [0]], [[0], [0], [0.0675], [0.0675], [0.7909], [0.7909], [0], [0]], [[0], [0], [0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0], [0], [0]]], [[[0], [0], [0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0], [0], [0]], [[0], [0], [0.0003], [0.0003], [-0.1178], [-0.1178], [0], [0]], [[0], [0], [0.0003], [0.0003], [-0.1178], [-0.1178], [0], [0]], [[0], [0], [0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0], [0], [0]]], [[[0], [0], [0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0], [0], [0], [0]]]]]