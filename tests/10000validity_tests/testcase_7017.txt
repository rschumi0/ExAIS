import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min27662 = tf.keras.layers.Input(shape=([2, 2, 2]))
in1Min27662 = tf.keras.layers.Input(shape=([2, 2, 2]))
in0Min95312 = tf.keras.layers.Input(shape=([1, 2, 2]))
in1Min95312 = tf.keras.layers.Input(shape=([1, 2, 2]))

Min27662 = keras.layers.Minimum(name = 'Min27662', )([in0Min27662,in1Min27662])
Min95312 = keras.layers.Minimum(name = 'Min95312', )([in0Min95312,in1Min95312])
Zer68664 = keras.layers.ZeroPadding2D(padding=((1, 0), (0, 0)), name = 'Zer68664', )(Min95312)
Sub97478 = keras.layers.Subtract(name = 'Sub97478', )([Min27662,Zer68664])
model = tf.keras.models.Model(inputs=[in0Min27662,in1Min27662,in0Min95312,in1Min95312], outputs=Sub97478)
in0Min27662 = tf.constant([[[[0.844, 0.4312], [0.6247, 0.7432]], [[0.5538, 0.7289], [0.8183, 0.1381]]]])
in1Min27662 = tf.constant([[[[0.8758, 0.0661], [0.8717, 0.309]], [[0.5946, 0.9147], [0.208, 0.2036]]]])
in0Min95312 = tf.constant([[[[0.4682, 0.2788], [0.7744, 0.4197]]]])
in1Min95312 = tf.constant([[[[0.1801, 0.1339], [0.9993, 0.0932]]]])
print (np.array2string(model.predict([in0Min27662,in1Min27662,in0Min95312,in1Min95312],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sub97478.png')

LMin27662 = minimum_layer([[[[[0.844, 0.4312], [0.6247, 0.7432]], [[0.5538, 0.7289], [0.8183, 0.1381]]]], [[[[0.8758, 0.0661], [0.8717, 0.309]], [[0.5946, 0.9147], [0.208, 0.2036]]]]], Min27662), 
LMin95312 = minimum_layer([[[[[0.4682, 0.2788], [0.7744, 0.4197]]]], [[[[0.1801, 0.1339], [0.9993, 0.0932]]]]], Min95312), 
LZer68664 = zero_padding2D_layer(Min95312, 1, 0, 0, 0, Zer68664), 
LSub97478 = subtract_layer(Min27662,Zer68664, Sub97478), 
exec_layers([LMin27662,LMin95312,LZer68664,LSub97478],["Min27662","Min95312","Zer68664","Sub97478"],Sub97478,"Sub97478")

Actual (Unparsed): [[[[0.8440000, 0.0661000], [0.6247000, 0.3090000]], [[0.3737000, 0.5950000], [-0.5664000, 0.0449000]]]]

Expected (Unparsed): [[[[0.844,0.0661],[0.6247,0.309]],[[0.3736999999999999,0.595],[-0.5664,0.044899999999999995]]]]

Actual:   [[[[0.844, 0.0661], [0.6247, 0.309]], [[0.3737, 0.595], [-0.5664, 0.0449]]]]

Expected: [[[[0.844, 0.0661], [0.6247, 0.309]], [[0.3737, 0.595], [-0.5664, 0.0449]]]]