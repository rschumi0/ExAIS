import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Cro2892 = tf.keras.layers.Input(shape=([3, 2]))
in0Zer6501 = tf.keras.layers.Input(shape=([2, 2]))
in0Con30228 = tf.keras.layers.Input(shape=([3, 4, 2]))

Cro2892 = keras.layers.Cropping1D(cropping=((2, 0)), name = 'Cro2892', )(in0Cro2892)
Res60946 = keras.layers.Reshape((1, 2, 1), name = 'Res60946', )(Cro2892)
Res99479 = keras.layers.Reshape((1, 2, 1, 1), name = 'Res99479', )(Res60946)
Zer10865 = keras.layers.ZeroPadding3D(padding=((1, 1), (1, 1), (1, 1)), name = 'Zer10865', )(Res99479)
Res55905 = keras.layers.Reshape((3, 4, 3), name = 'Res55905', )(Zer10865)
Zer6501 = keras.layers.ZeroPadding1D(padding=((1, 1)), name = 'Zer6501', )(in0Zer6501)
Cro43518 = keras.layers.Cropping1D(cropping=((3, 0)), name = 'Cro43518', )(Zer6501)
Res72270 = keras.layers.Reshape((1, 2, 1), name = 'Res72270', )(Cro43518)
Cro93077 = keras.layers.Cropping2D(cropping=((0, 0), (1, 0)), name = 'Cro93077', )(Res72270)
Zer74848 = keras.layers.ZeroPadding2D(padding=((2, 0), (3, 0)), name = 'Zer74848', )(Cro93077)
Con30228 = keras.layers.Concatenate(axis=3, name = 'Con30228', )([Zer74848,in0Con30228])
Min80124 = keras.layers.Minimum(name = 'Min80124', )([Res55905,Con30228])
model = tf.keras.models.Model(inputs=[in0Cro2892,in0Zer6501,in0Con30228], outputs=Min80124)
in0Cro2892 = tf.constant([[[1.3845, 1.4771], [1.9267, 1.2074], [1.3248, 1.0835]]])
in0Zer6501 = tf.constant([[[1.1103, 1.8191], [1.4501, 1.9285]]])
in0Con30228 = tf.constant([[[[0.4037, 0.7181], [0.9372, 0.4475], [0.957, 0.8086], [0.3788, 0.8814]], [[0.5383, 0.052], [0.5739, 0.1222], [0.0141, 0.9093], [0.0412, 0.8148]], [[0.2819, 0.6808], [0.235, 0.082], [0.8902, 0.0254], [0.7346, 0.679]]]])
print (np.array2string(model.predict([in0Cro2892,in0Zer6501,in0Con30228],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min80124.png')

LCro2892 = cropping1D_layer([[[1.3845, 1.4771], [1.9267, 1.2074], [1.3248, 1.0835]]], 2, 0, Cro2892), 
LRes60946 = reshape_layer(Cro2892, [1, 2, 1], Res60946), 
LRes99479 = reshape_layer(Res60946, [1, 2, 1, 1], Res99479), 
LZer10865 = zero_padding3D_layer(Res99479, 1, 1, 1, 1, 1, 1, Zer10865), 
LRes55905 = reshape_layer(Zer10865, [3, 4, 3], Res55905), 
LZer6501 = zero_padding1D_layer([[[1.1103, 1.8191], [1.4501, 1.9285]]], 1, 1, Zer6501), 
LCro43518 = cropping1D_layer(Zer6501, 3, 0, Cro43518), 
LRes72270 = reshape_layer(Cro43518, [1, 2, 1], Res72270), 
LCro93077 = cropping2D_layer(Res72270, 0, 0, 1, 0, Cro93077), 
LZer74848 = zero_padding2D_layer(Cro93077, 2, 0, 3, 0, Zer74848), 
LCon30228 = concatenate_layer([Zer74848,[[[[0.4037, 0.7181], [0.9372, 0.4475], [0.957, 0.8086], [0.3788, 0.8814]], [[0.5383, 0.052], [0.5739, 0.1222], [0.0141, 0.9093], [0.0412, 0.8148]], [[0.2819, 0.6808], [0.235, 0.082], [0.8902, 0.0254], [0.7346, 0.679]]]]], 3, Con30228), 
LMin80124 = minimum_layer([Res55905,Con30228], Min80124), 
exec_layers([LCro2892,LRes60946,LRes99479,LZer10865,LRes55905,LZer6501,LCro43518,LRes72270,LCro93077,LZer74848,LCon30228,LMin80124],["Cro2892","Res60946","Res99479","Zer10865","Res55905","Zer6501","Cro43518","Res72270","Cro93077","Zer74848","Con30228","Min80124"],Min80124,"Min80124")

Actual (Unparsed): [[[[0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.5739000, 0.0000000], [0.0000000, 0.0141000, 0.0000000], [0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000]]]]

Expected (Unparsed): [[[[0,0,0],[0,0,0],[0,0,0],[0,0,0]],[[0,0,0],[0,0.5739,0],[0,0.0141,0],[0,0,0]],[[0,0,0],[0,0,0],[0,0,0],[0,0,0]]]]

Actual:   [[[[0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0]], [[0, 0, 0], [0, 0.5739, 0], [0, 0.0141, 0], [0, 0, 0]], [[0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0]]]]

Expected: [[[[0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0]], [[0, 0, 0], [0, 0.5739, 0], [0, 0.0141, 0], [0, 0, 0]], [[0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0]]]]