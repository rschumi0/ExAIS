import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave51283 = tf.keras.layers.Input(shape=([2, 1]))
in1Ave51283 = tf.keras.layers.Input(shape=([2, 1]))

Ave51283 = keras.layers.Average(name = 'Ave51283', )([in0Ave51283,in1Ave51283])
Res98957 = keras.layers.Reshape((2, 1, 1), name = 'Res98957', )(Ave51283)
Ave55463 = keras.layers.AveragePooling2D(pool_size=(2, 1), strides=(3, 1), padding='same', name = 'Ave55463', )(Res98957)
model = tf.keras.models.Model(inputs=[in0Ave51283,in1Ave51283], outputs=Ave55463)
in0Ave51283 = tf.constant([[[0.8554], [0.5256]]])
in1Ave51283 = tf.constant([[[0.5154], [0.2712]]])
print (np.array2string(model.predict([in0Ave51283,in1Ave51283],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Ave55463.png')

LAve51283 = average_layer([[[[0.8554], [0.5256]]], [[[0.5154], [0.2712]]]], Ave51283), 
LRes98957 = reshape_layer(Ave51283, [2, 1, 1], Res98957), 
LAve55463 = average_pooling2D_layer(Res98957, 2, 1, 3, 1, true, Ave55463), 
exec_layers([LAve51283,LRes98957,LAve55463],["Ave51283","Res98957","Ave55463"],Ave55463,"Ave55463")

Actual (Unparsed): [[[[0.5419000]]]]

Expected (Unparsed): [[[[0.5419]]]]

Actual:   [[[[0.5419]]]]

Expected: [[[[0.5419]]]]