import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min39257 = tf.keras.layers.Input(shape=([2, 1, 2]))
in1Min39257 = tf.keras.layers.Input(shape=([2, 1, 2]))
in0Lay4247 = tf.keras.layers.Input(shape=([2]))
in0Con7763 = tf.keras.layers.Input(shape=([2]))

Min39257 = keras.layers.Minimum(name = 'Min39257', )([in0Min39257,in1Min39257])
Res46208 = keras.layers.Reshape((2, 2), name = 'Res46208', )(Min39257)
Fla64902 = keras.layers.Flatten(name = 'Fla64902', )(Res46208)
Lay4247 = keras.layers.LayerNormalization(axis=1, epsilon=2.1214970967877997, name = 'Lay4247', )(in0Lay4247)
Con7763 = keras.layers.Concatenate(axis=1, name = 'Con7763', )([Lay4247,in0Con7763])
Max41694 = keras.layers.Maximum(name = 'Max41694', )([Fla64902,Con7763])
Res75821 = keras.layers.Reshape((4, 1), name = 'Res75821', )(Max41694)
Res45525 = keras.layers.Reshape((4, 1, 1), name = 'Res45525', )(Res75821)
Res22818 = keras.layers.Reshape((4, 1, 1, 1), name = 'Res22818', )(Res45525)
Zer90055 = keras.layers.ZeroPadding3D(padding=((1, 1), (1, 1), (1, 1)), name = 'Zer90055', )(Res22818)
model = tf.keras.models.Model(inputs=[in0Min39257,in1Min39257,in0Lay4247,in0Con7763], outputs=Zer90055)
in0Min39257 = tf.constant([[[[0.981, 0.3955]], [[0.4652, 0.8088]]]])
in1Min39257 = tf.constant([[[[0.6981, 0.552]], [[0.7978, 0.3864]]]])
in0Lay4247 = tf.constant([[1.9895, 1.278]])
in0Con7763 = tf.constant([[0.8714, 0.1564]])
print (np.array2string(model.predict([in0Min39257,in1Min39257,in0Lay4247,in0Con7763],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Zer90055.png')

LMin39257 = minimum_layer([[[[[0.981, 0.3955]], [[0.4652, 0.8088]]]], [[[[0.6981, 0.552]], [[0.7978, 0.3864]]]]], Min39257), 
LRes46208 = reshape_layer(Min39257, [2, 2], Res46208), 
LFla64902 = flatten_layer(Res46208, Fla64902), 
LLay4247 = layer_normalization_layer([[1.9895, 1.278]], 1, 2.1214970967877997, Lay4247), 
LCon7763 = concatenate_layer([Lay4247,[[0.8714, 0.1564]]], 1, Con7763), 
LMax41694 = maximum_layer([Fla64902,Con7763], Max41694), 
LRes75821 = reshape_layer(Max41694, [4, 1], Res75821), 
LRes45525 = reshape_layer(Res75821, [4, 1, 1], Res45525), 
LRes22818 = reshape_layer(Res45525, [4, 1, 1, 1], Res22818), 
LZer90055 = zero_padding3D_layer(Res22818, 1, 1, 1, 1, 1, 1, Zer90055), 
exec_layers([LMin39257,LRes46208,LFla64902,LLay4247,LCon7763,LMax41694,LRes75821,LRes45525,LRes22818,LZer90055],["Min39257","Res46208","Fla64902","Lay4247","Con7763","Max41694","Res75821","Res45525","Res22818","Zer90055"],Zer90055,"Zer90055")

Actual (Unparsed): [[[[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.6981000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.3955000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.8714000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.3864000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]]]]

Expected (Unparsed): [[[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0.6981],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0.3955],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0.8714],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0.3864],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]]]]]

Actual:   [[[[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.6981], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.3955], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.8714], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.3864], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]]]]

Expected: [[[[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.6981], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.3955], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.8714], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.3864], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]]]]