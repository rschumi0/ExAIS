import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min15088 = tf.keras.layers.Input(shape=([1, 1]))
in1Min15088 = tf.keras.layers.Input(shape=([1, 1]))
in0Con9675 = tf.keras.layers.Input(shape=([2, 1]))
in0Add59778 = tf.keras.layers.Input(shape=([1, 2]))
in1Add59778 = tf.keras.layers.Input(shape=([1, 2]))
in0Lay26911 = tf.keras.layers.Input(shape=([2, 1]))
in0Con67603 = tf.keras.layers.Input(shape=([2, 1]))

Min15088 = keras.layers.Minimum(name = 'Min15088', )([in0Min15088,in1Min15088])
Res67534 = keras.layers.Reshape((1, 1, 1), name = 'Res67534', )(Min15088)
Res25836 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res25836', )(Res67534)
Glo11595 = keras.layers.GlobalAveragePooling3D(name = 'Glo11595', )(Res25836)
Res48744 = keras.layers.Reshape((1, 1), name = 'Res48744', )(Glo11595)
Zer43740 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer43740', )(Res48744)
Con9675 = keras.layers.Concatenate(axis=2, name = 'Con9675', )([Zer43740,in0Con9675])
Add59778 = keras.layers.Add(name = 'Add59778', )([in0Add59778,in1Add59778])
Zer90527 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer90527', )(Add59778)
Lay26911 = keras.layers.LayerNormalization(axis=1, epsilon=1.3445977060373675, name = 'Lay26911', )(in0Lay26911)
Con67603 = keras.layers.Concatenate(axis=2, name = 'Con67603', )([Lay26911,in0Con67603])
Sub1131 = keras.layers.Subtract(name = 'Sub1131', )([Zer90527,Con67603])
Min29784 = keras.layers.Minimum(name = 'Min29784', )([Con9675,Sub1131])
model = tf.keras.models.Model(inputs=[in0Min15088,in1Min15088,in0Con9675,in0Add59778,in1Add59778,in0Lay26911,in0Con67603], outputs=Min29784)
in0Min15088 = tf.constant([[[0.0834]]])
in1Min15088 = tf.constant([[[0.0356]]])
in0Con9675 = tf.constant([[[0.6427], [0.4428]]])
in0Add59778 = tf.constant([[[0.4842, 0.6424]]])
in1Add59778 = tf.constant([[[0.8072, 0.6906]]])
in0Lay26911 = tf.constant([[[1.4336], [1.2702]]])
in0Con67603 = tf.constant([[[0.1134], [0.5967]]])
print (np.array2string(model.predict([in0Min15088,in1Min15088,in0Con9675,in0Add59778,in1Add59778,in0Lay26911,in0Con67603],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min29784.png')

LMin15088 = minimum_layer([[[[0.0834]]], [[[0.0356]]]], Min15088), 
LRes67534 = reshape_layer(Min15088, [1, 1, 1], Res67534), 
LRes25836 = reshape_layer(Res67534, [1, 1, 1, 1], Res25836), 
LGlo11595 = global_average_pooling3D_layer(Res25836, Glo11595), 
LRes48744 = reshape_layer(Glo11595, [1, 1], Res48744), 
LZer43740 = zero_padding1D_layer(Res48744, 1, 0, Zer43740), 
LCon9675 = concatenate_layer([Zer43740,[[[0.6427], [0.4428]]]], 2, Con9675), 
LAdd59778 = add_layer([[[[0.4842, 0.6424]]], [[[0.8072, 0.6906]]]], Add59778), 
LZer90527 = zero_padding1D_layer(Add59778, 1, 0, Zer90527), 
LLay26911 = layer_normalization_layer([[[1.4336], [1.2702]]], 1, 1.3445977060373675, Lay26911), 
LCon67603 = concatenate_layer([Lay26911,[[[0.1134], [0.5967]]]], 2, Con67603), 
LSub1131 = subtract_layer(Zer90527,Con67603, Sub1131), 
LMin29784 = minimum_layer([Con9675,Sub1131], Min29784), 
exec_layers([LMin15088,LRes67534,LRes25836,LGlo11595,LRes48744,LZer43740,LCon9675,LAdd59778,LZer90527,LLay26911,LCon67603,LSub1131,LMin29784],["Min15088","Res67534","Res25836","Glo11595","Res48744","Zer43740","Con9675","Add59778","Zer90527","Lay26911","Con67603","Sub1131","Min29784"],Min29784,"Min29784")

Actual (Unparsed): [[[-0.0702830, -0.1134000], [0.0356000, 0.4428000]]]

Expected (Unparsed): [[[-0.07028304547200413,-0.1134],[0.0356,0.4428]]]

Actual:   [[[-0.0702, -0.1134], [0.0356, 0.4428]]]

Expected: [[[-0.0702, -0.1134], [0.0356, 0.4428]]]