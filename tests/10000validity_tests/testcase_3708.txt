import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max55823 = tf.keras.layers.Input(shape=([2, 1]))

Max55823 = keras.layers.MaxPool1D(pool_size=(2), strides=(1), padding='same', name = 'Max55823', )(in0Max55823)
ELU76933 = keras.layers.ELU(alpha=0.5816967544564307, name = 'ELU76933', )(Max55823)
Res12943 = keras.layers.Reshape((2, 1, 1), name = 'Res12943', )(ELU76933)
Loc81750 = keras.layers.LocallyConnected2D(2, (2, 1),strides=(2, 1), name = 'Loc81750', )(Res12943)
model = tf.keras.models.Model(inputs=[in0Max55823], outputs=Loc81750)
w = model.get_layer('Loc81750').get_weights() 
w[0] = np.array([[[0.8914, 0.7446], [0.1582, 0.4692]]])
w[1] = np.array([[[0, 0]]])
model.get_layer('Loc81750').set_weights(w) 
in0Max55823 = tf.constant([[[1.6684], [1.7487]]])
print (np.array2string(model.predict([in0Max55823],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Loc81750.png')

LMax55823 = max_pool1D_layer([[[1.6684], [1.7487]]], 2, 1, true, Max55823), 
LELU76933 = elu_layer(Max55823, 0.5816967544564307, ELU76933), 
LRes12943 = reshape_layer(ELU76933, [2, 1, 1], Res12943), 
LLoc81750 = locally_connected2D_layer(Res12943, 2, 1,[[[0.8914, 0.7446], [0.1582, 0.4692]]],[[[0, 0]]], 2, 1, Loc81750), 
exec_layers([LMax55823,LELU76933,LRes12943,LLoc81750],["Max55823","ELU76933","Res12943","Loc81750"],Loc81750,"Loc81750")

Actual (Unparsed): [[[[1.8354355, 2.1225721]]]]

Expected (Unparsed): [[[[1.8354355199999999,2.12257206]]]]

Actual:   [[[[1.8355, 2.1226]]]]

Expected: [[[[1.8355, 2.1226]]]]