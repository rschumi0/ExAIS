import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave43489 = tf.keras.layers.Input(shape=([2, 1, 1, 2]))
in1Ave43489 = tf.keras.layers.Input(shape=([2, 1, 1, 2]))
in0Mul86498 = tf.keras.layers.Input(shape=([2, 2, 2]))
in1Mul86498 = tf.keras.layers.Input(shape=([2, 2, 2]))

Ave43489 = keras.layers.Average(name = 'Ave43489', )([in0Ave43489,in1Ave43489])
ELU10116 = keras.layers.ELU(alpha=7.32320638872978, name = 'ELU10116', )(Ave43489)
Res38159 = keras.layers.Reshape((2, 1, 2), name = 'Res38159', )(ELU10116)
Zer86671 = keras.layers.ZeroPadding2D(padding=((0, 0), (1, 0)), name = 'Zer86671', )(Res38159)
Mul86498 = keras.layers.Multiply(name = 'Mul86498', )([in0Mul86498,in1Mul86498])
Min12433 = keras.layers.Minimum(name = 'Min12433', )([Zer86671,Mul86498])
model = tf.keras.models.Model(inputs=[in0Ave43489,in1Ave43489,in0Mul86498,in1Mul86498], outputs=Min12433)
in0Ave43489 = tf.constant([[[[[0.9081, 0.9438]]], [[[0.2775, 0.3307]]]]])
in1Ave43489 = tf.constant([[[[[0.6724, 0.3135]]], [[[0.8243, 0.6115]]]]])
in0Mul86498 = tf.constant([[[[0.0382, 0.4266], [0.829, 0.488]], [[0.9697, 0.3941], [0.3661, 0.779]]]])
in1Mul86498 = tf.constant([[[[0.7277, 0.6339], [0.9928, 0.9879]], [[0.7094, 0.6596], [0.9195, 0.1242]]]])
print (np.array2string(model.predict([in0Ave43489,in1Ave43489,in0Mul86498,in1Mul86498],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min12433.png')

LAve43489 = average_layer([[[[[[0.9081, 0.9438]]], [[[0.2775, 0.3307]]]]], [[[[[0.6724, 0.3135]]], [[[0.8243, 0.6115]]]]]], Ave43489), 
LELU10116 = elu_layer(Ave43489, 7.32320638872978, ELU10116), 
LRes38159 = reshape_layer(ELU10116, [2, 1, 2], Res38159), 
LZer86671 = zero_padding2D_layer(Res38159, 0, 0, 1, 0, Zer86671), 
LMul86498 = multiply_layer([[[[[0.0382, 0.4266], [0.829, 0.488]], [[0.9697, 0.3941], [0.3661, 0.779]]]], [[[[0.7277, 0.6339], [0.9928, 0.9879]], [[0.7094, 0.6596], [0.9195, 0.1242]]]]], Mul86498), 
LMin12433 = minimum_layer([Zer86671,Mul86498], Min12433), 
exec_layers([LAve43489,LELU10116,LRes38159,LZer86671,LMul86498,LMin12433],["Ave43489","ELU10116","Res38159","Zer86671","Mul86498","Min12433"],Min12433,"Min12433")

Actual (Unparsed): [[[[0.0000000, 0.0000000], [0.7902500, 0.4820952]], [[0.0000000, 0.0000000], [0.3366290, 0.0967518]]]]

Expected (Unparsed): [[[[0,0],[0.79025,0.4820952]],[[0,0],[0.33662895,0.09675180000000001]]]]

Actual:   [[[[0, 0], [0.7903, 0.4821]], [[0, 0], [0.3367, 0.0968]]]]

Expected: [[[[0, 0], [0.7903, 0.4821]], [[0, 0], [0.3367, 0.0968]]]]