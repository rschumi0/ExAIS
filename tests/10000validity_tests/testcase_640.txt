import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Fla43840 = tf.keras.layers.Input(shape=([3, 2]))

Fla43840 = keras.layers.Flatten(name = 'Fla43840', )(in0Fla43840)
Res885 = keras.layers.Reshape((6, 1), name = 'Res885', )(Fla43840)
Res81330 = keras.layers.Reshape((6, 1, 1), name = 'Res81330', )(Res885)
Glo1220 = keras.layers.GlobalMaxPool2D(name = 'Glo1220', )(Res81330)
Res96939 = keras.layers.Reshape((1, 1), name = 'Res96939', )(Glo1220)
Glo46974 = keras.layers.GlobalAveragePooling1D(name = 'Glo46974', )(Res96939)
Res82985 = keras.layers.Reshape((1, 1), name = 'Res82985', )(Glo46974)
Res36811 = keras.layers.Reshape((1, 1, 1), name = 'Res36811', )(Res82985)
Cro12119 = keras.layers.Cropping2D(cropping=((0, 0), (0, 0)), name = 'Cro12119', )(Res36811)
model = tf.keras.models.Model(inputs=[in0Fla43840], outputs=Cro12119)
in0Fla43840 = tf.constant([[[1.0204, 1.9797], [1.386, 1.5711], [1.9842, 1.2457]]])
print (np.array2string(model.predict([in0Fla43840],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Cro12119.png')

LFla43840 = flatten_layer([[[1.0204, 1.9797], [1.386, 1.5711], [1.9842, 1.2457]]], Fla43840), 
LRes885 = reshape_layer(Fla43840, [6, 1], Res885), 
LRes81330 = reshape_layer(Res885, [6, 1, 1], Res81330), 
LGlo1220 = global_max_pool2D_layer(Res81330, Glo1220), 
LRes96939 = reshape_layer(Glo1220, [1, 1], Res96939), 
LGlo46974 = global_average_pooling1D_layer(Res96939, Glo46974), 
LRes82985 = reshape_layer(Glo46974, [1, 1], Res82985), 
LRes36811 = reshape_layer(Res82985, [1, 1, 1], Res36811), 
LCro12119 = cropping2D_layer(Res36811, 0, 0, 0, 0, Cro12119), 
exec_layers([LFla43840,LRes885,LRes81330,LGlo1220,LRes96939,LGlo46974,LRes82985,LRes36811,LCro12119],["Fla43840","Res885","Res81330","Glo1220","Res96939","Glo46974","Res82985","Res36811","Cro12119"],Cro12119,"Cro12119")

Actual (Unparsed): [[[[1.9842000]]]]

Expected (Unparsed): [[[[1.9842]]]]

Actual:   [[[[1.9842]]]]

Expected: [[[[1.9842]]]]