import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo88565 = tf.keras.layers.Input(shape=([1, 2]))
in0Con15474 = tf.keras.layers.Input(shape=([2, 2]))
in0Cro61722 = tf.keras.layers.Input(shape=([1, 3]))

Glo88565 = keras.layers.GlobalMaxPool1D(name = 'Glo88565', )(in0Glo88565)
ReL99941 = keras.layers.ReLU(max_value=0.5814718778106424, negative_slope=0.19054352596911692, threshold=9.916559342253407, name = 'ReL99941', )(Glo88565)
Res87514 = keras.layers.Reshape((2, 1), name = 'Res87514', )(ReL99941)
Con15474 = keras.layers.Concatenate(axis=2, name = 'Con15474', )([Res87514,in0Con15474])
Cro61722 = keras.layers.Cropping1D(cropping=((0, 0)), name = 'Cro61722', )(in0Cro61722)
Zer18101 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer18101', )(Cro61722)
Min67633 = keras.layers.Minimum(name = 'Min67633', )([Con15474,Zer18101])
Res67105 = keras.layers.Reshape((2, 3, 1), name = 'Res67105', )(Min67633)
Up_72527 = keras.layers.UpSampling2D(size=(1, 1), name = 'Up_72527', )(Res67105)
Res18518 = keras.layers.Reshape((2, 3), name = 'Res18518', )(Up_72527)
Ave98994 = keras.layers.AveragePooling1D(pool_size=(2), name = 'Ave98994', )(Res18518)
model = tf.keras.models.Model(inputs=[in0Glo88565,in0Con15474,in0Cro61722], outputs=Ave98994)
in0Glo88565 = tf.constant([[[1.0328, 1.8469]]])
in0Con15474 = tf.constant([[[0.5216, 0.6507], [0.8931, 0.7055]]])
in0Cro61722 = tf.constant([[[1.4897, 1.5073, 1.2926]]])
print (np.array2string(model.predict([in0Glo88565,in0Con15474,in0Cro61722],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Ave98994.png')

LGlo88565 = global_max_pool1D_layer([[[1.0328, 1.8469]]], Glo88565), 
LReL99941 = relu_layer(Glo88565, 0.5814718778106424, 0.19054352596911692, 9.916559342253407, ReL99941), 
LRes87514 = reshape_layer(ReL99941, [2, 1], Res87514), 
LCon15474 = concatenate_layer([Res87514,[[[0.5216, 0.6507], [0.8931, 0.7055]]]], 2, Con15474), 
LCro61722 = cropping1D_layer([[[1.4897, 1.5073, 1.2926]]], 0, 0, Cro61722), 
LZer18101 = zero_padding1D_layer(Cro61722, 1, 0, Zer18101), 
LMin67633 = minimum_layer([Con15474,Zer18101], Min67633), 
LRes67105 = reshape_layer(Min67633, [2, 3, 1], Res67105), 
LUp_72527 = up_sampling2D_layer(Res67105, 1, 1, Up_72527), 
LRes18518 = reshape_layer(Up_72527, [2, 3], Res18518), 
LAve98994 = average_pooling1D_layer(Res18518, 2, Ave98994), 
exec_layers([LGlo88565,LReL99941,LRes87514,LCon15474,LCro61722,LZer18101,LMin67633,LRes67105,LUp_72527,LRes18518,LAve98994],["Glo88565","ReL99941","Res87514","Con15474","Cro61722","Zer18101","Min67633","Res67105","Up_72527","Res18518","Ave98994"],Ave98994,"Ave98994")

Actual (Unparsed): [[[-1.6151821, 0.4465500, 0.3527500]]]

Expected (Unparsed): [[[-1.6151820866883182,0.44655,0.35275]]]

Actual:   [[[-1.6151, 0.4466, 0.3528]]]

Expected: [[[-1.6151, 0.4466, 0.3528]]]