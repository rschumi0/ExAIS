import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min97498 = tf.keras.layers.Input(shape=([2, 2, 2]))
in1Min97498 = tf.keras.layers.Input(shape=([2, 2, 2]))
in0Add83751 = tf.keras.layers.Input(shape=([1, 2, 2]))
in1Add83751 = tf.keras.layers.Input(shape=([1, 2, 2]))

Min97498 = keras.layers.Minimum(name = 'Min97498', )([in0Min97498,in1Min97498])
Add83751 = keras.layers.Add(name = 'Add83751', )([in0Add83751,in1Add83751])
Zer44427 = keras.layers.ZeroPadding2D(padding=((1, 0), (0, 0)), name = 'Zer44427', )(Add83751)
Sub3919 = keras.layers.Subtract(name = 'Sub3919', )([Min97498,Zer44427])
model = tf.keras.models.Model(inputs=[in0Min97498,in1Min97498,in0Add83751,in1Add83751], outputs=Sub3919)
in0Min97498 = tf.constant([[[[0.8821, 0.0123], [0.2825, 0.2638]], [[0.1648, 0.4486], [0.8012, 0.3807]]]])
in1Min97498 = tf.constant([[[[0.0365, 0.1487], [0.7272, 0.8222]], [[0.6056, 0.332], [0.9382, 0.1959]]]])
in0Add83751 = tf.constant([[[[0.5792, 0.6023], [0.6868, 0.2643]]]])
in1Add83751 = tf.constant([[[[0.7884, 0.4039], [0.0556, 0.0724]]]])
print (np.array2string(model.predict([in0Min97498,in1Min97498,in0Add83751,in1Add83751],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sub3919.png')

LMin97498 = minimum_layer([[[[[0.8821, 0.0123], [0.2825, 0.2638]], [[0.1648, 0.4486], [0.8012, 0.3807]]]], [[[[0.0365, 0.1487], [0.7272, 0.8222]], [[0.6056, 0.332], [0.9382, 0.1959]]]]], Min97498), 
LAdd83751 = add_layer([[[[[0.5792, 0.6023], [0.6868, 0.2643]]]], [[[[0.7884, 0.4039], [0.0556, 0.0724]]]]], Add83751), 
LZer44427 = zero_padding2D_layer(Add83751, 1, 0, 0, 0, Zer44427), 
LSub3919 = subtract_layer(Min97498,Zer44427, Sub3919), 
exec_layers([LMin97498,LAdd83751,LZer44427,LSub3919],["Min97498","Add83751","Zer44427","Sub3919"],Sub3919,"Sub3919")

Actual (Unparsed): [[[[0.0365000, 0.0123000], [0.2825000, 0.2638000]], [[-1.2028000, -0.6742000], [0.0588000, -0.1408000]]]]

Expected (Unparsed): [[[[0.0365,0.0123],[0.2825,0.2638]],[[-1.2027999999999999,-0.6741999999999999],[0.058800000000000074,-0.1408]]]]

Actual:   [[[[0.0365, 0.0123], [0.2825, 0.2638]], [[-1.2028, -0.6742], [0.0588, -0.1408]]]]

Expected: [[[[0.0365, 0.0123], [0.2825, 0.2638]], [[-1.2027, -0.6741], [0.0589, -0.1408]]]]