import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add5506 = tf.keras.layers.Input(shape=([1, 1]))
in1Add5506 = tf.keras.layers.Input(shape=([1, 1]))

Add5506 = keras.layers.Add(name = 'Add5506', )([in0Add5506,in1Add5506])
Res87280 = keras.layers.Reshape((1, 1, 1), name = 'Res87280', )(Add5506)
Cro33276 = keras.layers.Cropping2D(cropping=((0, 0), (0, 0)), name = 'Cro33276', )(Res87280)
Res88503 = keras.layers.Reshape((1, 1), name = 'Res88503', )(Cro33276)
LST34941 = keras.layers.LSTM(3,recurrent_activation='sigmoid', name = 'LST34941', )(Res88503)
model = tf.keras.models.Model(inputs=[in0Add5506,in1Add5506], outputs=LST34941)
w = model.get_layer('LST34941').get_weights() 
w[0] = np.array([[3, 5, 8, 7, 6, 2, 1, 8, 5, 8, 3, 8]])
w[1] = np.array([[6, 3, 5, 9, 2, 8, 10, 6, 4, 9, 8, 4], [10, 7, 2, 10, 5, 8, 1, 1, 4, 7, 8, 1], [9, 7, 8, 5, 9, 5, 4, 10, 9, 9, 3, 7]])
w[2] = np.array([7, 1, 7, 10, 1, 1, 8, 10, 3, 3, 7, 5])
model.get_layer('LST34941').set_weights(w) 
in0Add5506 = tf.constant([[[0.5534]]])
in1Add5506 = tf.constant([[[0.7327]]])
print (np.array2string(model.predict([in0Add5506,in1Add5506],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='LST34941.png')

LAdd5506 = add_layer([[[[0.5534]]], [[[0.7327]]]], Add5506), 
LRes87280 = reshape_layer(Add5506, [1, 1, 1], Res87280), 
LCro33276 = cropping2D_layer(Res87280, 0, 0, 0, 0, Cro33276), 
LRes88503 = reshape_layer(Cro33276, [1, 1], Res88503), 
LLST34941 = lstm_layer(Res88503,[[3, 5, 8, 7, 6, 2, 1, 8, 5, 8, 3, 8]],[[6, 3, 5, 9, 2, 8, 10, 6, 4, 9, 8, 4], [10, 7, 2, 10, 5, 8, 1, 1, 4, 7, 8, 1], [9, 7, 8, 5, 9, 5, 4, 10, 9, 9, 3, 7]],[7, 1, 7, 10, 1, 1, 8, 10, 3, 3, 7, 5], LST34941), 
exec_layers([LAdd5506,LRes87280,LCro33276,LRes88503,LLST34941],["Add5506","Res87280","Cro33276","Res88503","LST34941"],LST34941,"LST34941")

Actual (Unparsed): [[0.7615848, 0.7613305, 0.7615940]]

Expected (Unparsed): [[0.7615847770653887,0.7613305409619633,0.7615939629876846]]

Actual:   [[0.7616, 0.7614, 0.7616]]

Expected: [[0.7616, 0.7614, 0.7616]]