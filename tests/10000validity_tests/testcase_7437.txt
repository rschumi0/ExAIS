import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Up_49109 = tf.keras.layers.Input(shape=([2, 2, 4, 3]))
in0Lay13207 = tf.keras.layers.Input(shape=([2, 3, 2]))
in0Con71818 = tf.keras.layers.Input(shape=([190]))

Up_49109 = keras.layers.UpSampling3D(size=(1, 2, 2), name = 'Up_49109', )(in0Up_49109)
Res21120 = keras.layers.Reshape((2, 4, 24), name = 'Res21120', )(Up_49109)
Res51583 = keras.layers.Reshape((2, 96), name = 'Res51583', )(Res21120)
Fla29781 = keras.layers.Flatten(name = 'Fla29781', )(Res51583)
Lay13207 = keras.layers.LayerNormalization(axis=1, epsilon=1.61781581312784, name = 'Lay13207', )(in0Lay13207)
Glo73511 = keras.layers.GlobalAveragePooling2D(name = 'Glo73511', )(Lay13207)
Con71818 = keras.layers.Concatenate(axis=1, name = 'Con71818', )([Glo73511,in0Con71818])
Mul74620 = keras.layers.Multiply(name = 'Mul74620', )([Fla29781,Con71818])
model = tf.keras.models.Model(inputs=[in0Up_49109,in0Lay13207,in0Con71818], outputs=Mul74620)
in0Up_49109 = tf.constant([[[[[1.1447, 1.2543, 1.9152], [1.4483, 1.2697, 1.2426], [1.505, 1.2156, 1.486], [1.4148, 1.092, 1.6538]], [[1.7155, 1.4342, 1.009], [1.8709, 1.1705, 1.6575], [1.69, 1.4349, 1.4131], [1.0917, 1.659, 1.2225]]], [[[1.7524, 1.6505, 1.8647], [1.0518, 1.3467, 1.0425], [1.4629, 1.8478, 1.4793], [1.8942, 1.6427, 1.3649]], [[1.6107, 1.2561, 1.1128], [1.5599, 1.9769, 1.4701], [1.4254, 1.5511, 1.6958], [1.4882, 1.3989, 1.7234]]]]])
in0Lay13207 = tf.constant([[[[1.576, 1.1206], [1.5175, 1.9511], [1.0765, 1.3687]], [[1.3397, 1.0938], [1.1602, 1.9474], [1.6236, 1.8935]]]])
in0Con71818 = tf.constant([[0.1178, 0.5849, 0.0825, 0.9641, 0.6926, 0.9862, 0.4842, 0.0576, 0.7989, 0.0568, 0.3246, 0.0558, 0.7191, 0.9675, 0.0337, 0.673, 0.559, 0.733, 0.2907, 0.6071, 0.2876, 0.5296, 0.5453, 0.0501, 0.6222, 0.2924, 0.5533, 0.3427, 0.7278, 0.8129, 0.4577, 0.5617, 0.2397, 0.1738, 0.9456, 0.0247, 0.8241, 0.3757, 0.6628, 0.7922, 0.3414, 0.4415, 0.3796, 0.2545, 0.6957, 0.1111, 0.3642, 0.7997, 0.6184, 0.4854, 0.046, 0.3794, 0.9616, 0.6175, 0.3258, 0.5082, 0.5571, 0.1057, 0.8269, 0.8677, 0.3357, 0.1982, 0.9702, 0.218, 0.1935, 0.7838, 0.0054, 0.7642, 0.0453, 0.9161, 0.0315, 0.4731, 0.6074, 0.1899, 0.6018, 0.0911, 0.7188, 0.3792, 0.7212, 0.7737, 0.4264, 0.2274, 0.9204, 0.3069, 0.6356, 0.1825, 0.6135, 0.8718, 0.8591, 0.1667, 0.1378, 0.1859, 0.4848, 0.1823, 0.7071, 0.6385, 0.0268, 0.6664, 0.015, 0.7326, 0.0249, 0.0288, 0.3707, 0.7413, 0.6131, 0.7357, 0.0655, 0.9941, 0.2911, 0.632, 0.1293, 0.6191, 0.1019, 0.9364, 0.7613, 0.8826, 0.2432, 0.4883, 0.4975, 0.4942, 0.1221, 0.3769, 0.6085, 0.3734, 0.9999, 0.0418, 0.3184, 0.4091, 0.669, 0.2975, 0.1754, 0.6898, 0.0523, 0.5065, 0.3138, 0.5251, 0.2225, 0.2993, 0.4041, 0.339, 0.1036, 0.8268, 0.8029, 0.174, 0.0308, 0.5163, 0.7888, 0.1125, 0.4271, 0.6996, 0.7972, 0.3977, 0.0792, 0.2827, 0.2512, 0.4131, 0.8886, 0.8357, 0.9282, 0.9671, 0.5145, 0.0942, 0.7968, 0.5238, 0.0268, 0.885, 0.9145, 0.1155, 0.5432, 0.9161, 0.283, 0.6802, 0.8373, 0.7022, 0.5267, 0.4782, 0.0741, 0.1385, 0.8813, 0.0593, 0.1532, 0.8789, 0.2551, 0.9733, 0.6236, 0.7283, 0.0658, 0.0509, 0.7685, 0.716]])
print (np.array2string(model.predict([in0Up_49109,in0Lay13207,in0Con71818],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Mul74620.png')

LUp_49109 = up_sampling3D_layer([[[[[1.1447, 1.2543, 1.9152], [1.4483, 1.2697, 1.2426], [1.505, 1.2156, 1.486], [1.4148, 1.092, 1.6538]], [[1.7155, 1.4342, 1.009], [1.8709, 1.1705, 1.6575], [1.69, 1.4349, 1.4131], [1.0917, 1.659, 1.2225]]], [[[1.7524, 1.6505, 1.8647], [1.0518, 1.3467, 1.0425], [1.4629, 1.8478, 1.4793], [1.8942, 1.6427, 1.3649]], [[1.6107, 1.2561, 1.1128], [1.5599, 1.9769, 1.4701], [1.4254, 1.5511, 1.6958], [1.4882, 1.3989, 1.7234]]]]], 1, 2, 2, Up_49109), 
LRes21120 = reshape_layer(Up_49109, [2, 4, 24], Res21120), 
LRes51583 = reshape_layer(Res21120, [2, 96], Res51583), 
LFla29781 = flatten_layer(Res51583, Fla29781), 
LLay13207 = layer_normalization_layer([[[[1.576, 1.1206], [1.5175, 1.9511], [1.0765, 1.3687]], [[1.3397, 1.0938], [1.1602, 1.9474], [1.6236, 1.8935]]]], 1, 1.61781581312784, Lay13207), 
LGlo73511 = global_average_pooling2D_layer(Lay13207, Glo73511), 
LCon71818 = concatenate_layer([Glo73511,[[0.1178, 0.5849, 0.0825, 0.9641, 0.6926, 0.9862, 0.4842, 0.0576, 0.7989, 0.0568, 0.3246, 0.0558, 0.7191, 0.9675, 0.0337, 0.673, 0.559, 0.733, 0.2907, 0.6071, 0.2876, 0.5296, 0.5453, 0.0501, 0.6222, 0.2924, 0.5533, 0.3427, 0.7278, 0.8129, 0.4577, 0.5617, 0.2397, 0.1738, 0.9456, 0.0247, 0.8241, 0.3757, 0.6628, 0.7922, 0.3414, 0.4415, 0.3796, 0.2545, 0.6957, 0.1111, 0.3642, 0.7997, 0.6184, 0.4854, 0.046, 0.3794, 0.9616, 0.6175, 0.3258, 0.5082, 0.5571, 0.1057, 0.8269, 0.8677, 0.3357, 0.1982, 0.9702, 0.218, 0.1935, 0.7838, 0.0054, 0.7642, 0.0453, 0.9161, 0.0315, 0.4731, 0.6074, 0.1899, 0.6018, 0.0911, 0.7188, 0.3792, 0.7212, 0.7737, 0.4264, 0.2274, 0.9204, 0.3069, 0.6356, 0.1825, 0.6135, 0.8718, 0.8591, 0.1667, 0.1378, 0.1859, 0.4848, 0.1823, 0.7071, 0.6385, 0.0268, 0.6664, 0.015, 0.7326, 0.0249, 0.0288, 0.3707, 0.7413, 0.6131, 0.7357, 0.0655, 0.9941, 0.2911, 0.632, 0.1293, 0.6191, 0.1019, 0.9364, 0.7613, 0.8826, 0.2432, 0.4883, 0.4975, 0.4942, 0.1221, 0.3769, 0.6085, 0.3734, 0.9999, 0.0418, 0.3184, 0.4091, 0.669, 0.2975, 0.1754, 0.6898, 0.0523, 0.5065, 0.3138, 0.5251, 0.2225, 0.2993, 0.4041, 0.339, 0.1036, 0.8268, 0.8029, 0.174, 0.0308, 0.5163, 0.7888, 0.1125, 0.4271, 0.6996, 0.7972, 0.3977, 0.0792, 0.2827, 0.2512, 0.4131, 0.8886, 0.8357, 0.9282, 0.9671, 0.5145, 0.0942, 0.7968, 0.5238, 0.0268, 0.885, 0.9145, 0.1155, 0.5432, 0.9161, 0.283, 0.6802, 0.8373, 0.7022, 0.5267, 0.4782, 0.0741, 0.1385, 0.8813, 0.0593, 0.1532, 0.8789, 0.2551, 0.9733, 0.6236, 0.7283, 0.0658, 0.0509, 0.7685, 0.716]]], 1, Con71818), 
LMul74620 = multiply_layer([Fla29781,Con71818], Mul74620), 
exec_layers([LUp_49109,LRes21120,LRes51583,LFla29781,LLay13207,LGlo73511,LCon71818,LMul74620],["Up_49109","Res21120","Res51583","Fla29781","Lay13207","Glo73511","Con71818","Mul74620"],Mul74620,"Mul74620")

Actual (Unparsed): [[0.0000000, 0.0000000, 0.2256106, 0.6695351, 0.1034798, 1.8464443, 1.0030926, 1.2521782, 0.6016669, 0.0834221, 1.0143634, 0.0705797, 0.4885230, 0.0678305, 1.0685826, 1.4560875, 0.0409657, 1.0000779, 0.7908732, 0.8004360, 0.4807596, 0.8589251, 0.3140592, 0.8758525, 0.6242049, 0.0628404, 1.1916375, 0.3347103, 0.6940042, 0.6563390, 1.0540728, 1.0321392, 0.5687380, 0.8135101, 0.3043471, 0.2159639, 1.4231280, 0.0300253, 1.2246126, 0.5654285, 0.8056997, 1.1772092, 0.4830127, 0.4821180, 0.6277825, 0.3600666, 0.7597044, 0.1837372, 0.6247851, 1.1469298, 0.6239655, 0.8327037, 0.0659732, 0.3828146, 1.7990575, 0.7227838, 0.5400135, 0.9507914, 0.6520856, 0.1751978, 1.3974611, 1.2450627, 0.4743777, 0.3349580, 1.3921400, 0.3080558, 0.2112439, 1.3003242, 0.0066015, 0.8342771, 0.0751527, 1.1199323, 0.0540383, 0.6785201, 0.6128666, 0.3257734, 0.8631016, 0.0919199, 1.3448030, 0.4438536, 1.1953890, 1.4475154, 0.4991012, 0.3769155, 1.5554761, 0.4403708, 0.8981663, 0.3084250, 0.8803112, 1.2319406, 0.9378794, 0.2765553, 0.1684605, 0.2029470, 0.8042832, 0.2228617, 1.2391220, 1.0538442, 0.0499740, 1.1677994, 0.0247575, 1.3660791, 0.0261898, 0.0387850, 0.3864548, 0.7796993, 0.8256617, 0.7669673, 0.0958200, 1.8368979, 0.4306242, 0.9245529, 0.2389205, 0.9158346, 0.1930190, 1.5382242, 1.0390984, 1.6718209, 0.3995046, 0.6664807, 0.8718190, 0.8156771, 0.2276799, 0.6604796, 1.0043293, 0.6962790, 1.0516948, 0.0562921, 0.3319320, 0.4302914, 0.9009423, 0.3101438, 0.2565927, 1.2746125, 0.0773674, 0.7409589, 0.5798397, 0.7767804, 0.4214595, 0.4916601, 0.5515561, 0.6421338, 0.1701837, 1.1284993, 1.2932311, 0.2185614, 0.0342742, 0.8316045, 0.9908117, 0.1251900, 0.6662333, 1.3830392, 1.1719638, 0.6203723, 0.1565705, 0.4155973, 0.3580605, 0.6407594, 1.5068878, 1.1912068, 1.4397310, 1.6400082, 0.7656789, 0.1317764, 1.3732051, 0.7795192, 0.0374905, 1.5252090, 1.4729852, 0.1450796, 0.6044730, 1.4755623, 0.3554763, 0.7569265, 1.3061043, 1.3881792, 0.7743017, 0.7459442, 0.1464883, 0.2036089, 1.2562050, 0.0919802, 0.2597966, 1.2527841, 0.3956856, 1.6505221, 0.9280415, 1.0188189, 0.1133997, 0.0757494, 1.0750546, 1.2339544]]

Expected (Unparsed): [[5.2953012345350695e-18,-7.542994007181391e-17,0.22561056000000002,0.66953503,0.10347975000000001,1.84644432,1.00309258,1.25217814,0.60166692,0.08342208,1.0143633300000001,0.07057968,0.488523,0.06783048,1.0685825999999998,1.4560875,0.040965720000000004,1.000078,0.7908732,0.800436,0.48075966,0.85892508,0.31405920000000004,0.8758524799999999,0.62420491,0.06284043,1.19163744,0.33471028,0.69400419,0.65633904,1.0540727399999998,1.03213913,0.56873802,0.81351011,0.30434709,0.21596388,1.423128,0.03002532,1.2246126000000002,0.5654284999999999,0.8056996799999999,1.1772092,0.48301272,0.48211800000000005,0.6277824799999999,0.3600666,0.7597044000000001,0.18373718,0.6247851000000001,1.1469297399999998,0.6239655999999999,0.8327037,0.0659732,0.38281459999999995,1.7990574400000001,0.7227837500000002,0.5400134999999999,0.95079138,0.6520855500000001,0.17519775,1.3974609999999998,1.2450627300000001,0.47437767000000003,0.334958,1.39213998,0.3080558,0.21124394999999999,1.3003242000000002,0.0066015,0.8342771399999999,0.0751527,1.11993225,0.05403825,0.67852002,0.6128666,0.32577345,0.8631015599999999,0.09191989999999998,1.34480292,0.4438536,1.1953889999999998,1.44751533,0.4991012,0.37691549999999996,1.5554759999999999,0.44037081,0.89816636,0.308425,0.8803111500000002,1.23194058,0.9378794699999998,0.2765553,0.16846049999999999,0.20294703,0.8042832,0.22286174999999997,1.2391220399999998,1.05384425,0.049973960000000005,1.16779936,0.0247575,1.36607922,0.02618982,0.03878496,0.38645474999999996,0.77969934,0.82566177,0.76696725,0.09581995000000001,1.83689798,0.43062423000000005,0.9245528000000001,0.23892054000000001,0.91583463,0.19301898,1.53822428,1.03909837,1.6718209200000003,0.39950464,0.66648067,0.871819,0.8156771,0.22767987,0.66047956,1.00432925,0.69627898,1.05169482,0.05629206,0.331932,0.43029138000000006,0.9009423000000001,0.31014375,0.25659266000000003,1.27461244,0.07736739000000001,0.74095885,0.5798396400000001,0.7767804300000001,0.42145950000000004,0.49166011000000004,0.55155609,0.6421338000000001,0.17018372,1.12849932,1.2932310299999998,0.2185614,0.034274240000000004,0.83160441,0.99081168,0.12519,0.66623329,1.38303924,1.17196372,0.62037223,0.15657048,0.41559727,0.35806047999999996,0.64075941,1.5068878799999998,1.19120678,1.43973102,1.64000818,0.7656788999999999,0.13177638,1.37320512,0.7795191600000001,0.03749052,1.525209,1.47298515,0.14507955,0.6044729600000001,1.47556227,0.35547629999999997,0.75692656,1.30610427,1.38817918,0.7743016699999999,0.7459441800000001,0.14648829,0.20360885,1.25620502,0.09198023,0.25979656,1.25278406,0.39568560999999997,1.65052214,0.9280415200000001,1.01881887,0.11339972,0.07574938,1.07505465,1.2339544]]

Actual:   [[0, 0, 0.2257, 0.6696, 0.1035, 1.8465, 1.0031, 1.2522, 0.6017, 0.0835, 1.0144, 0.0706, 0.4886, 0.0679, 1.0686, 1.4561, 0.041, 1.0001, 0.7909, 0.8005, 0.4808, 0.859, 0.3141, 0.8759, 0.6243, 0.0629, 1.1917, 0.3348, 0.6941, 0.6564, 1.0541, 1.0322, 0.5688, 0.8136, 0.3044, 0.216, 1.4232, 0.0301, 1.2247, 0.5655, 0.8057, 1.1773, 0.4831, 0.4822, 0.6278, 0.3601, 0.7598, 0.1838, 0.6248, 1.147, 0.624, 0.8328, 0.066, 0.3829, 1.7991, 0.7228, 0.5401, 0.9508, 0.6521, 0.1752, 1.3975, 1.2451, 0.4744, 0.335, 1.3922, 0.3081, 0.2113, 1.3004, 0.0067, 0.8343, 0.0752, 1.12, 0.0541, 0.6786, 0.6129, 0.3258, 0.8632, 0.092, 1.3449, 0.4439, 1.1954, 1.4476, 0.4992, 0.377, 1.5555, 0.4404, 0.8982, 0.3085, 0.8804, 1.232, 0.9379, 0.2766, 0.1685, 0.203, 0.8043, 0.2229, 1.2392, 1.0539, 0.05, 1.1678, 0.0248, 1.3661, 0.0262, 0.0388, 0.3865, 0.7797, 0.8257, 0.767, 0.0959, 1.8369, 0.4307, 0.9246, 0.239, 0.9159, 0.1931, 1.5383, 1.0391, 1.6719, 0.3996, 0.6665, 0.8719, 0.8157, 0.2277, 0.6605, 1.0044, 0.6963, 1.0517, 0.0563, 0.332, 0.4303, 0.901, 0.3102, 0.2566, 1.2747, 0.0774, 0.741, 0.5799, 0.7768, 0.4215, 0.4917, 0.5516, 0.6422, 0.1702, 1.1285, 1.2933, 0.2186, 0.0343, 0.8317, 0.9909, 0.1252, 0.6663, 1.3831, 1.172, 0.6204, 0.1566, 0.4156, 0.3581, 0.6408, 1.5069, 1.1913, 1.4398, 1.6401, 0.7657, 0.1318, 1.3733, 0.7796, 0.0375, 1.5253, 1.473, 0.1451, 0.6045, 1.4756, 0.3555, 0.757, 1.3062, 1.3882, 0.7744, 0.746, 0.1465, 0.2037, 1.2563, 0.092, 0.2598, 1.2528, 0.3957, 1.6506, 0.9281, 1.0189, 0.1134, 0.0758, 1.0751, 1.234]]

Expected: [[0, -0, 0.2257, 0.6696, 0.1035, 1.8465, 1.0031, 1.2522, 0.6017, 0.0835, 1.0144, 0.0706, 0.4886, 0.0679, 1.0686, 1.4561, 0.041, 1.0001, 0.7909, 0.8005, 0.4808, 0.859, 0.3141, 0.8759, 0.6243, 0.0629, 1.1917, 0.3348, 0.6941, 0.6564, 1.0541, 1.0322, 0.5688, 0.8136, 0.3044, 0.216, 1.4232, 0.0301, 1.2247, 0.5655, 0.8057, 1.1773, 0.4831, 0.4822, 0.6278, 0.3601, 0.7598, 0.1838, 0.6248, 1.147, 0.624, 0.8328, 0.066, 0.3829, 1.7991, 0.7228, 0.5401, 0.9508, 0.6521, 0.1752, 1.3975, 1.2451, 0.4744, 0.335, 1.3922, 0.3081, 0.2113, 1.3004, 0.0067, 0.8343, 0.0752, 1.12, 0.0541, 0.6786, 0.6129, 0.3258, 0.8632, 0.092, 1.3449, 0.4439, 1.1954, 1.4476, 0.4992, 0.377, 1.5555, 0.4404, 0.8982, 0.3085, 0.8804, 1.232, 0.9379, 0.2766, 0.1685, 0.203, 0.8043, 0.2229, 1.2392, 1.0539, 0.05, 1.1678, 0.0248, 1.3661, 0.0262, 0.0388, 0.3865, 0.7797, 0.8257, 0.767, 0.0959, 1.8369, 0.4307, 0.9246, 0.239, 0.9159, 0.1931, 1.5383, 1.0391, 1.6719, 0.3996, 0.6665, 0.8719, 0.8157, 0.2277, 0.6605, 1.0044, 0.6963, 1.0517, 0.0563, 0.332, 0.4303, 0.901, 0.3102, 0.2566, 1.2747, 0.0774, 0.741, 0.5799, 0.7768, 0.4215, 0.4917, 0.5516, 0.6422, 0.1702, 1.1285, 1.2933, 0.2186, 0.0343, 0.8317, 0.9909, 0.1252, 0.6663, 1.3831, 1.172, 0.6204, 0.1566, 0.4156, 0.3581, 0.6408, 1.5069, 1.1913, 1.4398, 1.6401, 0.7657, 0.1318, 1.3733, 0.7796, 0.0375, 1.5253, 1.473, 0.1451, 0.6045, 1.4756, 0.3555, 0.757, 1.3062, 1.3882, 0.7744, 0.746, 0.1465, 0.2037, 1.2563, 0.092, 0.2598, 1.2528, 0.3957, 1.6506, 0.9281, 1.0189, 0.1134, 0.0758, 1.0751, 1.234]]