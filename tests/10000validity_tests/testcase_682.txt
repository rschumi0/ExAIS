import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul23863 = tf.keras.layers.Input(shape=([1, 1]))
in1Mul23863 = tf.keras.layers.Input(shape=([1, 1]))
in0Add68904 = tf.keras.layers.Input(shape=([1, 2, 1, 1]))
in1Add68904 = tf.keras.layers.Input(shape=([1, 2, 1, 1]))

Mul23863 = keras.layers.Multiply(name = 'Mul23863', )([in0Mul23863,in1Mul23863])
Res72004 = keras.layers.Reshape((1, 1, 1), name = 'Res72004', )(Mul23863)
Res73070 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res73070', )(Res72004)
Zer38204 = keras.layers.ZeroPadding3D(padding=((0, 0), (1, 0), (0, 0)), name = 'Zer38204', )(Res73070)
Add68904 = keras.layers.Add(name = 'Add68904', )([in0Add68904,in1Add68904])
Sub41783 = keras.layers.Subtract(name = 'Sub41783', )([Zer38204,Add68904])
Thr33778 = keras.layers.ThresholdedReLU(theta=7.388545474113306, name = 'Thr33778', )(Sub41783)
model = tf.keras.models.Model(inputs=[in0Mul23863,in1Mul23863,in0Add68904,in1Add68904], outputs=Thr33778)
in0Mul23863 = tf.constant([[[0.7764]]])
in1Mul23863 = tf.constant([[[0.253]]])
in0Add68904 = tf.constant([[[[[0.989]], [[0.7891]]]]])
in1Add68904 = tf.constant([[[[[0.5851]], [[0.1965]]]]])
print (np.array2string(model.predict([in0Mul23863,in1Mul23863,in0Add68904,in1Add68904],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Thr33778.png')

LMul23863 = multiply_layer([[[[0.7764]]], [[[0.253]]]], Mul23863), 
LRes72004 = reshape_layer(Mul23863, [1, 1, 1], Res72004), 
LRes73070 = reshape_layer(Res72004, [1, 1, 1, 1], Res73070), 
LZer38204 = zero_padding3D_layer(Res73070, 0, 0, 1, 0, 0, 0, Zer38204), 
LAdd68904 = add_layer([[[[[[0.989]], [[0.7891]]]]], [[[[[0.5851]], [[0.1965]]]]]], Add68904), 
LSub41783 = subtract_layer(Zer38204,Add68904, Sub41783), 
LThr33778 = thresholded_relu_layer(Sub41783, 7.388545474113306, Thr33778), 
exec_layers([LMul23863,LRes72004,LRes73070,LZer38204,LAdd68904,LSub41783,LThr33778],["Mul23863","Res72004","Res73070","Zer38204","Add68904","Sub41783","Thr33778"],Thr33778,"Thr33778")

Actual (Unparsed): [[[[[-0.0000000]], [[-0.0000000]]]]]

Expected (Unparsed): [[[[[0]],[[0]]]]]

Actual:   [[[[[-0]], [[-0]]]]]

Expected: [[[[[0]], [[0]]]]]