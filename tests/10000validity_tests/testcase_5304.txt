import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max68394 = tf.keras.layers.Input(shape=([2, 1, 2]))
in1Max68394 = tf.keras.layers.Input(shape=([2, 1, 2]))
in0Dot56331 = tf.keras.layers.Input(shape=([3]))
in1Dot56331 = tf.keras.layers.Input(shape=([3]))
in0Con23118 = tf.keras.layers.Input(shape=([7]))

Max68394 = keras.layers.Maximum(name = 'Max68394', )([in0Max68394,in1Max68394])
Res52958 = keras.layers.Reshape((2, 2), name = 'Res52958', )(Max68394)
Con69666 = keras.layers.Conv1D(4, (1),strides=(1), padding='same', dilation_rate=(1), name = 'Con69666', )(Res52958)
Fla93672 = keras.layers.Flatten(name = 'Fla93672', )(Con69666)
Dot56331 = keras.layers.Dot(axes=(1, 1), name = 'Dot56331', )([in0Dot56331,in1Dot56331])
Con23118 = keras.layers.Concatenate(axis=1, name = 'Con23118', )([Dot56331,in0Con23118])
Min9712 = keras.layers.Minimum(name = 'Min9712', )([Fla93672,Con23118])
model = tf.keras.models.Model(inputs=[in0Max68394,in1Max68394,in0Dot56331,in1Dot56331,in0Con23118], outputs=Min9712)
w = model.get_layer('Con69666').get_weights() 
w[0] = np.array([[[0.6432, 0.064, 0.8047, 0.8176], [0.6056, 0.9295, 0.014, 0.6544]]])
w[1] = np.array([0, 0, 0, 0])
model.get_layer('Con69666').set_weights(w) 
in0Max68394 = tf.constant([[[[0.6339, 0.5643]], [[0.3301, 0.3412]]]])
in1Max68394 = tf.constant([[[[0.7806, 0.7426]], [[0.9509, 0.8525]]]])
in0Dot56331 = tf.constant([[0.3141, 0.3046, 0.493]])
in1Dot56331 = tf.constant([[0.7702, 0.759, 0.5433]])
in0Con23118 = tf.constant([[0.859, 0.5463, 0.1129, 0.8633, 0.55, 0.4094, 0.4131]])
print (np.array2string(model.predict([in0Max68394,in1Max68394,in0Dot56331,in1Dot56331,in0Con23118],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min9712.png')

LMax68394 = maximum_layer([[[[[0.6339, 0.5643]], [[0.3301, 0.3412]]]], [[[[0.7806, 0.7426]], [[0.9509, 0.8525]]]]], Max68394), 
LRes52958 = reshape_layer(Max68394, [2, 2], Res52958), 
LCon69666 = conv1D_layer(Res52958, 1,[[[0.6432, 0.064, 0.8047, 0.8176], [0.6056, 0.9295, 0.014, 0.6544]]],[0, 0, 0, 0], 1, true, 1, Con69666), 
LFla93672 = flatten_layer(Con69666, Fla93672), 
LDot56331 = dot_layer([[0.3141, 0.3046, 0.493]], [[0.7702, 0.759, 0.5433]], 1, 1, Dot56331), 
LCon23118 = concatenate_layer([Dot56331,[[0.859, 0.5463, 0.1129, 0.8633, 0.55, 0.4094, 0.4131]]], 1, Con23118), 
LMin9712 = minimum_layer([Fla93672,Con23118], Min9712), 
exec_layers([LMax68394,LRes52958,LCon69666,LFla93672,LDot56331,LCon23118,LMin9712],["Max68394","Res52958","Con69666","Fla93672","Dot56331","Con23118","Min9712"],Min9712,"Min9712")

Actual (Unparsed): [[0.7409581, 0.7402051, 0.5463000, 0.1129000, 0.8633000, 0.5500000, 0.4094000, 0.4131000]]

Expected (Unparsed): [[0.7409581199999999,0.7402051,0.5463,0.1129,0.8633,0.55,0.4094,0.4131]]

Actual:   [[0.741, 0.7403, 0.5463, 0.1129, 0.8633, 0.55, 0.4094, 0.4131]]

Expected: [[0.741, 0.7403, 0.5463, 0.1129, 0.8633, 0.55, 0.4094, 0.4131]]