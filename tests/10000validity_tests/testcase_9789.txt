import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min52838 = tf.keras.layers.Input(shape=([1, 1, 1, 1]))
in1Min52838 = tf.keras.layers.Input(shape=([1, 1, 1, 1]))

Min52838 = keras.layers.Minimum(name = 'Min52838', )([in0Min52838,in1Min52838])
Res16711 = keras.layers.Reshape((1, 1, 1), name = 'Res16711', )(Min52838)
Res94920 = keras.layers.Reshape((1, 1), name = 'Res94920', )(Res16711)
LST67721 = keras.layers.LSTM(2,recurrent_activation='sigmoid', name = 'LST67721', )(Res94920)
ELU24244 = keras.layers.ELU(alpha=-5.790900594004413, name = 'ELU24244', )(LST67721)
model = tf.keras.models.Model(inputs=[in0Min52838,in1Min52838], outputs=ELU24244)
w = model.get_layer('LST67721').get_weights() 
w[0] = np.array([[4, 1, 3, 3, 4, 8, 5, 1]])
w[1] = np.array([[8, 7, 1, 3, 2, 10, 9, 7], [3, 6, 9, 2, 2, 5, 5, 2]])
w[2] = np.array([6, 6, 9, 3, 8, 9, 2, 7])
model.get_layer('LST67721').set_weights(w) 
in0Min52838 = tf.constant([[[[[0.7346]]]]])
in1Min52838 = tf.constant([[[[[0.4711]]]]])
print (np.array2string(model.predict([in0Min52838,in1Min52838],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='ELU24244.png')

LMin52838 = minimum_layer([[[[[[0.7346]]]]], [[[[[0.4711]]]]]], Min52838), 
LRes16711 = reshape_layer(Min52838, [1, 1, 1], Res16711), 
LRes94920 = reshape_layer(Res16711, [1, 1], Res94920), 
LLST67721 = lstm_layer(Res94920,[[4, 1, 3, 3, 4, 8, 5, 1]],[[8, 7, 1, 3, 2, 10, 9, 7], [3, 6, 9, 2, 2, 5, 5, 2]],[6, 6, 9, 3, 8, 9, 2, 7], LST67721), 
LELU24244 = elu_layer(LST67721, -5.790900594004413, ELU24244), 
exec_layers([LMin52838,LRes16711,LRes94920,LLST67721,LELU24244],["Min52838","Res16711","Res94920","LST67721","ELU24244"],ELU24244,"ELU24244")

Actual (Unparsed): [[0.7517861, 0.7605115]]

Expected (Unparsed): [[0.7517860761101698,0.7605115158919766]]

Actual:   [[0.7518, 0.7606]]

Expected: [[0.7518, 0.7606]]