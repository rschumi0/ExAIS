import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Up_23990 = tf.keras.layers.Input(shape=([3, 3, 2]))
in0Max17170 = tf.keras.layers.Input(shape=([1, 2]))
in1Max17170 = tf.keras.layers.Input(shape=([1, 2]))
in0Con32117 = tf.keras.layers.Input(shape=([3, 4]))

Up_23990 = keras.layers.UpSampling2D(size=(1, 1), name = 'Up_23990', )(in0Up_23990)
Res97649 = keras.layers.Reshape((3, 6), name = 'Res97649', )(Up_23990)
Max17170 = keras.layers.Maximum(name = 'Max17170', )([in0Max17170,in1Max17170])
Zer2785 = keras.layers.ZeroPadding1D(padding=((2, 0)), name = 'Zer2785', )(Max17170)
Con32117 = keras.layers.Concatenate(axis=2, name = 'Con32117', )([Zer2785,in0Con32117])
Min50019 = keras.layers.Minimum(name = 'Min50019', )([Res97649,Con32117])
model = tf.keras.models.Model(inputs=[in0Up_23990,in0Max17170,in1Max17170,in0Con32117], outputs=Min50019)
in0Up_23990 = tf.constant([[[[1.6775, 1.9658], [1.3546, 1.253], [1.0248, 1.66]], [[1.3271, 1.1264], [1.4397, 1.3508], [1.1853, 1.6315]], [[1.2185, 1.3717], [1.3694, 1.3501], [1.6233, 1.0898]]]])
in0Max17170 = tf.constant([[[0.9357, 0.854]]])
in1Max17170 = tf.constant([[[0.596, 0.4402]]])
in0Con32117 = tf.constant([[[0.7924, 0.5327, 0.0555, 0.7664], [0.4816, 0.5929, 0.507, 0.704], [0.5895, 0.724, 0.2096, 0.349]]])
print (np.array2string(model.predict([in0Up_23990,in0Max17170,in1Max17170,in0Con32117],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min50019.png')

LUp_23990 = up_sampling2D_layer([[[[1.6775, 1.9658], [1.3546, 1.253], [1.0248, 1.66]], [[1.3271, 1.1264], [1.4397, 1.3508], [1.1853, 1.6315]], [[1.2185, 1.3717], [1.3694, 1.3501], [1.6233, 1.0898]]]], 1, 1, Up_23990), 
LRes97649 = reshape_layer(Up_23990, [3, 6], Res97649), 
LMax17170 = maximum_layer([[[[0.9357, 0.854]]], [[[0.596, 0.4402]]]], Max17170), 
LZer2785 = zero_padding1D_layer(Max17170, 2, 0, Zer2785), 
LCon32117 = concatenate_layer([Zer2785,[[[0.7924, 0.5327, 0.0555, 0.7664], [0.4816, 0.5929, 0.507, 0.704], [0.5895, 0.724, 0.2096, 0.349]]]], 2, Con32117), 
LMin50019 = minimum_layer([Res97649,Con32117], Min50019), 
exec_layers([LUp_23990,LRes97649,LMax17170,LZer2785,LCon32117,LMin50019],["Up_23990","Res97649","Max17170","Zer2785","Con32117","Min50019"],Min50019,"Min50019")

Actual (Unparsed): [[[0.0000000, 0.0000000, 0.7924000, 0.5327000, 0.0555000, 0.7664000], [0.0000000, 0.0000000, 0.4816000, 0.5929000, 0.5070000, 0.7040000], [0.9357000, 0.8540000, 0.5895000, 0.7240000, 0.2096000, 0.3490000]]]

Expected (Unparsed): [[[0,0,0.7924,0.5327,0.0555,0.7664],[0,0,0.4816,0.5929,0.507,0.704],[0.9357,0.854,0.5895,0.724,0.2096,0.349]]]

Actual:   [[[0, 0, 0.7924, 0.5327, 0.0555, 0.7664], [0, 0, 0.4816, 0.5929, 0.507, 0.704], [0.9357, 0.854, 0.5895, 0.724, 0.2096, 0.349]]]

Expected: [[[0, 0, 0.7924, 0.5327, 0.0555, 0.7664], [0, 0, 0.4816, 0.5929, 0.507, 0.704], [0.9357, 0.854, 0.5895, 0.724, 0.2096, 0.349]]]