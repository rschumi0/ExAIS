import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul16929 = tf.keras.layers.Input(shape=([1, 1]))
in1Mul16929 = tf.keras.layers.Input(shape=([1, 1]))
in0Glo17662 = tf.keras.layers.Input(shape=([1, 2, 1, 1]))

Mul16929 = keras.layers.Multiply(name = 'Mul16929', )([in0Mul16929,in1Mul16929])
Fla84336 = keras.layers.Flatten(name = 'Fla84336', )(Mul16929)
Glo17662 = keras.layers.GlobalAveragePooling3D(name = 'Glo17662', )(in0Glo17662)
Max42854 = keras.layers.Maximum(name = 'Max42854', )([Fla84336,Glo17662])
model = tf.keras.models.Model(inputs=[in0Mul16929,in1Mul16929,in0Glo17662], outputs=Max42854)
in0Mul16929 = tf.constant([[[0.2643]]])
in1Mul16929 = tf.constant([[[0.4232]]])
in0Glo17662 = tf.constant([[[[[1.3145]], [[1.5292]]]]])
print (np.array2string(model.predict([in0Mul16929,in1Mul16929,in0Glo17662],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max42854.png')

LMul16929 = multiply_layer([[[[0.2643]]], [[[0.4232]]]], Mul16929), 
LFla84336 = flatten_layer(Mul16929, Fla84336), 
LGlo17662 = global_average_pooling3D_layer([[[[[1.3145]], [[1.5292]]]]], Glo17662), 
LMax42854 = maximum_layer([Fla84336,Glo17662], Max42854), 
exec_layers([LMul16929,LFla84336,LGlo17662,LMax42854],["Mul16929","Fla84336","Glo17662","Max42854"],Max42854,"Max42854")

Actual (Unparsed): [[1.4218500]]

Expected (Unparsed): [[1.42185]]

Actual:   [[1.4219]]

Expected: [[1.4219]]