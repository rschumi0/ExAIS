import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub81842 = tf.keras.layers.Input(shape=([3, 3]))
in1Sub81842 = tf.keras.layers.Input(shape=([3, 3]))
in0Sub25260 = tf.keras.layers.Input(shape=([3, 2]))
in1Sub25260 = tf.keras.layers.Input(shape=([3, 2]))
in0Con19660 = tf.keras.layers.Input(shape=([3, 1]))

Sub81842 = keras.layers.Subtract(name = 'Sub81842', )([in0Sub81842,in1Sub81842])
Sub25260 = keras.layers.Subtract(name = 'Sub25260', )([in0Sub25260,in1Sub25260])
Con19660 = keras.layers.Concatenate(axis=2, name = 'Con19660', )([Sub25260,in0Con19660])
Sub74769 = keras.layers.Subtract(name = 'Sub74769', )([Sub81842,Con19660])
model = tf.keras.models.Model(inputs=[in0Sub81842,in1Sub81842,in0Sub25260,in1Sub25260,in0Con19660], outputs=Sub74769)
in0Sub81842 = tf.constant([[[0.1615, 0.555, 0.9422], [0.4269, 0.0128, 0.3688], [0.8245, 0.2988, 0.6006]]])
in1Sub81842 = tf.constant([[[0.3186, 0.2012, 0.6655], [0.1528, 0.8814, 0.7041], [0.6125, 0.8166, 0.0572]]])
in0Sub25260 = tf.constant([[[0.7944, 0.7715], [0.1456, 0.6638], [0.1483, 0.041]]])
in1Sub25260 = tf.constant([[[0.079, 0.3722], [0.8384, 0.5242], [0.6762, 0.9943]]])
in0Con19660 = tf.constant([[[0.24], [0.8867], [0.8873]]])
print (np.array2string(model.predict([in0Sub81842,in1Sub81842,in0Sub25260,in1Sub25260,in0Con19660],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sub74769.png')

LSub81842 = subtract_layer([[[0.1615, 0.555, 0.9422], [0.4269, 0.0128, 0.3688], [0.8245, 0.2988, 0.6006]]], [[[0.3186, 0.2012, 0.6655], [0.1528, 0.8814, 0.7041], [0.6125, 0.8166, 0.0572]]], Sub81842), 
LSub25260 = subtract_layer([[[0.7944, 0.7715], [0.1456, 0.6638], [0.1483, 0.041]]], [[[0.079, 0.3722], [0.8384, 0.5242], [0.6762, 0.9943]]], Sub25260), 
LCon19660 = concatenate_layer([Sub25260,[[[0.24], [0.8867], [0.8873]]]], 2, Con19660), 
LSub74769 = subtract_layer(Sub81842,Con19660, Sub74769), 
exec_layers([LSub81842,LSub25260,LCon19660,LSub74769],["Sub81842","Sub25260","Con19660","Sub74769"],Sub74769,"Sub74769")

Actual (Unparsed): [[[-0.8725000, -0.0455000, 0.0367000], [0.9669000, -1.0082000, -1.2220000], [0.7399000, 0.4355000, -0.3439000]]]

Expected (Unparsed): [[[-0.8725,-0.04549999999999993,0.036700000000000066],[0.9669000000000001,-1.0082,-1.222],[0.7399,0.4354999999999999,-0.3439]]]

Actual:   [[[-0.8725, -0.0455, 0.0367], [0.9669, -1.0082, -1.222], [0.7399, 0.4355, -0.3439]]]

Expected: [[[-0.8725, -0.0454, 0.0368], [0.967, -1.0082, -1.222], [0.7399, 0.4355, -0.3439]]]