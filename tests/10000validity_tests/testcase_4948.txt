import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave92105 = tf.keras.layers.Input(shape=([1, 2, 2]))
in1Ave92105 = tf.keras.layers.Input(shape=([1, 2, 2]))
in0Add85742 = tf.keras.layers.Input(shape=([2, 2, 2]))
in1Add85742 = tf.keras.layers.Input(shape=([2, 2, 2]))
in0Con52993 = tf.keras.layers.Input(shape=([2, 2, 2, 1]))
in0Ave6055 = tf.keras.layers.Input(shape=([1, 2, 2, 2]))
in1Ave6055 = tf.keras.layers.Input(shape=([1, 2, 2, 2]))
in0Add80122 = tf.keras.layers.Input(shape=([1, 2, 1, 1]))
in1Add80122 = tf.keras.layers.Input(shape=([1, 2, 1, 1]))
in0Con38630 = tf.keras.layers.Input(shape=([1, 2, 2, 1]))

Ave92105 = keras.layers.Average(name = 'Ave92105', )([in0Ave92105,in1Ave92105])
Zer45090 = keras.layers.ZeroPadding2D(padding=((1, 0), (0, 0)), name = 'Zer45090', )(Ave92105)
Add85742 = keras.layers.Add(name = 'Add85742', )([in0Add85742,in1Add85742])
Min75366 = keras.layers.Minimum(name = 'Min75366', )([Zer45090,Add85742])
Res94431 = keras.layers.Reshape((2, 2, 2, 1), name = 'Res94431', )(Min75366)
Con52993 = keras.layers.Concatenate(axis=4, name = 'Con52993', )([Res94431,in0Con52993])
Ave6055 = keras.layers.Average(name = 'Ave6055', )([in0Ave6055,in1Ave6055])
Add80122 = keras.layers.Add(name = 'Add80122', )([in0Add80122,in1Add80122])
Zer18698 = keras.layers.ZeroPadding3D(padding=((0, 0), (0, 0), (1, 0)), name = 'Zer18698', )(Add80122)
Con38630 = keras.layers.Concatenate(axis=4, name = 'Con38630', )([Zer18698,in0Con38630])
Add66545 = keras.layers.Add(name = 'Add66545', )([Ave6055,Con38630])
Zer86136 = keras.layers.ZeroPadding3D(padding=((1, 0), (0, 0), (0, 0)), name = 'Zer86136', )(Add66545)
Add20042 = keras.layers.Add(name = 'Add20042', )([Con52993,Zer86136])
Res377 = keras.layers.Reshape((2, 2, 4), name = 'Res377', )(Add20042)
Glo93330 = keras.layers.GlobalMaxPool2D(name = 'Glo93330', )(Res377)
model = tf.keras.models.Model(inputs=[in0Ave92105,in1Ave92105,in0Add85742,in1Add85742,in0Con52993,in0Ave6055,in1Ave6055,in0Add80122,in1Add80122,in0Con38630], outputs=Glo93330)
in0Ave92105 = tf.constant([[[[0.6112, 0.7229], [0.4347, 0.0884]]]])
in1Ave92105 = tf.constant([[[[0.3403, 0.206], [0.9635, 0.6906]]]])
in0Add85742 = tf.constant([[[[0.6179, 0.6739], [0.6924, 0.521]], [[0.2071, 0.7078], [0.642, 0.8246]]]])
in1Add85742 = tf.constant([[[[0.632, 0.5292], [0.7429, 0.4756]], [[0.1043, 0.0595], [0.4999, 0.6599]]]])
in0Con52993 = tf.constant([[[[[0.055], [0.7928]], [[0.1424], [0.6011]]], [[[0.46], [0.0145]], [[0.0431], [0.1674]]]]])
in0Ave6055 = tf.constant([[[[[0.666, 0.7363], [0.1352, 0.0899]], [[0.3398, 0.1769], [0.7241, 0.0195]]]]])
in1Ave6055 = tf.constant([[[[[0.9698, 0.8966], [0.7473, 0.0905]], [[0.6094, 0.9396], [0.1695, 0.8272]]]]])
in0Add80122 = tf.constant([[[[[0.7667]], [[0.4597]]]]])
in1Add80122 = tf.constant([[[[[0.624]], [[0.421]]]]])
in0Con38630 = tf.constant([[[[[0.6866], [0.0727]], [[0.425], [0.0127]]]]])
print (np.array2string(model.predict([in0Ave92105,in1Ave92105,in0Add85742,in1Add85742,in0Con52993,in0Ave6055,in1Ave6055,in0Add80122,in1Add80122,in0Con38630],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo93330.png')

LAve92105 = average_layer([[[[[0.6112, 0.7229], [0.4347, 0.0884]]]], [[[[0.3403, 0.206], [0.9635, 0.6906]]]]], Ave92105), 
LZer45090 = zero_padding2D_layer(Ave92105, 1, 0, 0, 0, Zer45090), 
LAdd85742 = add_layer([[[[[0.6179, 0.6739], [0.6924, 0.521]], [[0.2071, 0.7078], [0.642, 0.8246]]]], [[[[0.632, 0.5292], [0.7429, 0.4756]], [[0.1043, 0.0595], [0.4999, 0.6599]]]]], Add85742), 
LMin75366 = minimum_layer([Zer45090,Add85742], Min75366), 
LRes94431 = reshape_layer(Min75366, [2, 2, 2, 1], Res94431), 
LCon52993 = concatenate_layer([Res94431,[[[[[0.055], [0.7928]], [[0.1424], [0.6011]]], [[[0.46], [0.0145]], [[0.0431], [0.1674]]]]]], 4, Con52993), 
LAve6055 = average_layer([[[[[[0.666, 0.7363], [0.1352, 0.0899]], [[0.3398, 0.1769], [0.7241, 0.0195]]]]], [[[[[0.9698, 0.8966], [0.7473, 0.0905]], [[0.6094, 0.9396], [0.1695, 0.8272]]]]]], Ave6055), 
LAdd80122 = add_layer([[[[[[0.7667]], [[0.4597]]]]], [[[[[0.624]], [[0.421]]]]]], Add80122), 
LZer18698 = zero_padding3D_layer(Add80122, 0, 0, 0, 0, 1, 0, Zer18698), 
LCon38630 = concatenate_layer([Zer18698,[[[[[0.6866], [0.0727]], [[0.425], [0.0127]]]]]], 4, Con38630), 
LAdd66545 = add_layer([Ave6055,Con38630], Add66545), 
LZer86136 = zero_padding3D_layer(Add66545, 1, 0, 0, 0, 0, 0, Zer86136), 
LAdd20042 = add_layer([Con52993,Zer86136], Add20042), 
LRes377 = reshape_layer(Add20042, [2, 2, 4], Res377), 
LGlo93330 = global_max_pool2D_layer(Res377, Glo93330), 
exec_layers([LAve92105,LZer45090,LAdd85742,LMin75366,LRes94431,LCon52993,LAve6055,LAdd80122,LZer18698,LCon38630,LAdd66545,LZer86136,LAdd20042,LRes377,LGlo93330],["Ave92105","Zer45090","Add85742","Min75366","Res94431","Con52993","Ave6055","Add80122","Zer18698","Con38630","Add66545","Zer86136","Add20042","Res377","Glo93330"],Glo93330,"Glo93330")

Actual (Unparsed): [[1.1737000, 1.9630500, 2.2964000, 0.7928000]]

Expected (Unparsed): [[1.1737000000000002,1.96305,2.2963999999999998,0.7928]]

Actual:   [[1.1737, 1.9631, 2.2964, 0.7928]]

Expected: [[1.1738, 1.9631, 2.2964, 0.7928]]