import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave8250 = tf.keras.layers.Input(shape=([1, 2, 1]))
in1Ave8250 = tf.keras.layers.Input(shape=([1, 2, 1]))

Ave8250 = keras.layers.Average(name = 'Ave8250', )([in0Ave8250,in1Ave8250])
Loc73953 = keras.layers.LocallyConnected2D(3, (1, 2),strides=(1, 1), name = 'Loc73953', )(Ave8250)
model = tf.keras.models.Model(inputs=[in0Ave8250,in1Ave8250], outputs=Loc73953)
w = model.get_layer('Loc73953').get_weights() 
w[0] = np.array([[[0.7403, 0.7948, 0.5576], [0.332, 0.9138, 0.2371]]])
w[1] = np.array([[[0, 0, 0]]])
model.get_layer('Loc73953').set_weights(w) 
in0Ave8250 = tf.constant([[[[0.5854], [0.5697]]]])
in1Ave8250 = tf.constant([[[[0.829], [0.3617]]]])
print (np.array2string(model.predict([in0Ave8250,in1Ave8250],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Loc73953.png')

LAve8250 = average_layer([[[[[0.5854], [0.5697]]]], [[[[0.829], [0.3617]]]]], Ave8250), 
LLoc73953 = locally_connected2D_layer(Ave8250, 1, 2,[[[0.7403, 0.7948, 0.5576], [0.332, 0.9138, 0.2371]]],[[[0, 0, 0]]], 1, 1, Loc73953), 
exec_layers([LAve8250,LLoc73953],["Ave8250","Loc73953"],Loc73953,"Loc73953")

Actual (Unparsed): [[[[0.6781526, 0.9876392, 0.5047522]]]]

Expected (Unparsed): [[[[0.67815256,0.9876392199999999,0.50475219]]]]

Actual:   [[[[0.6782, 0.9877, 0.5048]]]]

Expected: [[[[0.6782, 0.9877, 0.5048]]]]