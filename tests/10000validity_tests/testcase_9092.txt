import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave57557 = tf.keras.layers.Input(shape=([1, 1, 1]))
in1Ave57557 = tf.keras.layers.Input(shape=([1, 1, 1]))

Ave57557 = keras.layers.Average(name = 'Ave57557', )([in0Ave57557,in1Ave57557])
Lea88192 = keras.layers.LeakyReLU(alpha=9.880858898746256, name = 'Lea88192', )(Ave57557)
Bat33175 = keras.layers.BatchNormalization(axis=2, epsilon=0.7524782775362131,  name = 'Bat33175', )(Lea88192)
model = tf.keras.models.Model(inputs=[in0Ave57557,in1Ave57557], outputs=Bat33175)
w = model.get_layer('Bat33175').get_weights() 
w[0] = np.array([0.5527])
w[1] = np.array([0.7707])
w[2] = np.array([0.3094])
w[3] = np.array([0.3837])
model.get_layer('Bat33175').set_weights(w) 
in0Ave57557 = tf.constant([[[[0.6834]]]])
in1Ave57557 = tf.constant([[[[0.1129]]]])
print (np.array2string(model.predict([in0Ave57557,in1Ave57557],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Bat33175.png')

LAve57557 = average_layer([[[[[0.6834]]]], [[[[0.1129]]]]], Ave57557), 
LLea88192 = leaky_relu_layer(Ave57557, 9.880858898746256, Lea88192), 
LBat33175 = batch_normalization_layer(Lea88192, 2, 0.7524782775362131, [0.5527], [0.7707], [0.3094], [0.3837], Bat33175), 
exec_layers([LAve57557,LLea88192,LBat33175],["Ave57557","Lea88192","Bat33175"],Bat33175,"Bat33175")

Actual (Unparsed): [[[[0.8167187]]]]

Expected (Unparsed): [[[[0.8167187253734983]]]]

Actual:   [[[[0.8168]]]]

Expected: [[[[0.8168]]]]