import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot27779 = tf.keras.layers.Input(shape=([2]))
in1Dot27779 = tf.keras.layers.Input(shape=([2]))

Dot27779 = keras.layers.Dot(axes=(1, 1), name = 'Dot27779', )([in0Dot27779,in1Dot27779])
Mas79987 = keras.layers.Masking(mask_value=1, name = 'Mas79987', )(Dot27779)
model = tf.keras.models.Model(inputs=[in0Dot27779,in1Dot27779], outputs=Mas79987)
in0Dot27779 = tf.constant([[0.3659, 0.5101]])
in1Dot27779 = tf.constant([[0.3407, 0.3776]])
print (np.array2string(model.predict([in0Dot27779,in1Dot27779],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Mas79987.png')

LDot27779 = dot_layer([[0.3659, 0.5101]], [[0.3407, 0.3776]], 1, 1, Dot27779), 
LMas79987 = masking_layer(Dot27779, 1, Mas79987), 
exec_layers([LDot27779,LMas79987],["Dot27779","Mas79987"],Mas79987,"Mas79987")

Actual (Unparsed): [[0.3172759]]

Expected (Unparsed): [[0.31727589]]

Actual:   [[0.3173]]

Expected: [[0.3173]]