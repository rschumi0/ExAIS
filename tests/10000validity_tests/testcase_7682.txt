import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub62111 = tf.keras.layers.Input(shape=([2]))
in1Sub62111 = tf.keras.layers.Input(shape=([2]))
in0Dot21738 = tf.keras.layers.Input(shape=([3]))
in1Dot21738 = tf.keras.layers.Input(shape=([3]))
in0Con40120 = tf.keras.layers.Input(shape=([1]))

Sub62111 = keras.layers.Subtract(name = 'Sub62111', )([in0Sub62111,in1Sub62111])
Dot21738 = keras.layers.Dot(axes=(1, 1), name = 'Dot21738', )([in0Dot21738,in1Dot21738])
Con40120 = keras.layers.Concatenate(axis=1, name = 'Con40120', )([Dot21738,in0Con40120])
Mul4660 = keras.layers.Multiply(name = 'Mul4660', )([Sub62111,Con40120])
Res99253 = keras.layers.Reshape((2, 1), name = 'Res99253', )(Mul4660)
Up_51785 = keras.layers.UpSampling1D(size=(2), name = 'Up_51785', )(Res99253)
model = tf.keras.models.Model(inputs=[in0Sub62111,in1Sub62111,in0Dot21738,in1Dot21738,in0Con40120], outputs=Up_51785)
in0Sub62111 = tf.constant([[0.2767, 0.1222]])
in1Sub62111 = tf.constant([[0.8012, 0.6881]])
in0Dot21738 = tf.constant([[0.0329, 0.2238, 0.0662]])
in1Dot21738 = tf.constant([[0.8506, 0.5795, 0.6222]])
in0Con40120 = tf.constant([[0.8164]])
print (np.array2string(model.predict([in0Sub62111,in1Sub62111,in0Dot21738,in1Dot21738,in0Con40120],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Up_51785.png')

LSub62111 = subtract_layer([[0.2767, 0.1222]], [[0.8012, 0.6881]], Sub62111), 
LDot21738 = dot_layer([[0.0329, 0.2238, 0.0662]], [[0.8506, 0.5795, 0.6222]], 1, 1, Dot21738), 
LCon40120 = concatenate_layer([Dot21738,[[0.8164]]], 1, Con40120), 
LMul4660 = multiply_layer([Sub62111,Con40120], Mul4660), 
LRes99253 = reshape_layer(Mul4660, [2, 1], Res99253), 
LUp_51785 = up_sampling1D_layer(Res99253, 2, Up_51785), 
exec_layers([LSub62111,LDot21738,LCon40120,LMul4660,LRes99253,LUp_51785],["Sub62111","Dot21738","Con40120","Mul4660","Res99253","Up_51785"],Up_51785,"Up_51785")

Actual (Unparsed): [[[-0.1043055], [-0.1043055], [-0.4620007], [-0.4620007]]]

Expected (Unparsed): [[[-0.10430546876],[-0.10430546876],[-0.46200076000000007],[-0.46200076000000007]]]

Actual:   [[[-0.1043], [-0.1043], [-0.462], [-0.462]]]

Expected: [[[-0.1043], [-0.1043], [-0.462], [-0.462]]]