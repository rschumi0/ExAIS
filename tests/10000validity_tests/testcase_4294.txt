import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub83749 = tf.keras.layers.Input(shape=([3, 2]))
in1Sub83749 = tf.keras.layers.Input(shape=([3, 2]))
in0Mul10223 = tf.keras.layers.Input(shape=([2, 1, 2]))
in1Mul10223 = tf.keras.layers.Input(shape=([2, 1, 2]))
in0Lea95913 = tf.keras.layers.Input(shape=([2, 1]))
in0Dot71623 = tf.keras.layers.Input(shape=([3]))
in1Dot71623 = tf.keras.layers.Input(shape=([3]))
in0Con12461 = tf.keras.layers.Input(shape=([1]))
in0Con92309 = tf.keras.layers.Input(shape=([4]))
in0Min93376 = tf.keras.layers.Input(shape=([2, 2, 2]))
in1Min93376 = tf.keras.layers.Input(shape=([2, 2, 2]))
in0Con25373 = tf.keras.layers.Input(shape=([2]))

Sub83749 = keras.layers.Subtract(name = 'Sub83749', )([in0Sub83749,in1Sub83749])
Mul10223 = keras.layers.Multiply(name = 'Mul10223', )([in0Mul10223,in1Mul10223])
Res68118 = keras.layers.Reshape((2, 2), name = 'Res68118', )(Mul10223)
Dot44432 = keras.layers.Dot(axes=(2, 2), name = 'Dot44432', )([Sub83749,Res68118])
Fla14600 = keras.layers.Flatten(name = 'Fla14600', )(Dot44432)
Lea95913 = keras.layers.LeakyReLU(alpha=5.763730336374424, name = 'Lea95913', input_shape=(2, 1))(in0Lea95913)
Fla52451 = keras.layers.Flatten(name = 'Fla52451', )(Lea95913)
Dot71623 = keras.layers.Dot(axes=(1, 1), name = 'Dot71623', )([in0Dot71623,in1Dot71623])
Con12461 = keras.layers.Concatenate(axis=1, name = 'Con12461', )([Dot71623,in0Con12461])
Max76523 = keras.layers.Maximum(name = 'Max76523', )([Fla52451,Con12461])
Con92309 = keras.layers.Concatenate(axis=1, name = 'Con92309', )([Max76523,in0Con92309])
Max97114 = keras.layers.Maximum(name = 'Max97114', )([Fla14600,Con92309])
Min93376 = keras.layers.Minimum(name = 'Min93376', )([in0Min93376,in1Min93376])
Res60822 = keras.layers.Reshape((2, 4), name = 'Res60822', )(Min93376)
Glo5591 = keras.layers.GlobalAveragePooling1D(name = 'Glo5591', )(Res60822)
Con25373 = keras.layers.Concatenate(axis=1, name = 'Con25373', )([Glo5591,in0Con25373])
Min19685 = keras.layers.Minimum(name = 'Min19685', )([Max97114,Con25373])
model = tf.keras.models.Model(inputs=[in0Sub83749,in1Sub83749,in0Mul10223,in1Mul10223,in0Lea95913,in0Dot71623,in1Dot71623,in0Con12461,in0Con92309,in0Min93376,in1Min93376,in0Con25373], outputs=Min19685)
in0Sub83749 = tf.constant([[[0.1195, 0.4807], [0.6125, 0.3943], [0.5621, 0.5065]]])
in1Sub83749 = tf.constant([[[0.3905, 0.0341], [0.36, 0.0986], [0.4478, 0.2119]]])
in0Mul10223 = tf.constant([[[[0.2682, 0.5221]], [[0.9025, 0.7209]]]])
in1Mul10223 = tf.constant([[[[0.583, 0.4406]], [[0.7749, 0.0701]]]])
in0Lea95913 = tf.constant([[[0.0306], [0.0982]]])
in0Dot71623 = tf.constant([[0.1755, 0.2513, 0.6803]])
in1Dot71623 = tf.constant([[0.0014, 0.1332, 0.1774]])
in0Con12461 = tf.constant([[0.8439]])
in0Con92309 = tf.constant([[0.2398, 0.6461, 0.7834, 0.6818]])
in0Min93376 = tf.constant([[[[0.3324, 0.8578], [0.8615, 0.9423]], [[0.905, 0.5113], [0.2184, 0.5543]]]])
in1Min93376 = tf.constant([[[[0.4452, 0.882], [0.6135, 0.0764]], [[0.5225, 0.4667], [0.6358, 0.1718]]]])
in0Con25373 = tf.constant([[0.216, 0.1336]])
print (np.array2string(model.predict([in0Sub83749,in1Sub83749,in0Mul10223,in1Mul10223,in0Lea95913,in0Dot71623,in1Dot71623,in0Con12461,in0Con92309,in0Min93376,in1Min93376,in0Con25373],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min19685.png')

LSub83749 = subtract_layer([[[0.1195, 0.4807], [0.6125, 0.3943], [0.5621, 0.5065]]], [[[0.3905, 0.0341], [0.36, 0.0986], [0.4478, 0.2119]]], Sub83749), 
LMul10223 = multiply_layer([[[[[0.2682, 0.5221]], [[0.9025, 0.7209]]]], [[[[0.583, 0.4406]], [[0.7749, 0.0701]]]]], Mul10223), 
LRes68118 = reshape_layer(Mul10223, [2, 2], Res68118), 
LDot44432 = dot_layer(Sub83749,Res68118, 2, 2, Dot44432), 
LFla14600 = flatten_layer(Dot44432, Fla14600), 
LLea95913 = leaky_relu_layer([[[0.0306], [0.0982]]], 5.763730336374424, Lea95913), 
LFla52451 = flatten_layer(Lea95913, Fla52451), 
LDot71623 = dot_layer([[0.1755, 0.2513, 0.6803]], [[0.0014, 0.1332, 0.1774]], 1, 1, Dot71623), 
LCon12461 = concatenate_layer([Dot71623,[[0.8439]]], 1, Con12461), 
LMax76523 = maximum_layer([Fla52451,Con12461], Max76523), 
LCon92309 = concatenate_layer([Max76523,[[0.2398, 0.6461, 0.7834, 0.6818]]], 1, Con92309), 
LMax97114 = maximum_layer([Fla14600,Con92309], Max97114), 
LMin93376 = minimum_layer([[[[[0.3324, 0.8578], [0.8615, 0.9423]], [[0.905, 0.5113], [0.2184, 0.5543]]]], [[[[0.4452, 0.882], [0.6135, 0.0764]], [[0.5225, 0.4667], [0.6358, 0.1718]]]]], Min93376), 
LRes60822 = reshape_layer(Min93376, [2, 4], Res60822), 
LGlo5591 = global_average_pooling1D_layer(Res60822, Glo5591), 
LCon25373 = concatenate_layer([Glo5591,[[0.216, 0.1336]]], 1, Con25373), 
LMin19685 = minimum_layer([Max97114,Con25373], Min19685), 
exec_layers([LSub83749,LMul10223,LRes68118,LDot44432,LFla14600,LLea95913,LFla52451,LDot71623,LCon12461,LMax76523,LCon92309,LMax97114,LMin93376,LRes60822,LGlo5591,LCon25373,LMin19685],["Sub83749","Mul10223","Res68118","Dot44432","Fla14600","Lea95913","Fla52451","Dot71623","Con12461","Max76523","Con92309","Max97114","Min93376","Res60822","Glo5591","Con25373","Min19685"],Min19685,"Min19685")

Actual (Unparsed): [[0.1544041, 0.6622500, 0.2398000, 0.1241000, 0.2160000, 0.1336000]]

Expected (Unparsed): [[0.15440408000000003,0.66225,0.2398,0.1241,0.216,0.1336]]

Actual:   [[0.1545, 0.6623, 0.2398, 0.1241, 0.216, 0.1336]]

Expected: [[0.1545, 0.6623, 0.2398, 0.1241, 0.216, 0.1336]]