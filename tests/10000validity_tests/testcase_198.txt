import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot64657 = tf.keras.layers.Input(shape=([3, 2]))
in1Dot64657 = tf.keras.layers.Input(shape=([3, 2]))

Dot64657 = keras.layers.Dot(axes=(1, 1), name = 'Dot64657', )([in0Dot64657,in1Dot64657])
Fla13124 = keras.layers.Flatten(name = 'Fla13124', )(Dot64657)
Sof92872 = keras.layers.Softmax(axis=1, name = 'Sof92872', )(Fla13124)
ELU70278 = keras.layers.ELU(alpha=-6.46313349841944, name = 'ELU70278', )(Sof92872)
Res34010 = keras.layers.Reshape((4, 1), name = 'Res34010', )(ELU70278)
Glo57854 = keras.layers.GlobalAveragePooling1D(name = 'Glo57854', )(Res34010)
model = tf.keras.models.Model(inputs=[in0Dot64657,in1Dot64657], outputs=Glo57854)
in0Dot64657 = tf.constant([[[0.0719, 0.3083], [0.9536, 0.4302], [0.6244, 0.5728]]])
in1Dot64657 = tf.constant([[[0.1616, 0.1349], [0.6472, 0.7401], [0.335, 0.961]]])
print (np.array2string(model.predict([in0Dot64657,in1Dot64657],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo57854.png')

LDot64657 = dot_layer([[[0.0719, 0.3083], [0.9536, 0.4302], [0.6244, 0.5728]]], [[[0.1616, 0.1349], [0.6472, 0.7401], [0.335, 0.961]]], 1, 1, Dot64657), 
LFla13124 = flatten_layer(Dot64657, Fla13124), 
LSof92872 = softmax_layer(Fla13124, 1, Sof92872), 
LELU70278 = elu_layer(Sof92872, -6.46313349841944, ELU70278), 
LRes34010 = reshape_layer(ELU70278, [4, 1], Res34010), 
LGlo57854 = global_average_pooling1D_layer(Res34010, Glo57854), 
exec_layers([LDot64657,LFla13124,LSof92872,LELU70278,LRes34010,LGlo57854],["Dot64657","Fla13124","Sof92872","ELU70278","Res34010","Glo57854"],Glo57854,"Glo57854")

Actual (Unparsed): [[0.2500000]]

Expected (Unparsed): [[0.25]]

Actual:   [[0.25]]

Expected: [[0.25]]