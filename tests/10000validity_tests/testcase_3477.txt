import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max67861 = tf.keras.layers.Input(shape=([1, 2]))
in1Max67861 = tf.keras.layers.Input(shape=([1, 2]))

Max67861 = keras.layers.Maximum(name = 'Max67861', )([in0Max67861,in1Max67861])
Res91066 = keras.layers.Reshape((1, 2, 1), name = 'Res91066', )(Max67861)
Res88033 = keras.layers.Reshape((1, 2, 1, 1), name = 'Res88033', )(Res91066)
Con7688 = keras.layers.Conv3D(2, (1, 1, 1),strides=(1, 1, 1), padding='valid', dilation_rate=(1, 1, 1), name = 'Con7688', )(Res88033)
Res99638 = keras.layers.Reshape((1, 2, 2), name = 'Res99638', )(Con7688)
Dep50473 = keras.layers.DepthwiseConv2D((1, 1),strides=(1, 1), padding='valid', name = 'Dep50473', )(Res99638)
model = tf.keras.models.Model(inputs=[in0Max67861,in1Max67861], outputs=Dep50473)
w = model.get_layer('Con7688').get_weights() 
w[0] = np.array([[[[[0.6877, 0.7889]]]]])
w[1] = np.array([0, 0])
model.get_layer('Con7688').set_weights(w) 
w = model.get_layer('Dep50473').get_weights() 
w[0] = np.array([[[[0.5363], [0.6854]]]])
w[1] = np.array([0, 0])
model.get_layer('Dep50473').set_weights(w) 
in0Max67861 = tf.constant([[[0.89, 0.8474]]])
in1Max67861 = tf.constant([[[0.5027, 0.6461]]])
print (np.array2string(model.predict([in0Max67861,in1Max67861],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Dep50473.png')

LMax67861 = maximum_layer([[[[0.89, 0.8474]]], [[[0.5027, 0.6461]]]], Max67861), 
LRes91066 = reshape_layer(Max67861, [1, 2, 1], Res91066), 
LRes88033 = reshape_layer(Res91066, [1, 2, 1, 1], Res88033), 
LCon7688 = conv3D_layer(Res88033, 1, 1, 1,[[[[[0.6877, 0.7889]]]]],[0, 0], 1, 1, 1, false, 1, 1, 1, Con7688), 
LRes99638 = reshape_layer(Con7688, [1, 2, 2], Res99638), 
LDep50473 = depthwise_conv2D_layer(Res99638, 1, 1,[[[[0.5363], [0.6854]]]],[0, 0], 1, 1, false, Dep50473), 
exec_layers([LMax67861,LRes91066,LRes88033,LCon7688,LRes99638,LDep50473],["Max67861","Res91066","Res88033","Con7688","Res99638","Dep50473"],Dep50473,"Dep50473")

Actual (Unparsed): [[[[0.3282440, 0.4812337], [0.3125326, 0.4581994]]]]

Expected (Unparsed): [[[[0.32824402389999996,0.4812337334000001],[0.312532568374,0.4581993996440001]]]]

Actual:   [[[[0.3283, 0.4813], [0.3126, 0.4582]]]]

Expected: [[[[0.3283, 0.4813], [0.3126, 0.4582]]]]