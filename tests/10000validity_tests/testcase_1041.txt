import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Con73814 = tf.keras.layers.Input(shape=([2, 1, 2]))

Con73814 = keras.layers.Conv2D(4, (2, 1),strides=(1, 10), padding='valid', dilation_rate=(1, 1), name = 'Con73814', )(in0Con73814)
Res45806 = keras.layers.Reshape((1, 4), name = 'Res45806', )(Con73814)
Loc48034 = keras.layers.LocallyConnected1D(3, (1),strides=(1), name = 'Loc48034', )(Res45806)
Res96980 = keras.layers.Reshape((1, 3, 1), name = 'Res96980', )(Loc48034)
Res2960 = keras.layers.Reshape((1, 3, 1, 1), name = 'Res2960', )(Res96980)
Zer2761 = keras.layers.ZeroPadding3D(padding=((1, 1), (1, 1), (1, 1)), name = 'Zer2761', )(Res2960)
model = tf.keras.models.Model(inputs=[in0Con73814], outputs=Zer2761)
w = model.get_layer('Con73814').get_weights() 
w[0] = np.array([[[[0.1434, 0.3818, 0.0073, 0.0768], [0.6748, 0.9065, 0.8873, 0.7283]]], [[[0.8253, 0.7636, 0.1828, 0.903], [0.9828, 0.6842, 0.9313, 0.9269]]]])
w[1] = np.array([0, 0, 0, 0])
model.get_layer('Con73814').set_weights(w) 
w = model.get_layer('Loc48034').get_weights() 
w[0] = np.array([[[0.0394, 0.552, 0.3994], [0.9713, 0.8768, 0.8671], [0.2772, 0.1194, 0.0247], [0.2033, 0.9386, 0.3009]]])
w[1] = np.array([[0, 0, 0]])
model.get_layer('Loc48034').set_weights(w) 
in0Con73814 = tf.constant([[[[0.6447, 0.6431]], [[0.2752, 0.6613]]]])
print (np.array2string(model.predict([in0Con73814],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Zer2761.png')

LCon73814 = conv2D_layer([[[[0.6447, 0.6431]], [[0.2752, 0.6613]]]], 2, 1,[[[[0.1434, 0.3818, 0.0073, 0.0768], [0.6748, 0.9065, 0.8873, 0.7283]]], [[[0.8253, 0.7636, 0.1828, 0.903], [0.9828, 0.6842, 0.9313, 0.9269]]]],[0, 0, 0, 0], 1, 10, false, 1, 1, Con73814), 
LRes45806 = reshape_layer(Con73814, [1, 4], Res45806), 
LLoc48034 = locally_connected1D_layer(Res45806, 1,[[[0.0394, 0.552, 0.3994], [0.9713, 0.8768, 0.8671], [0.2772, 0.1194, 0.0247], [0.2033, 0.9386, 0.3009]]],[[0, 0, 0]], 1, Loc48034), 
LRes96980 = reshape_layer(Loc48034, [1, 3, 1], Res96980), 
LRes2960 = reshape_layer(Res96980, [1, 3, 1, 1], Res2960), 
LZer2761 = zero_padding3D_layer(Res2960, 1, 1, 1, 1, 1, 1, Zer2761), 
exec_layers([LCon73814,LRes45806,LLoc48034,LRes96980,LRes2960,LZer2761],["Con73814","Res45806","Loc48034","Res96980","Res2960","Zer2761"],Zer2761,"Zer2761")

Actual (Unparsed): [[[[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [2.1287711], [0.0000000]], [[0.0000000], [3.5255429], [0.0000000]], [[0.0000000], [2.2997246], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]]]]

Expected (Unparsed): [[[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[2.128771067917],[0]],[[0],[3.525542784314],[0]],[[0],[2.2997245878],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]]]]]

Actual:   [[[[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [2.1288], [0]], [[0], [3.5256], [0]], [[0], [2.2998], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]]]]

Expected: [[[[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [2.1288], [0]], [[0], [3.5256], [0]], [[0], [2.2998], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]]]]