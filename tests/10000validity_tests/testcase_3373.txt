import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave73230 = tf.keras.layers.Input(shape=([1, 2, 1]))
in1Ave73230 = tf.keras.layers.Input(shape=([1, 2, 1]))

Ave73230 = keras.layers.Average(name = 'Ave73230', )([in0Ave73230,in1Ave73230])
Con31607 = keras.layers.Conv2DTranspose(3, (1, 2),strides=(1, 5), padding='same', name = 'Con31607', )(Ave73230)
Res24850 = keras.layers.Reshape((1, 30), name = 'Res24850', )(Con31607)
Up_75139 = keras.layers.UpSampling1D(size=(1), name = 'Up_75139', )(Res24850)
model = tf.keras.models.Model(inputs=[in0Ave73230,in1Ave73230], outputs=Up_75139)
w = model.get_layer('Con31607').get_weights() 
w[0] = np.array([[[[0.8278], [0.2709], [0.1916]], [[0.3833], [0.8988], [0.1894]]]])
w[1] = np.array([0, 0, 0])
model.get_layer('Con31607').set_weights(w) 
in0Ave73230 = tf.constant([[[[0.6464], [0.6406]]]])
in1Ave73230 = tf.constant([[[[0.3707], [0.4581]]]])
print (np.array2string(model.predict([in0Ave73230,in1Ave73230],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Up_75139.png')

LAve73230 = average_layer([[[[[0.6464], [0.6406]]]], [[[[0.3707], [0.4581]]]]], Ave73230), 
LCon31607 = conv2D_transpose_layer(Ave73230, 1, 2,[[[[0.8278], [0.2709], [0.1916]], [[0.3833], [0.8988], [0.1894]]]],[0, 0, 0], 1, 5, true, Con31607), 
LRes24850 = reshape_layer(Con31607, [1, 30], Res24850), 
LUp_75139 = up_sampling1D_layer(Res24850, 1, Up_75139), 
exec_layers([LAve73230,LCon31607,LRes24850,LUp_75139],["Ave73230","Con31607","Res24850","Up_75139"],Up_75139,"Up_75139")

Actual (Unparsed): [[[0.4209777, 0.1377662, 0.0974382, 0.1949272, 0.4570847, 0.0963194, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.4547519, 0.1488189, 0.1052555, 0.2105659, 0.4937558, 0.1040469, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000]]]

Expected (Unparsed): [[[0.42097768999999996,0.13776619499999998,0.09743817999999999,0.19492721499999996,0.45708474,0.09631937,0,0,0,0,0,0,0,0,0,0.45475192999999997,0.148818915,0.10525546,0.210565855,0.49375578000000003,0.10404689,0,0,0,0,0,0,0,0,0]]]

Actual:   [[[0.421, 0.1378, 0.0975, 0.195, 0.4571, 0.0964, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.4548, 0.1489, 0.1053, 0.2106, 0.4938, 0.1041, 0, 0, 0, 0, 0, 0, 0, 0, 0]]]

Expected: [[[0.421, 0.1378, 0.0975, 0.195, 0.4571, 0.0964, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.4548, 0.1489, 0.1053, 0.2106, 0.4938, 0.1041, 0, 0, 0, 0, 0, 0, 0, 0, 0]]]