import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add44371 = tf.keras.layers.Input(shape=([1, 1, 2, 2]))
in1Add44371 = tf.keras.layers.Input(shape=([1, 1, 2, 2]))
in0Loc41723 = tf.keras.layers.Input(shape=([1, 2, 1]))
in0Con37533 = tf.keras.layers.Input(shape=([1, 1, 2]))

Add44371 = keras.layers.Add(name = 'Add44371', )([in0Add44371,in1Add44371])
Res22595 = keras.layers.Reshape((1, 1, 4), name = 'Res22595', )(Add44371)
Loc41723 = keras.layers.LocallyConnected2D(2, (1, 1),strides=(1, 7), name = 'Loc41723', )(in0Loc41723)
Con37533 = keras.layers.Concatenate(axis=3, name = 'Con37533', )([Loc41723,in0Con37533])
Mul10465 = keras.layers.Multiply(name = 'Mul10465', )([Res22595,Con37533])
model = tf.keras.models.Model(inputs=[in0Add44371,in1Add44371,in0Loc41723,in0Con37533], outputs=Mul10465)
w = model.get_layer('Loc41723').get_weights() 
w[0] = np.array([[[0.8773, 0.8079]]])
w[1] = np.array([[[0, 0]]])
model.get_layer('Loc41723').set_weights(w) 
in0Add44371 = tf.constant([[[[[0.0024, 0.4237], [0.3846, 0.7293]]]]])
in1Add44371 = tf.constant([[[[[0.2026, 0.6007], [0.7587, 0.8022]]]]])
in0Loc41723 = tf.constant([[[[0.6712], [0.1518]]]])
in0Con37533 = tf.constant([[[[0.6332, 0.3252]]]])
print (np.array2string(model.predict([in0Add44371,in1Add44371,in0Loc41723,in0Con37533],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Mul10465.png')

LAdd44371 = add_layer([[[[[[0.0024, 0.4237], [0.3846, 0.7293]]]]], [[[[[0.2026, 0.6007], [0.7587, 0.8022]]]]]], Add44371), 
LRes22595 = reshape_layer(Add44371, [1, 1, 4], Res22595), 
LLoc41723 = locally_connected2D_layer([[[[0.6712], [0.1518]]]], 1, 1,[[[0.8773, 0.8079]]],[[[0, 0]]], 1, 7, Loc41723), 
LCon37533 = concatenate_layer([Loc41723,[[[[0.6332, 0.3252]]]]], 3, Con37533), 
LMul10465 = multiply_layer([Res22595,Con37533], Mul10465), 
exec_layers([LAdd44371,LRes22595,LLoc41723,LCon37533,LMul10465],["Add44371","Res22595","Loc41723","Con37533","Mul10465"],Mul10465,"Mul10465")

Actual (Unparsed): [[[[0.1207130, 0.5554937, 0.7239376, 0.4980438]]]]

Expected (Unparsed): [[[[0.12071297080000001,0.555493684512,0.72393756,0.4980437999999999]]]]

Actual:   [[[[0.1208, 0.5555, 0.724, 0.4981]]]]

Expected: [[[[0.1208, 0.5555, 0.724, 0.4981]]]]