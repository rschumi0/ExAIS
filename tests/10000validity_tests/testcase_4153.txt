import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo54740 = tf.keras.layers.Input(shape=([2, 2]))
in0Zer22374 = tf.keras.layers.Input(shape=([1, 4]))
in0Max2578 = tf.keras.layers.Input(shape=([1, 1]))
in1Max2578 = tf.keras.layers.Input(shape=([1, 1]))

Glo54740 = keras.layers.GlobalAveragePooling1D(name = 'Glo54740', )(in0Glo54740)
Res33011 = keras.layers.Reshape((2, 1), name = 'Res33011', )(Glo54740)
Zer22374 = keras.layers.ZeroPadding1D(padding=((1, 1)), name = 'Zer22374', )(in0Zer22374)
Res17067 = keras.layers.Reshape((3, 4, 1), name = 'Res17067', )(Zer22374)
Cro79747 = keras.layers.Cropping2D(cropping=((1, 0), (3, 0)), name = 'Cro79747', )(Res17067)
Res27122 = keras.layers.Reshape((2, 1), name = 'Res27122', )(Cro79747)
Max2578 = keras.layers.Maximum(name = 'Max2578', )([in0Max2578,in1Max2578])
Zer35213 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer35213', )(Max2578)
Add34238 = keras.layers.Add(name = 'Add34238', )([Res27122,Zer35213])
Max15126 = keras.layers.Maximum(name = 'Max15126', )([Res33011,Add34238])
model = tf.keras.models.Model(inputs=[in0Glo54740,in0Zer22374,in0Max2578,in1Max2578], outputs=Max15126)
in0Glo54740 = tf.constant([[[1.012, 1.472], [1.5816, 1.5395]]])
in0Zer22374 = tf.constant([[[1.6066, 1.5528, 1.4643, 1.7999]]])
in0Max2578 = tf.constant([[[0.731]]])
in1Max2578 = tf.constant([[[0.4112]]])
print (np.array2string(model.predict([in0Glo54740,in0Zer22374,in0Max2578,in1Max2578],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max15126.png')

LGlo54740 = global_average_pooling1D_layer([[[1.012, 1.472], [1.5816, 1.5395]]], Glo54740), 
LRes33011 = reshape_layer(Glo54740, [2, 1], Res33011), 
LZer22374 = zero_padding1D_layer([[[1.6066, 1.5528, 1.4643, 1.7999]]], 1, 1, Zer22374), 
LRes17067 = reshape_layer(Zer22374, [3, 4, 1], Res17067), 
LCro79747 = cropping2D_layer(Res17067, 1, 0, 3, 0, Cro79747), 
LRes27122 = reshape_layer(Cro79747, [2, 1], Res27122), 
LMax2578 = maximum_layer([[[[0.731]]], [[[0.4112]]]], Max2578), 
LZer35213 = zero_padding1D_layer(Max2578, 1, 0, Zer35213), 
LAdd34238 = add_layer([Res27122,Zer35213], Add34238), 
LMax15126 = maximum_layer([Res33011,Add34238], Max15126), 
exec_layers([LGlo54740,LRes33011,LZer22374,LRes17067,LCro79747,LRes27122,LMax2578,LZer35213,LAdd34238,LMax15126],["Glo54740","Res33011","Zer22374","Res17067","Cro79747","Res27122","Max2578","Zer35213","Add34238","Max15126"],Max15126,"Max15126")

Actual (Unparsed): [[[1.7999001], [1.5057500]]]

Expected (Unparsed): [[[1.7999],[1.50575]]]

Actual:   [[[1.8], [1.5058]]]

Expected: [[[1.7999], [1.5058]]]