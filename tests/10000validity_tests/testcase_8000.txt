import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo95696 = tf.keras.layers.Input(shape=([1, 2, 1]))
in0Con84932 = tf.keras.layers.Input(shape=([1]))
in0Min88860 = tf.keras.layers.Input(shape=([1, 2]))
in1Min88860 = tf.keras.layers.Input(shape=([1, 2]))

Glo95696 = keras.layers.GlobalMaxPool2D(name = 'Glo95696', )(in0Glo95696)
Con84932 = keras.layers.Concatenate(axis=1, name = 'Con84932', )([Glo95696,in0Con84932])
Min88860 = keras.layers.Minimum(name = 'Min88860', )([in0Min88860,in1Min88860])
ELU1535 = keras.layers.ELU(alpha=5.804328717589097, name = 'ELU1535', )(Min88860)
Glo39567 = keras.layers.GlobalMaxPool1D(name = 'Glo39567', )(ELU1535)
Add22884 = keras.layers.Add(name = 'Add22884', )([Con84932,Glo39567])
Res9278 = keras.layers.Reshape((2, 1), name = 'Res9278', )(Add22884)
Max28158 = keras.layers.MaxPool1D(pool_size=(2), strides=(1), padding='same', name = 'Max28158', )(Res9278)
model = tf.keras.models.Model(inputs=[in0Glo95696,in0Con84932,in0Min88860,in1Min88860], outputs=Max28158)
in0Glo95696 = tf.constant([[[[1.2916], [1.3256]]]])
in0Con84932 = tf.constant([[0.1198]])
in0Min88860 = tf.constant([[[0.2235, 0.4325]]])
in1Min88860 = tf.constant([[[0.8631, 0.3599]]])
print (np.array2string(model.predict([in0Glo95696,in0Con84932,in0Min88860,in1Min88860],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max28158.png')

LGlo95696 = global_max_pool2D_layer([[[[1.2916], [1.3256]]]], Glo95696), 
LCon84932 = concatenate_layer([Glo95696,[[0.1198]]], 1, Con84932), 
LMin88860 = minimum_layer([[[[0.2235, 0.4325]]], [[[0.8631, 0.3599]]]], Min88860), 
LELU1535 = elu_layer(Min88860, 5.804328717589097, ELU1535), 
LGlo39567 = global_max_pool1D_layer(ELU1535, Glo39567), 
LAdd22884 = add_layer([Con84932,Glo39567], Add22884), 
LRes9278 = reshape_layer(Add22884, [2, 1], Res9278), 
LMax28158 = max_pool1D_layer(Res9278, 2, 1, true, Max28158), 
exec_layers([LGlo95696,LCon84932,LMin88860,LELU1535,LGlo39567,LAdd22884,LRes9278,LMax28158],["Glo95696","Con84932","Min88860","ELU1535","Glo39567","Add22884","Res9278","Max28158"],Max28158,"Max28158")

Actual (Unparsed): [[[1.5491000], [0.4797000]]]

Expected (Unparsed): [[[1.5491],[0.4797]]]

Actual:   [[[1.5491], [0.4797]]]

Expected: [[[1.5491], [0.4797]]]