import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add23071 = tf.keras.layers.Input(shape=([2, 2]))
in1Add23071 = tf.keras.layers.Input(shape=([2, 2]))
in0Add82711 = tf.keras.layers.Input(shape=([2, 1, 1, 2]))
in1Add82711 = tf.keras.layers.Input(shape=([2, 1, 1, 2]))

Add23071 = keras.layers.Add(name = 'Add23071', )([in0Add23071,in1Add23071])
Res75039 = keras.layers.Reshape((2, 2, 1), name = 'Res75039', )(Add23071)
Add82711 = keras.layers.Add(name = 'Add82711', )([in0Add82711,in1Add82711])
Res11455 = keras.layers.Reshape((2, 2, 1), name = 'Res11455', )(Add82711)
Add42212 = keras.layers.Add(name = 'Add42212', )([Res75039,Res11455])
model = tf.keras.models.Model(inputs=[in0Add23071,in1Add23071,in0Add82711,in1Add82711], outputs=Add42212)
in0Add23071 = tf.constant([[[0.7621, 0.3924], [0.015, 0.0585]]])
in1Add23071 = tf.constant([[[0.6012, 0.0231], [0.9883, 0.5128]]])
in0Add82711 = tf.constant([[[[[0.6559, 0.4462]]], [[[0.2772, 0.0145]]]]])
in1Add82711 = tf.constant([[[[[0.2309, 0.613]]], [[[0.7044, 0.2268]]]]])
print (np.array2string(model.predict([in0Add23071,in1Add23071,in0Add82711,in1Add82711],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add42212.png')

LAdd23071 = add_layer([[[[0.7621, 0.3924], [0.015, 0.0585]]], [[[0.6012, 0.0231], [0.9883, 0.5128]]]], Add23071), 
LRes75039 = reshape_layer(Add23071, [2, 2, 1], Res75039), 
LAdd82711 = add_layer([[[[[[0.6559, 0.4462]]], [[[0.2772, 0.0145]]]]], [[[[[0.2309, 0.613]]], [[[0.7044, 0.2268]]]]]], Add82711), 
LRes11455 = reshape_layer(Add82711, [2, 2, 1], Res11455), 
LAdd42212 = add_layer([Res75039,Res11455], Add42212), 
exec_layers([LAdd23071,LRes75039,LAdd82711,LRes11455,LAdd42212],["Add23071","Res75039","Add82711","Res11455","Add42212"],Add42212,"Add42212")

Actual (Unparsed): [[[[2.2501000], [1.4747000]], [[1.9849000], [0.8126000]]]]

Expected (Unparsed): [[[[2.2500999999999998],[1.4747]],[[1.9848999999999999],[0.8126]]]]

Actual:   [[[[2.2501], [1.4747]], [[1.9849], [0.8126]]]]

Expected: [[[[2.2501], [1.4747]], [[1.9849], [0.8126]]]]