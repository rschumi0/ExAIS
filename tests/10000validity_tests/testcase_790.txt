import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave76721 = tf.keras.layers.Input(shape=([1, 1, 1, 2]))
in1Ave76721 = tf.keras.layers.Input(shape=([1, 1, 1, 2]))

Ave76721 = keras.layers.Average(name = 'Ave76721', )([in0Ave76721,in1Ave76721])
Res58366 = keras.layers.Reshape((1, 1, 2), name = 'Res58366', )(Ave76721)
Max24948 = keras.layers.MaxPool2D(pool_size=(1, 1), strides=(1, 1), padding='valid', name = 'Max24948', )(Res58366)
model = tf.keras.models.Model(inputs=[in0Ave76721,in1Ave76721], outputs=Max24948)
in0Ave76721 = tf.constant([[[[[0.3138, 0.9258]]]]])
in1Ave76721 = tf.constant([[[[[0.0423, 0.2086]]]]])
print (np.array2string(model.predict([in0Ave76721,in1Ave76721],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max24948.png')

LAve76721 = average_layer([[[[[[0.3138, 0.9258]]]]], [[[[[0.0423, 0.2086]]]]]], Ave76721), 
LRes58366 = reshape_layer(Ave76721, [1, 1, 2], Res58366), 
LMax24948 = max_pool2D_layer(Res58366, 1, 1, 1, 1, false, Max24948), 
exec_layers([LAve76721,LRes58366,LMax24948],["Ave76721","Res58366","Max24948"],Max24948,"Max24948")

Actual (Unparsed): [[[[0.1780500, 0.5672000]]]]

Expected (Unparsed): [[[[0.17805,0.5671999999999999]]]]

Actual:   [[[[0.1781, 0.5672]]]]

Expected: [[[[0.1781, 0.5672]]]]