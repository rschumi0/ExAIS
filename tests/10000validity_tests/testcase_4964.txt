import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Up_17478 = tf.keras.layers.Input(shape=([4, 3, 1]))
in0Glo72144 = tf.keras.layers.Input(shape=([2, 2, 1, 1]))

Up_17478 = keras.layers.UpSampling2D(size=(2, 2), name = 'Up_17478', )(in0Up_17478)
Res67374 = keras.layers.Reshape((8, 6, 1, 1), name = 'Res67374', )(Up_17478)
Glo94980 = keras.layers.GlobalMaxPool3D(name = 'Glo94980', )(Res67374)
Res67702 = keras.layers.Reshape((1, 1), name = 'Res67702', )(Glo94980)
Max78683 = keras.layers.MaxPool1D(pool_size=(1), name = 'Max78683', )(Res67702)
Fla63301 = keras.layers.Flatten(name = 'Fla63301', )(Max78683)
Glo72144 = keras.layers.GlobalMaxPool3D(name = 'Glo72144', )(in0Glo72144)
Add14618 = keras.layers.Add(name = 'Add14618', )([Fla63301,Glo72144])
model = tf.keras.models.Model(inputs=[in0Up_17478,in0Glo72144], outputs=Add14618)
in0Up_17478 = tf.constant([[[[1.8126], [1.8663], [2]], [[1.9667], [1.0535], [1.5347]], [[1.9486], [1.7028], [1.8902]], [[1.301], [1.5101], [1.447]]]])
in0Glo72144 = tf.constant([[[[[1.4845]], [[1.8556]]], [[[1.5744]], [[1.0162]]]]])
print (np.array2string(model.predict([in0Up_17478,in0Glo72144],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add14618.png')

LUp_17478 = up_sampling2D_layer([[[[1.8126], [1.8663], [2]], [[1.9667], [1.0535], [1.5347]], [[1.9486], [1.7028], [1.8902]], [[1.301], [1.5101], [1.447]]]], 2, 2, Up_17478), 
LRes67374 = reshape_layer(Up_17478, [8, 6, 1, 1], Res67374), 
LGlo94980 = global_max_pool3D_layer(Res67374, Glo94980), 
LRes67702 = reshape_layer(Glo94980, [1, 1], Res67702), 
LMax78683 = max_pool1D_layer(Res67702, 1, Max78683), 
LFla63301 = flatten_layer(Max78683, Fla63301), 
LGlo72144 = global_max_pool3D_layer([[[[[1.4845]], [[1.8556]]], [[[1.5744]], [[1.0162]]]]], Glo72144), 
LAdd14618 = add_layer([Fla63301,Glo72144], Add14618), 
exec_layers([LUp_17478,LRes67374,LGlo94980,LRes67702,LMax78683,LFla63301,LGlo72144,LAdd14618],["Up_17478","Res67374","Glo94980","Res67702","Max78683","Fla63301","Glo72144","Add14618"],Add14618,"Add14618")

Actual (Unparsed): [[3.8556000]]

Expected (Unparsed): [[3.8556]]

Actual:   [[3.8556]]

Expected: [[3.8556]]