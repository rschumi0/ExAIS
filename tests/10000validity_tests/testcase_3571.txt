import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo62092 = tf.keras.layers.Input(shape=([2, 2]))
in0Dot84247 = tf.keras.layers.Input(shape=([3]))
in1Dot84247 = tf.keras.layers.Input(shape=([3]))
in0Con45209 = tf.keras.layers.Input(shape=([1]))

Glo62092 = keras.layers.GlobalAveragePooling1D(name = 'Glo62092', )(in0Glo62092)
Dot84247 = keras.layers.Dot(axes=(1, 1), name = 'Dot84247', )([in0Dot84247,in1Dot84247])
Con45209 = keras.layers.Concatenate(axis=1, name = 'Con45209', )([Dot84247,in0Con45209])
Sub21688 = keras.layers.Subtract(name = 'Sub21688', )([Glo62092,Con45209])
Thr29792 = keras.layers.ThresholdedReLU(theta=9.768608193610925, name = 'Thr29792', )(Sub21688)
Lay99800 = keras.layers.LayerNormalization(axis=1, epsilon=1.7104662219300275, name = 'Lay99800', )(Thr29792)
model = tf.keras.models.Model(inputs=[in0Glo62092,in0Dot84247,in1Dot84247,in0Con45209], outputs=Lay99800)
in0Glo62092 = tf.constant([[[1.3219, 1.7318], [1.6318, 1.5953]]])
in0Dot84247 = tf.constant([[0.1111, 0.7064, 0.0702]])
in1Dot84247 = tf.constant([[0.2899, 0.5233, 0.7768]])
in0Con45209 = tf.constant([[0.2452]])
print (np.array2string(model.predict([in0Glo62092,in0Dot84247,in1Dot84247,in0Con45209],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Lay99800.png')

LGlo62092 = global_average_pooling1D_layer([[[1.3219, 1.7318], [1.6318, 1.5953]]], Glo62092), 
LDot84247 = dot_layer([[0.1111, 0.7064, 0.0702]], [[0.2899, 0.5233, 0.7768]], 1, 1, Dot84247), 
LCon45209 = concatenate_layer([Dot84247,[[0.2452]]], 1, Con45209), 
LSub21688 = subtract_layer(Glo62092,Con45209, Sub21688), 
LThr29792 = thresholded_relu_layer(Sub21688, 9.768608193610925, Thr29792), 
LLay99800 = layer_normalization_layer(Thr29792, 1, 1.7104662219300275, Lay99800), 
exec_layers([LGlo62092,LDot84247,LCon45209,LSub21688,LThr29792,LLay99800],["Glo62092","Dot84247","Con45209","Sub21688","Thr29792","Lay99800"],Lay99800,"Lay99800")

Actual (Unparsed): [[0.0000000, 0.0000000]]

Expected (Unparsed): [[0.0,0.0]]

Actual:   [[0, 0]]

Expected: [[0, 0]]