import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add62243 = tf.keras.layers.Input(shape=([1, 2]))
in1Add62243 = tf.keras.layers.Input(shape=([1, 2]))
in0Con79917 = tf.keras.layers.Input(shape=([1]))
in0Sub23604 = tf.keras.layers.Input(shape=([3]))
in1Sub23604 = tf.keras.layers.Input(shape=([3]))
in0Con60413 = tf.keras.layers.Input(shape=([1]))
in0Ave87175 = tf.keras.layers.Input(shape=([1, 1, 1]))
in1Ave87175 = tf.keras.layers.Input(shape=([1, 1, 1]))
in0Con43949 = tf.keras.layers.Input(shape=([1]))
in0Glo19075 = tf.keras.layers.Input(shape=([1, 1, 2]))
in0Sub45604 = tf.keras.layers.Input(shape=([3, 2, 3]))
in1Sub45604 = tf.keras.layers.Input(shape=([3, 2, 3]))

Add62243 = keras.layers.Add(name = 'Add62243', )([in0Add62243,in1Add62243])
Fla68836 = keras.layers.Flatten(name = 'Fla68836', )(Add62243)
Con79917 = keras.layers.Concatenate(axis=1, name = 'Con79917', )([Fla68836,in0Con79917])
Sub23604 = keras.layers.Subtract(name = 'Sub23604', )([in0Sub23604,in1Sub23604])
Dot74768 = keras.layers.Dot(axes=(1, 1), name = 'Dot74768', )([Con79917,Sub23604])
Con60413 = keras.layers.Concatenate(axis=1, name = 'Con60413', )([Dot74768,in0Con60413])
Ave87175 = keras.layers.Average(name = 'Ave87175', )([in0Ave87175,in1Ave87175])
Res6018 = keras.layers.Reshape((1, 1), name = 'Res6018', )(Ave87175)
Fla42553 = keras.layers.Flatten(name = 'Fla42553', )(Res6018)
Con43949 = keras.layers.Concatenate(axis=1, name = 'Con43949', )([Fla42553,in0Con43949])
Glo19075 = keras.layers.GlobalAveragePooling2D(name = 'Glo19075', )(in0Glo19075)
Sub24628 = keras.layers.Subtract(name = 'Sub24628', )([Con43949,Glo19075])
Min12727 = keras.layers.Minimum(name = 'Min12727', )([Con60413,Sub24628])
Res26275 = keras.layers.Reshape((2, 1), name = 'Res26275', )(Min12727)
Zer61363 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer61363', )(Res26275)
Sub45604 = keras.layers.Subtract(name = 'Sub45604', )([in0Sub45604,in1Sub45604])
Res36426 = keras.layers.Reshape((3, 6), name = 'Res36426', )(Sub45604)
Dot36855 = keras.layers.Dot(axes=(1, 1), name = 'Dot36855', )([Zer61363,Res36426])
model = tf.keras.models.Model(inputs=[in0Add62243,in1Add62243,in0Con79917,in0Sub23604,in1Sub23604,in0Con60413,in0Ave87175,in1Ave87175,in0Con43949,in0Glo19075,in0Sub45604,in1Sub45604], outputs=Dot36855)
in0Add62243 = tf.constant([[[0.5881, 0.8548]]])
in1Add62243 = tf.constant([[[0.5829, 0.0522]]])
in0Con79917 = tf.constant([[0.603]])
in0Sub23604 = tf.constant([[0.7133, 0.223, 0.0931]])
in1Sub23604 = tf.constant([[0.3412, 0.4309, 0.3458]])
in0Con60413 = tf.constant([[0.3843]])
in0Ave87175 = tf.constant([[[[0.4229]]]])
in1Ave87175 = tf.constant([[[[0.6317]]]])
in0Con43949 = tf.constant([[0.0417]])
in0Glo19075 = tf.constant([[[[1.8317, 1.2553]]]])
in0Sub45604 = tf.constant([[[[0.7372, 0.8976, 0.6235], [0.0454, 0.5473, 0.2374]], [[0.1338, 0.9025, 0.0282], [0.7035, 0.3626, 0.1342]], [[0.9079, 0.7179, 0.6842], [0.6592, 0.6866, 0.4463]]]])
in1Sub45604 = tf.constant([[[[0.0277, 0.2219, 0.6275], [0.8862, 0.7541, 0.8031]], [[0.3009, 0.7089, 0.9902], [0.312, 0.4624, 0.0881]], [[0.8822, 0.6676, 0.696], [0.8476, 0.0856, 0.8003]]]])
print (np.array2string(model.predict([in0Add62243,in1Add62243,in0Con79917,in0Sub23604,in1Sub23604,in0Con60413,in0Ave87175,in1Ave87175,in0Con43949,in0Glo19075,in0Sub45604,in1Sub45604],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Dot36855.png')

LAdd62243 = add_layer([[[[0.5881, 0.8548]]], [[[0.5829, 0.0522]]]], Add62243), 
LFla68836 = flatten_layer(Add62243, Fla68836), 
LCon79917 = concatenate_layer([Fla68836,[[0.603]]], 1, Con79917), 
LSub23604 = subtract_layer([[0.7133, 0.223, 0.0931]], [[0.3412, 0.4309, 0.3458]], Sub23604), 
LDot74768 = dot_layer(Con79917,Sub23604, 1, 1, Dot74768), 
LCon60413 = concatenate_layer([Dot74768,[[0.3843]]], 1, Con60413), 
LAve87175 = average_layer([[[[[0.4229]]]], [[[[0.6317]]]]], Ave87175), 
LRes6018 = reshape_layer(Ave87175, [1, 1], Res6018), 
LFla42553 = flatten_layer(Res6018, Fla42553), 
LCon43949 = concatenate_layer([Fla42553,[[0.0417]]], 1, Con43949), 
LGlo19075 = global_average_pooling2D_layer([[[[1.8317, 1.2553]]]], Glo19075), 
LSub24628 = subtract_layer(Con43949,Glo19075, Sub24628), 
LMin12727 = minimum_layer([Con60413,Sub24628], Min12727), 
LRes26275 = reshape_layer(Min12727, [2, 1], Res26275), 
LZer61363 = zero_padding1D_layer(Res26275, 1, 0, Zer61363), 
LSub45604 = subtract_layer([[[[0.7372, 0.8976, 0.6235], [0.0454, 0.5473, 0.2374]], [[0.1338, 0.9025, 0.0282], [0.7035, 0.3626, 0.1342]], [[0.9079, 0.7179, 0.6842], [0.6592, 0.6866, 0.4463]]]], [[[[0.0277, 0.2219, 0.6275], [0.8862, 0.7541, 0.8031]], [[0.3009, 0.7089, 0.9902], [0.312, 0.4624, 0.0881]], [[0.8822, 0.6676, 0.696], [0.8476, 0.0856, 0.8003]]]], Sub45604), 
LRes36426 = reshape_layer(Sub45604, [3, 6], Res36426), 
LDot36855 = dot_layer(Zer61363,Res36426, 1, 1, Dot36855), 
exec_layers([LAdd62243,LFla68836,LCon79917,LSub23604,LDot74768,LCon60413,LAve87175,LRes6018,LFla42553,LCon43949,LGlo19075,LSub24628,LMin12727,LRes26275,LZer61363,LSub45604,LRes36426,LDot36855],["Add62243","Fla68836","Con79917","Sub23604","Dot74768","Con60413","Ave87175","Res6018","Fla42553","Con43949","Glo19075","Sub24628","Min12727","Res26275","Zer61363","Sub45604","Res36426","Dot36855"],Dot36855,"Dot36855")

Actual (Unparsed): [[[0.1867758, -0.3135759, 1.2691532, -0.2820303, -0.5991946, 0.3694816]]]

Expected (Unparsed): [[[0.18677571999999998,-0.31357592000000006,1.26915328,-0.28203036000000015,-0.59919448,0.36948156000000004]]]

Actual:   [[[0.1868, -0.3135, 1.2692, -0.282, -0.5991, 0.3695]]]

Expected: [[[0.1868, -0.3135, 1.2692, -0.282, -0.5991, 0.3695]]]