import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min74453 = tf.keras.layers.Input(shape=([2, 2, 1, 1]))
in1Min74453 = tf.keras.layers.Input(shape=([2, 2, 1, 1]))

Min74453 = keras.layers.Minimum(name = 'Min74453', )([in0Min74453,in1Min74453])
Res75538 = keras.layers.Reshape((2, 2, 1), name = 'Res75538', )(Min74453)
Sep35027 = keras.layers.SeparableConv2D(4, (1, 1),strides=(1, 1), padding='same', name = 'Sep35027', )(Res75538)
Glo94109 = keras.layers.GlobalAveragePooling2D(name = 'Glo94109', )(Sep35027)
model = tf.keras.models.Model(inputs=[in0Min74453,in1Min74453], outputs=Glo94109)
w = model.get_layer('Sep35027').get_weights() 
w[0] = np.array([[[[0.439]]]])
w[1] = np.array([[[[0.3641, 0.8414, 0.0675, 0.6607]]]])
w[2] = np.array([0, 0, 0, 0])
model.get_layer('Sep35027').set_weights(w) 
in0Min74453 = tf.constant([[[[[0.8197]], [[0.7856]]], [[[0.3721]], [[0.3711]]]]])
in1Min74453 = tf.constant([[[[[0.4663]], [[0.2748]]], [[[0.515]], [[0.302]]]]])
print (np.array2string(model.predict([in0Min74453,in1Min74453],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo94109.png')

LMin74453 = minimum_layer([[[[[[0.8197]], [[0.7856]]], [[[0.3721]], [[0.3711]]]]], [[[[[0.4663]], [[0.2748]]], [[[0.515]], [[0.302]]]]]], Min74453), 
LRes75538 = reshape_layer(Min74453, [2, 2, 1], Res75538), 
LSep35027 = separable_conv2D_layer(Res75538, 1, 1,[[[[[0.439]]]],[[[[0.3641, 0.8414, 0.0675, 0.6607]]]]],[0, 0, 0, 0], 1, 1, true, Sep35027), 
LGlo94109 = global_average_pooling2D_layer(Sep35027, Glo94109), 
exec_layers([LMin74453,LRes75538,LSep35027,LGlo94109],["Min74453","Res75538","Sep35027","Glo94109"],Glo94109,"Glo94109")

Actual (Unparsed): [[0.0565514, 0.1306847, 0.0104840, 0.1026187]]

Expected (Unparsed): [[0.05655135661999999,0.13068473347999998,0.010483978500000001,0.10261873474]]

Actual:   [[0.0566, 0.1307, 0.0105, 0.1027]]

Expected: [[0.0566, 0.1307, 0.0105, 0.1027]]