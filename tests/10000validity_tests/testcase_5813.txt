import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max75332 = tf.keras.layers.Input(shape=([2, 1, 2]))

Max75332 = keras.layers.MaxPool2D(pool_size=(1, 1), strides=(1, 1), padding='same', name = 'Max75332', )(in0Max75332)
Zer57145 = keras.layers.ZeroPadding2D(padding=((1, 1), (1, 1)), name = 'Zer57145', )(Max75332)
Ave69531 = keras.layers.AveragePooling2D(pool_size=(1, 2), name = 'Ave69531', )(Zer57145)
Max52695 = keras.layers.MaxPool2D(pool_size=(1, 1), name = 'Max52695', )(Ave69531)
model = tf.keras.models.Model(inputs=[in0Max75332], outputs=Max52695)
in0Max75332 = tf.constant([[[[1.7046, 1.5387]], [[1.567, 1.8771]]]])
print (np.array2string(model.predict([in0Max75332],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max52695.png')

LMax75332 = max_pool2D_layer([[[[1.7046, 1.5387]], [[1.567, 1.8771]]]], 1, 1, 1, 1, true, Max75332), 
LZer57145 = zero_padding2D_layer(Max75332, 1, 1, 1, 1, Zer57145), 
LAve69531 = average_pooling2D_layer(Zer57145, 1, 2, Ave69531), 
LMax52695 = max_pool2D_layer(Ave69531, 1, 1, Max52695), 
exec_layers([LMax75332,LZer57145,LAve69531,LMax52695],["Max75332","Zer57145","Ave69531","Max52695"],Max52695,"Max52695")

Actual (Unparsed): [[[[0.0000000, 0.0000000]], [[0.8523000, 0.7693500]], [[0.7835000, 0.9385500]], [[0.0000000, 0.0000000]]]]

Expected (Unparsed): [[[[0,0]],[[0.8523,0.76935]],[[0.7835,0.93855]],[[0,0]]]]

Actual:   [[[[0, 0]], [[0.8523, 0.7694]], [[0.7835, 0.9386]], [[0, 0]]]]

Expected: [[[[0, 0]], [[0.8523, 0.7694]], [[0.7835, 0.9386]], [[0, 0]]]]