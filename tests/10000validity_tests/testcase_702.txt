import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max43688 = tf.keras.layers.Input(shape=([1, 1]))
in1Max43688 = tf.keras.layers.Input(shape=([1, 1]))
in0Dot29226 = tf.keras.layers.Input(shape=([3]))
in1Dot29226 = tf.keras.layers.Input(shape=([3]))

Max43688 = keras.layers.Maximum(name = 'Max43688', )([in0Max43688,in1Max43688])
ELU49202 = keras.layers.ELU(alpha=-1.8984319485600345, name = 'ELU49202', )(Max43688)
Fla80682 = keras.layers.Flatten(name = 'Fla80682', )(ELU49202)
Dot29226 = keras.layers.Dot(axes=(1, 1), name = 'Dot29226', )([in0Dot29226,in1Dot29226])
Dot49830 = keras.layers.Dot(axes=(1, 1), name = 'Dot49830', )([Fla80682,Dot29226])
Res46336 = keras.layers.Reshape((1, 1), name = 'Res46336', )(Dot49830)
Res73903 = keras.layers.Reshape((1, 1, 1), name = 'Res73903', )(Res46336)
Glo94078 = keras.layers.GlobalMaxPool2D(name = 'Glo94078', )(Res73903)
Lea92173 = keras.layers.LeakyReLU(alpha=9.198741279850681, name = 'Lea92173', )(Glo94078)
model = tf.keras.models.Model(inputs=[in0Max43688,in1Max43688,in0Dot29226,in1Dot29226], outputs=Lea92173)
in0Max43688 = tf.constant([[[0.3861]]])
in1Max43688 = tf.constant([[[0.135]]])
in0Dot29226 = tf.constant([[0.4083, 0.4011, 0.3146]])
in1Dot29226 = tf.constant([[0.1199, 0.1284, 0.455]])
print (np.array2string(model.predict([in0Max43688,in1Max43688,in0Dot29226,in1Dot29226],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Lea92173.png')

LMax43688 = maximum_layer([[[[0.3861]]], [[[0.135]]]], Max43688), 
LELU49202 = elu_layer(Max43688, -1.8984319485600345, ELU49202), 
LFla80682 = flatten_layer(ELU49202, Fla80682), 
LDot29226 = dot_layer([[0.4083, 0.4011, 0.3146]], [[0.1199, 0.1284, 0.455]], 1, 1, Dot29226), 
LDot49830 = dot_layer(Fla80682,Dot29226, 1, 1, Dot49830), 
LRes46336 = reshape_layer(Dot49830, [1, 1], Res46336), 
LRes73903 = reshape_layer(Res46336, [1, 1, 1], Res73903), 
LGlo94078 = global_max_pool2D_layer(Res73903, Glo94078), 
LLea92173 = leaky_relu_layer(Glo94078, 9.198741279850681, Lea92173), 
exec_layers([LMax43688,LELU49202,LFla80682,LDot29226,LDot49830,LRes46336,LRes73903,LGlo94078,LLea92173],["Max43688","ELU49202","Fla80682","Dot29226","Dot49830","Res46336","Res73903","Glo94078","Lea92173"],Lea92173,"Lea92173")

Actual (Unparsed): [[0.0940537]]

Expected (Unparsed): [[0.094053732201]]

Actual:   [[0.0941]]

Expected: [[0.0941]]