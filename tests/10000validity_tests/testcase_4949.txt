import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul26951 = tf.keras.layers.Input(shape=([2, 2]))
in1Mul26951 = tf.keras.layers.Input(shape=([2, 2]))

Mul26951 = keras.layers.Multiply(name = 'Mul26951', )([in0Mul26951,in1Mul26951])
Res32084 = keras.layers.Reshape((2, 2, 1), name = 'Res32084', )(Mul26951)
Glo81501 = keras.layers.GlobalAveragePooling2D(name = 'Glo81501', )(Res32084)
model = tf.keras.models.Model(inputs=[in0Mul26951,in1Mul26951], outputs=Glo81501)
in0Mul26951 = tf.constant([[[0.5763, 0.048], [0.0339, 0.9632]]])
in1Mul26951 = tf.constant([[[0.1596, 0.0043], [0.0078, 0.9459]]])
print (np.array2string(model.predict([in0Mul26951,in1Mul26951],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo81501.png')

LMul26951 = multiply_layer([[[[0.5763, 0.048], [0.0339, 0.9632]]], [[[0.1596, 0.0043], [0.0078, 0.9459]]]], Mul26951), 
LRes32084 = reshape_layer(Mul26951, [2, 2, 1], Res32084), 
LGlo81501 = global_average_pooling2D_layer(Res32084, Glo81501), 
exec_layers([LMul26951,LRes32084,LGlo81501],["Mul26951","Res32084","Glo81501"],Glo81501,"Glo81501")

Actual (Unparsed): [[0.2508848]]

Expected (Unparsed): [[0.250884795]]

Actual:   [[0.2509]]

Expected: [[0.2509]]