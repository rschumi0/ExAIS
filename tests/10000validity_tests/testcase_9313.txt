import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Up_19380 = tf.keras.layers.Input(shape=([4, 1, 2]))
in0Add19955 = tf.keras.layers.Input(shape=([2, 1]))
in1Add19955 = tf.keras.layers.Input(shape=([2, 1]))
in0Con6970 = tf.keras.layers.Input(shape=([4, 1]))

Up_19380 = keras.layers.UpSampling2D(size=(1, 1), name = 'Up_19380', )(in0Up_19380)
Res35111 = keras.layers.Reshape((4, 2), name = 'Res35111', )(Up_19380)
Add19955 = keras.layers.Add(name = 'Add19955', )([in0Add19955,in1Add19955])
Zer76789 = keras.layers.ZeroPadding1D(padding=((2, 0)), name = 'Zer76789', )(Add19955)
Con6970 = keras.layers.Concatenate(axis=2, name = 'Con6970', )([Zer76789,in0Con6970])
Ave87458 = keras.layers.Average(name = 'Ave87458', )([Res35111,Con6970])
Glo8961 = keras.layers.GlobalAveragePooling1D(name = 'Glo8961', )(Ave87458)
model = tf.keras.models.Model(inputs=[in0Up_19380,in0Add19955,in1Add19955,in0Con6970], outputs=Glo8961)
in0Up_19380 = tf.constant([[[[1.4724, 1.551]], [[1.5729, 1.6819]], [[1.5041, 1.4345]], [[1.2233, 1.7797]]]])
in0Add19955 = tf.constant([[[0.0434], [0.9562]]])
in1Add19955 = tf.constant([[[0.1454], [0.0753]]])
in0Con6970 = tf.constant([[[0.9616], [0.8309], [0.456], [0.7502]]])
print (np.array2string(model.predict([in0Up_19380,in0Add19955,in1Add19955,in0Con6970],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo8961.png')

LUp_19380 = up_sampling2D_layer([[[[1.4724, 1.551]], [[1.5729, 1.6819]], [[1.5041, 1.4345]], [[1.2233, 1.7797]]]], 1, 1, Up_19380), 
LRes35111 = reshape_layer(Up_19380, [4, 2], Res35111), 
LAdd19955 = add_layer([[[[0.0434], [0.9562]]], [[[0.1454], [0.0753]]]], Add19955), 
LZer76789 = zero_padding1D_layer(Add19955, 2, 0, Zer76789), 
LCon6970 = concatenate_layer([Zer76789,[[[0.9616], [0.8309], [0.456], [0.7502]]]], 2, Con6970), 
LAve87458 = average_layer([Res35111,Con6970], Ave87458), 
LGlo8961 = global_average_pooling1D_layer(Ave87458, Glo8961), 
exec_layers([LUp_19380,LRes35111,LAdd19955,LZer76789,LCon6970,LAve87458,LGlo8961],["Up_19380","Res35111","Add19955","Zer76789","Con6970","Ave87458","Glo8961"],Glo8961,"Glo8961")

Actual (Unparsed): [[0.8741250, 1.1807250]]

Expected (Unparsed): [[0.874125,1.180725]]

Actual:   [[0.8742, 1.1808]]

Expected: [[0.8742, 1.1808]]