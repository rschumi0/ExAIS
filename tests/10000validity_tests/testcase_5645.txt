import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min1899 = tf.keras.layers.Input(shape=([2, 1]))
in1Min1899 = tf.keras.layers.Input(shape=([2, 1]))
in0Con13129 = tf.keras.layers.Input(shape=([3, 4, 3]))
in0Up_59726 = tf.keras.layers.Input(shape=([1, 2, 4]))

Min1899 = keras.layers.Minimum(name = 'Min1899', )([in0Min1899,in1Min1899])
Res59858 = keras.layers.Reshape((2, 1, 1), name = 'Res59858', )(Min1899)
Zer66574 = keras.layers.ZeroPadding2D(padding=((1, 0), (3, 0)), name = 'Zer66574', )(Res59858)
Con13129 = keras.layers.Concatenate(axis=3, name = 'Con13129', )([Zer66574,in0Con13129])
Up_59726 = keras.layers.UpSampling2D(size=(1, 1), name = 'Up_59726', )(in0Up_59726)
Zer29443 = keras.layers.ZeroPadding2D(padding=((1, 1), (1, 1)), name = 'Zer29443', )(Up_59726)
Min20322 = keras.layers.Minimum(name = 'Min20322', )([Con13129,Zer29443])
model = tf.keras.models.Model(inputs=[in0Min1899,in1Min1899,in0Con13129,in0Up_59726], outputs=Min20322)
in0Min1899 = tf.constant([[[0.9807], [0.1185]]])
in1Min1899 = tf.constant([[[0.5716], [0.5323]]])
in0Con13129 = tf.constant([[[[0.5982, 0.3753, 0.7723], [0.9912, 0.6963, 0.454], [0.1703, 0.6184, 0.3819], [0.1715, 0.1076, 0.7069]], [[0.3086, 0.7137, 0.324], [0.7095, 0.9763, 0.601], [0.3908, 0.0607, 0.4033], [0.3749, 0.1573, 0.4711]], [[0.1153, 0.0698, 0.8425], [0.5244, 0.8169, 0.5956], [0.3408, 0.3331, 0.6511], [0.3692, 0.2402, 0.2346]]]])
in0Up_59726 = tf.constant([[[[1.4606, 1.4028, 1.6706, 1.4305], [1.6945, 1.2034, 1.7528, 1.0443]]]])
print (np.array2string(model.predict([in0Min1899,in1Min1899,in0Con13129,in0Up_59726],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min20322.png')

LMin1899 = minimum_layer([[[[0.9807], [0.1185]]], [[[0.5716], [0.5323]]]], Min1899), 
LRes59858 = reshape_layer(Min1899, [2, 1, 1], Res59858), 
LZer66574 = zero_padding2D_layer(Res59858, 1, 0, 3, 0, Zer66574), 
LCon13129 = concatenate_layer([Zer66574,[[[[0.5982, 0.3753, 0.7723], [0.9912, 0.6963, 0.454], [0.1703, 0.6184, 0.3819], [0.1715, 0.1076, 0.7069]], [[0.3086, 0.7137, 0.324], [0.7095, 0.9763, 0.601], [0.3908, 0.0607, 0.4033], [0.3749, 0.1573, 0.4711]], [[0.1153, 0.0698, 0.8425], [0.5244, 0.8169, 0.5956], [0.3408, 0.3331, 0.6511], [0.3692, 0.2402, 0.2346]]]]], 3, Con13129), 
LUp_59726 = up_sampling2D_layer([[[[1.4606, 1.4028, 1.6706, 1.4305], [1.6945, 1.2034, 1.7528, 1.0443]]]], 1, 1, Up_59726), 
LZer29443 = zero_padding2D_layer(Up_59726, 1, 1, 1, 1, Zer29443), 
LMin20322 = minimum_layer([Con13129,Zer29443], Min20322), 
exec_layers([LMin1899,LRes59858,LZer66574,LCon13129,LUp_59726,LZer29443,LMin20322],["Min1899","Res59858","Zer66574","Con13129","Up_59726","Zer29443","Min20322"],Min20322,"Min20322")

Actual (Unparsed): [[[[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.7095000, 0.9763000, 0.6010000], [0.0000000, 0.3908000, 0.0607000, 0.4033000], [0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000]]]]

Expected (Unparsed): [[[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0.7095,0.9763,0.601],[0,0.3908,0.0607,0.4033],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]]]

Actual:   [[[[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0.7095, 0.9763, 0.601], [0, 0.3908, 0.0607, 0.4033], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]]]]

Expected: [[[[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0.7095, 0.9763, 0.601], [0, 0.3908, 0.0607, 0.4033], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]]]]