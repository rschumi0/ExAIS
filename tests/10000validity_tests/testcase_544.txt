import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo38074 = tf.keras.layers.Input(shape=([2, 2, 1, 1]))
in0Con81793 = tf.keras.layers.Input(shape=([1, 2, 1, 1]))
in0Max94537 = tf.keras.layers.Input(shape=([1, 2, 1, 2]))
in1Max94537 = tf.keras.layers.Input(shape=([1, 2, 1, 2]))

Glo38074 = keras.layers.GlobalMaxPool3D(name = 'Glo38074', )(in0Glo38074)
Res23011 = keras.layers.Reshape((1, 1), name = 'Res23011', )(Glo38074)
Res69776 = keras.layers.Reshape((1, 1, 1), name = 'Res69776', )(Res23011)
Res38452 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res38452', )(Res69776)
Zer46641 = keras.layers.ZeroPadding3D(padding=((0, 0), (1, 0), (0, 0)), name = 'Zer46641', )(Res38452)
Con81793 = keras.layers.Concatenate(axis=4, name = 'Con81793', )([Zer46641,in0Con81793])
Max94537 = keras.layers.Maximum(name = 'Max94537', )([in0Max94537,in1Max94537])
Lay70896 = keras.layers.LayerNormalization(axis=2, epsilon=2.309949636346687, name = 'Lay70896', )(Max94537)
Max37789 = keras.layers.Maximum(name = 'Max37789', )([Con81793,Lay70896])
model = tf.keras.models.Model(inputs=[in0Glo38074,in0Con81793,in0Max94537,in1Max94537], outputs=Max37789)
in0Glo38074 = tf.constant([[[[[1.7397]], [[1.7802]]], [[[1.352]], [[1.9944]]]]])
in0Con81793 = tf.constant([[[[[0.9315]], [[0.6841]]]]])
in0Max94537 = tf.constant([[[[[0.6498, 0.7037]], [[0.9263, 0.2118]]]]])
in1Max94537 = tf.constant([[[[[0.7009, 0.9226]], [[0.879, 0.772]]]]])
print (np.array2string(model.predict([in0Glo38074,in0Con81793,in0Max94537,in1Max94537],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max37789.png')

LGlo38074 = global_max_pool3D_layer([[[[[1.7397]], [[1.7802]]], [[[1.352]], [[1.9944]]]]], Glo38074), 
LRes23011 = reshape_layer(Glo38074, [1, 1], Res23011), 
LRes69776 = reshape_layer(Res23011, [1, 1, 1], Res69776), 
LRes38452 = reshape_layer(Res69776, [1, 1, 1, 1], Res38452), 
LZer46641 = zero_padding3D_layer(Res38452, 0, 0, 1, 0, 0, 0, Zer46641), 
LCon81793 = concatenate_layer([Zer46641,[[[[[0.9315]], [[0.6841]]]]]], 4, Con81793), 
LMax94537 = maximum_layer([[[[[[0.6498, 0.7037]], [[0.9263, 0.2118]]]]], [[[[[0.7009, 0.9226]], [[0.879, 0.772]]]]]], Max94537), 
LLay70896 = layer_normalization_layer(Max94537, 2, 2.309949636346687, Lay70896), 
LMax37789 = maximum_layer([Con81793,Lay70896], Max37789), 
exec_layers([LGlo38074,LRes23011,LRes69776,LRes38452,LZer46641,LCon81793,LMax94537,LLay70896,LMax37789],["Glo38074","Res23011","Res69776","Res38452","Zer46641","Con81793","Max94537","Lay70896","Max37789"],Max37789,"Max37789")

Actual (Unparsed): [[[[[0.0000000, 0.9315000]], [[1.9944000, 0.6841000]]]]]

Expected (Unparsed): [[[[[0,0.9315]],[[1.9944,0.6841]]]]]

Actual:   [[[[[0, 0.9315]], [[1.9944, 0.6841]]]]]

Expected: [[[[[0, 0.9315]], [[1.9944, 0.6841]]]]]