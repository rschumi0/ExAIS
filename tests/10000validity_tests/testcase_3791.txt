import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Loc39236 = tf.keras.layers.Input(shape=([1, 2, 1]))
in0Mul57330 = tf.keras.layers.Input(shape=([1, 2]))
in1Mul57330 = tf.keras.layers.Input(shape=([1, 2]))
in0Con9083 = tf.keras.layers.Input(shape=([1, 2]))

Loc39236 = keras.layers.LocallyConnected2D(4, (1, 2),strides=(1, 1), name = 'Loc39236', )(in0Loc39236)
Res25377 = keras.layers.Reshape((1, 4), name = 'Res25377', )(Loc39236)
Mul57330 = keras.layers.Multiply(name = 'Mul57330', )([in0Mul57330,in1Mul57330])
Con9083 = keras.layers.Concatenate(axis=2, name = 'Con9083', )([Mul57330,in0Con9083])
Sub10675 = keras.layers.Subtract(name = 'Sub10675', )([Res25377,Con9083])
ReL43793 = keras.layers.ReLU(max_value=3.7766858319180923, negative_slope=7.1799033298013395, threshold=2.387755984279123, name = 'ReL43793', )(Sub10675)
model = tf.keras.models.Model(inputs=[in0Loc39236,in0Mul57330,in1Mul57330,in0Con9083], outputs=ReL43793)
w = model.get_layer('Loc39236').get_weights() 
w[0] = np.array([[[0.6471, 0.7314, 0.873, 0.2017], [0.4444, 0.6701, 0.6701, 0.9443]]])
w[1] = np.array([[[0, 0, 0, 0]]])
model.get_layer('Loc39236').set_weights(w) 
in0Loc39236 = tf.constant([[[[0.4852], [0.5835]]]])
in0Mul57330 = tf.constant([[[0.4048, 0.7876]]])
in1Mul57330 = tf.constant([[[0.1283, 0.3611]]])
in0Con9083 = tf.constant([[[0.9767, 0.7507]]])
print (np.array2string(model.predict([in0Loc39236,in0Mul57330,in1Mul57330,in0Con9083],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='ReL43793.png')

LLoc39236 = locally_connected2D_layer([[[[0.4852], [0.5835]]]], 1, 2,[[[0.6471, 0.7314, 0.873, 0.2017], [0.4444, 0.6701, 0.6701, 0.9443]]],[[[0, 0, 0, 0]]], 1, 1, Loc39236), 
LRes25377 = reshape_layer(Loc39236, [1, 4], Res25377), 
LMul57330 = multiply_layer([[[[0.4048, 0.7876]]], [[[0.1283, 0.3611]]]], Mul57330), 
LCon9083 = concatenate_layer([Mul57330,[[[0.9767, 0.7507]]]], 2, Con9083), 
LSub10675 = subtract_layer(Res25377,Con9083, Sub10675), 
LReL43793 = relu_layer(Sub10675, 3.7766858319180923, 7.1799033298013395, 2.387755984279123, ReL43793), 
exec_layers([LLoc39236,LRes25377,LMul57330,LCon9083,LSub10675,LReL43793],["Loc39236","Res25377","Mul57330","Con9083","Sub10675","ReL43793"],ReL43793,"ReL43793")

Actual (Unparsed): [[[-13.4006541, -13.8305019, -18.3078419, -17.8750304]]]

Expected (Unparsed): [[[-13.400654174353203,-13.83050213468145,-18.30784188939132,-17.875030567561765]]]

Actual:   [[[-13.4006, -13.8305, -18.3078, -17.875]]]

Expected: [[[-13.4006, -13.8305, -18.3078, -17.875]]]