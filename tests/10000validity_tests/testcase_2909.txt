import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub16045 = tf.keras.layers.Input(shape=([2, 2]))
in1Sub16045 = tf.keras.layers.Input(shape=([2, 2]))

Sub16045 = keras.layers.Subtract(name = 'Sub16045', )([in0Sub16045,in1Sub16045])
Fla78695 = keras.layers.Flatten(name = 'Fla78695', )(Sub16045)
Res51395 = keras.layers.Reshape((4, 1), name = 'Res51395', )(Fla78695)
Max1485 = keras.layers.MaxPool1D(pool_size=(4), strides=(1), padding='same', name = 'Max1485', )(Res51395)
Res2045 = keras.layers.Reshape((4, 1, 1), name = 'Res2045', )(Max1485)
Up_90814 = keras.layers.UpSampling2D(size=(1, 1), name = 'Up_90814', )(Res2045)
model = tf.keras.models.Model(inputs=[in0Sub16045,in1Sub16045], outputs=Up_90814)
in0Sub16045 = tf.constant([[[0.5123, 0.0121], [0.6085, 0.9621]]])
in1Sub16045 = tf.constant([[[0.0025, 0.5326], [0.8117, 0.7977]]])
print (np.array2string(model.predict([in0Sub16045,in1Sub16045],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Up_90814.png')

LSub16045 = subtract_layer([[[0.5123, 0.0121], [0.6085, 0.9621]]], [[[0.0025, 0.5326], [0.8117, 0.7977]]], Sub16045), 
LFla78695 = flatten_layer(Sub16045, Fla78695), 
LRes51395 = reshape_layer(Fla78695, [4, 1], Res51395), 
LMax1485 = max_pool1D_layer(Res51395, 4, 1, true, Max1485), 
LRes2045 = reshape_layer(Max1485, [4, 1, 1], Res2045), 
LUp_90814 = up_sampling2D_layer(Res2045, 1, 1, Up_90814), 
exec_layers([LSub16045,LFla78695,LRes51395,LMax1485,LRes2045,LUp_90814],["Sub16045","Fla78695","Res51395","Max1485","Res2045","Up_90814"],Up_90814,"Up_90814")

Actual (Unparsed): [[[[0.5098000]], [[0.5098000]], [[0.1644000]], [[0.1644000]]]]

Expected (Unparsed): [[[[0.5098]],[[0.5098]],[[0.1644]],[[0.1644]]]]

Actual:   [[[[0.5098]], [[0.5098]], [[0.1644]], [[0.1644]]]]

Expected: [[[[0.5098]], [[0.5098]], [[0.1644]], [[0.1644]]]]