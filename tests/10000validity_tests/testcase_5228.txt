import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sof17381 = tf.keras.layers.Input(shape=([2, 1]))

Sof17381 = keras.layers.Softmax(axis=1, name = 'Sof17381', input_shape=(2, 1))(in0Sof17381)
Res70734 = keras.layers.Reshape((2, 1, 1), name = 'Res70734', )(Sof17381)
Res30026 = keras.layers.Reshape((2, 1, 1, 1), name = 'Res30026', )(Res70734)
Glo50621 = keras.layers.GlobalAveragePooling3D(name = 'Glo50621', )(Res30026)
Res89796 = keras.layers.Reshape((1, 1), name = 'Res89796', )(Glo50621)
Max22378 = keras.layers.MaxPool1D(pool_size=(1), strides=(1), padding='valid', name = 'Max22378', )(Res89796)
Res95628 = keras.layers.Reshape((1, 1, 1), name = 'Res95628', )(Max22378)
Up_67641 = keras.layers.UpSampling2D(size=(2, 1), name = 'Up_67641', )(Res95628)
model = tf.keras.models.Model(inputs=[in0Sof17381], outputs=Up_67641)
in0Sof17381 = tf.constant([[[0.5642], [0.9078]]])
print (np.array2string(model.predict([in0Sof17381],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Up_67641.png')

LSof17381 = softmax_layer([[[0.5642], [0.9078]]], 1, Sof17381), 
LRes70734 = reshape_layer(Sof17381, [2, 1, 1], Res70734), 
LRes30026 = reshape_layer(Res70734, [2, 1, 1, 1], Res30026), 
LGlo50621 = global_average_pooling3D_layer(Res30026, Glo50621), 
LRes89796 = reshape_layer(Glo50621, [1, 1], Res89796), 
LMax22378 = max_pool1D_layer(Res89796, 1, 1, false, Max22378), 
LRes95628 = reshape_layer(Max22378, [1, 1, 1], Res95628), 
LUp_67641 = up_sampling2D_layer(Res95628, 2, 1, Up_67641), 
exec_layers([LSof17381,LRes70734,LRes30026,LGlo50621,LRes89796,LMax22378,LRes95628,LUp_67641],["Sof17381","Res70734","Res30026","Glo50621","Res89796","Max22378","Res95628","Up_67641"],Up_67641,"Up_67641")

Actual (Unparsed): [[[[0.5000000]], [[0.5000000]]]]

Expected (Unparsed): [[[[0.5]],[[0.5]]]]

Actual:   [[[[0.5]], [[0.5]]]]

Expected: [[[[0.5]], [[0.5]]]]