import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave47169 = tf.keras.layers.Input(shape=([2, 2, 1]))
in1Ave47169 = tf.keras.layers.Input(shape=([2, 2, 1]))

Ave47169 = keras.layers.Average(name = 'Ave47169', )([in0Ave47169,in1Ave47169])
Cro92872 = keras.layers.Cropping2D(cropping=((1, 0), (1, 0)), name = 'Cro92872', )(Ave47169)
Ave81091 = keras.layers.AveragePooling2D(pool_size=(1, 1), name = 'Ave81091', )(Cro92872)
model = tf.keras.models.Model(inputs=[in0Ave47169,in1Ave47169], outputs=Ave81091)
in0Ave47169 = tf.constant([[[[0.4382], [0.7657]], [[0.2328], [0.2982]]]])
in1Ave47169 = tf.constant([[[[0.1098], [0.9574]], [[0.1259], [0.0412]]]])
print (np.array2string(model.predict([in0Ave47169,in1Ave47169],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Ave81091.png')

LAve47169 = average_layer([[[[[0.4382], [0.7657]], [[0.2328], [0.2982]]]], [[[[0.1098], [0.9574]], [[0.1259], [0.0412]]]]], Ave47169), 
LCro92872 = cropping2D_layer(Ave47169, 1, 0, 1, 0, Cro92872), 
LAve81091 = average_pooling2D_layer(Cro92872, 1, 1, Ave81091), 
exec_layers([LAve47169,LCro92872,LAve81091],["Ave47169","Cro92872","Ave81091"],Ave81091,"Ave81091")

Actual (Unparsed): [[[[0.1697000]]]]

Expected (Unparsed): [[[[0.16970000000000002]]]]

Actual:   [[[[0.1697]]]]

Expected: [[[[0.1698]]]]