import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo2957 = tf.keras.layers.Input(shape=([1, 2]))
in0Glo29789 = tf.keras.layers.Input(shape=([2, 2]))

Glo2957 = keras.layers.GlobalAveragePooling1D(name = 'Glo2957', )(in0Glo2957)
Glo29789 = keras.layers.GlobalAveragePooling1D(name = 'Glo29789', )(in0Glo29789)
Dot102 = keras.layers.Dot(axes=(1, 1), name = 'Dot102', )([Glo2957,Glo29789])
model = tf.keras.models.Model(inputs=[in0Glo2957,in0Glo29789], outputs=Dot102)
in0Glo2957 = tf.constant([[[1.9672, 1.1707]]])
in0Glo29789 = tf.constant([[[1.606, 1.1419], [1.6384, 1.7284]]])
print (np.array2string(model.predict([in0Glo2957,in0Glo29789],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Dot102.png')

LGlo2957 = global_average_pooling1D_layer([[[1.9672, 1.1707]]], Glo2957), 
LGlo29789 = global_average_pooling1D_layer([[[1.606, 1.1419], [1.6384, 1.7284]]], Glo29789), 
LDot102 = dot_layer(Glo2957,Glo29789, 1, 1, Dot102), 
exec_layers([LGlo2957,LGlo29789,LDot102],["Glo2957","Glo29789","Dot102"],Dot102,"Dot102")

Actual (Unparsed): [[4.8713218]]

Expected (Unparsed): [[4.871321945]]

Actual:   [[4.8714]]

Expected: [[4.8714]]