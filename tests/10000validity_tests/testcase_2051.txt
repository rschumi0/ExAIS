import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max19446 = tf.keras.layers.Input(shape=([2, 2, 2]))
in1Max19446 = tf.keras.layers.Input(shape=([2, 2, 2]))
in0Mul99825 = tf.keras.layers.Input(shape=([2, 2, 1, 1]))
in1Mul99825 = tf.keras.layers.Input(shape=([2, 2, 1, 1]))

Max19446 = keras.layers.Maximum(name = 'Max19446', )([in0Max19446,in1Max19446])
Res43409 = keras.layers.Reshape((2, 2, 2, 1), name = 'Res43409', )(Max19446)
Mul99825 = keras.layers.Multiply(name = 'Mul99825', )([in0Mul99825,in1Mul99825])
Zer14455 = keras.layers.ZeroPadding3D(padding=((0, 0), (0, 0), (1, 0)), name = 'Zer14455', )(Mul99825)
Sub72005 = keras.layers.Subtract(name = 'Sub72005', )([Res43409,Zer14455])
ReL89031 = keras.layers.ReLU(max_value=9.702111287459337, negative_slope=4.407201182124594, threshold=4.933012483755585, name = 'ReL89031', )(Sub72005)
model = tf.keras.models.Model(inputs=[in0Max19446,in1Max19446,in0Mul99825,in1Mul99825], outputs=ReL89031)
in0Max19446 = tf.constant([[[[0.2753, 0.3911], [0.3601, 0.5145]], [[0.8891, 0.8693], [0.7164, 0.0945]]]])
in1Max19446 = tf.constant([[[[0.9174, 0.6987], [0.6308, 0.3155]], [[0.6087, 0.9089], [0.2431, 0.9467]]]])
in0Mul99825 = tf.constant([[[[[0.8584]], [[0.5718]]], [[[0.3061]], [[0.5748]]]]])
in1Mul99825 = tf.constant([[[[[0.7902]], [[0.7607]]], [[[0.0403]], [[0.2611]]]]])
print (np.array2string(model.predict([in0Max19446,in1Max19446,in0Mul99825,in1Mul99825],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='ReL89031.png')

LMax19446 = maximum_layer([[[[[0.2753, 0.3911], [0.3601, 0.5145]], [[0.8891, 0.8693], [0.7164, 0.0945]]]], [[[[0.9174, 0.6987], [0.6308, 0.3155]], [[0.6087, 0.9089], [0.2431, 0.9467]]]]], Max19446), 
LRes43409 = reshape_layer(Max19446, [2, 2, 2, 1], Res43409), 
LMul99825 = multiply_layer([[[[[[0.8584]], [[0.5718]]], [[[0.3061]], [[0.5748]]]]], [[[[[0.7902]], [[0.7607]]], [[[0.0403]], [[0.2611]]]]]], Mul99825), 
LZer14455 = zero_padding3D_layer(Mul99825, 0, 0, 0, 0, 1, 0, Zer14455), 
LSub72005 = subtract_layer(Res43409,Zer14455, Sub72005), 
LReL89031 = relu_layer(Sub72005, 9.702111287459337, 4.407201182124594, 4.933012483755585, ReL89031), 
exec_layers([LMax19446,LRes43409,LMul99825,LZer14455,LSub72005,LReL89031],["Max19446","Res43409","Mul99825","Zer14455","Sub72005","ReL89031"],ReL89031,"ReL89031")

Actual (Unparsed): [[[[[-17.6976121], [-21.6509053]], [[-18.9607159], [-21.3902659]]], [[[-17.8223358], [-17.7894397]], [[-18.5834594], [-18.2299152]]]]]

Expected (Unparsed): [[[[[-17.69761208536189],[-21.65090539303273]],[[-18.9607159441588],[-21.390266071298566]]],[[[-17.822335878816016],[-17.789439779968436]],[[-18.583459522968933],[-18.22991507815523]]]]]

Actual:   [[[[[-17.6976], [-21.6509]], [[-18.9607], [-21.3902]]], [[[-17.8223], [-17.7894]], [[-18.5834], [-18.2299]]]]]

Expected: [[[[[-17.6976], [-21.6509]], [[-18.9607], [-21.3902]]], [[[-17.8223], [-17.7894]], [[-18.5834], [-18.2299]]]]]