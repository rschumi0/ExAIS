import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul89940 = tf.keras.layers.Input(shape=([1, 2]))
in1Mul89940 = tf.keras.layers.Input(shape=([1, 2]))
in0Dot918 = tf.keras.layers.Input(shape=([2]))
in1Dot918 = tf.keras.layers.Input(shape=([2]))
in0Max46982 = tf.keras.layers.Input(shape=([2, 1]))
in0Dot82579 = tf.keras.layers.Input(shape=([3]))
in1Dot82579 = tf.keras.layers.Input(shape=([3]))
in0Con63850 = tf.keras.layers.Input(shape=([1]))

Mul89940 = keras.layers.Multiply(name = 'Mul89940', )([in0Mul89940,in1Mul89940])
Fla70497 = keras.layers.Flatten(name = 'Fla70497', )(Mul89940)
Dot918 = keras.layers.Dot(axes=(1, 1), name = 'Dot918', )([in0Dot918,in1Dot918])
Max46982 = keras.layers.MaxPool1D(pool_size=(2), name = 'Max46982', )(in0Max46982)
Fla88588 = keras.layers.Flatten(name = 'Fla88588', )(Max46982)
Dot82579 = keras.layers.Dot(axes=(1, 1), name = 'Dot82579', )([in0Dot82579,in1Dot82579])
Mul28494 = keras.layers.Multiply(name = 'Mul28494', )([Fla88588,Dot82579])
Max65154 = keras.layers.Maximum(name = 'Max65154', )([Dot918,Mul28494])
Con63850 = keras.layers.Concatenate(axis=1, name = 'Con63850', )([Max65154,in0Con63850])
Min88953 = keras.layers.Minimum(name = 'Min88953', )([Fla70497,Con63850])
model = tf.keras.models.Model(inputs=[in0Mul89940,in1Mul89940,in0Dot918,in1Dot918,in0Max46982,in0Dot82579,in1Dot82579,in0Con63850], outputs=Min88953)
in0Mul89940 = tf.constant([[[0.1209, 0.7217]]])
in1Mul89940 = tf.constant([[[0.2923, 0.5818]]])
in0Dot918 = tf.constant([[0.3573, 0.2037]])
in1Dot918 = tf.constant([[0.6883, 0.0313]])
in0Max46982 = tf.constant([[[1.6066], [1.0449]]])
in0Dot82579 = tf.constant([[0.6006, 0.9156, 0.4852]])
in1Dot82579 = tf.constant([[0.7941, 0.6759, 0.0362]])
in0Con63850 = tf.constant([[0.0936]])
print (np.array2string(model.predict([in0Mul89940,in1Mul89940,in0Dot918,in1Dot918,in0Max46982,in0Dot82579,in1Dot82579,in0Con63850],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min88953.png')

LMul89940 = multiply_layer([[[[0.1209, 0.7217]]], [[[0.2923, 0.5818]]]], Mul89940), 
LFla70497 = flatten_layer(Mul89940, Fla70497), 
LDot918 = dot_layer([[0.3573, 0.2037]], [[0.6883, 0.0313]], 1, 1, Dot918), 
LMax46982 = max_pool1D_layer([[[1.6066], [1.0449]]], 2, Max46982), 
LFla88588 = flatten_layer(Max46982, Fla88588), 
LDot82579 = dot_layer([[0.6006, 0.9156, 0.4852]], [[0.7941, 0.6759, 0.0362]], 1, 1, Dot82579), 
LMul28494 = multiply_layer([Fla88588,Dot82579], Mul28494), 
LMax65154 = maximum_layer([Dot918,Mul28494], Max65154), 
LCon63850 = concatenate_layer([Max65154,[[0.0936]]], 1, Con63850), 
LMin88953 = minimum_layer([Fla70497,Con63850], Min88953), 
exec_layers([LMul89940,LFla70497,LDot918,LMax46982,LFla88588,LDot82579,LMul28494,LMax65154,LCon63850,LMin88953],["Mul89940","Fla70497","Dot918","Max46982","Fla88588","Dot82579","Mul28494","Max65154","Con63850","Min88953"],Min88953,"Min88953")

Actual (Unparsed): [[0.0353391, 0.0936000]]

Expected (Unparsed): [[0.03533907,0.0936]]

Actual:   [[0.0354, 0.0936]]

Expected: [[0.0354, 0.0936]]