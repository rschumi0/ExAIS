import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add79528 = tf.keras.layers.Input(shape=([2, 1]))
in1Add79528 = tf.keras.layers.Input(shape=([2, 1]))
in0Con72218 = tf.keras.layers.Input(shape=([2, 1]))
in0Sub85251 = tf.keras.layers.Input(shape=([2, 2]))
in1Sub85251 = tf.keras.layers.Input(shape=([2, 2]))

Add79528 = keras.layers.Add(name = 'Add79528', )([in0Add79528,in1Add79528])
Con72218 = keras.layers.Concatenate(axis=2, name = 'Con72218', )([Add79528,in0Con72218])
Sub85251 = keras.layers.Subtract(name = 'Sub85251', )([in0Sub85251,in1Sub85251])
Add49692 = keras.layers.Add(name = 'Add49692', )([Con72218,Sub85251])
model = tf.keras.models.Model(inputs=[in0Add79528,in1Add79528,in0Con72218,in0Sub85251,in1Sub85251], outputs=Add49692)
in0Add79528 = tf.constant([[[0.6099], [0.9066]]])
in1Add79528 = tf.constant([[[0.1036], [0.5898]]])
in0Con72218 = tf.constant([[[0.9956], [0.9685]]])
in0Sub85251 = tf.constant([[[0.6896, 0.1163], [0.2821, 0.4012]]])
in1Sub85251 = tf.constant([[[0.8511, 0.4659], [0.2529, 0.0032]]])
print (np.array2string(model.predict([in0Add79528,in1Add79528,in0Con72218,in0Sub85251,in1Sub85251],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add49692.png')

LAdd79528 = add_layer([[[[0.6099], [0.9066]]], [[[0.1036], [0.5898]]]], Add79528), 
LCon72218 = concatenate_layer([Add79528,[[[0.9956], [0.9685]]]], 2, Con72218), 
LSub85251 = subtract_layer([[[0.6896, 0.1163], [0.2821, 0.4012]]], [[[0.8511, 0.4659], [0.2529, 0.0032]]], Sub85251), 
LAdd49692 = add_layer([Con72218,Sub85251], Add49692), 
exec_layers([LAdd79528,LCon72218,LSub85251,LAdd49692],["Add79528","Con72218","Sub85251","Add49692"],Add49692,"Add49692")

Actual (Unparsed): [[[0.5520000, 0.6460000], [1.5256000, 1.3665000]]]

Expected (Unparsed): [[[0.552,0.6460000000000001],[1.5255999999999998,1.3665]]]

Actual:   [[[0.552, 0.646], [1.5256, 1.3665]]]

Expected: [[[0.552, 0.6461], [1.5256, 1.3665]]]