import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Con73452 = tf.keras.layers.Input(shape=([1, 2, 2, 1]))

Con73452 = keras.layers.Conv3D(3, (1, 1, 2),strides=(1, 3, 2), padding='same', dilation_rate=(1, 1, 1), name = 'Con73452', )(in0Con73452)
Res62 = keras.layers.Reshape((1, 1, 3), name = 'Res62', )(Con73452)
Loc8522 = keras.layers.LocallyConnected2D(4, (1, 1),strides=(1, 1), name = 'Loc8522', )(Res62)
Zer46778 = keras.layers.ZeroPadding2D(padding=((1, 1), (1, 1)), name = 'Zer46778', )(Loc8522)
model = tf.keras.models.Model(inputs=[in0Con73452], outputs=Zer46778)
w = model.get_layer('Con73452').get_weights() 
w[0] = np.array([[[[[0.3459, 0.1187, 0.0138]], [[0.225, 0.4083, 0.4637]]]]])
w[1] = np.array([0, 0, 0])
model.get_layer('Con73452').set_weights(w) 
w = model.get_layer('Loc8522').get_weights() 
w[0] = np.array([[[0.4115, 0.9003, 0.7066, 0.0476], [0.74, 0.1969, 0.8087, 0.5863], [0.9623, 0.7057, 0.2404, 0.6729]]])
w[1] = np.array([[[0, 0, 0, 0]]])
model.get_layer('Loc8522').set_weights(w) 
in0Con73452 = tf.constant([[[[[0.0944], [0.7597]], [[0.507], [0.2977]]]]])
print (np.array2string(model.predict([in0Con73452],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Zer46778.png')

LCon73452 = conv3D_layer([[[[[0.0944], [0.7597]], [[0.507], [0.2977]]]]], 1, 1, 2,[[[[[0.3459, 0.1187, 0.0138]], [[0.225, 0.4083, 0.4637]]]]],[0, 0, 0], 1, 3, 2, true, 1, 1, 1, Con73452), 
LRes62 = reshape_layer(Con73452, [1, 1, 3], Res62), 
LLoc8522 = locally_connected2D_layer(Res62, 1, 1,[[[0.4115, 0.9003, 0.7066, 0.0476], [0.74, 0.1969, 0.8087, 0.5863], [0.9623, 0.7057, 0.2404, 0.6729]]],[[[0, 0, 0, 0]]], 1, 1, Loc8522), 
LZer46778 = zero_padding2D_layer(Loc8522, 1, 1, 1, 1, Zer46778), 
exec_layers([LCon73452,LRes62,LLoc8522,LZer46778],["Con73452","Res62","Loc8522","Zer46778"],Zer46778,"Zer46778")

Actual (Unparsed): [[[[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.6618504, 0.4960881, 0.4887618, 0.4360431], [0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000]]]]

Expected (Unparsed): [[[[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0.6618504108929999,0.496088144166,0.48876179455299995,0.436043116042],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0]]]]

Actual:   [[[[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0.6619, 0.4961, 0.4888, 0.4361], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]]]]

Expected: [[[[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0.6619, 0.4961, 0.4888, 0.4361], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]]]]