import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave28227 = tf.keras.layers.Input(shape=([1, 1]))
in1Ave28227 = tf.keras.layers.Input(shape=([1, 1]))

Ave28227 = keras.layers.Average(name = 'Ave28227', )([in0Ave28227,in1Ave28227])
Res65781 = keras.layers.Reshape((1, 1, 1), name = 'Res65781', )(Ave28227)
Zer73451 = keras.layers.ZeroPadding2D(padding=((1, 1), (1, 1)), name = 'Zer73451', )(Res65781)
Res18964 = keras.layers.Reshape((3, 3), name = 'Res18964', )(Zer73451)
Zer64311 = keras.layers.ZeroPadding1D(padding=((1, 1)), name = 'Zer64311', )(Res18964)
Res48866 = keras.layers.Reshape((5, 3, 1), name = 'Res48866', )(Zer64311)
Sep63227 = keras.layers.SeparableConv2D(3, (3, 3),strides=(5, 5), padding='same', name = 'Sep63227', )(Res48866)
model = tf.keras.models.Model(inputs=[in0Ave28227,in1Ave28227], outputs=Sep63227)
w = model.get_layer('Sep63227').get_weights() 
w[0] = np.array([[[[0.1673]], [[0.3198]], [[0.1194]]], [[[0.6578]], [[0.0199]], [[0.0906]]], [[[0.2292]], [[0.9128]], [[0.5811]]]])
w[1] = np.array([[[[0.2582, 0.3156, 0.1125]]]])
w[2] = np.array([0, 0, 0])
model.get_layer('Sep63227').set_weights(w) 
in0Ave28227 = tf.constant([[[0.5414]]])
in1Ave28227 = tf.constant([[[0.7504]]])
print (np.array2string(model.predict([in0Ave28227,in1Ave28227],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sep63227.png')

LAve28227 = average_layer([[[[0.5414]]], [[[0.7504]]]], Ave28227), 
LRes65781 = reshape_layer(Ave28227, [1, 1, 1], Res65781), 
LZer73451 = zero_padding2D_layer(Res65781, 1, 1, 1, 1, Zer73451), 
LRes18964 = reshape_layer(Zer73451, [3, 3], Res18964), 
LZer64311 = zero_padding1D_layer(Res18964, 1, 1, Zer64311), 
LRes48866 = reshape_layer(Zer64311, [5, 3, 1], Res48866), 
LSep63227 = separable_conv2D_layer(Res48866, 3, 3,[[[[[0.1673]], [[0.3198]], [[0.1194]]], [[[0.6578]], [[0.0199]], [[0.0906]]], [[[0.2292]], [[0.9128]], [[0.5811]]]],[[[[0.2582, 0.3156, 0.1125]]]]],[0, 0, 0], 5, 5, true, Sep63227), 
exec_layers([LAve28227,LRes65781,LZer73451,LRes18964,LZer64311,LRes48866,LSep63227],["Ave28227","Res65781","Zer73451","Res18964","Zer64311","Res48866","Sep63227"],Sep63227,"Sep63227")

Actual (Unparsed): [[[[0.1522289, 0.1860707, 0.0663275]]]]

Expected (Unparsed): [[[[0.15222891566399996,0.18607066531199995,0.06632747099999999]]]]

Actual:   [[[[0.1523, 0.1861, 0.0664]]]]

Expected: [[[[0.1523, 0.1861, 0.0664]]]]