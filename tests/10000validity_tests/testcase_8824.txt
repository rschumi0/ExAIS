import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot28109 = tf.keras.layers.Input(shape=([2]))
in1Dot28109 = tf.keras.layers.Input(shape=([2]))
in0Mul88259 = tf.keras.layers.Input(shape=([2, 2, 2, 1]))
in1Mul88259 = tf.keras.layers.Input(shape=([2, 2, 2, 1]))
in0Con72930 = tf.keras.layers.Input(shape=([1]))

Dot28109 = keras.layers.Dot(axes=(1, 1), name = 'Dot28109', )([in0Dot28109,in1Dot28109])
Res25936 = keras.layers.Reshape((1, 1), name = 'Res25936', )(Dot28109)
Zer45524 = keras.layers.ZeroPadding1D(padding=((1, 1)), name = 'Zer45524', )(Res25936)
Fla72519 = keras.layers.Flatten(name = 'Fla72519', )(Zer45524)
Mul88259 = keras.layers.Multiply(name = 'Mul88259', )([in0Mul88259,in1Mul88259])
Res6528 = keras.layers.Reshape((2, 2, 2), name = 'Res6528', )(Mul88259)
Glo54865 = keras.layers.GlobalAveragePooling2D(name = 'Glo54865', )(Res6528)
Con72930 = keras.layers.Concatenate(axis=1, name = 'Con72930', )([Glo54865,in0Con72930])
Min52431 = keras.layers.Minimum(name = 'Min52431', )([Fla72519,Con72930])
model = tf.keras.models.Model(inputs=[in0Dot28109,in1Dot28109,in0Mul88259,in1Mul88259,in0Con72930], outputs=Min52431)
in0Dot28109 = tf.constant([[0.835, 0.4979]])
in1Dot28109 = tf.constant([[0.2079, 0.5536]])
in0Mul88259 = tf.constant([[[[[0.0862], [0.6102]], [[0.3354], [0.9296]]], [[[0.3684], [0.8732]], [[0.4087], [0.1537]]]]])
in1Mul88259 = tf.constant([[[[[0.9043], [0.9334]], [[0.6104], [0.3143]]], [[[0.2529], [0.0819]], [[0.0845], [0.0746]]]]])
in0Con72930 = tf.constant([[0.9429]])
print (np.array2string(model.predict([in0Dot28109,in1Dot28109,in0Mul88259,in1Mul88259,in0Con72930],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min52431.png')

LDot28109 = dot_layer([[0.835, 0.4979]], [[0.2079, 0.5536]], 1, 1, Dot28109), 
LRes25936 = reshape_layer(Dot28109, [1, 1], Res25936), 
LZer45524 = zero_padding1D_layer(Res25936, 1, 1, Zer45524), 
LFla72519 = flatten_layer(Zer45524, Fla72519), 
LMul88259 = multiply_layer([[[[[[0.0862], [0.6102]], [[0.3354], [0.9296]]], [[[0.3684], [0.8732]], [[0.4087], [0.1537]]]]], [[[[[0.9043], [0.9334]], [[0.6104], [0.3143]]], [[[0.2529], [0.0819]], [[0.0845], [0.0746]]]]]], Mul88259), 
LRes6528 = reshape_layer(Mul88259, [2, 2, 2], Res6528), 
LGlo54865 = global_average_pooling2D_layer(Res6528, Glo54865), 
LCon72930 = concatenate_layer([Glo54865,[[0.9429]]], 1, Con72930), 
LMin52431 = minimum_layer([Fla72519,Con72930], Min52431), 
exec_layers([LDot28109,LRes25936,LZer45524,LFla72519,LMul88259,LRes6528,LGlo54865,LCon72930,LMin52431],["Dot28109","Res25936","Zer45524","Fla72519","Mul88259","Res6528","Glo54865","Con72930","Min52431"],Min52431,"Min52431")

Actual (Unparsed): [[0.0000000, 0.2361788, 0.0000000]]

Expected (Unparsed): [[0,0.23617876499999998,0]]

Actual:   [[0, 0.2362, 0]]

Expected: [[0, 0.2362, 0]]