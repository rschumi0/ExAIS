import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add57843 = tf.keras.layers.Input(shape=([2, 1]))
in1Add57843 = tf.keras.layers.Input(shape=([2, 1]))
in0Up_20274 = tf.keras.layers.Input(shape=([1, 4, 1]))

Add57843 = keras.layers.Add(name = 'Add57843', )([in0Add57843,in1Add57843])
Res84487 = keras.layers.Reshape((2, 1, 1), name = 'Res84487', )(Add57843)
Dep93112 = keras.layers.DepthwiseConv2D((1, 1),strides=(2, 2), padding='valid', name = 'Dep93112', )(Res84487)
Zer61003 = keras.layers.ZeroPadding2D(padding=((0, 0), (3, 0)), name = 'Zer61003', )(Dep93112)
Up_20274 = keras.layers.UpSampling2D(size=(1, 1), name = 'Up_20274', )(in0Up_20274)
Ave52245 = keras.layers.Average(name = 'Ave52245', )([Zer61003,Up_20274])
Lea33019 = keras.layers.LeakyReLU(alpha=0.9325991209292134, name = 'Lea33019', )(Ave52245)
model = tf.keras.models.Model(inputs=[in0Add57843,in1Add57843,in0Up_20274], outputs=Lea33019)
w = model.get_layer('Dep93112').get_weights() 
w[0] = np.array([[[[0.0564]]]])
w[1] = np.array([0])
model.get_layer('Dep93112').set_weights(w) 
in0Add57843 = tf.constant([[[0.9853], [0.3696]]])
in1Add57843 = tf.constant([[[0.8431], [0.8678]]])
in0Up_20274 = tf.constant([[[[1.2707], [1.2815], [1.1402], [1.4581]]]])
print (np.array2string(model.predict([in0Add57843,in1Add57843,in0Up_20274],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Lea33019.png')

LAdd57843 = add_layer([[[[0.9853], [0.3696]]], [[[0.8431], [0.8678]]]], Add57843), 
LRes84487 = reshape_layer(Add57843, [2, 1, 1], Res84487), 
LDep93112 = depthwise_conv2D_layer(Res84487, 1, 1,[[[[0.0564]]]],[0], 2, 2, false, Dep93112), 
LZer61003 = zero_padding2D_layer(Dep93112, 0, 0, 3, 0, Zer61003), 
LUp_20274 = up_sampling2D_layer([[[[1.2707], [1.2815], [1.1402], [1.4581]]]], 1, 1, Up_20274), 
LAve52245 = average_layer([Zer61003,Up_20274], Ave52245), 
LLea33019 = leaky_relu_layer(Ave52245, 0.9325991209292134, Lea33019), 
exec_layers([LAdd57843,LRes84487,LDep93112,LZer61003,LUp_20274,LAve52245,LLea33019],["Add57843","Res84487","Dep93112","Zer61003","Up_20274","Ave52245","Lea33019"],Lea33019,"Lea33019")

Actual (Unparsed): [[[[0.6353500], [0.6407500], [0.5701000], [0.7806109]]]]

Expected (Unparsed): [[[[0.63535],[0.64075],[0.5701],[0.78061088]]]]

Actual:   [[[[0.6354], [0.6408], [0.5701], [0.7807]]]]

Expected: [[[[0.6354], [0.6408], [0.5701], [0.7807]]]]