import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot12551 = tf.keras.layers.Input(shape=([2, 2]))
in1Dot12551 = tf.keras.layers.Input(shape=([2, 2]))
in0Cro6059 = tf.keras.layers.Input(shape=([4, 2]))
in0Mul11070 = tf.keras.layers.Input(shape=([2, 2, 1, 1]))
in1Mul11070 = tf.keras.layers.Input(shape=([2, 2, 1, 1]))

Dot12551 = keras.layers.Dot(axes=(1, 1), name = 'Dot12551', )([in0Dot12551,in1Dot12551])
Cro6059 = keras.layers.Cropping1D(cropping=((2, 1)), name = 'Cro6059', )(in0Cro6059)
Zer78577 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer78577', )(Cro6059)
Max80524 = keras.layers.Maximum(name = 'Max80524', )([Dot12551,Zer78577])
Fla71706 = keras.layers.Flatten(name = 'Fla71706', )(Max80524)
Mul11070 = keras.layers.Multiply(name = 'Mul11070', )([in0Mul11070,in1Mul11070])
Fla1666 = keras.layers.Flatten(name = 'Fla1666', )(Mul11070)
Dot35896 = keras.layers.Dot(axes=(1, 1), name = 'Dot35896', )([Fla71706,Fla1666])
model = tf.keras.models.Model(inputs=[in0Dot12551,in1Dot12551,in0Cro6059,in0Mul11070,in1Mul11070], outputs=Dot35896)
in0Dot12551 = tf.constant([[[0.6481, 0.4089], [0.9397, 0.5114]]])
in1Dot12551 = tf.constant([[[0.968, 0.4363], [0.5213, 0.908]]])
in0Cro6059 = tf.constant([[[1.346, 1.2593], [1.6947, 1.7683], [1.8326, 1.8864], [1.3373, 1.8493]]])
in0Mul11070 = tf.constant([[[[[0.4321]], [[0.1278]]], [[[0.7983]], [[0.0357]]]]])
in1Mul11070 = tf.constant([[[[[0.5588]], [[0.1938]]], [[[0.2282]], [[0.7661]]]]])
print (np.array2string(model.predict([in0Dot12551,in1Dot12551,in0Cro6059,in0Mul11070,in1Mul11070],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Dot35896.png')

LDot12551 = dot_layer([[[0.6481, 0.4089], [0.9397, 0.5114]]], [[[0.968, 0.4363], [0.5213, 0.908]]], 1, 1, Dot12551), 
LCro6059 = cropping1D_layer([[[1.346, 1.2593], [1.6947, 1.7683], [1.8326, 1.8864], [1.3373, 1.8493]]], 2, 1, Cro6059), 
LZer78577 = zero_padding1D_layer(Cro6059, 1, 0, Zer78577), 
LMax80524 = maximum_layer([Dot12551,Zer78577], Max80524), 
LFla71706 = flatten_layer(Max80524, Fla71706), 
LMul11070 = multiply_layer([[[[[[0.4321]], [[0.1278]]], [[[0.7983]], [[0.0357]]]]], [[[[[0.5588]], [[0.1938]]], [[[0.2282]], [[0.7661]]]]]], Mul11070), 
LFla1666 = flatten_layer(Mul11070, Fla1666), 
LDot35896 = dot_layer(Fla71706,Fla1666, 1, 1, Dot35896), 
exec_layers([LDot12551,LCro6059,LZer78577,LMax80524,LFla71706,LMul11070,LFla1666,LDot35896],["Dot12551","Cro6059","Zer78577","Max80524","Fla71706","Mul11070","Fla1666","Dot35896"],Dot35896,"Dot35896")

Actual (Unparsed): [[0.6833402]]

Expected (Unparsed): [[0.6833401734549799]]

Actual:   [[0.6834]]

Expected: [[0.6834]]