import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Up_90575 = tf.keras.layers.Input(shape=([3, 3]))

Up_90575 = keras.layers.UpSampling1D(size=(1), name = 'Up_90575', )(in0Up_90575)
Res74147 = keras.layers.Reshape((3, 3, 1), name = 'Res74147', )(Up_90575)
PRe72599 = keras.layers.PReLU(name = 'PRe72599', )(Res74147)
Res12915 = keras.layers.Reshape((3, 3), name = 'Res12915', )(PRe72599)
Fla81089 = keras.layers.Flatten(name = 'Fla81089', )(Res12915)
Res57725 = keras.layers.Reshape((9, 1), name = 'Res57725', )(Fla81089)
Res70837 = keras.layers.Reshape((9, 1, 1), name = 'Res70837', )(Res57725)
Glo85905 = keras.layers.GlobalAveragePooling2D(name = 'Glo85905', )(Res70837)
model = tf.keras.models.Model(inputs=[in0Up_90575], outputs=Glo85905)
w = model.get_layer('PRe72599').get_weights() 
w[0] = np.array([[[0.7673], [0.0075], [0.273]], [[0.9842], [0.0817], [0.2945]], [[0.8798], [0.9606], [0.516]]])
model.get_layer('PRe72599').set_weights(w) 
in0Up_90575 = tf.constant([[[1.5566, 1.4494, 1.0639], [1.8089, 1.9056, 1.382], [1.4384, 1.4218, 1.2032]]])
print (np.array2string(model.predict([in0Up_90575],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo85905.png')

LUp_90575 = up_sampling1D_layer([[[1.5566, 1.4494, 1.0639], [1.8089, 1.9056, 1.382], [1.4384, 1.4218, 1.2032]]], 1, Up_90575), 
LRes74147 = reshape_layer(Up_90575, [3, 3, 1], Res74147), 
LPRe72599 = prelu_layer(Res74147, [[[0.7673], [0.0075], [0.273]], [[0.9842], [0.0817], [0.2945]], [[0.8798], [0.9606], [0.516]]], PRe72599), 
LRes12915 = reshape_layer(PRe72599, [3, 3], Res12915), 
LFla81089 = flatten_layer(Res12915, Fla81089), 
LRes57725 = reshape_layer(Fla81089, [9, 1], Res57725), 
LRes70837 = reshape_layer(Res57725, [9, 1, 1], Res70837), 
LGlo85905 = global_average_pooling2D_layer(Res70837, Glo85905), 
exec_layers([LUp_90575,LRes74147,LPRe72599,LRes12915,LFla81089,LRes57725,LRes70837,LGlo85905],["Up_90575","Res74147","PRe72599","Res12915","Fla81089","Res57725","Res70837","Glo85905"],Glo85905,"Glo85905")

Actual (Unparsed): [[1.4699778]]

Expected (Unparsed): [[1.4699777777777776]]

Actual:   [[1.47]]

Expected: [[1.47]]