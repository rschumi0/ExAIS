import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave25814 = tf.keras.layers.Input(shape=([2, 2]))
in1Ave25814 = tf.keras.layers.Input(shape=([2, 2]))

Ave25814 = keras.layers.Average(name = 'Ave25814', )([in0Ave25814,in1Ave25814])
Fla54786 = keras.layers.Flatten(name = 'Fla54786', )(Ave25814)
ReL84576 = keras.layers.ReLU(max_value=4.262970377799471, negative_slope=9.746328565729245, threshold=3.700465345584092, name = 'ReL84576', )(Fla54786)
Sof6019 = keras.layers.Softmax(axis=1, name = 'Sof6019', )(ReL84576)
model = tf.keras.models.Model(inputs=[in0Ave25814,in1Ave25814], outputs=Sof6019)
in0Ave25814 = tf.constant([[[0.7437, 0.6374], [0.4547, 0.5627]]])
in1Ave25814 = tf.constant([[[0.0279, 0.1745], [0.5803, 0.1525]]])
print (np.array2string(model.predict([in0Ave25814,in1Ave25814],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sof6019.png')

LAve25814 = average_layer([[[[0.7437, 0.6374], [0.4547, 0.5627]]], [[[0.0279, 0.1745], [0.5803, 0.1525]]]], Ave25814), 
LFla54786 = flatten_layer(Ave25814, Fla54786), 
LReL84576 = relu_layer(Fla54786, 4.262970377799471, 9.746328565729245, 3.700465345584092, ReL84576), 
LSof6019 = softmax_layer(ReL84576, 1, Sof6019), 
exec_layers([LAve25814,LFla54786,LReL84576,LSof6019],["Ave25814","Fla54786","ReL84576","Sof6019"],Sof6019,"Sof6019")

Actual (Unparsed): [[0.1518311, 0.1847783, 0.5480463, 0.1153443]]

Expected (Unparsed): [[0.15183103884078822,0.18477832005417305,0.5480463085924733,0.11534433251256546]]

Actual:   [[0.1519, 0.1848, 0.5481, 0.1154]]

Expected: [[0.1519, 0.1848, 0.5481, 0.1154]]