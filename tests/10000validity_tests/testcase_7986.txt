import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave87241 = tf.keras.layers.Input(shape=([2, 1]))
in1Ave87241 = tf.keras.layers.Input(shape=([2, 1]))

Ave87241 = keras.layers.Average(name = 'Ave87241', )([in0Ave87241,in1Ave87241])
Ave79727 = keras.layers.AveragePooling1D(pool_size=(1), name = 'Ave79727', )(Ave87241)
Res44656 = keras.layers.Reshape((2, 1, 1), name = 'Res44656', )(Ave79727)
Res44154 = keras.layers.Reshape((2, 1, 1, 1), name = 'Res44154', )(Res44656)
Glo87557 = keras.layers.GlobalMaxPool3D(name = 'Glo87557', )(Res44154)
Res46008 = keras.layers.Reshape((1, 1), name = 'Res46008', )(Glo87557)
Res63531 = keras.layers.Reshape((1, 1, 1), name = 'Res63531', )(Res46008)
Res97838 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res97838', )(Res63531)
Glo19384 = keras.layers.GlobalAveragePooling3D(name = 'Glo19384', )(Res97838)
Res61658 = keras.layers.Reshape((1, 1), name = 'Res61658', )(Glo19384)
Up_2959 = keras.layers.UpSampling1D(size=(2), name = 'Up_2959', )(Res61658)
model = tf.keras.models.Model(inputs=[in0Ave87241,in1Ave87241], outputs=Up_2959)
in0Ave87241 = tf.constant([[[0.6673], [0.0681]]])
in1Ave87241 = tf.constant([[[0.2411], [0.5324]]])
print (np.array2string(model.predict([in0Ave87241,in1Ave87241],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Up_2959.png')

LAve87241 = average_layer([[[[0.6673], [0.0681]]], [[[0.2411], [0.5324]]]], Ave87241), 
LAve79727 = average_pooling1D_layer(Ave87241, 1, Ave79727), 
LRes44656 = reshape_layer(Ave79727, [2, 1, 1], Res44656), 
LRes44154 = reshape_layer(Res44656, [2, 1, 1, 1], Res44154), 
LGlo87557 = global_max_pool3D_layer(Res44154, Glo87557), 
LRes46008 = reshape_layer(Glo87557, [1, 1], Res46008), 
LRes63531 = reshape_layer(Res46008, [1, 1, 1], Res63531), 
LRes97838 = reshape_layer(Res63531, [1, 1, 1, 1], Res97838), 
LGlo19384 = global_average_pooling3D_layer(Res97838, Glo19384), 
LRes61658 = reshape_layer(Glo19384, [1, 1], Res61658), 
LUp_2959 = up_sampling1D_layer(Res61658, 2, Up_2959), 
exec_layers([LAve87241,LAve79727,LRes44656,LRes44154,LGlo87557,LRes46008,LRes63531,LRes97838,LGlo19384,LRes61658,LUp_2959],["Ave87241","Ave79727","Res44656","Res44154","Glo87557","Res46008","Res63531","Res97838","Glo19384","Res61658","Up_2959"],Up_2959,"Up_2959")

Actual (Unparsed): [[[0.4542000], [0.4542000]]]

Expected (Unparsed): [[[0.4542],[0.4542]]]

Actual:   [[[0.4542], [0.4542]]]

Expected: [[[0.4542], [0.4542]]]