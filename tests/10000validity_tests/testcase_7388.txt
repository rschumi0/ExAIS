import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave68777 = tf.keras.layers.Input(shape=([1, 2, 2]))
in1Ave68777 = tf.keras.layers.Input(shape=([1, 2, 2]))

Ave68777 = keras.layers.Average(name = 'Ave68777', )([in0Ave68777,in1Ave68777])
Res60029 = keras.layers.Reshape((1, 4), name = 'Res60029', )(Ave68777)
Max86498 = keras.layers.MaxPool1D(pool_size=(1), strides=(1), padding='valid', name = 'Max86498', )(Res60029)
model = tf.keras.models.Model(inputs=[in0Ave68777,in1Ave68777], outputs=Max86498)
in0Ave68777 = tf.constant([[[[0.9156, 0.7795], [0.4921, 0.1476]]]])
in1Ave68777 = tf.constant([[[[0.2763, 0.5875], [0.9749, 0.677]]]])
print (np.array2string(model.predict([in0Ave68777,in1Ave68777],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max86498.png')

LAve68777 = average_layer([[[[[0.9156, 0.7795], [0.4921, 0.1476]]]], [[[[0.2763, 0.5875], [0.9749, 0.677]]]]], Ave68777), 
LRes60029 = reshape_layer(Ave68777, [1, 4], Res60029), 
LMax86498 = max_pool1D_layer(Res60029, 1, 1, false, Max86498), 
exec_layers([LAve68777,LRes60029,LMax86498],["Ave68777","Res60029","Max86498"],Max86498,"Max86498")

Actual (Unparsed): [[[0.5959500, 0.6835000, 0.7335000, 0.4123000]]]

Expected (Unparsed): [[[0.59595,0.6835,0.7335,0.4123]]]

Actual:   [[[0.596, 0.6835, 0.7335, 0.4123]]]

Expected: [[[0.596, 0.6835, 0.7335, 0.4123]]]