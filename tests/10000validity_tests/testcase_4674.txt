import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add46565 = tf.keras.layers.Input(shape=([2, 2, 2]))
in1Add46565 = tf.keras.layers.Input(shape=([2, 2, 2]))
in0Dot95474 = tf.keras.layers.Input(shape=([2]))
in1Dot95474 = tf.keras.layers.Input(shape=([2]))
in0Con38426 = tf.keras.layers.Input(shape=([31]))

Add46565 = keras.layers.Add(name = 'Add46565', )([in0Add46565,in1Add46565])
Zer75091 = keras.layers.ZeroPadding2D(padding=((1, 1), (1, 1)), name = 'Zer75091', )(Add46565)
Res60897 = keras.layers.Reshape((4, 8), name = 'Res60897', )(Zer75091)
Fla64310 = keras.layers.Flatten(name = 'Fla64310', )(Res60897)
Dot95474 = keras.layers.Dot(axes=(1, 1), name = 'Dot95474', )([in0Dot95474,in1Dot95474])
Con38426 = keras.layers.Concatenate(axis=1, name = 'Con38426', )([Dot95474,in0Con38426])
Add98323 = keras.layers.Add(name = 'Add98323', )([Fla64310,Con38426])
model = tf.keras.models.Model(inputs=[in0Add46565,in1Add46565,in0Dot95474,in1Dot95474,in0Con38426], outputs=Add98323)
in0Add46565 = tf.constant([[[[0.4514, 0.5599], [0.1951, 0.664]], [[0.8433, 0.8746], [0.918, 0.6943]]]])
in1Add46565 = tf.constant([[[[0.7698, 0.2419], [0.559, 0.7599]], [[0.043, 0.668], [0.8553, 0.8404]]]])
in0Dot95474 = tf.constant([[0.6947, 0.8532]])
in1Dot95474 = tf.constant([[0.2131, 0.598]])
in0Con38426 = tf.constant([[0.7218, 0.4499, 0.3019, 0.3662, 0.9523, 0.0207, 0.833, 0.5048, 0.6793, 0.021, 0.5395, 0.2026, 0.5159, 0.8286, 0.1004, 0.5016, 0.0978, 0.5393, 0.5066, 0.3299, 0.7998, 0.1514, 0.5164, 0.0198, 0.9438, 0.4806, 0.4278, 0.4882, 0.7636, 0.1257, 0.4819]])
print (np.array2string(model.predict([in0Add46565,in1Add46565,in0Dot95474,in1Dot95474,in0Con38426],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add98323.png')

LAdd46565 = add_layer([[[[[0.4514, 0.5599], [0.1951, 0.664]], [[0.8433, 0.8746], [0.918, 0.6943]]]], [[[[0.7698, 0.2419], [0.559, 0.7599]], [[0.043, 0.668], [0.8553, 0.8404]]]]], Add46565), 
LZer75091 = zero_padding2D_layer(Add46565, 1, 1, 1, 1, Zer75091), 
LRes60897 = reshape_layer(Zer75091, [4, 8], Res60897), 
LFla64310 = flatten_layer(Res60897, Fla64310), 
LDot95474 = dot_layer([[0.6947, 0.8532]], [[0.2131, 0.598]], 1, 1, Dot95474), 
LCon38426 = concatenate_layer([Dot95474,[[0.7218, 0.4499, 0.3019, 0.3662, 0.9523, 0.0207, 0.833, 0.5048, 0.6793, 0.021, 0.5395, 0.2026, 0.5159, 0.8286, 0.1004, 0.5016, 0.0978, 0.5393, 0.5066, 0.3299, 0.7998, 0.1514, 0.5164, 0.0198, 0.9438, 0.4806, 0.4278, 0.4882, 0.7636, 0.1257, 0.4819]]], 1, Con38426), 
LAdd98323 = add_layer([Fla64310,Con38426], Add98323), 
exec_layers([LAdd46565,LZer75091,LRes60897,LFla64310,LDot95474,LCon38426,LAdd98323],["Add46565","Zer75091","Res60897","Fla64310","Dot95474","Con38426","Add98323"],Add98323,"Add98323")

Actual (Unparsed): [[0.6582542, 0.7218000, 0.4499000, 0.3019000, 0.3662000, 0.9523000, 0.0207000, 0.8330000, 0.5048000, 0.6793000, 1.2422000, 1.3413000, 0.9567000, 1.9398000, 0.8286000, 0.1004000, 0.5016000, 0.0978000, 1.4256000, 2.0492000, 2.1032000, 2.3345000, 0.1514000, 0.5164000, 0.0198000, 0.9438000, 0.4806000, 0.4278000, 0.4882000, 0.7636000, 0.1257000, 0.4819000]]

Expected (Unparsed): [[0.65825417,0.7218,0.4499,0.3019,0.3662,0.9523,0.0207,0.833,0.5048,0.6793,1.2422,1.3413,0.9567,1.9398000000000002,0.8286,0.1004,0.5016,0.0978,1.4256000000000002,2.0492000000000004,2.1031999999999997,2.3345,0.1514,0.5164,0.0198,0.9438,0.4806,0.4278,0.4882,0.7636,0.1257,0.4819]]

Actual:   [[0.6583, 0.7218, 0.4499, 0.3019, 0.3662, 0.9523, 0.0207, 0.833, 0.5048, 0.6793, 1.2422, 1.3413, 0.9567, 1.9398, 0.8286, 0.1004, 0.5016, 0.0978, 1.4256, 2.0492, 2.1032, 2.3345, 0.1514, 0.5164, 0.0198, 0.9438, 0.4806, 0.4278, 0.4882, 0.7636, 0.1257, 0.4819]]

Expected: [[0.6583, 0.7218, 0.4499, 0.3019, 0.3662, 0.9523, 0.0207, 0.833, 0.5048, 0.6793, 1.2422, 1.3413, 0.9567, 1.9399, 0.8286, 0.1004, 0.5016, 0.0978, 1.4257, 2.0493, 2.1032, 2.3345, 0.1514, 0.5164, 0.0198, 0.9438, 0.4806, 0.4278, 0.4882, 0.7636, 0.1257, 0.4819]]