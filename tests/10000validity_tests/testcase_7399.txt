import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Up_69187 = tf.keras.layers.Input(shape=([2, 1]))
in0Up_90322 = tf.keras.layers.Input(shape=([4, 1, 1]))
in0Dot1801 = tf.keras.layers.Input(shape=([2, 3]))
in1Dot1801 = tf.keras.layers.Input(shape=([2, 3]))
in0Mul70475 = tf.keras.layers.Input(shape=([2, 2]))
in1Mul70475 = tf.keras.layers.Input(shape=([2, 2]))
in0Con75386 = tf.keras.layers.Input(shape=([3, 1]))
in0Zer8405 = tf.keras.layers.Input(shape=([3, 2, 1, 1]))

Up_69187 = keras.layers.UpSampling1D(size=(2), name = 'Up_69187', )(in0Up_69187)
Res64534 = keras.layers.Reshape((4, 1, 1), name = 'Res64534', )(Up_69187)
Zer7020 = keras.layers.ZeroPadding2D(padding=((4, 0), (0, 0)), name = 'Zer7020', )(Res64534)
Up_90322 = keras.layers.UpSampling2D(size=(2, 1), name = 'Up_90322', )(in0Up_90322)
Max90464 = keras.layers.Maximum(name = 'Max90464', )([Zer7020,Up_90322])
Res8876 = keras.layers.Reshape((8, 1, 1, 1), name = 'Res8876', )(Max90464)
Zer33957 = keras.layers.ZeroPadding3D(padding=((0, 0), (6, 0), (4, 0)), name = 'Zer33957', )(Res8876)
Dot1801 = keras.layers.Dot(axes=(1, 1), name = 'Dot1801', )([in0Dot1801,in1Dot1801])
Res18258 = keras.layers.Reshape((3, 3, 1), name = 'Res18258', )(Dot1801)
PRe11309 = keras.layers.PReLU(name = 'PRe11309', )(Res18258)
Res59423 = keras.layers.Reshape((3, 3), name = 'Res59423', )(PRe11309)
Mul70475 = keras.layers.Multiply(name = 'Mul70475', )([in0Mul70475,in1Mul70475])
Zer20154 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer20154', )(Mul70475)
Con75386 = keras.layers.Concatenate(axis=2, name = 'Con75386', )([Zer20154,in0Con75386])
Mul48898 = keras.layers.Multiply(name = 'Mul48898', )([Res59423,Con75386])
Res17640 = keras.layers.Reshape((3, 3, 1), name = 'Res17640', )(Mul48898)
Res28412 = keras.layers.Reshape((3, 3, 1, 1), name = 'Res28412', )(Res17640)
Zer46832 = keras.layers.ZeroPadding3D(padding=((2, 0), (1, 0), (2, 0)), name = 'Zer46832', )(Res28412)
Zer8405 = keras.layers.ZeroPadding3D(padding=((1, 1), (1, 1), (1, 1)), name = 'Zer8405', )(in0Zer8405)
Sof35738 = keras.layers.Softmax(axis=1, name = 'Sof35738', )(Zer8405)
Mul38168 = keras.layers.Multiply(name = 'Mul38168', )([Zer46832,Sof35738])
Zer33997 = keras.layers.ZeroPadding3D(padding=((3, 0), (3, 0), (2, 0)), name = 'Zer33997', )(Mul38168)
Add82574 = keras.layers.Add(name = 'Add82574', )([Zer33957,Zer33997])
model = tf.keras.models.Model(inputs=[in0Up_69187,in0Up_90322,in0Dot1801,in1Dot1801,in0Mul70475,in1Mul70475,in0Con75386,in0Zer8405], outputs=Add82574)
w = model.get_layer('PRe11309').get_weights() 
w[0] = np.array([[[0.7638], [0.3467], [0.8603]], [[0.2546], [0.7367], [0.8129]], [[0.7221], [0.1268], [0.6636]]])
model.get_layer('PRe11309').set_weights(w) 
in0Up_69187 = tf.constant([[[1.2594], [1.577]]])
in0Up_90322 = tf.constant([[[[1.6495]], [[1.2604]], [[1.3642]], [[1.5711]]]])
in0Dot1801 = tf.constant([[[0.7929, 0.7917, 0.5748], [0.345, 0.8115, 0.4669]]])
in1Dot1801 = tf.constant([[[0.1946, 0.5795, 0.1052], [0.4277, 0.0862, 0.6055]]])
in0Mul70475 = tf.constant([[[0.5911, 0.8735], [0.4972, 0.4853]]])
in1Mul70475 = tf.constant([[[0.0445, 0.083], [0.9551, 0.0882]]])
in0Con75386 = tf.constant([[[0.6951], [0.5006], [0.2944]]])
in0Zer8405 = tf.constant([[[[[1.9162]], [[1.5442]]], [[[1.107]], [[1.2022]]], [[[1.3363]], [[1.1014]]]]])
print (np.array2string(model.predict([in0Up_69187,in0Up_90322,in0Dot1801,in1Dot1801,in0Mul70475,in1Mul70475,in0Con75386,in0Zer8405],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add82574.png')

LUp_69187 = up_sampling1D_layer([[[1.2594], [1.577]]], 2, Up_69187), 
LRes64534 = reshape_layer(Up_69187, [4, 1, 1], Res64534), 
LZer7020 = zero_padding2D_layer(Res64534, 4, 0, 0, 0, Zer7020), 
LUp_90322 = up_sampling2D_layer([[[[1.6495]], [[1.2604]], [[1.3642]], [[1.5711]]]], 2, 1, Up_90322), 
LMax90464 = maximum_layer([Zer7020,Up_90322], Max90464), 
LRes8876 = reshape_layer(Max90464, [8, 1, 1, 1], Res8876), 
LZer33957 = zero_padding3D_layer(Res8876, 0, 0, 6, 0, 4, 0, Zer33957), 
LDot1801 = dot_layer([[[0.7929, 0.7917, 0.5748], [0.345, 0.8115, 0.4669]]], [[[0.1946, 0.5795, 0.1052], [0.4277, 0.0862, 0.6055]]], 1, 1, Dot1801), 
LRes18258 = reshape_layer(Dot1801, [3, 3, 1], Res18258), 
LPRe11309 = prelu_layer(Res18258, [[[0.7638], [0.3467], [0.8603]], [[0.2546], [0.7367], [0.8129]], [[0.7221], [0.1268], [0.6636]]], PRe11309), 
LRes59423 = reshape_layer(PRe11309, [3, 3], Res59423), 
LMul70475 = multiply_layer([[[[0.5911, 0.8735], [0.4972, 0.4853]]], [[[0.0445, 0.083], [0.9551, 0.0882]]]], Mul70475), 
LZer20154 = zero_padding1D_layer(Mul70475, 1, 0, Zer20154), 
LCon75386 = concatenate_layer([Zer20154,[[[0.6951], [0.5006], [0.2944]]]], 2, Con75386), 
LMul48898 = multiply_layer([Res59423,Con75386], Mul48898), 
LRes17640 = reshape_layer(Mul48898, [3, 3, 1], Res17640), 
LRes28412 = reshape_layer(Res17640, [3, 3, 1, 1], Res28412), 
LZer46832 = zero_padding3D_layer(Res28412, 2, 0, 1, 0, 2, 0, Zer46832), 
LZer8405 = zero_padding3D_layer([[[[[1.9162]], [[1.5442]]], [[[1.107]], [[1.2022]]], [[[1.3363]], [[1.1014]]]]], 1, 1, 1, 1, 1, 1, Zer8405), 
LSof35738 = softmax_layer(Zer8405, 1, Sof35738), 
LMul38168 = multiply_layer([Zer46832,Sof35738], Mul38168), 
LZer33997 = zero_padding3D_layer(Mul38168, 3, 0, 3, 0, 2, 0, Zer33997), 
LAdd82574 = add_layer([Zer33957,Zer33997], Add82574), 
exec_layers([LUp_69187,LRes64534,LZer7020,LUp_90322,LMax90464,LRes8876,LZer33957,LDot1801,LRes18258,LPRe11309,LRes59423,LMul70475,LZer20154,LCon75386,LMul48898,LRes17640,LRes28412,LZer46832,LZer8405,LSof35738,LMul38168,LZer33997,LAdd82574],["Up_69187","Res64534","Zer7020","Up_90322","Max90464","Res8876","Zer33957","Dot1801","Res18258","PRe11309","Res59423","Mul70475","Zer20154","Con75386","Mul48898","Res17640","Res28412","Zer46832","Zer8405","Sof35738","Mul38168","Zer33997","Add82574"],Add82574,"Add82574")

Actual (Unparsed): [[[[[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [1.6495000]]], [[[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [1.6495000]]], [[[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [1.2604001]]], [[[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [1.2604001]]], [[[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [1.3642000]]], [[[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [1.4048370]]], [[[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0026364]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0076668]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [1.6345340]]], [[[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0295894]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [0.0031961]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000], [1.5972063]]]]]

Expected (Unparsed): [[[[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[1.6495]]],[[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[1.6495]]],[[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[1.2604]]],[[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]],[[0],[0],[0.0],[0.0],[0.0]],[[0],[0],[0.0],[0.0],[0.0]],[[0],[0],[0.0],[0.0],[0.0]],[[0],[0],[0.0],[0.0],[1.2604]]],[[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]],[[0],[0],[0.0],[0.0],[0.0]],[[0],[0],[0.0],[0.0],[0.0]],[[0],[0],[0.0],[0.0],[0.0]],[[0],[0],[0.0],[0.0],[1.3642]]],[[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]],[[0],[0],[0.0],[0.0],[0.0]],[[0],[0],[0.0],[0.0],[0.0]],[[0],[0],[0.0],[0.0],[0.0]],[[0],[0],[0.0],[0.0],[1.4048370168316]]],[[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]],[[0],[0],[0.0],[0.0],[0.0]],[[0],[0],[0.0],[0.0],[0.0026364100294623003]],[[0],[0],[0.0],[0.0],[0.007666803899145001]],[[0],[0],[0.0],[0.0],[1.6345339670108]]],[[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0]],[[0],[0],[0.0],[0.0],[0.0]],[[0],[0],[0.0],[0.0],[0.029589431082836237]],[[0],[0],[0.0],[0.0],[0.00319607768641896]],[[0],[0],[0.0],[0.0],[1.5972062564608]]]]]

Actual:   [[[[[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [1.6495]]], [[[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [1.6495]]], [[[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [1.2605]]], [[[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [1.2605]]], [[[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [1.3642]]], [[[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [1.4049]]], [[[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0.0027]], [[0], [0], [0], [0], [0.0077]], [[0], [0], [0], [0], [1.6346]]], [[[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0.0296]], [[0], [0], [0], [0], [0.0032]], [[0], [0], [0], [0], [1.5973]]]]]

Expected: [[[[[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [1.6495]]], [[[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [1.6495]]], [[[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [1.2604]]], [[[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [1.2604]]], [[[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [1.3642]]], [[[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [1.4049]]], [[[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0.0027]], [[0], [0], [0], [0], [0.0077]], [[0], [0], [0], [0], [1.6346]]], [[[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0]], [[0], [0], [0], [0], [0.0296]], [[0], [0], [0], [0], [0.0032]], [[0], [0], [0], [0], [1.5973]]]]]