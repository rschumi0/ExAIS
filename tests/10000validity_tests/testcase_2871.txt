import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add83029 = tf.keras.layers.Input(shape=([2, 1, 1]))
in1Add83029 = tf.keras.layers.Input(shape=([2, 1, 1]))
in0Con55728 = tf.keras.layers.Input(shape=([2, 3, 1, 1]))
in0Ave579 = tf.keras.layers.Input(shape=([1, 2, 1, 2]))
in1Ave579 = tf.keras.layers.Input(shape=([1, 2, 1, 2]))

Add83029 = keras.layers.Add(name = 'Add83029', )([in0Add83029,in1Add83029])
Res96378 = keras.layers.Reshape((2, 1, 1, 1), name = 'Res96378', )(Add83029)
Zer23282 = keras.layers.ZeroPadding3D(padding=((0, 0), (2, 0), (0, 0)), name = 'Zer23282', )(Res96378)
Con55728 = keras.layers.Concatenate(axis=4, name = 'Con55728', )([Zer23282,in0Con55728])
Ave579 = keras.layers.Average(name = 'Ave579', )([in0Ave579,in1Ave579])
ELU66588 = keras.layers.ELU(alpha=-6.678309501762381, name = 'ELU66588', )(Ave579)
Zer59565 = keras.layers.ZeroPadding3D(padding=((1, 0), (1, 0), (0, 0)), name = 'Zer59565', )(ELU66588)
Add33642 = keras.layers.Add(name = 'Add33642', )([Con55728,Zer59565])
model = tf.keras.models.Model(inputs=[in0Add83029,in1Add83029,in0Con55728,in0Ave579,in1Ave579], outputs=Add33642)
in0Add83029 = tf.constant([[[[0.1311]], [[0.8957]]]])
in1Add83029 = tf.constant([[[[0.6157]], [[0.6902]]]])
in0Con55728 = tf.constant([[[[[0.9016]], [[0.8051]], [[0.026]]], [[[0.3634]], [[0.4161]], [[0.3399]]]]])
in0Ave579 = tf.constant([[[[[0.6115, 0.8008]], [[0.5998, 0.6283]]]]])
in1Ave579 = tf.constant([[[[[0.6811, 0.6133]], [[0.7829, 0.0708]]]]])
print (np.array2string(model.predict([in0Add83029,in1Add83029,in0Con55728,in0Ave579,in1Ave579],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add33642.png')

LAdd83029 = add_layer([[[[[0.1311]], [[0.8957]]]], [[[[0.6157]], [[0.6902]]]]], Add83029), 
LRes96378 = reshape_layer(Add83029, [2, 1, 1, 1], Res96378), 
LZer23282 = zero_padding3D_layer(Res96378, 0, 0, 2, 0, 0, 0, Zer23282), 
LCon55728 = concatenate_layer([Zer23282,[[[[[0.9016]], [[0.8051]], [[0.026]]], [[[0.3634]], [[0.4161]], [[0.3399]]]]]], 4, Con55728), 
LAve579 = average_layer([[[[[[0.6115, 0.8008]], [[0.5998, 0.6283]]]]], [[[[[0.6811, 0.6133]], [[0.7829, 0.0708]]]]]], Ave579), 
LELU66588 = elu_layer(Ave579, -6.678309501762381, ELU66588), 
LZer59565 = zero_padding3D_layer(ELU66588, 1, 0, 1, 0, 0, 0, Zer59565), 
LAdd33642 = add_layer([Con55728,Zer59565], Add33642), 
exec_layers([LAdd83029,LRes96378,LZer23282,LCon55728,LAve579,LELU66588,LZer59565,LAdd33642],["Add83029","Res96378","Zer23282","Con55728","Ave579","ELU66588","Zer59565","Add33642"],Add33642,"Add33642")

Actual (Unparsed): [[[[[0.0000000, 0.9016000]], [[0.0000000, 0.8051000]], [[0.7468000, 0.0260000]]], [[[0.0000000, 0.3634000]], [[0.6463000, 1.1231500]], [[2.2772499, 0.6894500]]]]]

Expected (Unparsed): [[[[[0,0.9016]],[[0,0.8051]],[[0.7468,0.026]]],[[[0,0.3634]],[[0.6463000000000001,1.1231499999999999]],[[2.27725,0.6894499999999999]]]]]

Actual:   [[[[[0, 0.9016]], [[0, 0.8051]], [[0.7468, 0.026]]], [[[0, 0.3634]], [[0.6463, 1.1232]], [[2.2773, 0.6895]]]]]

Expected: [[[[[0, 0.9016]], [[0, 0.8051]], [[0.7468, 0.026]]], [[[0, 0.3634]], [[0.6464, 1.1232]], [[2.2773, 0.6895]]]]]