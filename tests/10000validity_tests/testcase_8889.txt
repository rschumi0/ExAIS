import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add8585 = tf.keras.layers.Input(shape=([1, 2]))
in1Add8585 = tf.keras.layers.Input(shape=([1, 2]))
in0Cro90448 = tf.keras.layers.Input(shape=([4, 3, 1, 2]))
in0Max72660 = tf.keras.layers.Input(shape=([1, 1, 1, 1]))
in1Max72660 = tf.keras.layers.Input(shape=([1, 1, 1, 1]))
in0Con62459 = tf.keras.layers.Input(shape=([1, 1, 1, 1]))
in0Glo59904 = tf.keras.layers.Input(shape=([2, 1]))
in0Con90679 = tf.keras.layers.Input(shape=([1]))

Add8585 = keras.layers.Add(name = 'Add8585', )([in0Add8585,in1Add8585])
Fla71038 = keras.layers.Flatten(name = 'Fla71038', )(Add8585)
Cro90448 = keras.layers.Cropping3D(cropping=((3, 0), (2, 0), (0, 0)), name = 'Cro90448', )(in0Cro90448)
Max72660 = keras.layers.Maximum(name = 'Max72660', )([in0Max72660,in1Max72660])
ReL31940 = keras.layers.ReLU(max_value=6.292418007359074, negative_slope=4.007894661856574, threshold=7.161314883670765, name = 'ReL31940', )(Max72660)
Con62459 = keras.layers.Concatenate(axis=4, name = 'Con62459', )([ReL31940,in0Con62459])
Ave75988 = keras.layers.Average(name = 'Ave75988', )([Cro90448,Con62459])
Res24362 = keras.layers.Reshape((1, 1, 2), name = 'Res24362', )(Ave75988)
Res8478 = keras.layers.Reshape((1, 2), name = 'Res8478', )(Res24362)
Fla36306 = keras.layers.Flatten(name = 'Fla36306', )(Res8478)
Glo59904 = keras.layers.GlobalAveragePooling1D(name = 'Glo59904', )(in0Glo59904)
Con90679 = keras.layers.Concatenate(axis=1, name = 'Con90679', )([Glo59904,in0Con90679])
Mul43745 = keras.layers.Multiply(name = 'Mul43745', )([Fla36306,Con90679])
Mul57425 = keras.layers.Multiply(name = 'Mul57425', )([Fla71038,Mul43745])
model = tf.keras.models.Model(inputs=[in0Add8585,in1Add8585,in0Cro90448,in0Max72660,in1Max72660,in0Con62459,in0Glo59904,in0Con90679], outputs=Mul57425)
in0Add8585 = tf.constant([[[0.7438, 0.2306]]])
in1Add8585 = tf.constant([[[0.1214, 0.6475]]])
in0Cro90448 = tf.constant([[[[[1.1698, 1.3294]], [[1.2845, 1.7689]], [[1.7101, 1.4647]]], [[[1.0156, 1.5524]], [[1.7887, 1.1565]], [[1.3282, 1.8983]]], [[[1.5742, 1.0939]], [[1.7234, 1.3954]], [[1.7956, 1.1864]]], [[[1.9391, 1.0038]], [[1.1296, 1.8661]], [[1.5107, 1.2555]]]]])
in0Max72660 = tf.constant([[[[[0.3527]]]]])
in1Max72660 = tf.constant([[[[[0.882]]]]])
in0Con62459 = tf.constant([[[[[0.3429]]]]])
in0Glo59904 = tf.constant([[[1.1471], [1.4141]]])
in0Con90679 = tf.constant([[0.9021]])
print (np.array2string(model.predict([in0Add8585,in1Add8585,in0Cro90448,in0Max72660,in1Max72660,in0Con62459,in0Glo59904,in0Con90679],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Mul57425.png')

LAdd8585 = add_layer([[[[0.7438, 0.2306]]], [[[0.1214, 0.6475]]]], Add8585), 
LFla71038 = flatten_layer(Add8585, Fla71038), 
LCro90448 = cropping3D_layer([[[[[1.1698, 1.3294]], [[1.2845, 1.7689]], [[1.7101, 1.4647]]], [[[1.0156, 1.5524]], [[1.7887, 1.1565]], [[1.3282, 1.8983]]], [[[1.5742, 1.0939]], [[1.7234, 1.3954]], [[1.7956, 1.1864]]], [[[1.9391, 1.0038]], [[1.1296, 1.8661]], [[1.5107, 1.2555]]]]], 3, 0, 2, 0, 0, 0, Cro90448), 
LMax72660 = maximum_layer([[[[[[0.3527]]]]], [[[[[0.882]]]]]], Max72660), 
LReL31940 = relu_layer(Max72660, 6.292418007359074, 4.007894661856574, 7.161314883670765, ReL31940), 
LCon62459 = concatenate_layer([ReL31940,[[[[[0.3429]]]]]], 4, Con62459), 
LAve75988 = average_layer([Cro90448,Con62459], Ave75988), 
LRes24362 = reshape_layer(Ave75988, [1, 1, 2], Res24362), 
LRes8478 = reshape_layer(Res24362, [1, 2], Res8478), 
LFla36306 = flatten_layer(Res8478, Fla36306), 
LGlo59904 = global_average_pooling1D_layer([[[1.1471], [1.4141]]], Glo59904), 
LCon90679 = concatenate_layer([Glo59904,[[0.9021]]], 1, Con90679), 
LMul43745 = multiply_layer([Fla36306,Con90679], Mul43745), 
LMul57425 = multiply_layer([Fla71038,Mul43745], Mul57425), 
exec_layers([LAdd8585,LFla71038,LCro90448,LMax72660,LReL31940,LCon62459,LAve75988,LRes24362,LRes8478,LFla36306,LGlo59904,LCon90679,LMul43745,LMul57425],["Add8585","Fla71038","Cro90448","Max72660","ReL31940","Con62459","Ave75988","Res24362","Res8478","Fla36306","Glo59904","Con90679","Mul43745","Mul57425"],Mul57425,"Mul57425")

Actual (Unparsed): [[-13.1052030, 0.6330735]]

Expected (Unparsed): [[-13.105203179429274,0.633073500792]]

Actual:   [[-13.1052, 0.6331]]

Expected: [[-13.1052, 0.6331]]