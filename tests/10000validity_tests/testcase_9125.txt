import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min49726 = tf.keras.layers.Input(shape=([2, 2, 2, 1]))
in1Min49726 = tf.keras.layers.Input(shape=([2, 2, 2, 1]))
in0Add22618 = tf.keras.layers.Input(shape=([1, 2, 2, 1]))
in1Add22618 = tf.keras.layers.Input(shape=([1, 2, 2, 1]))
in0Sof44616 = tf.keras.layers.Input(shape=([2, 1]))
in0Con77542 = tf.keras.layers.Input(shape=([2, 3]))
in0Lay38680 = tf.keras.layers.Input(shape=([3]))
in0Con31853 = tf.keras.layers.Input(shape=([5]))

Min49726 = keras.layers.Minimum(name = 'Min49726', )([in0Min49726,in1Min49726])
Res49381 = keras.layers.Reshape((2, 2, 2), name = 'Res49381', )(Min49726)
Res5470 = keras.layers.Reshape((2, 4), name = 'Res5470', )(Res49381)
Fla91901 = keras.layers.Flatten(name = 'Fla91901', )(Res5470)
Add22618 = keras.layers.Add(name = 'Add22618', )([in0Add22618,in1Add22618])
Res74025 = keras.layers.Reshape((1, 2, 2), name = 'Res74025', )(Add22618)
Res94448 = keras.layers.Reshape((1, 4), name = 'Res94448', )(Res74025)
Zer3027 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer3027', )(Res94448)
Sof44616 = keras.layers.Softmax(axis=1, name = 'Sof44616', input_shape=(2, 1))(in0Sof44616)
Con77542 = keras.layers.Concatenate(axis=2, name = 'Con77542', )([Sof44616,in0Con77542])
Min15041 = keras.layers.Minimum(name = 'Min15041', )([Zer3027,Con77542])
Fla38302 = keras.layers.Flatten(name = 'Fla38302', )(Min15041)
Lay38680 = keras.layers.LayerNormalization(axis=1, epsilon=1.7566150961282858, name = 'Lay38680', )(in0Lay38680)
Con31853 = keras.layers.Concatenate(axis=1, name = 'Con31853', )([Lay38680,in0Con31853])
Add95632 = keras.layers.Add(name = 'Add95632', )([Fla38302,Con31853])
Max63463 = keras.layers.Maximum(name = 'Max63463', )([Fla91901,Add95632])
model = tf.keras.models.Model(inputs=[in0Min49726,in1Min49726,in0Add22618,in1Add22618,in0Sof44616,in0Con77542,in0Lay38680,in0Con31853], outputs=Max63463)
in0Min49726 = tf.constant([[[[[0.69], [0.9593]], [[0.3113], [0.6643]]], [[[0.9987], [0.0519]], [[0.6803], [0.9311]]]]])
in1Min49726 = tf.constant([[[[[0.8221], [0.7426]], [[0.8334], [0.002]]], [[[0.4947], [0.4626]], [[0.0871], [0.7055]]]]])
in0Add22618 = tf.constant([[[[[0.5638], [0.86]], [[0.6805], [0.9721]]]]])
in1Add22618 = tf.constant([[[[[0.0413], [0.6463]], [[0.0026], [0.9956]]]]])
in0Sof44616 = tf.constant([[[0.8999], [0.4084]]])
in0Con77542 = tf.constant([[[0.231, 0.0346, 0.5132], [0.2658, 0.4344, 0.5781]]])
in0Lay38680 = tf.constant([[1.1144, 1.9616, 1.7206]])
in0Con31853 = tf.constant([[0.4471, 0.2766, 0.45, 0.3158, 0.2276]])
print (np.array2string(model.predict([in0Min49726,in1Min49726,in0Add22618,in1Add22618,in0Sof44616,in0Con77542,in0Lay38680,in0Con31853],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max63463.png')

LMin49726 = minimum_layer([[[[[[0.69], [0.9593]], [[0.3113], [0.6643]]], [[[0.9987], [0.0519]], [[0.6803], [0.9311]]]]], [[[[[0.8221], [0.7426]], [[0.8334], [0.002]]], [[[0.4947], [0.4626]], [[0.0871], [0.7055]]]]]], Min49726), 
LRes49381 = reshape_layer(Min49726, [2, 2, 2], Res49381), 
LRes5470 = reshape_layer(Res49381, [2, 4], Res5470), 
LFla91901 = flatten_layer(Res5470, Fla91901), 
LAdd22618 = add_layer([[[[[[0.5638], [0.86]], [[0.6805], [0.9721]]]]], [[[[[0.0413], [0.6463]], [[0.0026], [0.9956]]]]]], Add22618), 
LRes74025 = reshape_layer(Add22618, [1, 2, 2], Res74025), 
LRes94448 = reshape_layer(Res74025, [1, 4], Res94448), 
LZer3027 = zero_padding1D_layer(Res94448, 1, 0, Zer3027), 
LSof44616 = softmax_layer([[[0.8999], [0.4084]]], 1, Sof44616), 
LCon77542 = concatenate_layer([Sof44616,[[[0.231, 0.0346, 0.5132], [0.2658, 0.4344, 0.5781]]]], 2, Con77542), 
LMin15041 = minimum_layer([Zer3027,Con77542], Min15041), 
LFla38302 = flatten_layer(Min15041, Fla38302), 
LLay38680 = layer_normalization_layer([[1.1144, 1.9616, 1.7206]], 1, 1.7566150961282858, Lay38680), 
LCon31853 = concatenate_layer([Lay38680,[[0.4471, 0.2766, 0.45, 0.3158, 0.2276]]], 1, Con31853), 
LAdd95632 = add_layer([Fla38302,Con31853], Add95632), 
LMax63463 = maximum_layer([Fla91901,Add95632], Max63463), 
exec_layers([LMin49726,LRes49381,LRes5470,LFla91901,LAdd22618,LRes74025,LRes94448,LZer3027,LSof44616,LCon77542,LMin15041,LFla38302,LLay38680,LCon31853,LAdd95632,LMax63463],["Min49726","Res49381","Res5470","Fla91901","Add22618","Res74025","Res94448","Zer3027","Sof44616","Con77542","Min15041","Fla38302","Lay38680","Con31853","Add95632","Max63463"],Max63463,"Max63463")

Actual (Unparsed): [[0.6900000, 0.7426000, 0.3113000, 0.4471000, 0.6561403, 0.7158000, 0.7502000, 0.8057000]]

Expected (Unparsed): [[0.69,0.7426,0.3113,0.4471,0.6561402697058232,0.7158,0.7502,0.8057]]

Actual:   [[0.69, 0.7426, 0.3113, 0.4471, 0.6562, 0.7158, 0.7502, 0.8057]]

Expected: [[0.69, 0.7426, 0.3113, 0.4471, 0.6562, 0.7158, 0.7502, 0.8057]]