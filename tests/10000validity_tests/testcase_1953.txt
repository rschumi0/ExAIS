import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub54233 = tf.keras.layers.Input(shape=([3, 3]))
in1Sub54233 = tf.keras.layers.Input(shape=([3, 3]))

Sub54233 = keras.layers.Subtract(name = 'Sub54233', )([in0Sub54233,in1Sub54233])
Fla78527 = keras.layers.Flatten(name = 'Fla78527', )(Sub54233)
model = tf.keras.models.Model(inputs=[in0Sub54233,in1Sub54233], outputs=Fla78527)
in0Sub54233 = tf.constant([[[0.8066, 0.4757, 0.6662], [0.6918, 0.5072, 0.972], [0.6285, 0.8221, 0.5266]]])
in1Sub54233 = tf.constant([[[0.6453, 0.5912, 0.3654], [0.0949, 0.6608, 0.7243], [0.4818, 0.2401, 0.4031]]])
print (np.array2string(model.predict([in0Sub54233,in1Sub54233],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Fla78527.png')

LSub54233 = subtract_layer([[[0.8066, 0.4757, 0.6662], [0.6918, 0.5072, 0.972], [0.6285, 0.8221, 0.5266]]], [[[0.6453, 0.5912, 0.3654], [0.0949, 0.6608, 0.7243], [0.4818, 0.2401, 0.4031]]], Sub54233), 
LFla78527 = flatten_layer(Sub54233, Fla78527), 
exec_layers([LSub54233,LFla78527],["Sub54233","Fla78527"],Fla78527,"Fla78527")

Actual (Unparsed): [[0.1613000, -0.1155000, 0.3008000, 0.5969000, -0.1536000, 0.2477000, 0.1467000, 0.5820000, 0.1235000]]

Expected (Unparsed): [[0.1613,-0.11549999999999994,0.3008,0.5969,-0.15360000000000007,0.24769999999999992,0.14669999999999994,0.5820000000000001,0.12349999999999994]]

Actual:   [[0.1613, -0.1155, 0.3008, 0.5969, -0.1536, 0.2477, 0.1467, 0.582, 0.1235]]

Expected: [[0.1613, -0.1154, 0.3008, 0.5969, -0.1536, 0.2477, 0.1467, 0.5821, 0.1235]]