import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul37141 = tf.keras.layers.Input(shape=([2, 1, 2]))
in1Mul37141 = tf.keras.layers.Input(shape=([2, 1, 2]))
in0Con23854 = tf.keras.layers.Input(shape=([2, 2, 2, 1]))
in0Add67322 = tf.keras.layers.Input(shape=([1, 1, 2, 2]))
in1Add67322 = tf.keras.layers.Input(shape=([1, 1, 2, 2]))
in0ELU10356 = tf.keras.layers.Input(shape=([2, 2, 2, 1]))
in0Con22577 = tf.keras.layers.Input(shape=([2, 2, 2, 1]))

Mul37141 = keras.layers.Multiply(name = 'Mul37141', )([in0Mul37141,in1Mul37141])
Res9057 = keras.layers.Reshape((2, 1, 2, 1), name = 'Res9057', )(Mul37141)
Zer35219 = keras.layers.ZeroPadding3D(padding=((0, 0), (1, 0), (0, 0)), name = 'Zer35219', )(Res9057)
Con23854 = keras.layers.Concatenate(axis=4, name = 'Con23854', )([Zer35219,in0Con23854])
Add67322 = keras.layers.Add(name = 'Add67322', )([in0Add67322,in1Add67322])
Zer73778 = keras.layers.ZeroPadding3D(padding=((1, 0), (1, 0), (0, 0)), name = 'Zer73778', )(Add67322)
ELU10356 = keras.layers.ELU(alpha=-3.9219771114198902, name = 'ELU10356', input_shape=(2, 2, 2, 1))(in0ELU10356)
Con22577 = keras.layers.Concatenate(axis=4, name = 'Con22577', )([ELU10356,in0Con22577])
Min59162 = keras.layers.Minimum(name = 'Min59162', )([Zer73778,Con22577])
Min70493 = keras.layers.Minimum(name = 'Min70493', )([Con23854,Min59162])
model = tf.keras.models.Model(inputs=[in0Mul37141,in1Mul37141,in0Con23854,in0Add67322,in1Add67322,in0ELU10356,in0Con22577], outputs=Min70493)
in0Mul37141 = tf.constant([[[[0.1008, 0.7323]], [[0.7329, 0.1695]]]])
in1Mul37141 = tf.constant([[[[0.9425, 0.0383]], [[0.187, 0.4118]]]])
in0Con23854 = tf.constant([[[[[0.692], [0.6582]], [[0.3521], [0.6929]]], [[[0.7512], [0.8557]], [[0.5016], [0.9323]]]]])
in0Add67322 = tf.constant([[[[[0.1782, 0.2113], [0.3198, 0.2609]]]]])
in1Add67322 = tf.constant([[[[[0.0886, 0.4501], [0.0226, 0.7914]]]]])
in0ELU10356 = tf.constant([[[[[0.5334], [0.4704]], [[0.2623], [0.8658]]], [[[0.1119], [0.8972]], [[0.5864], [0.1555]]]]])
in0Con22577 = tf.constant([[[[[0.9057], [0.797]], [[0.036], [0.8374]]], [[[0.5558], [0.1562]], [[0.6333], [0.6448]]]]])
print (np.array2string(model.predict([in0Mul37141,in1Mul37141,in0Con23854,in0Add67322,in1Add67322,in0ELU10356,in0Con22577],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min70493.png')

LMul37141 = multiply_layer([[[[[0.1008, 0.7323]], [[0.7329, 0.1695]]]], [[[[0.9425, 0.0383]], [[0.187, 0.4118]]]]], Mul37141), 
LRes9057 = reshape_layer(Mul37141, [2, 1, 2, 1], Res9057), 
LZer35219 = zero_padding3D_layer(Res9057, 0, 0, 1, 0, 0, 0, Zer35219), 
LCon23854 = concatenate_layer([Zer35219,[[[[[0.692], [0.6582]], [[0.3521], [0.6929]]], [[[0.7512], [0.8557]], [[0.5016], [0.9323]]]]]], 4, Con23854), 
LAdd67322 = add_layer([[[[[[0.1782, 0.2113], [0.3198, 0.2609]]]]], [[[[[0.0886, 0.4501], [0.0226, 0.7914]]]]]], Add67322), 
LZer73778 = zero_padding3D_layer(Add67322, 1, 0, 1, 0, 0, 0, Zer73778), 
LELU10356 = elu_layer([[[[[0.5334], [0.4704]], [[0.2623], [0.8658]]], [[[0.1119], [0.8972]], [[0.5864], [0.1555]]]]], -3.9219771114198902, ELU10356), 
LCon22577 = concatenate_layer([ELU10356,[[[[[0.9057], [0.797]], [[0.036], [0.8374]]], [[[0.5558], [0.1562]], [[0.6333], [0.6448]]]]]], 4, Con22577), 
LMin59162 = minimum_layer([Zer73778,Con22577], Min59162), 
LMin70493 = minimum_layer([Con23854,Min59162], Min70493), 
exec_layers([LMul37141,LRes9057,LZer35219,LCon23854,LAdd67322,LZer73778,LELU10356,LCon22577,LMin59162,LMin70493],["Mul37141","Res9057","Zer35219","Con23854","Add67322","Zer73778","ELU10356","Con22577","Min59162","Min70493"],Min70493,"Min70493")

Actual (Unparsed): [[[[[0.0000000, 0.0000000], [0.0000000, 0.0000000]], [[0.0000000, 0.0000000], [0.0000000, 0.0000000]]], [[[0.0000000, 0.0000000], [0.0000000, 0.0000000]], [[0.1370523, 0.5016000], [0.0698001, 0.6448000]]]]]

Expected (Unparsed): [[[[[0,0],[0,0]],[[0,0],[0,0]]],[[[0,0],[0,0]],[[0.1370523,0.5016],[0.0698001,0.6448]]]]]

Actual:   [[[[[0, 0], [0, 0]], [[0, 0], [0, 0]]], [[[0, 0], [0, 0]], [[0.1371, 0.5016], [0.0699, 0.6448]]]]]

Expected: [[[[[0, 0], [0, 0]], [[0, 0], [0, 0]]], [[[0, 0], [0, 0]], [[0.1371, 0.5016], [0.0699, 0.6448]]]]]