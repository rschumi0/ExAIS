import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max75287 = tf.keras.layers.Input(shape=([1, 1]))
in1Max75287 = tf.keras.layers.Input(shape=([1, 1]))
in0Con94176 = tf.keras.layers.Input(shape=([1]))
in0Glo61307 = tf.keras.layers.Input(shape=([2, 2]))
in0Mul67682 = tf.keras.layers.Input(shape=([2, 1]))
in1Mul67682 = tf.keras.layers.Input(shape=([2, 1]))
in0Ave87827 = tf.keras.layers.Input(shape=([1, 2, 1]))
in0Glo56375 = tf.keras.layers.Input(shape=([2, 1]))
in0Con94058 = tf.keras.layers.Input(shape=([5]))

Max75287 = keras.layers.Maximum(name = 'Max75287', )([in0Max75287,in1Max75287])
Fla71556 = keras.layers.Flatten(name = 'Fla71556', )(Max75287)
Con94176 = keras.layers.Concatenate(axis=1, name = 'Con94176', )([Fla71556,in0Con94176])
Glo61307 = keras.layers.GlobalAveragePooling1D(name = 'Glo61307', )(in0Glo61307)
Max37619 = keras.layers.Maximum(name = 'Max37619', )([Con94176,Glo61307])
Res78808 = keras.layers.Reshape((2, 1), name = 'Res78808', )(Max37619)
Res6990 = keras.layers.Reshape((2, 1, 1), name = 'Res6990', )(Res78808)
Zer6365 = keras.layers.ZeroPadding2D(padding=((0, 0), (2, 0)), name = 'Zer6365', )(Res6990)
Mul67682 = keras.layers.Multiply(name = 'Mul67682', )([in0Mul67682,in1Mul67682])
Res7590 = keras.layers.Reshape((2, 1, 1), name = 'Res7590', )(Mul67682)
Zer99831 = keras.layers.ZeroPadding2D(padding=((0, 0), (2, 0)), name = 'Zer99831', )(Res7590)
Ave87827 = keras.layers.AveragePooling2D(pool_size=(1, 1), name = 'Ave87827', )(in0Ave87827)
Lay81667 = keras.layers.LayerNormalization(axis=2, epsilon=1.1978531879319643, name = 'Lay81667', )(Ave87827)
Zer33449 = keras.layers.ZeroPadding2D(padding=((1, 0), (1, 0)), name = 'Zer33449', )(Lay81667)
Max59322 = keras.layers.Maximum(name = 'Max59322', )([Zer99831,Zer33449])
Ave74000 = keras.layers.Average(name = 'Ave74000', )([Zer6365,Max59322])
Res59487 = keras.layers.Reshape((2, 3), name = 'Res59487', )(Ave74000)
Fla17493 = keras.layers.Flatten(name = 'Fla17493', )(Res59487)
Glo56375 = keras.layers.GlobalMaxPool1D(name = 'Glo56375', )(in0Glo56375)
Con94058 = keras.layers.Concatenate(axis=1, name = 'Con94058', )([Glo56375,in0Con94058])
Sub88589 = keras.layers.Subtract(name = 'Sub88589', )([Fla17493,Con94058])
model = tf.keras.models.Model(inputs=[in0Max75287,in1Max75287,in0Con94176,in0Glo61307,in0Mul67682,in1Mul67682,in0Ave87827,in0Glo56375,in0Con94058], outputs=Sub88589)
in0Max75287 = tf.constant([[[0.8227]]])
in1Max75287 = tf.constant([[[0.5929]]])
in0Con94176 = tf.constant([[0.3168]])
in0Glo61307 = tf.constant([[[1.9622, 1.6236], [1.7446, 1.7823]]])
in0Mul67682 = tf.constant([[[0.0829], [0.5375]]])
in1Mul67682 = tf.constant([[[0.3967], [0.341]]])
in0Ave87827 = tf.constant([[[[1.7912], [1.8146]]]])
in0Glo56375 = tf.constant([[[1.1157], [1.1884]]])
in0Con94058 = tf.constant([[0.5871, 0.5489, 0.0977, 0.1109, 0.9991]])
print (np.array2string(model.predict([in0Max75287,in1Max75287,in0Con94176,in0Glo61307,in0Mul67682,in1Mul67682,in0Ave87827,in0Glo56375,in0Con94058],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sub88589.png')

LMax75287 = maximum_layer([[[[0.8227]]], [[[0.5929]]]], Max75287), 
LFla71556 = flatten_layer(Max75287, Fla71556), 
LCon94176 = concatenate_layer([Fla71556,[[0.3168]]], 1, Con94176), 
LGlo61307 = global_average_pooling1D_layer([[[1.9622, 1.6236], [1.7446, 1.7823]]], Glo61307), 
LMax37619 = maximum_layer([Con94176,Glo61307], Max37619), 
LRes78808 = reshape_layer(Max37619, [2, 1], Res78808), 
LRes6990 = reshape_layer(Res78808, [2, 1, 1], Res6990), 
LZer6365 = zero_padding2D_layer(Res6990, 0, 0, 2, 0, Zer6365), 
LMul67682 = multiply_layer([[[[0.0829], [0.5375]]], [[[0.3967], [0.341]]]], Mul67682), 
LRes7590 = reshape_layer(Mul67682, [2, 1, 1], Res7590), 
LZer99831 = zero_padding2D_layer(Res7590, 0, 0, 2, 0, Zer99831), 
LAve87827 = average_pooling2D_layer([[[[1.7912], [1.8146]]]], 1, 1, Ave87827), 
LLay81667 = layer_normalization_layer(Ave87827, 2, 1.1978531879319643, Lay81667), 
LZer33449 = zero_padding2D_layer(Lay81667, 1, 0, 1, 0, Zer33449), 
LMax59322 = maximum_layer([Zer99831,Zer33449], Max59322), 
LAve74000 = average_layer([Zer6365,Max59322], Ave74000), 
LRes59487 = reshape_layer(Ave74000, [2, 3], Res59487), 
LFla17493 = flatten_layer(Res59487, Fla17493), 
LGlo56375 = global_max_pool1D_layer([[[1.1157], [1.1884]]], Glo56375), 
LCon94058 = concatenate_layer([Glo56375,[[0.5871, 0.5489, 0.0977, 0.1109, 0.9991]]], 1, Con94058), 
LSub88589 = subtract_layer(Fla17493,Con94058, Sub88589), 
exec_layers([LMax75287,LFla71556,LCon94176,LGlo61307,LMax37619,LRes78808,LRes6990,LZer6365,LMul67682,LRes7590,LZer99831,LAve87827,LLay81667,LZer33449,LMax59322,LAve74000,LRes59487,LFla17493,LGlo56375,LCon94058,LSub88589],["Max75287","Fla71556","Con94176","Glo61307","Max37619","Res78808","Res6990","Zer6365","Mul67682","Res7590","Zer99831","Ave87827","Lay81667","Zer33449","Max59322","Ave74000","Res59487","Fla17493","Glo56375","Con94058","Sub88589"],Sub88589,"Sub88589")

Actual (Unparsed): [[-1.1884000, -0.5871000, 0.3942432, -0.0977000, -0.1109000, -0.0559813]]

Expected (Unparsed): [[-1.1884,-0.5871,0.3942432149999999,-0.0977,-0.1109,-0.05598124999999998]]

Actual:   [[-1.1884, -0.5871, 0.3943, -0.0977, -0.1109, -0.0559]]

Expected: [[-1.1884, -0.5871, 0.3943, -0.0977, -0.1109, -0.0559]]