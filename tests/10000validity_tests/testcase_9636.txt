import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo95209 = tf.keras.layers.Input(shape=([1, 2, 2, 2]))
in0Con80061 = tf.keras.layers.Input(shape=([1]))
in0Zer2615 = tf.keras.layers.Input(shape=([2, 4, 1, 1]))

Glo95209 = keras.layers.GlobalAveragePooling3D(name = 'Glo95209', )(in0Glo95209)
Con80061 = keras.layers.Concatenate(axis=1, name = 'Con80061', )([Glo95209,in0Con80061])
Zer2615 = keras.layers.ZeroPadding3D(padding=((1, 1), (1, 1), (1, 1)), name = 'Zer2615', )(in0Zer2615)
Res79959 = keras.layers.Reshape((4, 6, 3), name = 'Res79959', )(Zer2615)
Glo28241 = keras.layers.GlobalMaxPool2D(name = 'Glo28241', )(Res79959)
Min97638 = keras.layers.Minimum(name = 'Min97638', )([Con80061,Glo28241])
Res77398 = keras.layers.Reshape((3, 1), name = 'Res77398', )(Min97638)
Up_76149 = keras.layers.UpSampling1D(size=(2), name = 'Up_76149', )(Res77398)
model = tf.keras.models.Model(inputs=[in0Glo95209,in0Con80061,in0Zer2615], outputs=Up_76149)
in0Glo95209 = tf.constant([[[[[1.7733, 1.7624], [1.5801, 1.7348]], [[1.1918, 1.6728], [1.7698, 1.2084]]]]])
in0Con80061 = tf.constant([[0.8985]])
in0Zer2615 = tf.constant([[[[[1.9759]], [[1.3302]], [[1.2027]], [[1.5083]]], [[[1.198]], [[1.0542]], [[1.821]], [[1.894]]]]])
print (np.array2string(model.predict([in0Glo95209,in0Con80061,in0Zer2615],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Up_76149.png')

LGlo95209 = global_average_pooling3D_layer([[[[[1.7733, 1.7624], [1.5801, 1.7348]], [[1.1918, 1.6728], [1.7698, 1.2084]]]]], Glo95209), 
LCon80061 = concatenate_layer([Glo95209,[[0.8985]]], 1, Con80061), 
LZer2615 = zero_padding3D_layer([[[[[1.9759]], [[1.3302]], [[1.2027]], [[1.5083]]], [[[1.198]], [[1.0542]], [[1.821]], [[1.894]]]]], 1, 1, 1, 1, 1, 1, Zer2615), 
LRes79959 = reshape_layer(Zer2615, [4, 6, 3], Res79959), 
LGlo28241 = global_max_pool2D_layer(Res79959, Glo28241), 
LMin97638 = minimum_layer([Con80061,Glo28241], Min97638), 
LRes77398 = reshape_layer(Min97638, [3, 1], Res77398), 
LUp_76149 = up_sampling1D_layer(Res77398, 2, Up_76149), 
exec_layers([LGlo95209,LCon80061,LZer2615,LRes79959,LGlo28241,LMin97638,LRes77398,LUp_76149],["Glo95209","Con80061","Zer2615","Res79959","Glo28241","Min97638","Res77398","Up_76149"],Up_76149,"Up_76149")

Actual (Unparsed): [[[0.0000000], [0.0000000], [1.5946000], [1.5946000], [0.0000000], [0.0000000]]]

Expected (Unparsed): [[[0],[0],[1.5946],[1.5946],[0],[0]]]

Actual:   [[[0], [0], [1.5946], [1.5946], [0], [0]]]

Expected: [[[0], [0], [1.5946], [1.5946], [0], [0]]]