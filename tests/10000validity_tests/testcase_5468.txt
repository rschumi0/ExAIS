import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min18151 = tf.keras.layers.Input(shape=([2, 2, 1]))
in1Min18151 = tf.keras.layers.Input(shape=([2, 2, 1]))

Min18151 = keras.layers.Minimum(name = 'Min18151', )([in0Min18151,in1Min18151])
Ave45794 = keras.layers.AveragePooling2D(pool_size=(1, 1), name = 'Ave45794', )(Min18151)
Res73562 = keras.layers.Reshape((2, 2), name = 'Res73562', )(Ave45794)
Max59811 = keras.layers.MaxPool1D(pool_size=(2), name = 'Max59811', )(Res73562)
model = tf.keras.models.Model(inputs=[in0Min18151,in1Min18151], outputs=Max59811)
in0Min18151 = tf.constant([[[[0.0214], [0.429]], [[0.9146], [0.0051]]]])
in1Min18151 = tf.constant([[[[0.8677], [0.8833]], [[0.2967], [0.5978]]]])
print (np.array2string(model.predict([in0Min18151,in1Min18151],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max59811.png')

LMin18151 = minimum_layer([[[[[0.0214], [0.429]], [[0.9146], [0.0051]]]], [[[[0.8677], [0.8833]], [[0.2967], [0.5978]]]]], Min18151), 
LAve45794 = average_pooling2D_layer(Min18151, 1, 1, Ave45794), 
LRes73562 = reshape_layer(Ave45794, [2, 2], Res73562), 
LMax59811 = max_pool1D_layer(Res73562, 2, Max59811), 
exec_layers([LMin18151,LAve45794,LRes73562,LMax59811],["Min18151","Ave45794","Res73562","Max59811"],Max59811,"Max59811")

Actual (Unparsed): [[[0.2967000, 0.4290000]]]

Expected (Unparsed): [[[0.2967,0.429]]]

Actual:   [[[0.2967, 0.429]]]

Expected: [[[0.2967, 0.429]]]