import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub19587 = tf.keras.layers.Input(shape=([3, 2, 2]))
in1Sub19587 = tf.keras.layers.Input(shape=([3, 2, 2]))

Sub19587 = keras.layers.Subtract(name = 'Sub19587', )([in0Sub19587,in1Sub19587])
Glo31399 = keras.layers.GlobalAveragePooling2D(name = 'Glo31399', )(Sub19587)
Res68973 = keras.layers.Reshape((2, 1), name = 'Res68973', )(Glo31399)
Zer26324 = keras.layers.ZeroPadding1D(padding=((1, 1)), name = 'Zer26324', )(Res68973)
model = tf.keras.models.Model(inputs=[in0Sub19587,in1Sub19587], outputs=Zer26324)
in0Sub19587 = tf.constant([[[[0.2209, 0.0608], [0.7783, 0.5665]], [[0.6922, 0.2028], [0.0737, 0.6846]], [[0.5177, 0.3915], [0.7526, 0.9847]]]])
in1Sub19587 = tf.constant([[[[0.6534, 0.5723], [0.4186, 0.0198]], [[0.8568, 0.5727], [0.9051, 0.6688]], [[0.8092, 0.9384], [0.3334, 0.2025]]]])
print (np.array2string(model.predict([in0Sub19587,in1Sub19587],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Zer26324.png')

LSub19587 = subtract_layer([[[[0.2209, 0.0608], [0.7783, 0.5665]], [[0.6922, 0.2028], [0.0737, 0.6846]], [[0.5177, 0.3915], [0.7526, 0.9847]]]], [[[[0.6534, 0.5723], [0.4186, 0.0198]], [[0.8568, 0.5727], [0.9051, 0.6688]], [[0.8092, 0.9384], [0.3334, 0.2025]]]], Sub19587), 
LGlo31399 = global_average_pooling2D_layer(Sub19587, Glo31399), 
LRes68973 = reshape_layer(Glo31399, [2, 1], Res68973), 
LZer26324 = zero_padding1D_layer(Res68973, 1, 1, Zer26324), 
exec_layers([LSub19587,LGlo31399,LRes68973,LZer26324],["Sub19587","Glo31399","Res68973","Zer26324"],Zer26324,"Zer26324")

Actual (Unparsed): [[[0.0000000], [-0.1568500], [-0.0139333], [0.0000000]]]

Expected (Unparsed): [[[0],[-0.15685000000000002],[-0.013933333333333353],[0]]]

Actual:   [[[0], [-0.1568], [-0.0139], [0]]]

Expected: [[[0], [-0.1568], [-0.0139], [0]]]