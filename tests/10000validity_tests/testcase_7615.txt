import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul31939 = tf.keras.layers.Input(shape=([2, 1, 1]))
in1Mul31939 = tf.keras.layers.Input(shape=([2, 1, 1]))

Mul31939 = keras.layers.Multiply(name = 'Mul31939', )([in0Mul31939,in1Mul31939])
Res18786 = keras.layers.Reshape((2, 1, 1, 1), name = 'Res18786', )(Mul31939)
Cro55576 = keras.layers.Cropping3D(cropping=((0, 1), (0, 0), (0, 0)), name = 'Cro55576', )(Res18786)
Glo7974 = keras.layers.GlobalAveragePooling3D(name = 'Glo7974', )(Cro55576)
Res30510 = keras.layers.Reshape((1, 1), name = 'Res30510', )(Glo7974)
Res19228 = keras.layers.Reshape((1, 1, 1), name = 'Res19228', )(Res30510)
Res62763 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res62763', )(Res19228)
Up_71952 = keras.layers.UpSampling3D(size=(2, 1, 2), name = 'Up_71952', )(Res62763)
model = tf.keras.models.Model(inputs=[in0Mul31939,in1Mul31939], outputs=Up_71952)
in0Mul31939 = tf.constant([[[[0.9638]], [[0.1115]]]])
in1Mul31939 = tf.constant([[[[0.4676]], [[0.9799]]]])
print (np.array2string(model.predict([in0Mul31939,in1Mul31939],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Up_71952.png')

LMul31939 = multiply_layer([[[[[0.9638]], [[0.1115]]]], [[[[0.4676]], [[0.9799]]]]], Mul31939), 
LRes18786 = reshape_layer(Mul31939, [2, 1, 1, 1], Res18786), 
LCro55576 = cropping3D_layer(Res18786, 0, 1, 0, 0, 0, 0, Cro55576), 
LGlo7974 = global_average_pooling3D_layer(Cro55576, Glo7974), 
LRes30510 = reshape_layer(Glo7974, [1, 1], Res30510), 
LRes19228 = reshape_layer(Res30510, [1, 1, 1], Res19228), 
LRes62763 = reshape_layer(Res19228, [1, 1, 1, 1], Res62763), 
LUp_71952 = up_sampling3D_layer(Res62763, 2, 1, 2, Up_71952), 
exec_layers([LMul31939,LRes18786,LCro55576,LGlo7974,LRes30510,LRes19228,LRes62763,LUp_71952],["Mul31939","Res18786","Cro55576","Glo7974","Res30510","Res19228","Res62763","Up_71952"],Up_71952,"Up_71952")

Actual (Unparsed): [[[[[0.4506729], [0.4506729]]], [[[0.4506729], [0.4506729]]]]]

Expected (Unparsed): [[[[[0.45067288],[0.45067288]]],[[[0.45067288],[0.45067288]]]]]

Actual:   [[[[[0.4507], [0.4507]]], [[[0.4507], [0.4507]]]]]

Expected: [[[[[0.4507], [0.4507]]], [[[0.4507], [0.4507]]]]]