import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave90523 = tf.keras.layers.Input(shape=([2, 1, 2]))
in1Ave90523 = tf.keras.layers.Input(shape=([2, 1, 2]))

Ave90523 = keras.layers.Average(name = 'Ave90523', )([in0Ave90523,in1Ave90523])
Thr693 = keras.layers.ThresholdedReLU(theta=0.6976136430261847, name = 'Thr693', )(Ave90523)
Fla37697 = keras.layers.Flatten(name = 'Fla37697', )(Thr693)
model = tf.keras.models.Model(inputs=[in0Ave90523,in1Ave90523], outputs=Fla37697)
in0Ave90523 = tf.constant([[[[0.2379, 0.0042]], [[0.4174, 0.9425]]]])
in1Ave90523 = tf.constant([[[[0.425, 0.7359]], [[0.7332, 0.7126]]]])
print (np.array2string(model.predict([in0Ave90523,in1Ave90523],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Fla37697.png')

LAve90523 = average_layer([[[[[0.2379, 0.0042]], [[0.4174, 0.9425]]]], [[[[0.425, 0.7359]], [[0.7332, 0.7126]]]]], Ave90523), 
LThr693 = thresholded_relu_layer(Ave90523, 0.6976136430261847, Thr693), 
LFla37697 = flatten_layer(Thr693, Fla37697), 
exec_layers([LAve90523,LThr693,LFla37697],["Ave90523","Thr693","Fla37697"],Fla37697,"Fla37697")

Actual (Unparsed): [[0.0000000, 0.0000000, 0.0000000, 0.8275500]]

Expected (Unparsed): [[0,0,0,0.82755]]

Actual:   [[0, 0, 0, 0.8276]]

Expected: [[0, 0, 0, 0.8276]]