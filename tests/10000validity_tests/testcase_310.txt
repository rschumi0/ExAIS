import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max77823 = tf.keras.layers.Input(shape=([2, 2]))

Max77823 = keras.layers.MaxPool1D(pool_size=(2), name = 'Max77823', )(in0Max77823)
Res62452 = keras.layers.Reshape((1, 2, 1), name = 'Res62452', )(Max77823)
Ave99718 = keras.layers.AveragePooling2D(pool_size=(1, 1), strides=(1, 10), padding='same', name = 'Ave99718', )(Res62452)
Res75734 = keras.layers.Reshape((1, 1), name = 'Res75734', )(Ave99718)
Ave1314 = keras.layers.AveragePooling1D(pool_size=(1), name = 'Ave1314', )(Res75734)
Max79378 = keras.layers.MaxPool1D(pool_size=(1), strides=(1), padding='same', name = 'Max79378', )(Ave1314)
Res69037 = keras.layers.Reshape((1, 1, 1), name = 'Res69037', )(Max79378)
Res18967 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res18967', )(Res69037)
Glo82955 = keras.layers.GlobalMaxPool3D(name = 'Glo82955', )(Res18967)
model = tf.keras.models.Model(inputs=[in0Max77823], outputs=Glo82955)
in0Max77823 = tf.constant([[[1.8241, 1.6299], [1.5548, 1.0846]]])
print (np.array2string(model.predict([in0Max77823],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo82955.png')

LMax77823 = max_pool1D_layer([[[1.8241, 1.6299], [1.5548, 1.0846]]], 2, Max77823), 
LRes62452 = reshape_layer(Max77823, [1, 2, 1], Res62452), 
LAve99718 = average_pooling2D_layer(Res62452, 1, 1, 1, 10, true, Ave99718), 
LRes75734 = reshape_layer(Ave99718, [1, 1], Res75734), 
LAve1314 = average_pooling1D_layer(Res75734, 1, Ave1314), 
LMax79378 = max_pool1D_layer(Ave1314, 1, 1, true, Max79378), 
LRes69037 = reshape_layer(Max79378, [1, 1, 1], Res69037), 
LRes18967 = reshape_layer(Res69037, [1, 1, 1, 1], Res18967), 
LGlo82955 = global_max_pool3D_layer(Res18967, Glo82955), 
exec_layers([LMax77823,LRes62452,LAve99718,LRes75734,LAve1314,LMax79378,LRes69037,LRes18967,LGlo82955],["Max77823","Res62452","Ave99718","Res75734","Ave1314","Max79378","Res69037","Res18967","Glo82955"],Glo82955,"Glo82955")

Actual (Unparsed): [[1.8241000]]

Expected (Unparsed): [[1.8241]]

Actual:   [[1.8241]]

Expected: [[1.8241]]