import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot50442 = tf.keras.layers.Input(shape=([2, 2]))
in1Dot50442 = tf.keras.layers.Input(shape=([2, 2]))

Dot50442 = keras.layers.Dot(axes=(1, 2), name = 'Dot50442', )([in0Dot50442,in1Dot50442])
Mas31445 = keras.layers.Masking(mask_value=1, name = 'Mas31445', )(Dot50442)
model = tf.keras.models.Model(inputs=[in0Dot50442,in1Dot50442], outputs=Mas31445)
in0Dot50442 = tf.constant([[[0.3559, 0.3167], [0.2585, 0.7674]]])
in1Dot50442 = tf.constant([[[0.346, 0.5614], [0.7396, 0.7588]]])
print (np.array2string(model.predict([in0Dot50442,in1Dot50442],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Mas31445.png')

LDot50442 = dot_layer([[[0.3559, 0.3167], [0.2585, 0.7674]]], [[[0.346, 0.5614], [0.7396, 0.7588]]], 1, 2, Dot50442), 
LMas31445 = masking_layer(Dot50442, 1, Mas31445), 
exec_layers([LDot50442,LMas31445],["Dot50442","Mas31445"],Mas31445,"Mas31445")

Actual (Unparsed): [[[0.2682633, 0.4593734], [0.5403966, 0.8165345]]]

Expected (Unparsed): [[[0.2682633,0.45937344],[0.54039656,0.81653444]]]

Actual:   [[[0.2683, 0.4594], [0.5404, 0.8166]]]

Expected: [[[0.2683, 0.4594], [0.5404, 0.8166]]]