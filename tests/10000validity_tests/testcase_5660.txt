import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max91817 = tf.keras.layers.Input(shape=([2, 1, 1]))

Max91817 = keras.layers.MaxPool2D(pool_size=(1, 1), strides=(1, 1), padding='valid', name = 'Max91817', )(in0Max91817)
Res44399 = keras.layers.Reshape((2, 1), name = 'Res44399', )(Max91817)
Glo60429 = keras.layers.GlobalAveragePooling1D(name = 'Glo60429', )(Res44399)
Sof2522 = keras.layers.Softmax(axis=1, name = 'Sof2522', )(Glo60429)
model = tf.keras.models.Model(inputs=[in0Max91817], outputs=Sof2522)
in0Max91817 = tf.constant([[[[1.5886]], [[1.7359]]]])
print (np.array2string(model.predict([in0Max91817],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sof2522.png')

LMax91817 = max_pool2D_layer([[[[1.5886]], [[1.7359]]]], 1, 1, 1, 1, false, Max91817), 
LRes44399 = reshape_layer(Max91817, [2, 1], Res44399), 
LGlo60429 = global_average_pooling1D_layer(Res44399, Glo60429), 
LSof2522 = softmax_layer(Glo60429, 1, Sof2522), 
exec_layers([LMax91817,LRes44399,LGlo60429,LSof2522],["Max91817","Res44399","Glo60429","Sof2522"],Sof2522,"Sof2522")

Actual (Unparsed): [[1.0000000]]

Expected (Unparsed): [[1.0]]

Actual:   [[1]]

Expected: [[1]]