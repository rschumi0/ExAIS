import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo74931 = tf.keras.layers.Input(shape=([2, 1, 1]))
in0Min46087 = tf.keras.layers.Input(shape=([2, 1]))
in1Min46087 = tf.keras.layers.Input(shape=([2, 1]))
in0Con20397 = tf.keras.layers.Input(shape=([4, 2, 1]))
in0Lay40082 = tf.keras.layers.Input(shape=([4, 2, 2]))

Glo74931 = keras.layers.GlobalAveragePooling2D(name = 'Glo74931', )(in0Glo74931)
Res65876 = keras.layers.Reshape((1, 1), name = 'Res65876', )(Glo74931)
Zer32036 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer32036', )(Res65876)
Min46087 = keras.layers.Minimum(name = 'Min46087', )([in0Min46087,in1Min46087])
Min86919 = keras.layers.Minimum(name = 'Min86919', )([Zer32036,Min46087])
Res41592 = keras.layers.Reshape((2, 1, 1), name = 'Res41592', )(Min86919)
Zer35328 = keras.layers.ZeroPadding2D(padding=((2, 0), (1, 0)), name = 'Zer35328', )(Res41592)
Con20397 = keras.layers.Concatenate(axis=3, name = 'Con20397', )([Zer35328,in0Con20397])
Lay40082 = keras.layers.LayerNormalization(axis=1, epsilon=2.2547488000152827, name = 'Lay40082', )(in0Lay40082)
Sub69027 = keras.layers.Subtract(name = 'Sub69027', )([Con20397,Lay40082])
Thr4775 = keras.layers.ThresholdedReLU(theta=1.91254078166266, name = 'Thr4775', )(Sub69027)
model = tf.keras.models.Model(inputs=[in0Glo74931,in0Min46087,in1Min46087,in0Con20397,in0Lay40082], outputs=Thr4775)
in0Glo74931 = tf.constant([[[[1.3004]], [[1.237]]]])
in0Min46087 = tf.constant([[[0.1043], [0.6907]]])
in1Min46087 = tf.constant([[[0.2693], [0.1875]]])
in0Con20397 = tf.constant([[[[0.5882], [0.3633]], [[0.1279], [0.686]], [[0.9573], [0.7568]], [[0.2249], [0.5052]]]])
in0Lay40082 = tf.constant([[[[1.0365, 1.8559], [1.0251, 1.36]], [[1.7442, 1.5375], [1.8769, 1.8523]], [[1.8525, 1.1631], [1.7048, 1.0025]], [[1.5447, 1.2895], [1.5109, 1.2655]]]])
print (np.array2string(model.predict([in0Glo74931,in0Min46087,in1Min46087,in0Con20397,in0Lay40082],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Thr4775.png')

LGlo74931 = global_average_pooling2D_layer([[[[1.3004]], [[1.237]]]], Glo74931), 
LRes65876 = reshape_layer(Glo74931, [1, 1], Res65876), 
LZer32036 = zero_padding1D_layer(Res65876, 1, 0, Zer32036), 
LMin46087 = minimum_layer([[[[0.1043], [0.6907]]], [[[0.2693], [0.1875]]]], Min46087), 
LMin86919 = minimum_layer([Zer32036,Min46087], Min86919), 
LRes41592 = reshape_layer(Min86919, [2, 1, 1], Res41592), 
LZer35328 = zero_padding2D_layer(Res41592, 2, 0, 1, 0, Zer35328), 
LCon20397 = concatenate_layer([Zer35328,[[[[0.5882], [0.3633]], [[0.1279], [0.686]], [[0.9573], [0.7568]], [[0.2249], [0.5052]]]]], 3, Con20397), 
LLay40082 = layer_normalization_layer([[[[1.0365, 1.8559], [1.0251, 1.36]], [[1.7442, 1.5375], [1.8769, 1.8523]], [[1.8525, 1.1631], [1.7048, 1.0025]], [[1.5447, 1.2895], [1.5109, 1.2655]]]], 1, 2.2547488000152827, Lay40082), 
LSub69027 = subtract_layer(Con20397,Lay40082, Sub69027), 
LThr4775 = thresholded_relu_layer(Sub69027, 1.91254078166266, Thr4775), 
exec_layers([LGlo74931,LRes65876,LZer32036,LMin46087,LMin86919,LRes41592,LZer35328,LCon20397,LLay40082,LSub69027,LThr4775],["Glo74931","Res65876","Zer32036","Min46087","Min86919","Res41592","Zer35328","Con20397","Lay40082","Sub69027","Thr4775"],Thr4775,"Thr4775")

Actual (Unparsed): [[[[0.0000000, 0.0000000], [0.0000000, 0.0000000]], [[-0.0000000, 0.0000000], [-0.0000000, 0.0000000]], [[-0.0000000, 0.0000000], [-0.0000000, 0.0000000]], [[-0.0000000, 0.0000000], [0.0000000, 0.0000000]]]]

Expected (Unparsed): [[[[0,0],[0,0]],[[0,0],[0,0]],[[0,0],[0,0]],[[0,0],[0,0]]]]

Actual:   [[[[0, 0], [0, 0]], [[-0, 0], [-0, 0]], [[-0, 0], [-0, 0]], [[-0, 0], [0, 0]]]]

Expected: [[[[0, 0], [0, 0]], [[0, 0], [0, 0]], [[0, 0], [0, 0]], [[0, 0], [0, 0]]]]