import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add18504 = tf.keras.layers.Input(shape=([2, 1, 1, 2]))
in1Add18504 = tf.keras.layers.Input(shape=([2, 1, 1, 2]))
in0Add15715 = tf.keras.layers.Input(shape=([2, 1, 2]))
in1Add15715 = tf.keras.layers.Input(shape=([2, 1, 2]))
in0Con49337 = tf.keras.layers.Input(shape=([4, 3, 4, 1]))

Add18504 = keras.layers.Add(name = 'Add18504', )([in0Add18504,in1Add18504])
Zer1351 = keras.layers.ZeroPadding3D(padding=((2, 0), (2, 0), (3, 0)), name = 'Zer1351', )(Add18504)
Add15715 = keras.layers.Add(name = 'Add15715', )([in0Add15715,in1Add15715])
Res84298 = keras.layers.Reshape((2, 1, 2, 1), name = 'Res84298', )(Add15715)
Zer51561 = keras.layers.ZeroPadding3D(padding=((1, 1), (1, 1), (1, 1)), name = 'Zer51561', )(Res84298)
Con49337 = keras.layers.Concatenate(axis=4, name = 'Con49337', )([Zer51561,in0Con49337])
Sub13161 = keras.layers.Subtract(name = 'Sub13161', )([Zer1351,Con49337])
Glo9933 = keras.layers.GlobalMaxPool3D(name = 'Glo9933', )(Sub13161)
model = tf.keras.models.Model(inputs=[in0Add18504,in1Add18504,in0Add15715,in1Add15715,in0Con49337], outputs=Glo9933)
in0Add18504 = tf.constant([[[[[0.0434, 0.9397]]], [[[0.0347, 0.9104]]]]])
in1Add18504 = tf.constant([[[[[0.7449, 0.3474]]], [[[0.6876, 0.8438]]]]])
in0Add15715 = tf.constant([[[[0.7452, 0.2289]], [[0.7348, 0.4515]]]])
in1Add15715 = tf.constant([[[[0.9037, 0.7941]], [[0.173, 0.2473]]]])
in0Con49337 = tf.constant([[[[[0.1875], [0.5687], [0.6063], [0.2245]], [[0.3829], [0.0107], [0.6039], [0.0041]], [[0.7682], [0.0771], [0.9341], [0.3751]]], [[[0.4306], [0.6718], [0.5482], [0.9282]], [[0.3868], [0.9508], [0.7602], [0.8659]], [[0.2981], [0.8685], [0.9826], [0.4187]]], [[[0.6405], [0.4469], [0.0122], [0.7689]], [[0.0402], [0.5423], [0.8706], [0.3261]], [[0.6432], [0.8984], [0.6252], [0.0917]]], [[[0.3228], [0.3109], [0.3223], [0.2858]], [[0.2528], [0.8032], [0.1474], [0.3673]], [[0.8715], [0.8121], [0.1955], [0.0749]]]]])
print (np.array2string(model.predict([in0Add18504,in1Add18504,in0Add15715,in1Add15715,in0Con49337],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo9933.png')

LAdd18504 = add_layer([[[[[[0.0434, 0.9397]]], [[[0.0347, 0.9104]]]]], [[[[[0.7449, 0.3474]]], [[[0.6876, 0.8438]]]]]], Add18504), 
LZer1351 = zero_padding3D_layer(Add18504, 2, 0, 2, 0, 3, 0, Zer1351), 
LAdd15715 = add_layer([[[[[0.7452, 0.2289]], [[0.7348, 0.4515]]]], [[[[0.9037, 0.7941]], [[0.173, 0.2473]]]]], Add15715), 
LRes84298 = reshape_layer(Add15715, [2, 1, 2, 1], Res84298), 
LZer51561 = zero_padding3D_layer(Res84298, 1, 1, 1, 1, 1, 1, Zer51561), 
LCon49337 = concatenate_layer([Zer51561,[[[[[0.1875], [0.5687], [0.6063], [0.2245]], [[0.3829], [0.0107], [0.6039], [0.0041]], [[0.7682], [0.0771], [0.9341], [0.3751]]], [[[0.4306], [0.6718], [0.5482], [0.9282]], [[0.3868], [0.9508], [0.7602], [0.8659]], [[0.2981], [0.8685], [0.9826], [0.4187]]], [[[0.6405], [0.4469], [0.0122], [0.7689]], [[0.0402], [0.5423], [0.8706], [0.3261]], [[0.6432], [0.8984], [0.6252], [0.0917]]], [[[0.3228], [0.3109], [0.3223], [0.2858]], [[0.2528], [0.8032], [0.1474], [0.3673]], [[0.8715], [0.8121], [0.1955], [0.0749]]]]]], 4, Con49337), 
LSub13161 = subtract_layer(Zer1351,Con49337, Sub13161), 
LGlo9933 = global_max_pool3D_layer(Sub13161, Glo9933), 
exec_layers([LAdd18504,LZer1351,LAdd15715,LRes84298,LZer51561,LCon49337,LSub13161,LGlo9933],["Add18504","Zer1351","Add15715","Res84298","Zer51561","Con49337","Sub13161","Glo9933"],Glo9933,"Glo9933")

Actual (Unparsed): [[0.7883000, 1.6793000]]

Expected (Unparsed): [[0.7883,1.6793]]

Actual:   [[0.7883, 1.6793]]

Expected: [[0.7883, 1.6793]]