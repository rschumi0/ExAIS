import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot82019 = tf.keras.layers.Input(shape=([2]))
in1Dot82019 = tf.keras.layers.Input(shape=([2]))
in0Con31175 = tf.keras.layers.Input(shape=([2, 2, 1]))
in0Add41674 = tf.keras.layers.Input(shape=([2, 2, 2]))
in1Add41674 = tf.keras.layers.Input(shape=([2, 2, 2]))

Dot82019 = keras.layers.Dot(axes=(1, 1), name = 'Dot82019', )([in0Dot82019,in1Dot82019])
Res95644 = keras.layers.Reshape((1, 1), name = 'Res95644', )(Dot82019)
Res59344 = keras.layers.Reshape((1, 1, 1), name = 'Res59344', )(Res95644)
Zer92453 = keras.layers.ZeroPadding2D(padding=((1, 0), (1, 0)), name = 'Zer92453', )(Res59344)
Con31175 = keras.layers.Concatenate(axis=3, name = 'Con31175', )([Zer92453,in0Con31175])
Add41674 = keras.layers.Add(name = 'Add41674', )([in0Add41674,in1Add41674])
Add51921 = keras.layers.Add(name = 'Add51921', )([Con31175,Add41674])
model = tf.keras.models.Model(inputs=[in0Dot82019,in1Dot82019,in0Con31175,in0Add41674,in1Add41674], outputs=Add51921)
in0Dot82019 = tf.constant([[0.9803, 0.8578]])
in1Dot82019 = tf.constant([[0.0204, 0.5895]])
in0Con31175 = tf.constant([[[[0.3448], [0.52]], [[0.0384], [0.9917]]]])
in0Add41674 = tf.constant([[[[0.044, 0.2569], [0.9329, 0.381]], [[0.0585, 0.5232], [0.4835, 0.7229]]]])
in1Add41674 = tf.constant([[[[0.3165, 0.4469], [0.2831, 0.9642]], [[0.3247, 0.9579], [0.6055, 0.018]]]])
print (np.array2string(model.predict([in0Dot82019,in1Dot82019,in0Con31175,in0Add41674,in1Add41674],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add51921.png')

LDot82019 = dot_layer([[0.9803, 0.8578]], [[0.0204, 0.5895]], 1, 1, Dot82019), 
LRes95644 = reshape_layer(Dot82019, [1, 1], Res95644), 
LRes59344 = reshape_layer(Res95644, [1, 1, 1], Res59344), 
LZer92453 = zero_padding2D_layer(Res59344, 1, 0, 1, 0, Zer92453), 
LCon31175 = concatenate_layer([Zer92453,[[[[0.3448], [0.52]], [[0.0384], [0.9917]]]]], 3, Con31175), 
LAdd41674 = add_layer([[[[[0.044, 0.2569], [0.9329, 0.381]], [[0.0585, 0.5232], [0.4835, 0.7229]]]], [[[[0.3165, 0.4469], [0.2831, 0.9642]], [[0.3247, 0.9579], [0.6055, 0.018]]]]], Add41674), 
LAdd51921 = add_layer([Con31175,Add41674], Add51921), 
exec_layers([LDot82019,LRes95644,LRes59344,LZer92453,LCon31175,LAdd41674,LAdd51921],["Dot82019","Res95644","Res59344","Zer92453","Con31175","Add41674","Add51921"],Add51921,"Add51921")

Actual (Unparsed): [[[[0.3605000, 1.0486000], [1.2160000, 1.8652000]], [[0.3832000, 1.5195000], [1.6146712, 1.7326000]]]]

Expected (Unparsed): [[[[0.3605,1.0486],[1.216,1.8652]],[[0.3832,1.5195],[1.61467122,1.7326000000000001]]]]

Actual:   [[[[0.3605, 1.0486], [1.216, 1.8652]], [[0.3832, 1.5195], [1.6147, 1.7326]]]]

Expected: [[[[0.3605, 1.0486], [1.216, 1.8652]], [[0.3832, 1.5195], [1.6147, 1.7327]]]]