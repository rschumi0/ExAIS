import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sep93627 = tf.keras.layers.Input(shape=([2, 2]))

Sep93627 = keras.layers.SeparableConv1D(2, (2),strides=(2), padding='same', name = 'Sep93627', )(in0Sep93627)
Res54488 = keras.layers.Reshape((1, 2, 1), name = 'Res54488', )(Sep93627)
Res49302 = keras.layers.Reshape((1, 2, 1, 1), name = 'Res49302', )(Res54488)
Con73250 = keras.layers.Conv3DTranspose(4, (1, 2, 1),strides=(1, 1, 1), padding='valid', name = 'Con73250', )(Res49302)
Lea77856 = keras.layers.LeakyReLU(alpha=3.844397942235175, name = 'Lea77856', )(Con73250)
model = tf.keras.models.Model(inputs=[in0Sep93627], outputs=Lea77856)
w = model.get_layer('Sep93627').get_weights() 
w[0] = np.array([[[0.969], [0.105]], [[0.5877], [0.7685]]])
w[1] = np.array([[[0.8651, 0.7801], [0.6234, 0.2558]]])
w[2] = np.array([0, 0])
model.get_layer('Sep93627').set_weights(w) 
w = model.get_layer('Con73250').get_weights() 
w[0] = np.array([[[[[0.4279], [0.8662], [0.2786], [0.92]]], [[[0.0117], [0.9857], [0.4483], [0.5274]]]]])
w[1] = np.array([0, 0, 0, 0])
model.get_layer('Con73250').set_weights(w) 
in0Sep93627 = tf.constant([[[0.3184, 0.6173], [0.2893, 0.0989]]])
print (np.array2string(model.predict([in0Sep93627],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Lea77856.png')

LSep93627 = separable_conv1D_layer([[[0.3184, 0.6173], [0.2893, 0.0989]]], 2,[[[[0.969], [0.105]], [[0.5877], [0.7685]]],[[[0.8651, 0.7801], [0.6234, 0.2558]]]],[0, 0], 2, true, Sep93627), 
LRes54488 = reshape_layer(Sep93627, [1, 2, 1], Res54488), 
LRes49302 = reshape_layer(Res54488, [1, 2, 1, 1], Res49302), 
LCon73250 = conv3D_transpose_layer(Res49302, 1, 2, 1,[[[[[0.4279], [0.8662], [0.2786], [0.92]]], [[[0.0117], [0.9857], [0.4483], [0.5274]]]]],[0, 0, 0, 0], 1, 1, 1, false, Con73250), 
LLea77856 = leaky_relu_layer(Con73250, 3.844397942235175, Lea77856), 
exec_layers([LSep93627,LRes54488,LRes49302,LCon73250,LLea77856],["Sep93627","Res54488","Res49302","Con73250","Lea77856"],Lea77856,"Lea77856")

Actual (Unparsed): [[[[[0.2147128, 0.4346440, 0.1397966, 0.4616399]], [[0.1810274, 0.8491772, 0.3389912, 0.6412328]], [[0.0047893, 0.4034863, 0.1835071, 0.2158858]]]]]

Expected (Unparsed): [[[[[0.2147127560037999,0.4346440505970822,0.1397966202913266,0.46163995214652004]],[[0.1810273773392066,0.849177243403086,0.3389912021168449,0.6412327815572794]],[[0.004789276234364701,0.4034862892489987,0.18350705434749529,0.2158858364105934]]]]]

Actual:   [[[[[0.2148, 0.4347, 0.1398, 0.4617]], [[0.1811, 0.8492, 0.339, 0.6413]], [[0.0048, 0.4035, 0.1836, 0.2159]]]]]

Expected: [[[[[0.2148, 0.4347, 0.1398, 0.4617]], [[0.1811, 0.8492, 0.339, 0.6413]], [[0.0048, 0.4035, 0.1836, 0.2159]]]]]