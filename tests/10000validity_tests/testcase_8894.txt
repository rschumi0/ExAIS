import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add6886 = tf.keras.layers.Input(shape=([1, 2]))
in1Add6886 = tf.keras.layers.Input(shape=([1, 2]))
in0Up_31854 = tf.keras.layers.Input(shape=([2, 3, 3]))

Add6886 = keras.layers.Add(name = 'Add6886', )([in0Add6886,in1Add6886])
Res3107 = keras.layers.Reshape((1, 2, 1), name = 'Res3107', )(Add6886)
Res73462 = keras.layers.Reshape((1, 2, 1, 1), name = 'Res73462', )(Res3107)
Zer83537 = keras.layers.ZeroPadding3D(padding=((1, 1), (1, 1), (1, 1)), name = 'Zer83537', )(Res73462)
Res81933 = keras.layers.Reshape((3, 4, 3), name = 'Res81933', )(Zer83537)
Zer41259 = keras.layers.ZeroPadding2D(padding=((1, 0), (1, 0)), name = 'Zer41259', )(Res81933)
Up_31854 = keras.layers.UpSampling2D(size=(2, 1), name = 'Up_31854', )(in0Up_31854)
Zer92669 = keras.layers.ZeroPadding2D(padding=((0, 0), (2, 0)), name = 'Zer92669', )(Up_31854)
Mul10705 = keras.layers.Multiply(name = 'Mul10705', )([Zer41259,Zer92669])
model = tf.keras.models.Model(inputs=[in0Add6886,in1Add6886,in0Up_31854], outputs=Mul10705)
in0Add6886 = tf.constant([[[0.478, 0.8715]]])
in1Add6886 = tf.constant([[[0.5328, 0.508]]])
in0Up_31854 = tf.constant([[[[1.7918, 1.9824, 1.5457], [1.9002, 1.5116, 1.1069], [1.1823, 1.2741, 1.6402]], [[1.1754, 1.6376, 1.348], [1.3993, 1.0608, 1.5387], [1.1755, 1.9774, 1.3174]]]])
print (np.array2string(model.predict([in0Add6886,in1Add6886,in0Up_31854],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Mul10705.png')

LAdd6886 = add_layer([[[[0.478, 0.8715]]], [[[0.5328, 0.508]]]], Add6886), 
LRes3107 = reshape_layer(Add6886, [1, 2, 1], Res3107), 
LRes73462 = reshape_layer(Res3107, [1, 2, 1, 1], Res73462), 
LZer83537 = zero_padding3D_layer(Res73462, 1, 1, 1, 1, 1, 1, Zer83537), 
LRes81933 = reshape_layer(Zer83537, [3, 4, 3], Res81933), 
LZer41259 = zero_padding2D_layer(Res81933, 1, 0, 1, 0, Zer41259), 
LUp_31854 = up_sampling2D_layer([[[[1.7918, 1.9824, 1.5457], [1.9002, 1.5116, 1.1069], [1.1823, 1.2741, 1.6402]], [[1.1754, 1.6376, 1.348], [1.3993, 1.0608, 1.5387], [1.1755, 1.9774, 1.3174]]]], 2, 1, Up_31854), 
LZer92669 = zero_padding2D_layer(Up_31854, 0, 0, 2, 0, Zer92669), 
LMul10705 = multiply_layer([Zer41259,Zer92669], Mul10705), 
exec_layers([LAdd6886,LRes3107,LRes73462,LZer83537,LRes81933,LZer41259,LUp_31854,LZer92669,LMul10705],["Add6886","Res3107","Res73462","Zer83537","Res81933","Zer41259","Up_31854","Zer92669","Mul10705"],Mul10705,"Mul10705")

Actual (Unparsed): [[[[0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000], [0.0000000, 1.6552860, 0.0000000], [0.0000000, 1.4633736, 0.0000000], [0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000]]]]

Expected (Unparsed): [[[[0,0,0],[0,0,0],[0.0,0.0,0.0],[0.0,0.0,0.0],[0.0,0.0,0.0]],[[0,0,0],[0,0,0],[0.0,0.0,0.0],[0.0,0.0,0.0],[0.0,0.0,0.0]],[[0,0,0],[0,0,0],[0.0,1.6552860800000002,0.0],[0.0,1.4633736000000002,0.0],[0.0,0.0,0.0]],[[0,0,0],[0,0,0],[0.0,0.0,0.0],[0.0,0.0,0.0],[0.0,0.0,0.0]]]]

Actual:   [[[[0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0]], [[0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0]], [[0, 0, 0], [0, 0, 0], [0, 1.6553, 0], [0, 1.4634, 0], [0, 0, 0]], [[0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0]]]]

Expected: [[[[0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0]], [[0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0]], [[0, 0, 0], [0, 0, 0], [0, 1.6553, 0], [0, 1.4634, 0], [0, 0, 0]], [[0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0], [0, 0, 0]]]]