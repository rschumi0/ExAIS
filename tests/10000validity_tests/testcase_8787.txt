import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max62956 = tf.keras.layers.Input(shape=([1, 1, 2]))
in0Per99366 = tf.keras.layers.Input(shape=([2, 2]))

Max62956 = keras.layers.MaxPool2D(pool_size=(1, 1), strides=(7, 1), padding='valid', name = 'Max62956', )(in0Max62956)
Res75069 = keras.layers.Reshape((1, 2), name = 'Res75069', )(Max62956)
Ave2560 = keras.layers.AveragePooling1D(pool_size=(1), name = 'Ave2560', )(Res75069)
Zer65333 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer65333', )(Ave2560)
Per99366 = keras.layers.Permute((1,2), name = 'Per99366',)(in0Per99366)
Ave68446 = keras.layers.Average(name = 'Ave68446', )([Zer65333,Per99366])
model = tf.keras.models.Model(inputs=[in0Max62956,in0Per99366], outputs=Ave68446)
in0Max62956 = tf.constant([[[[1.8114, 1.1211]]]])
in0Per99366 = tf.constant([[[1.7777, 1.1525], [1.1485, 1.1916]]])
print (np.array2string(model.predict([in0Max62956,in0Per99366],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Ave68446.png')

LMax62956 = max_pool2D_layer([[[[1.8114, 1.1211]]]], 1, 1, 7, 1, false, Max62956), 
LRes75069 = reshape_layer(Max62956, [1, 2], Res75069), 
LAve2560 = average_pooling1D_layer(Res75069, 1, Ave2560), 
LZer65333 = zero_padding1D_layer(Ave2560, 1, 0, Zer65333), 
LPer99366 = permute_layer([[[1.7777, 1.1525], [1.1485, 1.1916]]], 1,2, Per99366), 
LAve68446 = average_layer([Zer65333,Per99366], Ave68446), 
exec_layers([LMax62956,LRes75069,LAve2560,LZer65333,LPer99366,LAve68446],["Max62956","Res75069","Ave2560","Zer65333","Per99366","Ave68446"],Ave68446,"Ave68446")

Actual (Unparsed): [[[0.8888500, 0.5762500], [1.4799500, 1.1563500]]]

Expected (Unparsed): [[[0.88885,0.57625],[1.47995,1.15635]]]

Actual:   [[[0.8889, 0.5763], [1.48, 1.1564]]]

Expected: [[[0.8889, 0.5763], [1.48, 1.1564]]]