import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul89831 = tf.keras.layers.Input(shape=([1, 1, 2]))
in1Mul89831 = tf.keras.layers.Input(shape=([1, 1, 2]))
in0Mul45230 = tf.keras.layers.Input(shape=([2, 1, 2, 1]))
in1Mul45230 = tf.keras.layers.Input(shape=([2, 1, 2, 1]))

Mul89831 = keras.layers.Multiply(name = 'Mul89831', )([in0Mul89831,in1Mul89831])
Res70925 = keras.layers.Reshape((1, 1, 2, 1), name = 'Res70925', )(Mul89831)
Zer48228 = keras.layers.ZeroPadding3D(padding=((1, 0), (0, 0), (0, 0)), name = 'Zer48228', )(Res70925)
Mul45230 = keras.layers.Multiply(name = 'Mul45230', )([in0Mul45230,in1Mul45230])
Ave1617 = keras.layers.Average(name = 'Ave1617', )([Zer48228,Mul45230])
ELU40291 = keras.layers.ELU(alpha=8.84146144508626, name = 'ELU40291', )(Ave1617)
model = tf.keras.models.Model(inputs=[in0Mul89831,in1Mul89831,in0Mul45230,in1Mul45230], outputs=ELU40291)
in0Mul89831 = tf.constant([[[[0.2028, 0.2007]]]])
in1Mul89831 = tf.constant([[[[0.2338, 0.7125]]]])
in0Mul45230 = tf.constant([[[[[0.9961], [0.5834]]], [[[0.0339], [0.3839]]]]])
in1Mul45230 = tf.constant([[[[[0.9041], [0.1455]]], [[[0.4263], [0.6786]]]]])
print (np.array2string(model.predict([in0Mul89831,in1Mul89831,in0Mul45230,in1Mul45230],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='ELU40291.png')

LMul89831 = multiply_layer([[[[[0.2028, 0.2007]]]], [[[[0.2338, 0.7125]]]]], Mul89831), 
LRes70925 = reshape_layer(Mul89831, [1, 1, 2, 1], Res70925), 
LZer48228 = zero_padding3D_layer(Res70925, 1, 0, 0, 0, 0, 0, Zer48228), 
LMul45230 = multiply_layer([[[[[[0.9961], [0.5834]]], [[[0.0339], [0.3839]]]]], [[[[[0.9041], [0.1455]]], [[[0.4263], [0.6786]]]]]], Mul45230), 
LAve1617 = average_layer([Zer48228,Mul45230], Ave1617), 
LELU40291 = elu_layer(Ave1617, 8.84146144508626, ELU40291), 
exec_layers([LMul89831,LRes70925,LZer48228,LMul45230,LAve1617,LELU40291],["Mul89831","Res70925","Zer48228","Mul45230","Ave1617","ELU40291"],ELU40291,"ELU40291")

Actual (Unparsed): [[[[[0.4502870], [0.0424424]]], [[[0.0309331], [0.2017566]]]]]

Expected (Unparsed): [[[[[0.450287005],[0.04244235]]],[[[0.030933105000000002],[0.201756645]]]]]

Actual:   [[[[[0.4503], [0.0425]]], [[[0.031], [0.2018]]]]]

Expected: [[[[[0.4503], [0.0425]]], [[[0.031], [0.2018]]]]]