import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min18269 = tf.keras.layers.Input(shape=([2, 2, 1, 1]))
in1Min18269 = tf.keras.layers.Input(shape=([2, 2, 1, 1]))

Min18269 = keras.layers.Minimum(name = 'Min18269', )([in0Min18269,in1Min18269])
Res33311 = keras.layers.Reshape((2, 2, 1), name = 'Res33311', )(Min18269)
Res40516 = keras.layers.Reshape((2, 2), name = 'Res40516', )(Res33311)
Max77947 = keras.layers.MaxPool1D(pool_size=(2), name = 'Max77947', )(Res40516)
model = tf.keras.models.Model(inputs=[in0Min18269,in1Min18269], outputs=Max77947)
in0Min18269 = tf.constant([[[[[0.3785]], [[0.1757]]], [[[0.5901]], [[0.478]]]]])
in1Min18269 = tf.constant([[[[[0.2465]], [[0.0623]]], [[[0.8479]], [[0.9663]]]]])
print (np.array2string(model.predict([in0Min18269,in1Min18269],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max77947.png')

LMin18269 = minimum_layer([[[[[[0.3785]], [[0.1757]]], [[[0.5901]], [[0.478]]]]], [[[[[0.2465]], [[0.0623]]], [[[0.8479]], [[0.9663]]]]]], Min18269), 
LRes33311 = reshape_layer(Min18269, [2, 2, 1], Res33311), 
LRes40516 = reshape_layer(Res33311, [2, 2], Res40516), 
LMax77947 = max_pool1D_layer(Res40516, 2, Max77947), 
exec_layers([LMin18269,LRes33311,LRes40516,LMax77947],["Min18269","Res33311","Res40516","Max77947"],Max77947,"Max77947")

Actual (Unparsed): [[[0.5901000, 0.4780000]]]

Expected (Unparsed): [[[0.5901,0.478]]]

Actual:   [[[0.5901, 0.478]]]

Expected: [[[0.5901, 0.478]]]