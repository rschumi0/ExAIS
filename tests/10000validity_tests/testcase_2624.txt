import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub59281 = tf.keras.layers.Input(shape=([3]))
in1Sub59281 = tf.keras.layers.Input(shape=([3]))

Sub59281 = keras.layers.Subtract(name = 'Sub59281', )([in0Sub59281,in1Sub59281])
Res5390 = keras.layers.Reshape((3, 1), name = 'Res5390', )(Sub59281)
Per73222 = keras.layers.Permute((2,1), name = 'Per73222',)(Res5390)
Res20749 = keras.layers.Reshape((1, 3, 1), name = 'Res20749', )(Per73222)
Res9318 = keras.layers.Reshape((1, 3, 1, 1), name = 'Res9318', )(Res20749)
Up_81126 = keras.layers.UpSampling3D(size=(2, 2, 1), name = 'Up_81126', )(Res9318)
model = tf.keras.models.Model(inputs=[in0Sub59281,in1Sub59281], outputs=Up_81126)
in0Sub59281 = tf.constant([[0.2989, 0.6927, 0.4949]])
in1Sub59281 = tf.constant([[0.7917, 0.2268, 0.3541]])
print (np.array2string(model.predict([in0Sub59281,in1Sub59281],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Up_81126.png')

LSub59281 = subtract_layer([[0.2989, 0.6927, 0.4949]], [[0.7917, 0.2268, 0.3541]], Sub59281), 
LRes5390 = reshape_layer(Sub59281, [3, 1], Res5390), 
LPer73222 = permute_layer(Res5390, 2,1, Per73222), 
LRes20749 = reshape_layer(Per73222, [1, 3, 1], Res20749), 
LRes9318 = reshape_layer(Res20749, [1, 3, 1, 1], Res9318), 
LUp_81126 = up_sampling3D_layer(Res9318, 2, 2, 1, Up_81126), 
exec_layers([LSub59281,LRes5390,LPer73222,LRes20749,LRes9318,LUp_81126],["Sub59281","Res5390","Per73222","Res20749","Res9318","Up_81126"],Up_81126,"Up_81126")

Actual (Unparsed): [[[[[-0.4928000]], [[-0.4928000]], [[0.4659000]], [[0.4659000]], [[0.1408000]], [[0.1408000]]], [[[-0.4928000]], [[-0.4928000]], [[0.4659000]], [[0.4659000]], [[0.1408000]], [[0.1408000]]]]]

Expected (Unparsed): [[[[[-0.49279999999999996]],[[-0.49279999999999996]],[[0.4659]],[[0.4659]],[[0.14079999999999998]],[[0.14079999999999998]]],[[[-0.49279999999999996]],[[-0.49279999999999996]],[[0.4659]],[[0.4659]],[[0.14079999999999998]],[[0.14079999999999998]]]]]

Actual:   [[[[[-0.4928]], [[-0.4928]], [[0.4659]], [[0.4659]], [[0.1408]], [[0.1408]]], [[[-0.4928]], [[-0.4928]], [[0.4659]], [[0.4659]], [[0.1408]], [[0.1408]]]]]

Expected: [[[[[-0.4927]], [[-0.4927]], [[0.4659]], [[0.4659]], [[0.1408]], [[0.1408]]], [[[-0.4927]], [[-0.4927]], [[0.4659]], [[0.4659]], [[0.1408]], [[0.1408]]]]]