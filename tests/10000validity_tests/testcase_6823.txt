import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot28178 = tf.keras.layers.Input(shape=([3]))
in1Dot28178 = tf.keras.layers.Input(shape=([3]))

Dot28178 = keras.layers.Dot(axes=(1, 1), name = 'Dot28178', )([in0Dot28178,in1Dot28178])
Res90487 = keras.layers.Reshape((1, 1), name = 'Res90487', )(Dot28178)
Res92941 = keras.layers.Reshape((1, 1, 1), name = 'Res92941', )(Res90487)
Res59300 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res59300', )(Res92941)
Glo11557 = keras.layers.GlobalMaxPool3D(name = 'Glo11557', )(Res59300)
model = tf.keras.models.Model(inputs=[in0Dot28178,in1Dot28178], outputs=Glo11557)
in0Dot28178 = tf.constant([[0.4409, 0.7703, 0.0872]])
in1Dot28178 = tf.constant([[0.3567, 0.5536, 0.8383]])
print (np.array2string(model.predict([in0Dot28178,in1Dot28178],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo11557.png')

LDot28178 = dot_layer([[0.4409, 0.7703, 0.0872]], [[0.3567, 0.5536, 0.8383]], 1, 1, Dot28178), 
LRes90487 = reshape_layer(Dot28178, [1, 1], Res90487), 
LRes92941 = reshape_layer(Res90487, [1, 1, 1], Res92941), 
LRes59300 = reshape_layer(Res92941, [1, 1, 1, 1], Res59300), 
LGlo11557 = global_max_pool3D_layer(Res59300, Glo11557), 
exec_layers([LDot28178,LRes90487,LRes92941,LRes59300,LGlo11557],["Dot28178","Res90487","Res92941","Res59300","Glo11557"],Glo11557,"Glo11557")

Actual (Unparsed): [[0.6568069]]

Expected (Unparsed): [[0.6568068699999999]]

Actual:   [[0.6569]]

Expected: [[0.6569]]