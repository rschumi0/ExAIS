import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo77650 = tf.keras.layers.Input(shape=([2, 1, 2, 1]))
in0Con51486 = tf.keras.layers.Input(shape=([1]))
in0Glo82742 = tf.keras.layers.Input(shape=([1, 2, 1, 2]))
in0Min89178 = tf.keras.layers.Input(shape=([1, 1, 1]))
in1Min89178 = tf.keras.layers.Input(shape=([1, 1, 1]))

Glo77650 = keras.layers.GlobalAveragePooling3D(name = 'Glo77650', )(in0Glo77650)
Con51486 = keras.layers.Concatenate(axis=1, name = 'Con51486', )([Glo77650,in0Con51486])
Glo82742 = keras.layers.GlobalAveragePooling3D(name = 'Glo82742', )(in0Glo82742)
Min76961 = keras.layers.Minimum(name = 'Min76961', )([Con51486,Glo82742])
Res28570 = keras.layers.Reshape((2, 1), name = 'Res28570', )(Min76961)
Res10102 = keras.layers.Reshape((2, 1, 1), name = 'Res10102', )(Res28570)
Min89178 = keras.layers.Minimum(name = 'Min89178', )([in0Min89178,in1Min89178])
Zer6779 = keras.layers.ZeroPadding2D(padding=((1, 0), (0, 0)), name = 'Zer6779', )(Min89178)
Mul69896 = keras.layers.Multiply(name = 'Mul69896', )([Res10102,Zer6779])
model = tf.keras.models.Model(inputs=[in0Glo77650,in0Con51486,in0Glo82742,in0Min89178,in1Min89178], outputs=Mul69896)
in0Glo77650 = tf.constant([[[[[1.6055], [1.9051]]], [[[1.5584], [1.3408]]]]])
in0Con51486 = tf.constant([[0.9642]])
in0Glo82742 = tf.constant([[[[[1.756, 1.1997]], [[1.4232, 1.9932]]]]])
in0Min89178 = tf.constant([[[[0.91]]]])
in1Min89178 = tf.constant([[[[0.1614]]]])
print (np.array2string(model.predict([in0Glo77650,in0Con51486,in0Glo82742,in0Min89178,in1Min89178],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Mul69896.png')

LGlo77650 = global_average_pooling3D_layer([[[[[1.6055], [1.9051]]], [[[1.5584], [1.3408]]]]], Glo77650), 
LCon51486 = concatenate_layer([Glo77650,[[0.9642]]], 1, Con51486), 
LGlo82742 = global_average_pooling3D_layer([[[[[1.756, 1.1997]], [[1.4232, 1.9932]]]]], Glo82742), 
LMin76961 = minimum_layer([Con51486,Glo82742], Min76961), 
LRes28570 = reshape_layer(Min76961, [2, 1], Res28570), 
LRes10102 = reshape_layer(Res28570, [2, 1, 1], Res10102), 
LMin89178 = minimum_layer([[[[[0.91]]]], [[[[0.1614]]]]], Min89178), 
LZer6779 = zero_padding2D_layer(Min89178, 1, 0, 0, 0, Zer6779), 
LMul69896 = multiply_layer([Res10102,Zer6779], Mul69896), 
exec_layers([LGlo77650,LCon51486,LGlo82742,LMin76961,LRes28570,LRes10102,LMin89178,LZer6779,LMul69896],["Glo77650","Con51486","Glo82742","Min76961","Res28570","Res10102","Min89178","Zer6779","Mul69896"],Mul69896,"Mul69896")

Actual (Unparsed): [[[[0.0000000]], [[0.1556219]]]]

Expected (Unparsed): [[[[0.0]],[[0.15562188]]]]

Actual:   [[[[0]], [[0.1557]]]]

Expected: [[[[0]], [[0.1557]]]]