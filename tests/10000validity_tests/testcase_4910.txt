import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sep97075 = tf.keras.layers.Input(shape=([2, 1, 2]))
in0Up_7939 = tf.keras.layers.Input(shape=([3, 1, 1, 3]))

Sep97075 = keras.layers.SeparableConv2D(3, (1, 1),strides=(2, 2), padding='valid', name = 'Sep97075', )(in0Sep97075)
Lay75452 = keras.layers.LayerNormalization(axis=1, epsilon=2.3635341386527196, name = 'Lay75452', )(Sep97075)
Zer52810 = keras.layers.ZeroPadding2D(padding=((1, 0), (0, 0)), name = 'Zer52810', )(Lay75452)
Up_7939 = keras.layers.UpSampling3D(size=(1, 2, 1), name = 'Up_7939', )(in0Up_7939)
Res84406 = keras.layers.Reshape((3, 2, 3), name = 'Res84406', )(Up_7939)
Cro61652 = keras.layers.Cropping2D(cropping=((1, 0), (1, 0)), name = 'Cro61652', )(Res84406)
Add58453 = keras.layers.Add(name = 'Add58453', )([Zer52810,Cro61652])
model = tf.keras.models.Model(inputs=[in0Sep97075,in0Up_7939], outputs=Add58453)
w = model.get_layer('Sep97075').get_weights() 
w[0] = np.array([[[[0.9469], [0.4051]]]])
w[1] = np.array([[[[0.5331, 0.2087, 0.389], [0.145, 0.0513, 0.7729]]]])
w[2] = np.array([0, 0, 0])
model.get_layer('Sep97075').set_weights(w) 
in0Sep97075 = tf.constant([[[[0.4046, 0.7961]], [[0.3148, 0.3952]]]])
in0Up_7939 = tf.constant([[[[[1.3783, 1.7737, 1.6707]]], [[[1.5443, 1.6311, 1.315]]], [[[1.0868, 1.6003, 1.3807]]]]])
print (np.array2string(model.predict([in0Sep97075,in0Up_7939],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add58453.png')

LSep97075 = separable_conv2D_layer([[[[0.4046, 0.7961]], [[0.3148, 0.3952]]]], 1, 1,[[[[[0.9469], [0.4051]]]],[[[[0.5331, 0.2087, 0.389], [0.145, 0.0513, 0.7729]]]]],[0, 0, 0], 2, 2, false, Sep97075), 
LLay75452 = layer_normalization_layer(Sep97075, 1, 2.3635341386527196, Lay75452), 
LZer52810 = zero_padding2D_layer(Lay75452, 1, 0, 0, 0, Zer52810), 
LUp_7939 = up_sampling3D_layer([[[[[1.3783, 1.7737, 1.6707]]], [[[1.5443, 1.6311, 1.315]]], [[[1.0868, 1.6003, 1.3807]]]]], 1, 2, 1, Up_7939), 
LRes84406 = reshape_layer(Up_7939, [3, 2, 3], Res84406), 
LCro61652 = cropping2D_layer(Res84406, 1, 0, 1, 0, Cro61652), 
LAdd58453 = add_layer([Zer52810,Cro61652], Add58453), 
exec_layers([LSep97075,LLay75452,LZer52810,LUp_7939,LRes84406,LCro61652,LAdd58453],["Sep97075","Lay75452","Zer52810","Up_7939","Res84406","Cro61652","Add58453"],Add58453,"Add58453")

Actual (Unparsed): [[[[1.5443000, 1.6311001, 1.3150001]], [[1.0868000, 1.6003000, 1.3807000]]]]

Expected (Unparsed): [[[[1.5443,1.6311,1.315]],[[1.0868,1.6003,1.3807]]]]

Actual:   [[[[1.5443, 1.6312, 1.3151]], [[1.0868, 1.6003, 1.3807]]]]

Expected: [[[[1.5443, 1.6311, 1.315]], [[1.0868, 1.6003, 1.3807]]]]