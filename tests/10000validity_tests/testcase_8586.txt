import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot41974 = tf.keras.layers.Input(shape=([3]))
in1Dot41974 = tf.keras.layers.Input(shape=([3]))
in0Den36852 = tf.keras.layers.Input(shape=([4, 3]))

Dot41974 = keras.layers.Dot(axes=(1, 1), name = 'Dot41974', )([in0Dot41974,in1Dot41974])
Res25495 = keras.layers.Reshape((1, 1), name = 'Res25495', )(Dot41974)
Zer23517 = keras.layers.ZeroPadding1D(padding=((3, 0)), name = 'Zer23517', )(Res25495)
Den36852 = keras.layers.Dense(1,name = 'Den36852', )(in0Den36852)
Mul29393 = keras.layers.Multiply(name = 'Mul29393', )([Zer23517,Den36852])
model = tf.keras.models.Model(inputs=[in0Dot41974,in1Dot41974,in0Den36852], outputs=Mul29393)
w = model.get_layer('Den36852').get_weights() 
w[0] = np.array([[0.3416], [0.7425], [0.2906]])
w[1] = np.array([0.3126])
model.get_layer('Den36852').set_weights(w) 
in0Dot41974 = tf.constant([[0.5804, 0.1073, 0.6259]])
in1Dot41974 = tf.constant([[0.4263, 0.8215, 0.1866]])
in0Den36852 = tf.constant([[[0.5246, 0.395, 0.2531], [0.2036, 0.54, 0.9121], [0.7667, 0.7165, 0.7115], [0.3409, 0.4607, 0.8776]]])
print (np.array2string(model.predict([in0Dot41974,in1Dot41974,in0Den36852],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Mul29393.png')

LDot41974 = dot_layer([[0.5804, 0.1073, 0.6259]], [[0.4263, 0.8215, 0.1866]], 1, 1, Dot41974), 
LRes25495 = reshape_layer(Dot41974, [1, 1], Res25495), 
LZer23517 = zero_padding1D_layer(Res25495, 3, 0, Zer23517), 
LDen36852 = dense_layer([[[0.5246, 0.395, 0.2531], [0.2036, 0.54, 0.9121], [0.7667, 0.7165, 0.7115], [0.3409, 0.4607, 0.8776]]], [[0.3416], [0.7425], [0.2906]],[0.3126], Den36852), 
LMul29393 = multiply_layer([Zer23517,Den36852], Mul29393), 
exec_layers([LDot41974,LRes25495,LZer23517,LDen36852,LMul29393],["Dot41974","Res25495","Zer23517","Den36852","Mul29393"],Mul29393,"Mul29393")

Actual (Unparsed): [[[0.0000000], [0.0000000], [0.0000000], [0.4641945]]]

Expected (Unparsed): [[[0.0],[0.0],[0.0],[0.4641945309592175]]]

Actual:   [[[0], [0], [0], [0.4642]]]

Expected: [[[0], [0], [0], [0.4642]]]