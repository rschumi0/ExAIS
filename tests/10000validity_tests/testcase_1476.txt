import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul12511 = tf.keras.layers.Input(shape=([1, 2, 1]))
in1Mul12511 = tf.keras.layers.Input(shape=([1, 2, 1]))
in0Lea95022 = tf.keras.layers.Input(shape=([2, 2]))
in0Add95759 = tf.keras.layers.Input(shape=([2, 2, 1]))
in1Add95759 = tf.keras.layers.Input(shape=([2, 2, 1]))

Mul12511 = keras.layers.Multiply(name = 'Mul12511', )([in0Mul12511,in1Mul12511])
Res23165 = keras.layers.Reshape((1, 2), name = 'Res23165', )(Mul12511)
Zer11562 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer11562', )(Res23165)
Lea95022 = keras.layers.LeakyReLU(alpha=5.247308085609463, name = 'Lea95022', input_shape=(2, 2))(in0Lea95022)
Add95759 = keras.layers.Add(name = 'Add95759', )([in0Add95759,in1Add95759])
Res39243 = keras.layers.Reshape((2, 2), name = 'Res39243', )(Add95759)
Dot68132 = keras.layers.Dot(axes=(2, 2), name = 'Dot68132', )([Lea95022,Res39243])
Add2136 = keras.layers.Add(name = 'Add2136', )([Zer11562,Dot68132])
model = tf.keras.models.Model(inputs=[in0Mul12511,in1Mul12511,in0Lea95022,in0Add95759,in1Add95759], outputs=Add2136)
in0Mul12511 = tf.constant([[[[0.8888], [0.3806]]]])
in1Mul12511 = tf.constant([[[[0.5809], [0.5038]]]])
in0Lea95022 = tf.constant([[[0.1253, 0.2233], [0.2237, 0.412]]])
in0Add95759 = tf.constant([[[[0.8117], [0.2046]], [[0.4468], [0.6655]]]])
in1Add95759 = tf.constant([[[[0.427], [0.347]], [[0.0189], [0.4507]]]])
print (np.array2string(model.predict([in0Mul12511,in1Mul12511,in0Lea95022,in0Add95759,in1Add95759],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add2136.png')

LMul12511 = multiply_layer([[[[[0.8888], [0.3806]]]], [[[[0.5809], [0.5038]]]]], Mul12511), 
LRes23165 = reshape_layer(Mul12511, [1, 2], Res23165), 
LZer11562 = zero_padding1D_layer(Res23165, 1, 0, Zer11562), 
LLea95022 = leaky_relu_layer([[[0.1253, 0.2233], [0.2237, 0.412]]], 5.247308085609463, Lea95022), 
LAdd95759 = add_layer([[[[[0.8117], [0.2046]], [[0.4468], [0.6655]]]], [[[[0.427], [0.347]], [[0.0189], [0.4507]]]]], Add95759), 
LRes39243 = reshape_layer(Add95759, [2, 2], Res39243), 
LDot68132 = dot_layer(Lea95022,Res39243, 2, 2, Dot68132), 
LAdd2136 = add_layer([Zer11562,Dot68132], Add2136), 
exec_layers([LMul12511,LRes23165,LZer11562,LLea95022,LAdd95759,LRes39243,LDot68132,LAdd2136],["Mul12511","Res23165","Zer11562","Lea95022","Add95759","Res39243","Dot68132","Add2136"],Add2136,"Add2136")

Actual (Unparsed): [[[0.2783814, 0.3075997], [1.0206603, 0.7557978]]]

Expected (Unparsed): [[[0.27838138999999995,0.30759967],[1.02066031,0.75579777]]]

Actual:   [[[0.2784, 0.3076], [1.0207, 0.7558]]]

Expected: [[[0.2784, 0.3076], [1.0207, 0.7558]]]