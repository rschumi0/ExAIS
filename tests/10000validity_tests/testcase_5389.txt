import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add20970 = tf.keras.layers.Input(shape=([1, 1]))
in1Add20970 = tf.keras.layers.Input(shape=([1, 1]))
in0Min37815 = tf.keras.layers.Input(shape=([1, 2, 2, 1]))
in1Min37815 = tf.keras.layers.Input(shape=([1, 2, 2, 1]))

Add20970 = keras.layers.Add(name = 'Add20970', )([in0Add20970,in1Add20970])
Res59791 = keras.layers.Reshape((1, 1, 1), name = 'Res59791', )(Add20970)
Res97941 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res97941', )(Res59791)
Cro9895 = keras.layers.Cropping3D(cropping=((0, 0), (0, 0), (0, 0)), name = 'Cro9895', )(Res97941)
Zer92904 = keras.layers.ZeroPadding3D(padding=((0, 0), (1, 0), (1, 0)), name = 'Zer92904', )(Cro9895)
Min37815 = keras.layers.Minimum(name = 'Min37815', )([in0Min37815,in1Min37815])
Sub15207 = keras.layers.Subtract(name = 'Sub15207', )([Zer92904,Min37815])
model = tf.keras.models.Model(inputs=[in0Add20970,in1Add20970,in0Min37815,in1Min37815], outputs=Sub15207)
in0Add20970 = tf.constant([[[0.375]]])
in1Add20970 = tf.constant([[[0.9188]]])
in0Min37815 = tf.constant([[[[[0.5852], [0.1156]], [[0.9152], [0.6917]]]]])
in1Min37815 = tf.constant([[[[[0.2055], [0.5895]], [[0.0943], [0.0574]]]]])
print (np.array2string(model.predict([in0Add20970,in1Add20970,in0Min37815,in1Min37815],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sub15207.png')

LAdd20970 = add_layer([[[[0.375]]], [[[0.9188]]]], Add20970), 
LRes59791 = reshape_layer(Add20970, [1, 1, 1], Res59791), 
LRes97941 = reshape_layer(Res59791, [1, 1, 1, 1], Res97941), 
LCro9895 = cropping3D_layer(Res97941, 0, 0, 0, 0, 0, 0, Cro9895), 
LZer92904 = zero_padding3D_layer(Cro9895, 0, 0, 1, 0, 1, 0, Zer92904), 
LMin37815 = minimum_layer([[[[[[0.5852], [0.1156]], [[0.9152], [0.6917]]]]], [[[[[0.2055], [0.5895]], [[0.0943], [0.0574]]]]]], Min37815), 
LSub15207 = subtract_layer(Zer92904,Min37815, Sub15207), 
exec_layers([LAdd20970,LRes59791,LRes97941,LCro9895,LZer92904,LMin37815,LSub15207],["Add20970","Res59791","Res97941","Cro9895","Zer92904","Min37815","Sub15207"],Sub15207,"Sub15207")

Actual (Unparsed): [[[[[-0.2055000], [-0.1156000]], [[-0.0943000], [1.2364000]]]]]

Expected (Unparsed): [[[[[-0.2055],[-0.1156]],[[-0.0943],[1.2364000000000002]]]]]

Actual:   [[[[[-0.2055], [-0.1156]], [[-0.0943], [1.2364]]]]]

Expected: [[[[[-0.2055], [-0.1156]], [[-0.0943], [1.2365]]]]]