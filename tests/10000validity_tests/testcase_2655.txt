import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub89232 = tf.keras.layers.Input(shape=([2, 3, 3]))
in1Sub89232 = tf.keras.layers.Input(shape=([2, 3, 3]))

Sub89232 = keras.layers.Subtract(name = 'Sub89232', )([in0Sub89232,in1Sub89232])
Res8248 = keras.layers.Reshape((2, 9), name = 'Res8248', )(Sub89232)
Glo94149 = keras.layers.GlobalAveragePooling1D(name = 'Glo94149', )(Res8248)
model = tf.keras.models.Model(inputs=[in0Sub89232,in1Sub89232], outputs=Glo94149)
in0Sub89232 = tf.constant([[[[0.7294, 0.8768, 0.6148], [0.2752, 0.5172, 0.9136], [0.185, 0.0071, 0.459]], [[0.8088, 0.4263, 0.6631], [0.0387, 0.3053, 0.1779], [0.9108, 0.0544, 0.4208]]]])
in1Sub89232 = tf.constant([[[[0.126, 0.5214, 0.0863], [0.888, 0.1609, 0.1982], [0.044, 0.171, 0.466]], [[0.9332, 0.1006, 0.2128], [0.3578, 0.7927, 0.4688], [0.8531, 0.118, 0.0181]]]])
print (np.array2string(model.predict([in0Sub89232,in1Sub89232],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo94149.png')

LSub89232 = subtract_layer([[[[0.7294, 0.8768, 0.6148], [0.2752, 0.5172, 0.9136], [0.185, 0.0071, 0.459]], [[0.8088, 0.4263, 0.6631], [0.0387, 0.3053, 0.1779], [0.9108, 0.0544, 0.4208]]]], [[[[0.126, 0.5214, 0.0863], [0.888, 0.1609, 0.1982], [0.044, 0.171, 0.466]], [[0.9332, 0.1006, 0.2128], [0.3578, 0.7927, 0.4688], [0.8531, 0.118, 0.0181]]]], Sub89232), 
LRes8248 = reshape_layer(Sub89232, [2, 9], Res8248), 
LGlo94149 = global_average_pooling1D_layer(Res8248, Glo94149), 
exec_layers([LSub89232,LRes8248,LGlo94149],["Sub89232","Res8248","Glo94149"],Glo94149,"Glo94149")

Actual (Unparsed): [[0.2395000, 0.3405500, 0.4894000, -0.4659500, -0.0655500, 0.2122500, 0.0993500, -0.1137500, 0.1978500]]

Expected (Unparsed): [[0.2395,0.34055,0.4894,-0.46595,-0.06554999999999997,0.21225000000000002,0.09935000000000005,-0.11375,0.19785]]

Actual:   [[0.2395, 0.3406, 0.4894, -0.4659, -0.0655, 0.2123, 0.0994, -0.1137, 0.1979]]

Expected: [[0.2395, 0.3406, 0.4894, -0.4659, -0.0655, 0.2123, 0.0994, -0.1137, 0.1979]]