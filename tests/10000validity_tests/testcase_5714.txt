import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave48752 = tf.keras.layers.Input(shape=([1, 2, 2]))
in1Ave48752 = tf.keras.layers.Input(shape=([1, 2, 2]))

Ave48752 = keras.layers.Average(name = 'Ave48752', )([in0Ave48752,in1Ave48752])
Res38305 = keras.layers.Reshape((1, 4), name = 'Res38305', )(Ave48752)
Max10697 = keras.layers.MaxPool1D(pool_size=(1), strides=(1), padding='same', name = 'Max10697', )(Res38305)
model = tf.keras.models.Model(inputs=[in0Ave48752,in1Ave48752], outputs=Max10697)
in0Ave48752 = tf.constant([[[[0.0162, 0.9394], [0.5862, 0.4239]]]])
in1Ave48752 = tf.constant([[[[0.2859, 0.6254], [0.4769, 0.0369]]]])
print (np.array2string(model.predict([in0Ave48752,in1Ave48752],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max10697.png')

LAve48752 = average_layer([[[[[0.0162, 0.9394], [0.5862, 0.4239]]]], [[[[0.2859, 0.6254], [0.4769, 0.0369]]]]], Ave48752), 
LRes38305 = reshape_layer(Ave48752, [1, 4], Res38305), 
LMax10697 = max_pool1D_layer(Res38305, 1, 1, true, Max10697), 
exec_layers([LAve48752,LRes38305,LMax10697],["Ave48752","Res38305","Max10697"],Max10697,"Max10697")

Actual (Unparsed): [[[0.1510500, 0.7824000, 0.5315500, 0.2304000]]]

Expected (Unparsed): [[[0.15105,0.7824,0.53155,0.2304]]]

Actual:   [[[0.1511, 0.7824, 0.5316, 0.2304]]]

Expected: [[[0.1511, 0.7824, 0.5316, 0.2304]]]