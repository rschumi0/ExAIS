import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul15027 = tf.keras.layers.Input(shape=([2, 1, 1, 2]))
in1Mul15027 = tf.keras.layers.Input(shape=([2, 1, 1, 2]))
in0Add76874 = tf.keras.layers.Input(shape=([1, 1, 1, 1]))
in1Add76874 = tf.keras.layers.Input(shape=([1, 1, 1, 1]))

Mul15027 = keras.layers.Multiply(name = 'Mul15027', )([in0Mul15027,in1Mul15027])
Res59162 = keras.layers.Reshape((2, 1, 2), name = 'Res59162', )(Mul15027)
Res13402 = keras.layers.Reshape((2, 2), name = 'Res13402', )(Res59162)
Res42401 = keras.layers.Reshape((2, 2, 1), name = 'Res42401', )(Res13402)
Cro23923 = keras.layers.Cropping2D(cropping=((1, 0), (0, 1)), name = 'Cro23923', )(Res42401)
Res20090 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res20090', )(Cro23923)
Add76874 = keras.layers.Add(name = 'Add76874', )([in0Add76874,in1Add76874])
Add58289 = keras.layers.Add(name = 'Add58289', )([Res20090,Add76874])
model = tf.keras.models.Model(inputs=[in0Mul15027,in1Mul15027,in0Add76874,in1Add76874], outputs=Add58289)
in0Mul15027 = tf.constant([[[[[0.5969, 0.5092]]], [[[0.9989, 0.6458]]]]])
in1Mul15027 = tf.constant([[[[[0.0247, 0.2233]]], [[[0.7286, 0.6503]]]]])
in0Add76874 = tf.constant([[[[[0.889]]]]])
in1Add76874 = tf.constant([[[[[0.5408]]]]])
print (np.array2string(model.predict([in0Mul15027,in1Mul15027,in0Add76874,in1Add76874],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add58289.png')

LMul15027 = multiply_layer([[[[[[0.5969, 0.5092]]], [[[0.9989, 0.6458]]]]], [[[[[0.0247, 0.2233]]], [[[0.7286, 0.6503]]]]]], Mul15027), 
LRes59162 = reshape_layer(Mul15027, [2, 1, 2], Res59162), 
LRes13402 = reshape_layer(Res59162, [2, 2], Res13402), 
LRes42401 = reshape_layer(Res13402, [2, 2, 1], Res42401), 
LCro23923 = cropping2D_layer(Res42401, 1, 0, 0, 1, Cro23923), 
LRes20090 = reshape_layer(Cro23923, [1, 1, 1, 1], Res20090), 
LAdd76874 = add_layer([[[[[[0.889]]]]], [[[[[0.5408]]]]]], Add76874), 
LAdd58289 = add_layer([Res20090,Add76874], Add58289), 
exec_layers([LMul15027,LRes59162,LRes13402,LRes42401,LCro23923,LRes20090,LAdd76874,LAdd58289],["Mul15027","Res59162","Res13402","Res42401","Cro23923","Res20090","Add76874","Add58289"],Add58289,"Add58289")

Actual (Unparsed): [[[[[2.1575985]]]]]

Expected (Unparsed): [[[[[2.15759854]]]]]

Actual:   [[[[[2.1576]]]]]

Expected: [[[[[2.1576]]]]]