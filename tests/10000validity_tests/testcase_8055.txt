import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo47946 = tf.keras.layers.Input(shape=([2, 1]))

Glo47946 = keras.layers.GlobalMaxPool1D(name = 'Glo47946', )(in0Glo47946)
Res8693 = keras.layers.Reshape((1, 1), name = 'Res8693', )(Glo47946)
LST80468 = keras.layers.LSTM(2,recurrent_activation='sigmoid', name = 'LST80468', )(Res8693)
Res13390 = keras.layers.Reshape((2, 1), name = 'Res13390', )(LST80468)
Res94440 = keras.layers.Reshape((2, 1, 1), name = 'Res94440', )(Res13390)
Res96418 = keras.layers.Reshape((2, 1, 1, 1), name = 'Res96418', )(Res94440)
Up_19014 = keras.layers.UpSampling3D(size=(1, 1, 1), name = 'Up_19014', )(Res96418)
model = tf.keras.models.Model(inputs=[in0Glo47946], outputs=Up_19014)
w = model.get_layer('LST80468').get_weights() 
w[0] = np.array([[6, 5, 7, 8, 10, 6, 2, 7]])
w[1] = np.array([[2, 6, 6, 10, 1, 10, 5, 8], [1, 8, 3, 1, 9, 3, 3, 1]])
w[2] = np.array([3, 6, 5, 4, 9, 9, 10, 1])
model.get_layer('LST80468').set_weights(w) 
in0Glo47946 = tf.constant([[[1.0958], [1.9855]]])
print (np.array2string(model.predict([in0Glo47946],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Up_19014.png')

LGlo47946 = global_max_pool1D_layer([[[1.0958], [1.9855]]], Glo47946), 
LRes8693 = reshape_layer(Glo47946, [1, 1], Res8693), 
LLST80468 = lstm_layer(Res8693,[[6, 5, 7, 8, 10, 6, 2, 7]],[[2, 6, 6, 10, 1, 10, 5, 8], [1, 8, 3, 1, 9, 3, 3, 1]],[3, 6, 5, 4, 9, 9, 10, 1], LST80468), 
LRes13390 = reshape_layer(LST80468, [2, 1], Res13390), 
LRes94440 = reshape_layer(Res13390, [2, 1, 1], Res94440), 
LRes96418 = reshape_layer(Res94440, [2, 1, 1, 1], Res96418), 
LUp_19014 = up_sampling3D_layer(Res96418, 1, 1, 1, Up_19014), 
exec_layers([LGlo47946,LRes8693,LLST80468,LRes13390,LRes94440,LRes96418,LUp_19014],["Glo47946","Res8693","LST80468","Res13390","Res94440","Res96418","Up_19014"],Up_19014,"Up_19014")

Actual (Unparsed): [[[[[0.7615934]]], [[[0.7615938]]]]]

Expected (Unparsed): [[[[[0.7615933638860913]]],[[[0.7615938472782804]]]]]

Actual:   [[[[[0.7616]]], [[[0.7616]]]]]

Expected: [[[[[0.7616]]], [[[0.7616]]]]]