import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add253 = tf.keras.layers.Input(shape=([1, 2, 2, 1]))
in1Add253 = tf.keras.layers.Input(shape=([1, 2, 2, 1]))
in0Dot6938 = tf.keras.layers.Input(shape=([3]))
in1Dot6938 = tf.keras.layers.Input(shape=([3]))
in0Con57332 = tf.keras.layers.Input(shape=([3]))

Add253 = keras.layers.Add(name = 'Add253', )([in0Add253,in1Add253])
Res56705 = keras.layers.Reshape((1, 2, 2), name = 'Res56705', )(Add253)
Res74422 = keras.layers.Reshape((1, 4), name = 'Res74422', )(Res56705)
Fla97832 = keras.layers.Flatten(name = 'Fla97832', )(Res74422)
Dot6938 = keras.layers.Dot(axes=(1, 1), name = 'Dot6938', )([in0Dot6938,in1Dot6938])
Con57332 = keras.layers.Concatenate(axis=1, name = 'Con57332', )([Dot6938,in0Con57332])
Add59317 = keras.layers.Add(name = 'Add59317', )([Fla97832,Con57332])
model = tf.keras.models.Model(inputs=[in0Add253,in1Add253,in0Dot6938,in1Dot6938,in0Con57332], outputs=Add59317)
in0Add253 = tf.constant([[[[[0.2758], [0.4677]], [[0.8784], [0.8122]]]]])
in1Add253 = tf.constant([[[[[0.9103], [0.8262]], [[0.3518], [0.7708]]]]])
in0Dot6938 = tf.constant([[0.9739, 0.1434, 0.7934]])
in1Dot6938 = tf.constant([[0.57, 0.299, 0.2449]])
in0Con57332 = tf.constant([[0.4706, 0.2781, 0.8786]])
print (np.array2string(model.predict([in0Add253,in1Add253,in0Dot6938,in1Dot6938,in0Con57332],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add59317.png')

LAdd253 = add_layer([[[[[[0.2758], [0.4677]], [[0.8784], [0.8122]]]]], [[[[[0.9103], [0.8262]], [[0.3518], [0.7708]]]]]], Add253), 
LRes56705 = reshape_layer(Add253, [1, 2, 2], Res56705), 
LRes74422 = reshape_layer(Res56705, [1, 4], Res74422), 
LFla97832 = flatten_layer(Res74422, Fla97832), 
LDot6938 = dot_layer([[0.9739, 0.1434, 0.7934]], [[0.57, 0.299, 0.2449]], 1, 1, Dot6938), 
LCon57332 = concatenate_layer([Dot6938,[[0.4706, 0.2781, 0.8786]]], 1, Con57332), 
LAdd59317 = add_layer([Fla97832,Con57332], Add59317), 
exec_layers([LAdd253,LRes56705,LRes74422,LFla97832,LDot6938,LCon57332,LAdd59317],["Add253","Res56705","Res74422","Fla97832","Dot6938","Con57332","Add59317"],Add59317,"Add59317")

Actual (Unparsed): [[1.9784033, 1.7645000, 1.5083000, 2.4616000]]

Expected (Unparsed): [[1.9784032599999999,1.7645,1.5083,2.4616000000000002]]

Actual:   [[1.9785, 1.7645, 1.5083, 2.4616]]

Expected: [[1.9785, 1.7645, 1.5083, 2.4617]]