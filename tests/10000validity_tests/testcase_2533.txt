import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub73588 = tf.keras.layers.Input(shape=([2]))
in1Sub73588 = tf.keras.layers.Input(shape=([2]))
in0Mul68589 = tf.keras.layers.Input(shape=([2, 2]))
in1Mul68589 = tf.keras.layers.Input(shape=([2, 2]))
in0Glo34028 = tf.keras.layers.Input(shape=([2, 2, 1, 2]))
in0Glo56585 = tf.keras.layers.Input(shape=([2, 2, 2]))
in0Con9044 = tf.keras.layers.Input(shape=([1]))

Sub73588 = keras.layers.Subtract(name = 'Sub73588', )([in0Sub73588,in1Sub73588])
Fla15194 = keras.layers.Flatten(name = 'Fla15194', )(Sub73588)
Mul68589 = keras.layers.Multiply(name = 'Mul68589', )([in0Mul68589,in1Mul68589])
Max45455 = keras.layers.MaxPool1D(pool_size=(2), strides=(8), padding='valid', name = 'Max45455', )(Mul68589)
Fla89160 = keras.layers.Flatten(name = 'Fla89160', )(Max45455)
Glo34028 = keras.layers.GlobalAveragePooling3D(name = 'Glo34028', )(in0Glo34028)
Ave7745 = keras.layers.Average(name = 'Ave7745', )([Fla89160,Glo34028])
Sub13766 = keras.layers.Subtract(name = 'Sub13766', )([Fla15194,Ave7745])
Glo56585 = keras.layers.GlobalMaxPool2D(name = 'Glo56585', )(in0Glo56585)
Res77473 = keras.layers.Reshape((2, 1), name = 'Res77473', )(Glo56585)
Res87243 = keras.layers.Reshape((2, 1, 1), name = 'Res87243', )(Res77473)
Res76664 = keras.layers.Reshape((2, 1, 1, 1), name = 'Res76664', )(Res87243)
Glo86438 = keras.layers.GlobalAveragePooling3D(name = 'Glo86438', )(Res76664)
Con9044 = keras.layers.Concatenate(axis=1, name = 'Con9044', )([Glo86438,in0Con9044])
Min68233 = keras.layers.Minimum(name = 'Min68233', )([Sub13766,Con9044])
model = tf.keras.models.Model(inputs=[in0Sub73588,in1Sub73588,in0Mul68589,in1Mul68589,in0Glo34028,in0Glo56585,in0Con9044], outputs=Min68233)
in0Sub73588 = tf.constant([[0.4245, 0.1503]])
in1Sub73588 = tf.constant([[0.7598, 0.9463]])
in0Mul68589 = tf.constant([[[0.4141, 0.5586], [0.4167, 0.7378]]])
in1Mul68589 = tf.constant([[[0.6297, 0.92], [0.8402, 0.6872]]])
in0Glo34028 = tf.constant([[[[[1.9001, 1.84]], [[1.9353, 1.2319]]], [[[1.2232, 1.3811]], [[1.6201, 1.7278]]]]])
in0Glo56585 = tf.constant([[[[1.3025, 1.987], [1.2504, 1.0204]], [[1.0294, 1.7983], [1.482, 1.5261]]]])
in0Con9044 = tf.constant([[0.0476]])
print (np.array2string(model.predict([in0Sub73588,in1Sub73588,in0Mul68589,in1Mul68589,in0Glo34028,in0Glo56585,in0Con9044],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min68233.png')

LSub73588 = subtract_layer([[0.4245, 0.1503]], [[0.7598, 0.9463]], Sub73588), 
LFla15194 = flatten_layer(Sub73588, Fla15194), 
LMul68589 = multiply_layer([[[[0.4141, 0.5586], [0.4167, 0.7378]]], [[[0.6297, 0.92], [0.8402, 0.6872]]]], Mul68589), 
LMax45455 = max_pool1D_layer(Mul68589, 2, 8, false, Max45455), 
LFla89160 = flatten_layer(Max45455, Fla89160), 
LGlo34028 = global_average_pooling3D_layer([[[[[1.9001, 1.84]], [[1.9353, 1.2319]]], [[[1.2232, 1.3811]], [[1.6201, 1.7278]]]]], Glo34028), 
LAve7745 = average_layer([Fla89160,Glo34028], Ave7745), 
LSub13766 = subtract_layer(Fla15194,Ave7745, Sub13766), 
LGlo56585 = global_max_pool2D_layer([[[[1.3025, 1.987], [1.2504, 1.0204]], [[1.0294, 1.7983], [1.482, 1.5261]]]], Glo56585), 
LRes77473 = reshape_layer(Glo56585, [2, 1], Res77473), 
LRes87243 = reshape_layer(Res77473, [2, 1, 1], Res87243), 
LRes76664 = reshape_layer(Res87243, [2, 1, 1, 1], Res76664), 
LGlo86438 = global_average_pooling3D_layer(Res76664, Glo86438), 
LCon9044 = concatenate_layer([Glo86438,[[0.0476]]], 1, Con9044), 
LMin68233 = minimum_layer([Sub13766,Con9044], Min68233), 
exec_layers([LSub73588,LFla15194,LMul68589,LMax45455,LFla89160,LGlo34028,LAve7745,LSub13766,LGlo56585,LRes77473,LRes87243,LRes76664,LGlo86438,LCon9044,LMin68233],["Sub73588","Fla15194","Mul68589","Max45455","Fla89160","Glo34028","Ave7745","Sub13766","Glo56585","Res77473","Res87243","Res76664","Glo86438","Con9044","Min68233"],Min68233,"Min68233")

Actual (Unparsed): [[-1.3451932, -1.8255561]]

Expected (Unparsed): [[-1.34519317,-1.825556]]

Actual:   [[-1.3451, -1.8255]]

Expected: [[-1.3451, -1.8255]]