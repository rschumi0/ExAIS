import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Cro44942 = tf.keras.layers.Input(shape=([2, 1]))
in0Add46087 = tf.keras.layers.Input(shape=([1, 1]))
in1Add46087 = tf.keras.layers.Input(shape=([1, 1]))

Cro44942 = keras.layers.Cropping1D(cropping=((0, 0)), name = 'Cro44942', )(in0Cro44942)
Res20647 = keras.layers.Reshape((2, 1, 1), name = 'Res20647', )(Cro44942)
Zer68687 = keras.layers.ZeroPadding2D(padding=((1, 0), (2, 0)), name = 'Zer68687', )(Res20647)
Add46087 = keras.layers.Add(name = 'Add46087', )([in0Add46087,in1Add46087])
Res48156 = keras.layers.Reshape((1, 1, 1), name = 'Res48156', )(Add46087)
Dep57658 = keras.layers.DepthwiseConv2D((1, 1),strides=(1, 1), padding='valid', name = 'Dep57658', )(Res48156)
Zer40599 = keras.layers.ZeroPadding2D(padding=((1, 1), (1, 1)), name = 'Zer40599', )(Dep57658)
Min48966 = keras.layers.Minimum(name = 'Min48966', )([Zer68687,Zer40599])
model = tf.keras.models.Model(inputs=[in0Cro44942,in0Add46087,in1Add46087], outputs=Min48966)
w = model.get_layer('Dep57658').get_weights() 
w[0] = np.array([[[[0.046]]]])
w[1] = np.array([0])
model.get_layer('Dep57658').set_weights(w) 
in0Cro44942 = tf.constant([[[1.504], [1.1519]]])
in0Add46087 = tf.constant([[[0.2404]]])
in1Add46087 = tf.constant([[[0.7895]]])
print (np.array2string(model.predict([in0Cro44942,in0Add46087,in1Add46087],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min48966.png')

LCro44942 = cropping1D_layer([[[1.504], [1.1519]]], 0, 0, Cro44942), 
LRes20647 = reshape_layer(Cro44942, [2, 1, 1], Res20647), 
LZer68687 = zero_padding2D_layer(Res20647, 1, 0, 2, 0, Zer68687), 
LAdd46087 = add_layer([[[[0.2404]]], [[[0.7895]]]], Add46087), 
LRes48156 = reshape_layer(Add46087, [1, 1, 1], Res48156), 
LDep57658 = depthwise_conv2D_layer(Res48156, 1, 1,[[[[0.046]]]],[0], 1, 1, false, Dep57658), 
LZer40599 = zero_padding2D_layer(Dep57658, 1, 1, 1, 1, Zer40599), 
LMin48966 = minimum_layer([Zer68687,Zer40599], Min48966), 
exec_layers([LCro44942,LRes20647,LZer68687,LAdd46087,LRes48156,LDep57658,LZer40599,LMin48966],["Cro44942","Res20647","Zer68687","Add46087","Res48156","Dep57658","Zer40599","Min48966"],Min48966,"Min48966")

Actual (Unparsed): [[[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]]]

Expected (Unparsed): [[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]]]]

Actual:   [[[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]]]

Expected: [[[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]]]