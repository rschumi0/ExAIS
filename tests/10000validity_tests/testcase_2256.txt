import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Cro89051 = tf.keras.layers.Input(shape=([4, 1, 3]))
in0Min81938 = tf.keras.layers.Input(shape=([2, 2, 1, 1]))
in1Min81938 = tf.keras.layers.Input(shape=([2, 2, 1, 1]))
in0Con79682 = tf.keras.layers.Input(shape=([2]))

Cro89051 = keras.layers.Cropping2D(cropping=((3, 0), (0, 0)), name = 'Cro89051', )(in0Cro89051)
Res9210 = keras.layers.Reshape((1, 3), name = 'Res9210', )(Cro89051)
Fla81878 = keras.layers.Flatten(name = 'Fla81878', )(Res9210)
Min81938 = keras.layers.Minimum(name = 'Min81938', )([in0Min81938,in1Min81938])
ReL29583 = keras.layers.ReLU(max_value=3.1215033139240504, negative_slope=4.529486039292178, threshold=3.822274781293925, name = 'ReL29583', )(Min81938)
Glo92786 = keras.layers.GlobalAveragePooling3D(name = 'Glo92786', )(ReL29583)
Con79682 = keras.layers.Concatenate(axis=1, name = 'Con79682', )([Glo92786,in0Con79682])
Sub44609 = keras.layers.Subtract(name = 'Sub44609', )([Fla81878,Con79682])
model = tf.keras.models.Model(inputs=[in0Cro89051,in0Min81938,in1Min81938,in0Con79682], outputs=Sub44609)
in0Cro89051 = tf.constant([[[[1.1944, 1.7028, 1.7388]], [[1.5979, 1.2359, 1.3003]], [[1.3621, 1.8916, 1.729]], [[1.1798, 1.1416, 1.9701]]]])
in0Min81938 = tf.constant([[[[[0.6177]], [[0.5688]]], [[[0.9682]], [[0.4747]]]]])
in1Min81938 = tf.constant([[[[[0.358]], [[0.6356]]], [[[0.9734]], [[0.1442]]]]])
in0Con79682 = tf.constant([[0.9594, 0.2842]])
print (np.array2string(model.predict([in0Cro89051,in0Min81938,in1Min81938,in0Con79682],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sub44609.png')

LCro89051 = cropping2D_layer([[[[1.1944, 1.7028, 1.7388]], [[1.5979, 1.2359, 1.3003]], [[1.3621, 1.8916, 1.729]], [[1.1798, 1.1416, 1.9701]]]], 3, 0, 0, 0, Cro89051), 
LRes9210 = reshape_layer(Cro89051, [1, 3], Res9210), 
LFla81878 = flatten_layer(Res9210, Fla81878), 
LMin81938 = minimum_layer([[[[[[0.6177]], [[0.5688]]], [[[0.9682]], [[0.4747]]]]], [[[[[0.358]], [[0.6356]]], [[[0.9734]], [[0.1442]]]]]], Min81938), 
LReL29583 = relu_layer(Min81938, 3.1215033139240504, 4.529486039292178, 3.822274781293925, ReL29583), 
LGlo92786 = global_average_pooling3D_layer(ReL29583, Glo92786), 
LCon79682 = concatenate_layer([Glo92786,[[0.9594, 0.2842]]], 1, Con79682), 
LSub44609 = subtract_layer(Fla81878,Con79682, Sub44609), 
exec_layers([LCro89051,LRes9210,LFla81878,LMin81938,LReL29583,LGlo92786,LCon79682,LSub44609],["Cro89051","Res9210","Fla81878","Min81938","ReL29583","Glo92786","Con79682","Sub44609"],Sub44609,"Sub44609")

Actual (Unparsed): [[16.1836083, 0.1822000, 1.6859000]]

Expected (Unparsed): [[16.18360827737824,0.18219999999999992,1.6859]]

Actual:   [[16.1837, 0.1822, 1.6859]]

Expected: [[16.1837, 0.1822, 1.6859]]