import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add52682 = tf.keras.layers.Input(shape=([1, 1]))
in1Add52682 = tf.keras.layers.Input(shape=([1, 1]))
in0Min22094 = tf.keras.layers.Input(shape=([1, 1]))
in1Min22094 = tf.keras.layers.Input(shape=([1, 1]))

Add52682 = keras.layers.Add(name = 'Add52682', )([in0Add52682,in1Add52682])
Res81150 = keras.layers.Reshape((1, 1, 1), name = 'Res81150', )(Add52682)
Res31768 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res31768', )(Res81150)
Glo80396 = keras.layers.GlobalMaxPool3D(name = 'Glo80396', )(Res31768)
Res66138 = keras.layers.Reshape((1, 1), name = 'Res66138', )(Glo80396)
Min22094 = keras.layers.Minimum(name = 'Min22094', )([in0Min22094,in1Min22094])
Min78774 = keras.layers.Minimum(name = 'Min78774', )([Res66138,Min22094])
model = tf.keras.models.Model(inputs=[in0Add52682,in1Add52682,in0Min22094,in1Min22094], outputs=Min78774)
in0Add52682 = tf.constant([[[0.4952]]])
in1Add52682 = tf.constant([[[0.2525]]])
in0Min22094 = tf.constant([[[0.0276]]])
in1Min22094 = tf.constant([[[0.6593]]])
print (np.array2string(model.predict([in0Add52682,in1Add52682,in0Min22094,in1Min22094],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min78774.png')

LAdd52682 = add_layer([[[[0.4952]]], [[[0.2525]]]], Add52682), 
LRes81150 = reshape_layer(Add52682, [1, 1, 1], Res81150), 
LRes31768 = reshape_layer(Res81150, [1, 1, 1, 1], Res31768), 
LGlo80396 = global_max_pool3D_layer(Res31768, Glo80396), 
LRes66138 = reshape_layer(Glo80396, [1, 1], Res66138), 
LMin22094 = minimum_layer([[[[0.0276]]], [[[0.6593]]]], Min22094), 
LMin78774 = minimum_layer([Res66138,Min22094], Min78774), 
exec_layers([LAdd52682,LRes81150,LRes31768,LGlo80396,LRes66138,LMin22094,LMin78774],["Add52682","Res81150","Res31768","Glo80396","Res66138","Min22094","Min78774"],Min78774,"Min78774")

Actual (Unparsed): [[[0.0276000]]]

Expected (Unparsed): [[[0.0276]]]

Actual:   [[[0.0276]]]

Expected: [[[0.0276]]]