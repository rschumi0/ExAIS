import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot21205 = tf.keras.layers.Input(shape=([2]))
in1Dot21205 = tf.keras.layers.Input(shape=([2]))

Dot21205 = keras.layers.Dot(axes=(1, 1), name = 'Dot21205', )([in0Dot21205,in1Dot21205])
Res79909 = keras.layers.Reshape((1, 1), name = 'Res79909', )(Dot21205)
GRU26519 = keras.layers.GRU(3,reset_after=False, recurrent_activation='sigmoid', name = 'GRU26519', )(Res79909)
model = tf.keras.models.Model(inputs=[in0Dot21205,in1Dot21205], outputs=GRU26519)
w = model.get_layer('GRU26519').get_weights() 
w[0] = np.array([[10, 7, 10, 9, 5, 4, 10, 4, 7]])
w[1] = np.array([[4, 9, 8, 4, 3, 3, 3, 10, 8], [8, 5, 7, 2, 5, 8, 2, 1, 3], [4, 6, 1, 4, 6, 2, 5, 9, 1]])
w[2] = np.array([9, 10, 7, 10, 3, 8, 8, 8, 3])
model.get_layer('GRU26519').set_weights(w) 
in0Dot21205 = tf.constant([[0.458, 0.603]])
in1Dot21205 = tf.constant([[0.7283, 0.8577]])
print (np.array2string(model.predict([in0Dot21205,in1Dot21205],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='GRU26519.png')

LDot21205 = dot_layer([[0.458, 0.603]], [[0.7283, 0.8577]], 1, 1, Dot21205), 
LRes79909 = reshape_layer(Dot21205, [1, 1], Res79909), 
LGRU26519 = gru_layer(Res79909,[[10, 7, 10, 9, 5, 4, 10, 4, 7]],[[4, 9, 8, 4, 3, 3, 3, 10, 8], [8, 5, 7, 2, 5, 8, 2, 1, 3], [4, 6, 1, 4, 6, 2, 5, 9, 1]],[9, 10, 7, 10, 3, 8, 8, 8, 3], false, GRU26519), 
exec_layers([LDot21205,LRes79909,LGRU26519],["Dot21205","Res79909","GRU26519"],GRU26519,"GRU26519")

Actual (Unparsed): [[0.0000000, 0.0000001, 0.0000002]]

Expected (Unparsed): [[2.492124884234647e-8,1.1768178195657839e-7,1.8414447142140916e-7]]

Actual:   [[0, 0, 0]]

Expected: [[0, 0, 0]]