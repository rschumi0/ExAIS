import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add35213 = tf.keras.layers.Input(shape=([2, 2]))
in1Add35213 = tf.keras.layers.Input(shape=([2, 2]))

Add35213 = keras.layers.Add(name = 'Add35213', )([in0Add35213,in1Add35213])
Res98442 = keras.layers.Reshape((2, 2, 1), name = 'Res98442', )(Add35213)
Glo36242 = keras.layers.GlobalAveragePooling2D(name = 'Glo36242', )(Res98442)
model = tf.keras.models.Model(inputs=[in0Add35213,in1Add35213], outputs=Glo36242)
in0Add35213 = tf.constant([[[0.5281, 0.7357], [0.5091, 0.2107]]])
in1Add35213 = tf.constant([[[0.637, 0.1545], [0.3285, 0.2093]]])
print (np.array2string(model.predict([in0Add35213,in1Add35213],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo36242.png')

LAdd35213 = add_layer([[[[0.5281, 0.7357], [0.5091, 0.2107]]], [[[0.637, 0.1545], [0.3285, 0.2093]]]], Add35213), 
LRes98442 = reshape_layer(Add35213, [2, 2, 1], Res98442), 
LGlo36242 = global_average_pooling2D_layer(Res98442, Glo36242), 
exec_layers([LAdd35213,LRes98442,LGlo36242],["Add35213","Res98442","Glo36242"],Glo36242,"Glo36242")

Actual (Unparsed): [[0.8282250]]

Expected (Unparsed): [[0.828225]]

Actual:   [[0.8283]]

Expected: [[0.8283]]