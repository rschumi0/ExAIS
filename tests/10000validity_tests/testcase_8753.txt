import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Zer33151 = tf.keras.layers.Input(shape=([1, 4, 1, 1]))

Zer33151 = keras.layers.ZeroPadding3D(padding=((1, 1), (1, 1), (1, 1)), name = 'Zer33151', )(in0Zer33151)
Res13568 = keras.layers.Reshape((3, 6, 3), name = 'Res13568', )(Zer33151)
Loc84094 = keras.layers.LocallyConnected2D(3, (1, 1),strides=(1, 7), name = 'Loc84094', )(Res13568)
model = tf.keras.models.Model(inputs=[in0Zer33151], outputs=Loc84094)
w = model.get_layer('Loc84094').get_weights() 
w[0] = np.array([[[0.6509, 0.2874, 0.5049], [0.9626, 0.4348, 0.9223], [0.2641, 0.0481, 0.8459]], [[0.4536, 0.1445, 0.7614], [0.7353, 0.4709, 0.0715], [0.9716, 0.457, 0.7686]], [[0.5643, 0.968, 0.4563], [0.9857, 0.4394, 0.4691], [0.1347, 0.3005, 0.9649]]])
w[1] = np.array([[[0, 0, 0]], [[0, 0, 0]], [[0, 0, 0]]])
model.get_layer('Loc84094').set_weights(w) 
in0Zer33151 = tf.constant([[[[[1.5673]], [[1.8813]], [[1.7303]], [[1.9772]]]]])
print (np.array2string(model.predict([in0Zer33151],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Loc84094.png')

LZer33151 = zero_padding3D_layer([[[[[1.5673]], [[1.8813]], [[1.7303]], [[1.9772]]]]], 1, 1, 1, 1, 1, 1, Zer33151), 
LRes13568 = reshape_layer(Zer33151, [3, 6, 3], Res13568), 
LLoc84094 = locally_connected2D_layer(Res13568, 1, 1,[[[0.6509, 0.2874, 0.5049], [0.9626, 0.4348, 0.9223], [0.2641, 0.0481, 0.8459]], [[0.4536, 0.1445, 0.7614], [0.7353, 0.4709, 0.0715], [0.9716, 0.457, 0.7686]], [[0.5643, 0.968, 0.4563], [0.9857, 0.4394, 0.4691], [0.1347, 0.3005, 0.9649]]],[[[0, 0, 0]], [[0, 0, 0]], [[0, 0, 0]]], 1, 7, Loc84094), 
exec_layers([LZer33151,LRes13568,LLoc84094],["Zer33151","Res13568","Loc84094"],Loc84094,"Loc84094")

Actual (Unparsed): [[[[0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000]]]]

Expected (Unparsed): [[[[0.0,0.0,0.0]],[[0.0,0.0,0.0]],[[0.0,0.0,0.0]]]]

Actual:   [[[[0, 0, 0]], [[0, 0, 0]], [[0, 0, 0]]]]

Expected: [[[[0, 0, 0]], [[0, 0, 0]], [[0, 0, 0]]]]