import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot90342 = tf.keras.layers.Input(shape=([3]))
in1Dot90342 = tf.keras.layers.Input(shape=([3]))
in0Dot67022 = tf.keras.layers.Input(shape=([3]))
in1Dot67022 = tf.keras.layers.Input(shape=([3]))
in0Thr70480 = tf.keras.layers.Input(shape=([2, 2, 1, 1]))

Dot90342 = keras.layers.Dot(axes=(1, 1), name = 'Dot90342', )([in0Dot90342,in1Dot90342])
Dot67022 = keras.layers.Dot(axes=(1, 1), name = 'Dot67022', )([in0Dot67022,in1Dot67022])
Lea9838 = keras.layers.LeakyReLU(alpha=2.66373528859119, name = 'Lea9838', )(Dot67022)
Max50373 = keras.layers.Maximum(name = 'Max50373', )([Dot90342,Lea9838])
Res83299 = keras.layers.Reshape((1, 1), name = 'Res83299', )(Max50373)
Res9339 = keras.layers.Reshape((1, 1, 1), name = 'Res9339', )(Res83299)
Res32523 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res32523', )(Res9339)
Zer87557 = keras.layers.ZeroPadding3D(padding=((1, 0), (1, 0), (0, 0)), name = 'Zer87557', )(Res32523)
Thr70480 = keras.layers.ThresholdedReLU(theta=7.569927561917174, name = 'Thr70480', input_shape=(2, 2, 1, 1))(in0Thr70480)
Add10740 = keras.layers.Add(name = 'Add10740', )([Zer87557,Thr70480])
model = tf.keras.models.Model(inputs=[in0Dot90342,in1Dot90342,in0Dot67022,in1Dot67022,in0Thr70480], outputs=Add10740)
in0Dot90342 = tf.constant([[0.797, 0.4459, 0.4364]])
in1Dot90342 = tf.constant([[0.8208, 0.8355, 0.7117]])
in0Dot67022 = tf.constant([[0.4946, 0.3129, 0.5205]])
in1Dot67022 = tf.constant([[0.2018, 0.8177, 0.8199]])
in0Thr70480 = tf.constant([[[[[0.6108]], [[0.6463]]], [[[0.2463]], [[0.0336]]]]])
print (np.array2string(model.predict([in0Dot90342,in1Dot90342,in0Dot67022,in1Dot67022,in0Thr70480],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add10740.png')

LDot90342 = dot_layer([[0.797, 0.4459, 0.4364]], [[0.8208, 0.8355, 0.7117]], 1, 1, Dot90342), 
LDot67022 = dot_layer([[0.4946, 0.3129, 0.5205]], [[0.2018, 0.8177, 0.8199]], 1, 1, Dot67022), 
LLea9838 = leaky_relu_layer(Dot67022, 2.66373528859119, Lea9838), 
LMax50373 = maximum_layer([Dot90342,Lea9838], Max50373), 
LRes83299 = reshape_layer(Max50373, [1, 1], Res83299), 
LRes9339 = reshape_layer(Res83299, [1, 1, 1], Res9339), 
LRes32523 = reshape_layer(Res9339, [1, 1, 1, 1], Res32523), 
LZer87557 = zero_padding3D_layer(Res32523, 1, 0, 1, 0, 0, 0, Zer87557), 
LThr70480 = thresholded_relu_layer([[[[[0.6108]], [[0.6463]]], [[[0.2463]], [[0.0336]]]]], 7.569927561917174, Thr70480), 
LAdd10740 = add_layer([Zer87557,Thr70480], Add10740), 
exec_layers([LDot90342,LDot67022,LLea9838,LMax50373,LRes83299,LRes9339,LRes32523,LZer87557,LThr70480,LAdd10740],["Dot90342","Dot67022","Lea9838","Max50373","Res83299","Res9339","Res32523","Zer87557","Thr70480","Add10740"],Add10740,"Add10740")

Actual (Unparsed): [[[[[0.0000000]], [[0.0000000]]], [[[0.0000000]], [[1.3373129]]]]]

Expected (Unparsed): [[[[[0]],[[0]]],[[[0]],[[1.33731293]]]]]

Actual:   [[[[[0]], [[0]]], [[[0]], [[1.3374]]]]]

Expected: [[[[[0]], [[0]]], [[[0]], [[1.3374]]]]]