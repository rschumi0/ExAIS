import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max42154 = tf.keras.layers.Input(shape=([2, 1, 2]))
in1Max42154 = tf.keras.layers.Input(shape=([2, 1, 2]))
in0Add5094 = tf.keras.layers.Input(shape=([2, 1, 2]))
in1Add5094 = tf.keras.layers.Input(shape=([2, 1, 2]))

Max42154 = keras.layers.Maximum(name = 'Max42154', )([in0Max42154,in1Max42154])
Add5094 = keras.layers.Add(name = 'Add5094', )([in0Add5094,in1Add5094])
Sub59842 = keras.layers.Subtract(name = 'Sub59842', )([Max42154,Add5094])
model = tf.keras.models.Model(inputs=[in0Max42154,in1Max42154,in0Add5094,in1Add5094], outputs=Sub59842)
in0Max42154 = tf.constant([[[[0.9248, 0.3857]], [[0.1219, 0.9379]]]])
in1Max42154 = tf.constant([[[[0.9171, 0.7288]], [[0.6439, 0.3954]]]])
in0Add5094 = tf.constant([[[[0.4508, 0.9122]], [[0.7058, 0.8786]]]])
in1Add5094 = tf.constant([[[[0.9535, 0.5393]], [[0.8127, 0.7895]]]])
print (np.array2string(model.predict([in0Max42154,in1Max42154,in0Add5094,in1Add5094],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sub59842.png')

LMax42154 = maximum_layer([[[[[0.9248, 0.3857]], [[0.1219, 0.9379]]]], [[[[0.9171, 0.7288]], [[0.6439, 0.3954]]]]], Max42154), 
LAdd5094 = add_layer([[[[[0.4508, 0.9122]], [[0.7058, 0.8786]]]], [[[[0.9535, 0.5393]], [[0.8127, 0.7895]]]]], Add5094), 
LSub59842 = subtract_layer(Max42154,Add5094, Sub59842), 
exec_layers([LMax42154,LAdd5094,LSub59842],["Max42154","Add5094","Sub59842"],Sub59842,"Sub59842")

Actual (Unparsed): [[[[-0.4795000, -0.7227000]], [[-0.8746000, -0.7302000]]]]

Expected (Unparsed): [[[[-0.47950000000000015,-0.7227]],[[-0.8745999999999999,-0.7302]]]]

Actual:   [[[[-0.4795, -0.7227]], [[-0.8746, -0.7302]]]]

Expected: [[[[-0.4795, -0.7227]], [[-0.8745, -0.7302]]]]