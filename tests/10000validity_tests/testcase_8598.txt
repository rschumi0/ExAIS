import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Con34042 = tf.keras.layers.Input(shape=([2, 1]))

Con34042 = keras.layers.Conv1D(3, (1),strides=(1), padding='valid', dilation_rate=(1), name = 'Con34042', )(in0Con34042)
Res33897 = keras.layers.Reshape((2, 3, 1), name = 'Res33897', )(Con34042)
Con77504 = keras.layers.Conv2DTranspose(4, (2, 3),strides=(2, 2), padding='same', name = 'Con77504', )(Res33897)
ReL73339 = keras.layers.ReLU(max_value=1.4761591894061914, negative_slope=5.3945261075409086, threshold=4.749238476759857, name = 'ReL73339', )(Con77504)
model = tf.keras.models.Model(inputs=[in0Con34042], outputs=ReL73339)
w = model.get_layer('Con34042').get_weights() 
w[0] = np.array([[[0.3016, 0.7029, 0.8455]]])
w[1] = np.array([0, 0, 0])
model.get_layer('Con34042').set_weights(w) 
w = model.get_layer('Con77504').get_weights() 
w[0] = np.array([[[[0.3963], [0.3017], [0.5656], [0.7651]], [[0.3535], [0.6293], [0.9956], [0.5292]], [[0.7252], [0.1797], [0.1012], [0.5303]]], [[[0.1789], [0.9597], [0.8504], [0.0652]], [[0.0395], [0.6783], [0.3799], [0.615]], [[0.4172], [0.0155], [0.7552], [0.8593]]]])
w[1] = np.array([0, 0, 0, 0])
model.get_layer('Con77504').set_weights(w) 
in0Con34042 = tf.constant([[[0.7819], [0.4444]]])
print (np.array2string(model.predict([in0Con34042],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='ReL73339.png')

LCon34042 = conv1D_layer([[[0.7819], [0.4444]]], 1,[[[0.3016, 0.7029, 0.8455]]],[0, 0, 0], 1, false, 1, Con34042), 
LRes33897 = reshape_layer(Con34042, [2, 3, 1], Res33897), 
LCon77504 = conv2D_transpose_layer(Res33897, 2, 3,[[[[0.3963], [0.3017], [0.5656], [0.7651]], [[0.3535], [0.6293], [0.9956], [0.5292]], [[0.7252], [0.1797], [0.1012], [0.5303]]], [[[0.1789], [0.9597], [0.8504], [0.0652]], [[0.0395], [0.6783], [0.3799], [0.615]], [[0.4172], [0.0155], [0.7552], [0.8593]]]],[0, 0, 0, 0], 2, 2, true, Con77504), 
LReL73339 = relu_layer(Con77504, 1.4761591894061914, 5.3945261075409086, 4.749238476759857, ReL73339), 
exec_layers([LCon34042,LRes33897,LCon77504,LReL73339],["Con34042","Res33897","Con77504","ReL73339"],ReL73339,"ReL73339")

Actual (Unparsed): [[[[-25.1157408, -25.2360855, -24.9003670, -24.6465745], [-25.1701885, -24.8193315, -24.3533456, -24.9466730], [-23.5223756, -24.4968013, -23.8142490, -22.6768914], [-24.5718278, -23.7541309, -22.6681181, -24.0509092], [-22.0564794, -24.0111598, -23.3027509, -21.3190703], [-24.3592032, -23.3756171, -22.0692807, -23.7326039]], [[-25.3923046, -24.3990156, -24.5380608, -25.5369472], [-25.5696413, -24.7569965, -25.1366039, -24.8375232], [-24.5587470, -22.7548368, -22.1378875, -24.3334326], [-25.5027806, -23.6088549, -24.4935566, -23.7965278], [-23.7449574, -22.1513562, -20.3480771, -22.8396999], [-25.4790220, -23.2008683, -24.2650528, -23.4266152]], [[-25.3333526, -25.4017516, -25.2109429, -25.0666977], [-25.3642984, -25.1648857, -24.9000383, -25.2372614], [-24.4277489, -24.9815727, -24.5936378, -23.9472102], [-25.0242147, -24.5594692, -23.9422238, -24.7281458], [-23.5945934, -24.7055539, -24.3029232, -23.1754802], [-24.9033675, -24.3443374, -23.6018691, -24.5472341]], [[-25.4905402, -24.9259953, -25.0050229, -25.5727491], [-25.5913311, -25.1294570, -25.3452104, -25.1752251], [-25.0167801, -23.9915112, -23.6408624, -24.8887206], [-25.5533302, -24.4769002, -24.9797285, -24.5835658], [-24.5542553, -23.6485175, -22.6236073, -24.0397439], [-25.5398268, -24.2450173, -24.8498563, -24.3733226]]]]

Expected (Unparsed): [[[[-25.11574077922474,-25.236085484035755,-24.900367010466766,-24.64657453044777],[-25.170188489223804,-24.819331516846667,-24.353345624962163,-24.946673006821108],[-23.522375606948216,-24.49680127469011,-23.81424898021296,-22.676891308980917],[-24.57182774969463,-23.754130913209583,-22.668118037196265,-24.050909206654662],[-22.056479349820833,-24.011159807074762,-23.30275091580324,-21.31907020128816],[-24.359203175917255,-23.37561706800986,-22.069280623751414,-23.732603904128535]],[[-25.39230461459381,-24.399015549938014,-24.538060753276742,-25.536947246063285],[-25.569641314917863,-24.75699652175428,-25.136603920439335,-24.837523158271587],[-24.558747034591466,-22.754836794839367,-22.137887417611108,-24.333432541554544],[-25.502780638223655,-23.60885482550919,-24.4935565514234,-23.796527812273165],[-23.744957397306194,-22.151356186870913,-20.34807704128095,-22.839699852197533],[-25.479022022483328,-23.200868267112607,-24.265052801556287,-23.426615187455386]],[[-25.333352601613175,-25.401751612762958,-25.21094295480918,-25.06669768288126],[-25.36429845443781,-25.164885692544477,-24.90003835867381,-25.237261390389012],[-24.427748966161474,-24.98157268625931,-24.593637861261676,-23.947210250191823],[-25.024214667960305,-24.559469209290455,-23.942223881115087,-24.728145860533573],[-23.594593451815125,-24.705553926560803,-24.302923268828273,-23.175480233234843],[-24.903367551210508,-24.34433741135369,-23.601869172667858,-24.54723413724081]],[[-25.490540181147665,-24.92599527728139,-25.005022887415336,-25.572749140637413],[-25.591331113011083,-25.129457029263936,-25.345210358302992,-25.175225077950838],[-25.016780124167177,-23.99151127834823,-23.640862470009264,-24.888720576008065],[-25.55333023729436,-24.476900219171444,-24.979728518181897,-24.583565873753756],[-24.554255357816523,-23.648517567923392,-22.623607410230363,-24.03974397139078],[-25.539826811236036,-24.24501733574461,-24.84985632680072,-24.373322657908993]]]]

Actual:   [[[[-25.1157, -25.236, -24.9003, -24.6465], [-25.1701, -24.8193, -24.3533, -24.9466], [-23.5223, -24.4968, -23.8142, -22.6768], [-24.5718, -23.7541, -22.6681, -24.0509], [-22.0564, -24.0111, -23.3027, -21.319], [-24.3592, -23.3756, -22.0692, -23.7326]], [[-25.3923, -24.399, -24.538, -25.5369], [-25.5696, -24.7569, -25.1366, -24.8375], [-24.5587, -22.7548, -22.1378, -24.3334], [-25.5027, -23.6088, -24.4935, -23.7965], [-23.7449, -22.1513, -20.348, -22.8396], [-25.479, -23.2008, -24.265, -23.4266]], [[-25.3333, -25.4017, -25.2109, -25.0666], [-25.3642, -25.1648, -24.9, -25.2372], [-24.4277, -24.9815, -24.5936, -23.9472], [-25.0242, -24.5594, -23.9422, -24.7281], [-23.5945, -24.7055, -24.3029, -23.1754], [-24.9033, -24.3443, -23.6018, -24.5472]], [[-25.4905, -24.9259, -25.005, -25.5727], [-25.5913, -25.1294, -25.3452, -25.1752], [-25.0167, -23.9915, -23.6408, -24.8887], [-25.5533, -24.4769, -24.9797, -24.5835], [-24.5542, -23.6485, -22.6236, -24.0397], [-25.5398, -24.245, -24.8498, -24.3733]]]]

Expected: [[[[-25.1157, -25.236, -24.9003, -24.6465], [-25.1701, -24.8193, -24.3533, -24.9466], [-23.5223, -24.4968, -23.8142, -22.6768], [-24.5718, -23.7541, -22.6681, -24.0509], [-22.0564, -24.0111, -23.3027, -21.319], [-24.3592, -23.3756, -22.0692, -23.7326]], [[-25.3923, -24.399, -24.538, -25.5369], [-25.5696, -24.7569, -25.1366, -24.8375], [-24.5587, -22.7548, -22.1378, -24.3334], [-25.5027, -23.6088, -24.4935, -23.7965], [-23.7449, -22.1513, -20.348, -22.8396], [-25.479, -23.2008, -24.265, -23.4266]], [[-25.3333, -25.4017, -25.2109, -25.0666], [-25.3642, -25.1648, -24.9, -25.2372], [-24.4277, -24.9815, -24.5936, -23.9472], [-25.0242, -24.5594, -23.9422, -24.7281], [-23.5945, -24.7055, -24.3029, -23.1754], [-24.9033, -24.3443, -23.6018, -24.5472]], [[-25.4905, -24.9259, -25.005, -25.5727], [-25.5913, -25.1294, -25.3452, -25.1752], [-25.0167, -23.9915, -23.6408, -24.8887], [-25.5533, -24.4769, -24.9797, -24.5835], [-24.5542, -23.6485, -22.6236, -24.0397], [-25.5398, -24.245, -24.8498, -24.3733]]]]