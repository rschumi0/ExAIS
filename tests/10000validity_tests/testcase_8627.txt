import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave57802 = tf.keras.layers.Input(shape=([1, 2, 1]))
in0Dot94984 = tf.keras.layers.Input(shape=([2]))
in1Dot94984 = tf.keras.layers.Input(shape=([2]))
in0Con47818 = tf.keras.layers.Input(shape=([1]))

Ave57802 = keras.layers.AveragePooling2D(pool_size=(1, 1), strides=(1, 1), padding='same', name = 'Ave57802', )(in0Ave57802)
Res54284 = keras.layers.Reshape((1, 2), name = 'Res54284', )(Ave57802)
Fla65722 = keras.layers.Flatten(name = 'Fla65722', )(Res54284)
Dot94984 = keras.layers.Dot(axes=(1, 1), name = 'Dot94984', )([in0Dot94984,in1Dot94984])
Con47818 = keras.layers.Concatenate(axis=1, name = 'Con47818', )([Dot94984,in0Con47818])
Max66462 = keras.layers.Maximum(name = 'Max66462', )([Fla65722,Con47818])
model = tf.keras.models.Model(inputs=[in0Ave57802,in0Dot94984,in1Dot94984,in0Con47818], outputs=Max66462)
in0Ave57802 = tf.constant([[[[1.5526], [1.9934]]]])
in0Dot94984 = tf.constant([[0.2946, 0.6257]])
in1Dot94984 = tf.constant([[0.9922, 0.1181]])
in0Con47818 = tf.constant([[0.5864]])
print (np.array2string(model.predict([in0Ave57802,in0Dot94984,in1Dot94984,in0Con47818],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max66462.png')

LAve57802 = average_pooling2D_layer([[[[1.5526], [1.9934]]]], 1, 1, 1, 1, true, Ave57802), 
LRes54284 = reshape_layer(Ave57802, [1, 2], Res54284), 
LFla65722 = flatten_layer(Res54284, Fla65722), 
LDot94984 = dot_layer([[0.2946, 0.6257]], [[0.9922, 0.1181]], 1, 1, Dot94984), 
LCon47818 = concatenate_layer([Dot94984,[[0.5864]]], 1, Con47818), 
LMax66462 = maximum_layer([Fla65722,Con47818], Max66462), 
exec_layers([LAve57802,LRes54284,LFla65722,LDot94984,LCon47818,LMax66462],["Ave57802","Res54284","Fla65722","Dot94984","Con47818","Max66462"],Max66462,"Max66462")

Actual (Unparsed): [[1.5526000, 1.9934000]]

Expected (Unparsed): [[1.5526,1.9934]]

Actual:   [[1.5526, 1.9934]]

Expected: [[1.5526, 1.9934]]