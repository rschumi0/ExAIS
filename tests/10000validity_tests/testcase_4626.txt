import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add26993 = tf.keras.layers.Input(shape=([1, 2, 2, 2]))
in1Add26993 = tf.keras.layers.Input(shape=([1, 2, 2, 2]))

Add26993 = keras.layers.Add(name = 'Add26993', )([in0Add26993,in1Add26993])
Res7102 = keras.layers.Reshape((1, 2, 4), name = 'Res7102', )(Add26993)
Ave24912 = keras.layers.AveragePooling2D(pool_size=(1, 1), name = 'Ave24912', )(Res7102)
model = tf.keras.models.Model(inputs=[in0Add26993,in1Add26993], outputs=Ave24912)
in0Add26993 = tf.constant([[[[[0.7435, 0.076], [0.9472, 0.5758]], [[0.411, 0.0836], [0.697, 0.0496]]]]])
in1Add26993 = tf.constant([[[[[0.1645, 0.9263], [0.6304, 0.0115]], [[0.0087, 0.5681], [0.4932, 0.0698]]]]])
print (np.array2string(model.predict([in0Add26993,in1Add26993],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Ave24912.png')

LAdd26993 = add_layer([[[[[[0.7435, 0.076], [0.9472, 0.5758]], [[0.411, 0.0836], [0.697, 0.0496]]]]], [[[[[0.1645, 0.9263], [0.6304, 0.0115]], [[0.0087, 0.5681], [0.4932, 0.0698]]]]]], Add26993), 
LRes7102 = reshape_layer(Add26993, [1, 2, 4], Res7102), 
LAve24912 = average_pooling2D_layer(Res7102, 1, 1, Ave24912), 
exec_layers([LAdd26993,LRes7102,LAve24912],["Add26993","Res7102","Ave24912"],Ave24912,"Ave24912")

Actual (Unparsed): [[[[0.9080000, 1.0023000, 1.5776000, 0.5873000], [0.4197000, 0.6517000, 1.1902000, 0.1194000]]]]

Expected (Unparsed): [[[[0.908,1.0023,1.5776,0.5872999999999999],[0.41969999999999996,0.6517000000000001,1.1902,0.1194]]]]

Actual:   [[[[0.908, 1.0023, 1.5776, 0.5873], [0.4197, 0.6517, 1.1902, 0.1194]]]]

Expected: [[[[0.908, 1.0023, 1.5776, 0.5873], [0.4197, 0.6518, 1.1902, 0.1194]]]]