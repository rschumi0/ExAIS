import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add72024 = tf.keras.layers.Input(shape=([2, 2, 1]))
in1Add72024 = tf.keras.layers.Input(shape=([2, 2, 1]))

Add72024 = keras.layers.Add(name = 'Add72024', )([in0Add72024,in1Add72024])
Res11686 = keras.layers.Reshape((2, 2), name = 'Res11686', )(Add72024)
Loc20131 = keras.layers.LocallyConnected1D(3, (2),strides=(12), name = 'Loc20131', )(Res11686)
Res13770 = keras.layers.Reshape((1, 3, 1), name = 'Res13770', )(Loc20131)
Res50520 = keras.layers.Reshape((1, 3, 1, 1), name = 'Res50520', )(Res13770)
Zer94926 = keras.layers.ZeroPadding3D(padding=((1, 1), (1, 1), (1, 1)), name = 'Zer94926', )(Res50520)
model = tf.keras.models.Model(inputs=[in0Add72024,in1Add72024], outputs=Zer94926)
w = model.get_layer('Loc20131').get_weights() 
w[0] = np.array([[[0.5846, 0.1771, 0.7144], [0.7915, 0.2834, 0.3637], [0.1128, 0.7613, 0.5226], [0.2819, 0.7237, 0.0535]]])
w[1] = np.array([[0, 0, 0]])
model.get_layer('Loc20131').set_weights(w) 
in0Add72024 = tf.constant([[[[0.7934], [0.5038]], [[0.1445], [0.2505]]]])
in1Add72024 = tf.constant([[[[0.51], [0.1491]], [[0.6436], [0.3176]]]])
print (np.array2string(model.predict([in0Add72024,in1Add72024],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Zer94926.png')

LAdd72024 = add_layer([[[[[0.7934], [0.5038]], [[0.1445], [0.2505]]]], [[[[0.51], [0.1491]], [[0.6436], [0.3176]]]]], Add72024), 
LRes11686 = reshape_layer(Add72024, [2, 2], Res11686), 
LLoc20131 = locally_connected1D_layer(Res11686, 2,[[[0.5846, 0.1771, 0.7144], [0.7915, 0.2834, 0.3637], [0.1128, 0.7613, 0.5226], [0.2819, 0.7237, 0.0535]]],[[0, 0, 0]], 12, Loc20131), 
LRes13770 = reshape_layer(Loc20131, [1, 3, 1], Res13770), 
LRes50520 = reshape_layer(Res13770, [1, 3, 1, 1], Res50520), 
LZer94926 = zero_padding3D_layer(Res50520, 1, 1, 1, 1, 1, 1, Zer94926), 
exec_layers([LAdd72024,LRes11686,LLoc20131,LRes13770,LRes50520,LZer94926],["Add72024","Res11686","Loc20131","Res13770","Res50520","Zer94926"],Zer94926,"Zer94926")

Actual (Unparsed): [[[[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [1.5277830], [0.0000000]], [[0.0000000], [1.4269785], [0.0000000]], [[0.0000000], [1.6108631], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]]]]

Expected (Unparsed): [[[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[1.52778306],[0]],[[0],[1.4269785],[0]],[[0],[1.6108631],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]]]]]

Actual:   [[[[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [1.5278], [0]], [[0], [1.427], [0]], [[0], [1.6109], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]]]]

Expected: [[[[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [1.5278], [0]], [[0], [1.427], [0]], [[0], [1.6109], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]]]]