import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min36204 = tf.keras.layers.Input(shape=([1, 2, 1]))
in1Min36204 = tf.keras.layers.Input(shape=([1, 2, 1]))
in0Ave27104 = tf.keras.layers.Input(shape=([2, 1, 2, 1]))
in1Ave27104 = tf.keras.layers.Input(shape=([2, 1, 2, 1]))

Min36204 = keras.layers.Minimum(name = 'Min36204', )([in0Min36204,in1Min36204])
Res59582 = keras.layers.Reshape((1, 2), name = 'Res59582', )(Min36204)
Ave27104 = keras.layers.Average(name = 'Ave27104', )([in0Ave27104,in1Ave27104])
Res32642 = keras.layers.Reshape((2, 1, 2), name = 'Res32642', )(Ave27104)
Res83489 = keras.layers.Reshape((2, 2), name = 'Res83489', )(Res32642)
Max9307 = keras.layers.MaxPool1D(pool_size=(2), strides=(2), padding='same', name = 'Max9307', )(Res83489)
Add1619 = keras.layers.Add(name = 'Add1619', )([Res59582,Max9307])
model = tf.keras.models.Model(inputs=[in0Min36204,in1Min36204,in0Ave27104,in1Ave27104], outputs=Add1619)
in0Min36204 = tf.constant([[[[0.7914], [0.0048]]]])
in1Min36204 = tf.constant([[[[0.9864], [0.7116]]]])
in0Ave27104 = tf.constant([[[[[0.2131], [0.2826]]], [[[0.3664], [0.3743]]]]])
in1Ave27104 = tf.constant([[[[[0.0114], [0.5774]]], [[[0.9615], [0.58]]]]])
print (np.array2string(model.predict([in0Min36204,in1Min36204,in0Ave27104,in1Ave27104],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add1619.png')

LMin36204 = minimum_layer([[[[[0.7914], [0.0048]]]], [[[[0.9864], [0.7116]]]]], Min36204), 
LRes59582 = reshape_layer(Min36204, [1, 2], Res59582), 
LAve27104 = average_layer([[[[[[0.2131], [0.2826]]], [[[0.3664], [0.3743]]]]], [[[[[0.0114], [0.5774]]], [[[0.9615], [0.58]]]]]], Ave27104), 
LRes32642 = reshape_layer(Ave27104, [2, 1, 2], Res32642), 
LRes83489 = reshape_layer(Res32642, [2, 2], Res83489), 
LMax9307 = max_pool1D_layer(Res83489, 2, 2, true, Max9307), 
LAdd1619 = add_layer([Res59582,Max9307], Add1619), 
exec_layers([LMin36204,LRes59582,LAve27104,LRes32642,LRes83489,LMax9307,LAdd1619],["Min36204","Res59582","Ave27104","Res32642","Res83489","Max9307","Add1619"],Add1619,"Add1619")

Actual (Unparsed): [[[1.4553500, 0.4819500]]]

Expected (Unparsed): [[[1.4553500000000001,0.48195]]]

Actual:   [[[1.4554, 0.482]]]

Expected: [[[1.4554, 0.482]]]