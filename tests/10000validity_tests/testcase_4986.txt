import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Con27736 = tf.keras.layers.Input(shape=([1, 2, 1, 2]))
in0Max52376 = tf.keras.layers.Input(shape=([1, 2, 2]))
in1Max52376 = tf.keras.layers.Input(shape=([1, 2, 2]))
in0Con81288 = tf.keras.layers.Input(shape=([1, 2, 1]))

Con27736 = keras.layers.Conv3DTranspose(3, (1, 1, 1),strides=(1, 1, 1), padding='valid', name = 'Con27736', )(in0Con27736)
Res24734 = keras.layers.Reshape((1, 2, 3), name = 'Res24734', )(Con27736)
Max52376 = keras.layers.Maximum(name = 'Max52376', )([in0Max52376,in1Max52376])
Con81288 = keras.layers.Concatenate(axis=3, name = 'Con81288', )([Max52376,in0Con81288])
Min70242 = keras.layers.Minimum(name = 'Min70242', )([Res24734,Con81288])
model = tf.keras.models.Model(inputs=[in0Con27736,in0Max52376,in1Max52376,in0Con81288], outputs=Min70242)
w = model.get_layer('Con27736').get_weights() 
w[0] = np.array([[[[[0.6076, 0.3878], [0.1047, 0.1251], [0.2532, 0.8829]]]]])
w[1] = np.array([0, 0, 0])
model.get_layer('Con27736').set_weights(w) 
in0Con27736 = tf.constant([[[[[0.4526, 0.2276]], [[0.0482, 0.7073]]]]])
in0Max52376 = tf.constant([[[[0.5288, 0.7805], [0.9486, 0.2569]]]])
in1Max52376 = tf.constant([[[[0.016, 0.9764], [0.2897, 0.2343]]]])
in0Con81288 = tf.constant([[[[0.615], [0.5461]]]])
print (np.array2string(model.predict([in0Con27736,in0Max52376,in1Max52376,in0Con81288],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min70242.png')

LCon27736 = conv3D_transpose_layer([[[[[0.4526, 0.2276]], [[0.0482, 0.7073]]]]], 1, 1, 1,[[[[[0.6076, 0.3878], [0.1047, 0.1251], [0.2532, 0.8829]]]]],[0, 0, 0], 1, 1, 1, false, Con27736), 
LRes24734 = reshape_layer(Con27736, [1, 2, 3], Res24734), 
LMax52376 = maximum_layer([[[[[0.5288, 0.7805], [0.9486, 0.2569]]]], [[[[0.016, 0.9764], [0.2897, 0.2343]]]]], Max52376), 
LCon81288 = concatenate_layer([Max52376,[[[[0.615], [0.5461]]]]], 3, Con81288), 
LMin70242 = minimum_layer([Res24734,Con81288], Min70242), 
exec_layers([LCon27736,LRes24734,LMax52376,LCon81288,LMin70242],["Con27736","Res24734","Max52376","Con81288","Min70242"],Min70242,"Min70242")

Actual (Unparsed): [[[[0.3632630, 0.0758600, 0.3155464], [0.3035773, 0.0935298, 0.5461000]]]]

Expected (Unparsed): [[[[0.36326304000000004,0.07585998,0.31554635999999997],[0.30357725999999996,0.09352977,0.5461]]]]

Actual:   [[[[0.3633, 0.0759, 0.3156], [0.3036, 0.0936, 0.5461]]]]

Expected: [[[[0.3633, 0.0759, 0.3156], [0.3036, 0.0936, 0.5461]]]]