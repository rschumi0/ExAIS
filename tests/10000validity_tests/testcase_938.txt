import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub30182 = tf.keras.layers.Input(shape=([3]))
in1Sub30182 = tf.keras.layers.Input(shape=([3]))

Sub30182 = keras.layers.Subtract(name = 'Sub30182', )([in0Sub30182,in1Sub30182])
Res78849 = keras.layers.Reshape((3, 1), name = 'Res78849', )(Sub30182)
Max37927 = keras.layers.MaxPool1D(pool_size=(3), name = 'Max37927', )(Res78849)
model = tf.keras.models.Model(inputs=[in0Sub30182,in1Sub30182], outputs=Max37927)
in0Sub30182 = tf.constant([[0.6005, 0.0568, 0.9594]])
in1Sub30182 = tf.constant([[0.8803, 0.2105, 0.4525]])
print (np.array2string(model.predict([in0Sub30182,in1Sub30182],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max37927.png')

LSub30182 = subtract_layer([[0.6005, 0.0568, 0.9594]], [[0.8803, 0.2105, 0.4525]], Sub30182), 
LRes78849 = reshape_layer(Sub30182, [3, 1], Res78849), 
LMax37927 = max_pool1D_layer(Res78849, 3, Max37927), 
exec_layers([LSub30182,LRes78849,LMax37927],["Sub30182","Res78849","Max37927"],Max37927,"Max37927")

Actual (Unparsed): [[[0.5069000]]]

Expected (Unparsed): [[[0.5069]]]

Actual:   [[[0.5069]]]

Expected: [[[0.5069]]]