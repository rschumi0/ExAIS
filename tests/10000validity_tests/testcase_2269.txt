import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul26254 = tf.keras.layers.Input(shape=([1, 2, 2, 1]))
in1Mul26254 = tf.keras.layers.Input(shape=([1, 2, 2, 1]))

Mul26254 = keras.layers.Multiply(name = 'Mul26254', )([in0Mul26254,in1Mul26254])
Res3564 = keras.layers.Reshape((1, 2, 2), name = 'Res3564', )(Mul26254)
Res85222 = keras.layers.Reshape((1, 4), name = 'Res85222', )(Res3564)
Loc75452 = keras.layers.LocallyConnected1D(2, (1),strides=(1), name = 'Loc75452', )(Res85222)
Fla38848 = keras.layers.Flatten(name = 'Fla38848', )(Loc75452)
ReL14373 = keras.layers.ReLU(max_value=1.3994644247693218, negative_slope=3.4284369078522725, threshold=5.854933045113141, name = 'ReL14373', )(Fla38848)
model = tf.keras.models.Model(inputs=[in0Mul26254,in1Mul26254], outputs=ReL14373)
w = model.get_layer('Loc75452').get_weights() 
w[0] = np.array([[[0.2098, 0.3395], [0.2898, 0.3506], [0.8379, 0.9976], [0.2682, 0.0409]]])
w[1] = np.array([[0, 0]])
model.get_layer('Loc75452').set_weights(w) 
in0Mul26254 = tf.constant([[[[[0.5869], [0.6763]], [[0.0044], [0.3273]]]]])
in1Mul26254 = tf.constant([[[[[0.7234], [0.1949]], [[0.9334], [0.5114]]]]])
print (np.array2string(model.predict([in0Mul26254,in1Mul26254],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='ReL14373.png')

LMul26254 = multiply_layer([[[[[[0.5869], [0.6763]], [[0.0044], [0.3273]]]]], [[[[[0.7234], [0.1949]], [[0.9334], [0.5114]]]]]], Mul26254), 
LRes3564 = reshape_layer(Mul26254, [1, 2, 2], Res3564), 
LRes85222 = reshape_layer(Res3564, [1, 4], Res85222), 
LLoc75452 = locally_connected1D_layer(Res85222, 1,[[[0.2098, 0.3395], [0.2898, 0.3506], [0.8379, 0.9976], [0.2682, 0.0409]]],[[0, 0]], 1, Loc75452), 
LFla38848 = flatten_layer(Loc75452, Fla38848), 
LReL14373 = relu_layer(Fla38848, 1.3994644247693218, 3.4284369078522725, 5.854933045113141, ReL14373), 
exec_layers([LMul26254,LRes3564,LRes85222,LLoc75452,LFla38848,LReL14373],["Mul26254","Res3564","Res85222","Loc75452","Fla38848","ReL14373"],ReL14373,"ReL14373")

Actual (Unparsed): [[-19.4712176, -19.3831407]]

Expected (Unparsed): [[-19.471217645028815,-19.383140717347427]]

Actual:   [[-19.4712, -19.3831]]

Expected: [[-19.4712, -19.3831]]