import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add56361 = tf.keras.layers.Input(shape=([2, 2]))
in1Add56361 = tf.keras.layers.Input(shape=([2, 2]))
in0Min76618 = tf.keras.layers.Input(shape=([2, 1, 1, 2]))
in1Min76618 = tf.keras.layers.Input(shape=([2, 1, 1, 2]))
in0ELU65372 = tf.keras.layers.Input(shape=([2, 1, 1]))

Add56361 = keras.layers.Add(name = 'Add56361', )([in0Add56361,in1Add56361])
Res43694 = keras.layers.Reshape((2, 2, 1), name = 'Res43694', )(Add56361)
Min76618 = keras.layers.Minimum(name = 'Min76618', )([in0Min76618,in1Min76618])
Res63700 = keras.layers.Reshape((2, 2, 1), name = 'Res63700', )(Min76618)
Min37576 = keras.layers.Minimum(name = 'Min37576', )([Res43694,Res63700])
Res68819 = keras.layers.Reshape((2, 2, 1, 1), name = 'Res68819', )(Min37576)
Glo58632 = keras.layers.GlobalMaxPool3D(name = 'Glo58632', )(Res68819)
ELU65372 = keras.layers.ELU(alpha=3.22610071059389, name = 'ELU65372', input_shape=(2, 1, 1))(in0ELU65372)
Res82314 = keras.layers.Reshape((2, 1), name = 'Res82314', )(ELU65372)
Ave3914 = keras.layers.AveragePooling1D(pool_size=(2), strides=(2), padding='valid', name = 'Ave3914', )(Res82314)
Glo14176 = keras.layers.GlobalMaxPool1D(name = 'Glo14176', )(Ave3914)
Max43446 = keras.layers.Maximum(name = 'Max43446', )([Glo58632,Glo14176])
model = tf.keras.models.Model(inputs=[in0Add56361,in1Add56361,in0Min76618,in1Min76618,in0ELU65372], outputs=Max43446)
in0Add56361 = tf.constant([[[0.3828, 0.9104], [0.8676, 0.357]]])
in1Add56361 = tf.constant([[[0.4231, 0.1562], [0.0022, 0.6505]]])
in0Min76618 = tf.constant([[[[[0.9279, 0.3206]]], [[[0.3894, 0.6646]]]]])
in1Min76618 = tf.constant([[[[[0.6715, 0.3726]]], [[[0.5939, 0.8069]]]]])
in0ELU65372 = tf.constant([[[[0.5149]], [[0.2135]]]])
print (np.array2string(model.predict([in0Add56361,in1Add56361,in0Min76618,in1Min76618,in0ELU65372],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max43446.png')

LAdd56361 = add_layer([[[[0.3828, 0.9104], [0.8676, 0.357]]], [[[0.4231, 0.1562], [0.0022, 0.6505]]]], Add56361), 
LRes43694 = reshape_layer(Add56361, [2, 2, 1], Res43694), 
LMin76618 = minimum_layer([[[[[[0.9279, 0.3206]]], [[[0.3894, 0.6646]]]]], [[[[[0.6715, 0.3726]]], [[[0.5939, 0.8069]]]]]], Min76618), 
LRes63700 = reshape_layer(Min76618, [2, 2, 1], Res63700), 
LMin37576 = minimum_layer([Res43694,Res63700], Min37576), 
LRes68819 = reshape_layer(Min37576, [2, 2, 1, 1], Res68819), 
LGlo58632 = global_max_pool3D_layer(Res68819, Glo58632), 
LELU65372 = elu_layer([[[[0.5149]], [[0.2135]]]], 3.22610071059389, ELU65372), 
LRes82314 = reshape_layer(ELU65372, [2, 1], Res82314), 
LAve3914 = average_pooling1D_layer(Res82314, 2, 2, false, Ave3914), 
LGlo14176 = global_max_pool1D_layer(Ave3914, Glo14176), 
LMax43446 = maximum_layer([Glo58632,Glo14176], Max43446), 
exec_layers([LAdd56361,LRes43694,LMin76618,LRes63700,LMin37576,LRes68819,LGlo58632,LELU65372,LRes82314,LAve3914,LGlo14176,LMax43446],["Add56361","Res43694","Min76618","Res63700","Min37576","Res68819","Glo58632","ELU65372","Res82314","Ave3914","Glo14176","Max43446"],Max43446,"Max43446")

Actual (Unparsed): [[0.6715000]]

Expected (Unparsed): [[0.6715]]

Actual:   [[0.6715]]

Expected: [[0.6715]]