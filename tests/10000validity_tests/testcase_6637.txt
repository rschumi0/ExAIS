import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min44413 = tf.keras.layers.Input(shape=([1, 1, 1, 1]))
in1Min44413 = tf.keras.layers.Input(shape=([1, 1, 1, 1]))
in0Max4804 = tf.keras.layers.Input(shape=([1, 1, 2]))
in1Max4804 = tf.keras.layers.Input(shape=([1, 1, 2]))
in0Con5708 = tf.keras.layers.Input(shape=([3, 2]))
in0ELU57017 = tf.keras.layers.Input(shape=([1, 2, 2, 2]))

Min44413 = keras.layers.Minimum(name = 'Min44413', )([in0Min44413,in1Min44413])
Res44394 = keras.layers.Reshape((1, 1, 1), name = 'Res44394', )(Min44413)
Res69758 = keras.layers.Reshape((1, 1), name = 'Res69758', )(Res44394)
Glo23056 = keras.layers.GlobalMaxPool1D(name = 'Glo23056', )(Res69758)
Res65277 = keras.layers.Reshape((1, 1), name = 'Res65277', )(Glo23056)
Zer84782 = keras.layers.ZeroPadding1D(padding=((2, 0)), name = 'Zer84782', )(Res65277)
Max4804 = keras.layers.Maximum(name = 'Max4804', )([in0Max4804,in1Max4804])
Zer41526 = keras.layers.ZeroPadding2D(padding=((1, 1), (1, 1)), name = 'Zer41526', )(Max4804)
Res79224 = keras.layers.Reshape((3, 6), name = 'Res79224', )(Zer41526)
Con5708 = keras.layers.Concatenate(axis=2, name = 'Con5708', )([Res79224,in0Con5708])
ELU57017 = keras.layers.ELU(alpha=-5.082833091714223, name = 'ELU57017', input_shape=(1, 2, 2, 2))(in0ELU57017)
Res39693 = keras.layers.Reshape((1, 2, 4), name = 'Res39693', )(ELU57017)
Res9911 = keras.layers.Reshape((1, 8), name = 'Res9911', )(Res39693)
Dot13 = keras.layers.Dot(axes=(2, 2), name = 'Dot13', )([Con5708,Res9911])
Add45624 = keras.layers.Add(name = 'Add45624', )([Zer84782,Dot13])
model = tf.keras.models.Model(inputs=[in0Min44413,in1Min44413,in0Max4804,in1Max4804,in0Con5708,in0ELU57017], outputs=Add45624)
in0Min44413 = tf.constant([[[[[0.3306]]]]])
in1Min44413 = tf.constant([[[[[0.9742]]]]])
in0Max4804 = tf.constant([[[[0.066, 0.6834]]]])
in1Max4804 = tf.constant([[[[0.0834, 0.1689]]]])
in0Con5708 = tf.constant([[[0.1191, 0.8314], [0.2382, 0.7344], [0.1932, 0.5999]]])
in0ELU57017 = tf.constant([[[[[0.4018, 0.5382], [0.1682, 0.6359]], [[0.4436, 0.7239], [0.9942, 0.8217]]]]])
print (np.array2string(model.predict([in0Min44413,in1Min44413,in0Max4804,in1Max4804,in0Con5708,in0ELU57017],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add45624.png')

LMin44413 = minimum_layer([[[[[[0.3306]]]]], [[[[[0.9742]]]]]], Min44413), 
LRes44394 = reshape_layer(Min44413, [1, 1, 1], Res44394), 
LRes69758 = reshape_layer(Res44394, [1, 1], Res69758), 
LGlo23056 = global_max_pool1D_layer(Res69758, Glo23056), 
LRes65277 = reshape_layer(Glo23056, [1, 1], Res65277), 
LZer84782 = zero_padding1D_layer(Res65277, 2, 0, Zer84782), 
LMax4804 = maximum_layer([[[[[0.066, 0.6834]]]], [[[[0.0834, 0.1689]]]]], Max4804), 
LZer41526 = zero_padding2D_layer(Max4804, 1, 1, 1, 1, Zer41526), 
LRes79224 = reshape_layer(Zer41526, [3, 6], Res79224), 
LCon5708 = concatenate_layer([Res79224,[[[0.1191, 0.8314], [0.2382, 0.7344], [0.1932, 0.5999]]]], 2, Con5708), 
LELU57017 = elu_layer([[[[[0.4018, 0.5382], [0.1682, 0.6359]], [[0.4436, 0.7239], [0.9942, 0.8217]]]]], -5.082833091714223, ELU57017), 
LRes39693 = reshape_layer(ELU57017, [1, 2, 4], Res39693), 
LRes9911 = reshape_layer(Res39693, [1, 8], Res9911), 
LDot13 = dot_layer(Con5708,Res9911, 2, 2, Dot13), 
LAdd45624 = add_layer([Zer84782,Dot13], Add45624), 
exec_layers([LMin44413,LRes44394,LRes69758,LGlo23056,LRes65277,LZer84782,LMax4804,LZer41526,LRes79224,LCon5708,LELU57017,LRes39693,LRes9911,LDot13,LAdd45624],["Min44413","Res44394","Res69758","Glo23056","Res65277","Zer84782","Max4804","Zer41526","Res79224","Con5708","ELU57017","Res39693","Res9911","Dot13","Add45624"],Add45624,"Add45624")

Actual (Unparsed): [[[0.8015706], [1.2888768], [1.0156173]]]

Expected (Unparsed): [[[0.8015706],[1.2888768600000002],[1.01561727]]]

Actual:   [[[0.8016], [1.2889], [1.0157]]]

Expected: [[[0.8016], [1.2889], [1.0157]]]