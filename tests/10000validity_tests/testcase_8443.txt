import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub14043 = tf.keras.layers.Input(shape=([3, 3]))
in1Sub14043 = tf.keras.layers.Input(shape=([3, 3]))

Sub14043 = keras.layers.Subtract(name = 'Sub14043', )([in0Sub14043,in1Sub14043])
Res61631 = keras.layers.Reshape((3, 3, 1), name = 'Res61631', )(Sub14043)
Res25638 = keras.layers.Reshape((3, 3, 1, 1), name = 'Res25638', )(Res61631)
Glo63261 = keras.layers.GlobalMaxPool3D(name = 'Glo63261', )(Res25638)
Res39491 = keras.layers.Reshape((1, 1), name = 'Res39491', )(Glo63261)
Zer475 = keras.layers.ZeroPadding1D(padding=((1, 1)), name = 'Zer475', )(Res39491)
model = tf.keras.models.Model(inputs=[in0Sub14043,in1Sub14043], outputs=Zer475)
in0Sub14043 = tf.constant([[[0.6555, 0.5966, 0.7566], [0.4424, 0.3133, 0.8663], [0.4341, 0.4049, 0.2312]]])
in1Sub14043 = tf.constant([[[0.249, 0.9989, 0.8757], [0.866, 0.1066, 0.8706], [0.5258, 0.3472, 0.7138]]])
print (np.array2string(model.predict([in0Sub14043,in1Sub14043],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Zer475.png')

LSub14043 = subtract_layer([[[0.6555, 0.5966, 0.7566], [0.4424, 0.3133, 0.8663], [0.4341, 0.4049, 0.2312]]], [[[0.249, 0.9989, 0.8757], [0.866, 0.1066, 0.8706], [0.5258, 0.3472, 0.7138]]], Sub14043), 
LRes61631 = reshape_layer(Sub14043, [3, 3, 1], Res61631), 
LRes25638 = reshape_layer(Res61631, [3, 3, 1, 1], Res25638), 
LGlo63261 = global_max_pool3D_layer(Res25638, Glo63261), 
LRes39491 = reshape_layer(Glo63261, [1, 1], Res39491), 
LZer475 = zero_padding1D_layer(Res39491, 1, 1, Zer475), 
exec_layers([LSub14043,LRes61631,LRes25638,LGlo63261,LRes39491,LZer475],["Sub14043","Res61631","Res25638","Glo63261","Res39491","Zer475"],Zer475,"Zer475")

Actual (Unparsed): [[[0.0000000], [0.4065000], [0.0000000]]]

Expected (Unparsed): [[[0],[0.4065],[0]]]

Actual:   [[[0], [0.4065], [0]]]

Expected: [[[0], [0.4065], [0]]]