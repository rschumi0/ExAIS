import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Zer93288 = tf.keras.layers.Input(shape=([2, 1]))

Zer93288 = keras.layers.ZeroPadding1D(padding=((1, 1)), name = 'Zer93288', )(in0Zer93288)
Res70095 = keras.layers.Reshape((4, 1, 1), name = 'Res70095', )(Zer93288)
Res26829 = keras.layers.Reshape((4, 1, 1, 1), name = 'Res26829', )(Res70095)
Con13604 = keras.layers.Conv3DTranspose(4, (2, 1, 1),strides=(1, 1, 1), padding='valid', name = 'Con13604', )(Res26829)
Res88671 = keras.layers.Reshape((5, 1, 4), name = 'Res88671', )(Con13604)
Glo55380 = keras.layers.GlobalAveragePooling2D(name = 'Glo55380', )(Res88671)
Res2217 = keras.layers.Reshape((4, 1), name = 'Res2217', )(Glo55380)
Sep22864 = keras.layers.SeparableConv1D(2, (1),strides=(2), padding='valid', name = 'Sep22864', )(Res2217)
Zer99645 = keras.layers.ZeroPadding1D(padding=((1, 1)), name = 'Zer99645', )(Sep22864)
model = tf.keras.models.Model(inputs=[in0Zer93288], outputs=Zer99645)
w = model.get_layer('Con13604').get_weights() 
w[0] = np.array([[[[[0.944], [0.8442], [0.4251], [0.5541]]]], [[[[0.7454], [0.8663], [0.7214], [0.8801]]]]])
w[1] = np.array([0, 0, 0, 0])
model.get_layer('Con13604').set_weights(w) 
w = model.get_layer('Sep22864').get_weights() 
w[0] = np.array([[[0.7137]]])
w[1] = np.array([[[0.3279, 0.664]]])
w[2] = np.array([0, 0])
model.get_layer('Sep22864').set_weights(w) 
in0Zer93288 = tf.constant([[[1.6068], [1.0463]]])
print (np.array2string(model.predict([in0Zer93288],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Zer99645.png')

LZer93288 = zero_padding1D_layer([[[1.6068], [1.0463]]], 1, 1, Zer93288), 
LRes70095 = reshape_layer(Zer93288, [4, 1, 1], Res70095), 
LRes26829 = reshape_layer(Res70095, [4, 1, 1, 1], Res26829), 
LCon13604 = conv3D_transpose_layer(Res26829, 2, 1, 1,[[[[[0.944], [0.8442], [0.4251], [0.5541]]]], [[[[0.7454], [0.8663], [0.7214], [0.8801]]]]],[0, 0, 0, 0], 1, 1, 1, false, Con13604), 
LRes88671 = reshape_layer(Con13604, [5, 1, 4], Res88671), 
LGlo55380 = global_average_pooling2D_layer(Res88671, Glo55380), 
LRes2217 = reshape_layer(Glo55380, [4, 1], Res2217), 
LSep22864 = separable_conv1D_layer(Res2217, 1,[[[[0.7137]]],[[[0.3279, 0.664]]]],[0, 0], 2, false, Sep22864), 
LZer99645 = zero_padding1D_layer(Sep22864, 1, 1, Zer99645), 
exec_layers([LZer93288,LRes70095,LRes26829,LCon13604,LRes88671,LGlo55380,LRes2217,LSep22864,LZer99645],["Zer93288","Res70095","Res26829","Con13604","Res88671","Glo55380","Res2217","Sep22864","Zer99645"],Zer99645,"Zer99645")

Actual (Unparsed): [[[0.0000000, 0.0000000], [0.2097844, 0.4248150], [0.1423688, 0.2882979], [0.0000000, 0.0000000]]]

Expected (Unparsed): [[[0,0],[0.20978441377818444,0.42481503735503034],[0.1423687879701009,0.28829788109834403],[0,0]]]

Actual:   [[[0, 0], [0.2098, 0.4249], [0.1424, 0.2883], [0, 0]]]

Expected: [[[0, 0], [0.2098, 0.4249], [0.1424, 0.2883], [0, 0]]]