import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add84420 = tf.keras.layers.Input(shape=([2, 2, 2]))
in1Add84420 = tf.keras.layers.Input(shape=([2, 2, 2]))

Add84420 = keras.layers.Add(name = 'Add84420', )([in0Add84420,in1Add84420])
Lay95933 = keras.layers.LayerNormalization(axis=1, epsilon=2.3433449905844093, name = 'Lay95933', )(Add84420)
model = tf.keras.models.Model(inputs=[in0Add84420,in1Add84420], outputs=Lay95933)
in0Add84420 = tf.constant([[[[0.0342, 0.4161], [0.7539, 0.7582]], [[0.3464, 0.6146], [0.4503, 0.321]]]])
in1Add84420 = tf.constant([[[[0.473, 0.7113], [0.7519, 0.7337]], [[0.2351, 0.828], [0.1132, 0.8123]]]])
print (np.array2string(model.predict([in0Add84420,in1Add84420],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Lay95933.png')

LAdd84420 = add_layer([[[[[0.0342, 0.4161], [0.7539, 0.7582]], [[0.3464, 0.6146], [0.4503, 0.321]]]], [[[[0.473, 0.7113], [0.7519, 0.7337]], [[0.2351, 0.828], [0.1132, 0.8123]]]]], Add84420), 
LLay95933 = layer_normalization_layer(Add84420, 1, 2.3433449905844093, Lay95933), 
exec_layers([LAdd84420,LLay95933],["Add84420","Lay95933"],Lay95933,"Lay95933")

Actual (Unparsed): [[[[-0.0242612, -0.1024115], [0.2941628, 0.1163331]], [[0.0242612, 0.1024115], [-0.2941628, -0.1163331]]]]

Expected (Unparsed): [[[[-0.024261231988455666,-0.10241147151687462],[0.29416283533330134,0.11633311793956132]],[[0.024261231988455666,0.10241147151687462],[-0.2941628353333014,-0.11633311793956132]]]]

Actual:   [[[[-0.0242, -0.1024], [0.2942, 0.1164]], [[0.0243, 0.1025], [-0.2941, -0.1163]]]]

Expected: [[[[-0.0242, -0.1024], [0.2942, 0.1164]], [[0.0243, 0.1025], [-0.2941, -0.1163]]]]