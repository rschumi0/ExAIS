import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Zer51049 = tf.keras.layers.Input(shape=([2, 3, 1, 4]))
in0Dot9470 = tf.keras.layers.Input(shape=([3, 2]))
in1Dot9470 = tf.keras.layers.Input(shape=([3, 2]))
in0Glo85064 = tf.keras.layers.Input(shape=([1, 1, 2]))
in0Con21277 = tf.keras.layers.Input(shape=([7]))
in0Con75997 = tf.keras.layers.Input(shape=([51]))

Zer51049 = keras.layers.ZeroPadding3D(padding=((1, 1), (1, 1), (1, 1)), name = 'Zer51049', )(in0Zer51049)
Res90734 = keras.layers.Reshape((4, 5, 12), name = 'Res90734', )(Zer51049)
Res30725 = keras.layers.Reshape((4, 60), name = 'Res30725', )(Res90734)
Glo76792 = keras.layers.GlobalAveragePooling1D(name = 'Glo76792', )(Res30725)
Dot9470 = keras.layers.Dot(axes=(2, 2), name = 'Dot9470', )([in0Dot9470,in1Dot9470])
Fla12535 = keras.layers.Flatten(name = 'Fla12535', )(Dot9470)
Glo85064 = keras.layers.GlobalMaxPool2D(name = 'Glo85064', )(in0Glo85064)
Con21277 = keras.layers.Concatenate(axis=1, name = 'Con21277', )([Glo85064,in0Con21277])
Max80474 = keras.layers.Maximum(name = 'Max80474', )([Fla12535,Con21277])
Con75997 = keras.layers.Concatenate(axis=1, name = 'Con75997', )([Max80474,in0Con75997])
Min9469 = keras.layers.Minimum(name = 'Min9469', )([Glo76792,Con75997])
model = tf.keras.models.Model(inputs=[in0Zer51049,in0Dot9470,in1Dot9470,in0Glo85064,in0Con21277,in0Con75997], outputs=Min9469)
in0Zer51049 = tf.constant([[[[[1.3874, 1.432, 1.0024, 1.4765]], [[1.744, 1.3903, 1.5263, 1.4096]], [[1.3893, 1.2026, 1.7082, 1.541]]], [[[1.9806, 1.5308, 1.5533, 1.8866]], [[1.1878, 1.5198, 1.2304, 1.1144]], [[1.9229, 1.0691, 1.3786, 1.2346]]]]])
in0Dot9470 = tf.constant([[[0.3111, 0.9725], [0.347, 0.7892], [0.8031, 0.8908]]])
in1Dot9470 = tf.constant([[[0.0554, 0.5688], [0.982, 0.1313], [0.5931, 0.7863]]])
in0Glo85064 = tf.constant([[[[1.5594, 1.2481]]]])
in0Con21277 = tf.constant([[0.4339, 0.573, 0.4799, 0.7042, 0.7565, 0.1418, 0.0809]])
in0Con75997 = tf.constant([[0.8036, 0.5171, 0.7793, 0.2545, 0.9906, 0.3041, 0.8954, 0.9517, 0.1447, 0.9429, 0.7288, 0.096, 0.1742, 0.7724, 0.2084, 0.2813, 0.9752, 0.3502, 0.5579, 0.107, 0.4032, 0.3502, 0.4586, 0.2345, 0.9892, 0.2822, 0.2581, 0.0026, 0.4967, 0.4415, 0.8903, 0.9889, 0.0294, 0.4921, 0.3637, 0.6037, 0.4226, 0.7417, 0.7755, 0.6592, 0.0746, 0.476, 0.8123, 0.8697, 0.2109, 0.6851, 0.6094, 0.4077, 0.8102, 0.1373, 0.66]])
print (np.array2string(model.predict([in0Zer51049,in0Dot9470,in1Dot9470,in0Glo85064,in0Con21277,in0Con75997],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min9469.png')

LZer51049 = zero_padding3D_layer([[[[[1.3874, 1.432, 1.0024, 1.4765]], [[1.744, 1.3903, 1.5263, 1.4096]], [[1.3893, 1.2026, 1.7082, 1.541]]], [[[1.9806, 1.5308, 1.5533, 1.8866]], [[1.1878, 1.5198, 1.2304, 1.1144]], [[1.9229, 1.0691, 1.3786, 1.2346]]]]], 1, 1, 1, 1, 1, 1, Zer51049), 
LRes90734 = reshape_layer(Zer51049, [4, 5, 12], Res90734), 
LRes30725 = reshape_layer(Res90734, [4, 60], Res30725), 
LGlo76792 = global_average_pooling1D_layer(Res30725, Glo76792), 
LDot9470 = dot_layer([[[0.3111, 0.9725], [0.347, 0.7892], [0.8031, 0.8908]]], [[[0.0554, 0.5688], [0.982, 0.1313], [0.5931, 0.7863]]], 2, 2, Dot9470), 
LFla12535 = flatten_layer(Dot9470, Fla12535), 
LGlo85064 = global_max_pool2D_layer([[[[1.5594, 1.2481]]]], Glo85064), 
LCon21277 = concatenate_layer([Glo85064,[[0.4339, 0.573, 0.4799, 0.7042, 0.7565, 0.1418, 0.0809]]], 1, Con21277), 
LMax80474 = maximum_layer([Fla12535,Con21277], Max80474), 
LCon75997 = concatenate_layer([Max80474,[[0.8036, 0.5171, 0.7793, 0.2545, 0.9906, 0.3041, 0.8954, 0.9517, 0.1447, 0.9429, 0.7288, 0.096, 0.1742, 0.7724, 0.2084, 0.2813, 0.9752, 0.3502, 0.5579, 0.107, 0.4032, 0.3502, 0.4586, 0.2345, 0.9892, 0.2822, 0.2581, 0.0026, 0.4967, 0.4415, 0.8903, 0.9889, 0.0294, 0.4921, 0.3637, 0.6037, 0.4226, 0.7417, 0.7755, 0.6592, 0.0746, 0.476, 0.8123, 0.8697, 0.2109, 0.6851, 0.6094, 0.4077, 0.8102, 0.1373, 0.66]]], 1, Con75997), 
LMin9469 = minimum_layer([Glo76792,Con75997], Min9469), 
exec_layers([LZer51049,LRes90734,LRes30725,LGlo76792,LDot9470,LFla12535,LGlo85064,LCon21277,LMax80474,LCon75997,LMin9469],["Zer51049","Res90734","Res30725","Glo76792","Dot9470","Fla12535","Glo85064","Con21277","Max80474","Con75997","Min9469"],Min9469,"Min9469")

Actual (Unparsed): [[0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.8420000, 0.1447000, 0.6389250, 0.7288000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.1070000, 0.4032000, 0.3502000, 0.4586000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.8280500, 0.0294000, 0.4921000, 0.3637000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000]]

Expected (Unparsed): [[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.842,0.1447,0.638925,0.7288,0,0,0,0,0,0,0,0,0.107,0.4032,0.3502,0.4586,0,0,0,0,0,0,0,0,0.82805,0.0294,0.4921,0.3637,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]

Actual:   [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.842, 0.1447, 0.639, 0.7288, 0, 0, 0, 0, 0, 0, 0, 0, 0.107, 0.4032, 0.3502, 0.4586, 0, 0, 0, 0, 0, 0, 0, 0, 0.8281, 0.0294, 0.4921, 0.3637, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]]

Expected: [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.842, 0.1447, 0.639, 0.7288, 0, 0, 0, 0, 0, 0, 0, 0, 0.107, 0.4032, 0.3502, 0.4586, 0, 0, 0, 0, 0, 0, 0, 0, 0.8281, 0.0294, 0.4921, 0.3637, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]]