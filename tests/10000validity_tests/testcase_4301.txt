import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add28391 = tf.keras.layers.Input(shape=([2, 1, 2, 2]))
in1Add28391 = tf.keras.layers.Input(shape=([2, 1, 2, 2]))
in0Add73700 = tf.keras.layers.Input(shape=([2, 2, 2, 2]))
in1Add73700 = tf.keras.layers.Input(shape=([2, 2, 2, 2]))

Add28391 = keras.layers.Add(name = 'Add28391', )([in0Add28391,in1Add28391])
Zer19205 = keras.layers.ZeroPadding3D(padding=((0, 0), (1, 0), (0, 0)), name = 'Zer19205', )(Add28391)
Add73700 = keras.layers.Add(name = 'Add73700', )([in0Add73700,in1Add73700])
ReL72306 = keras.layers.ReLU(max_value=2.876419146844977, negative_slope=7.0999124836656975, threshold=0.028746162322533797, name = 'ReL72306', )(Add73700)
Mul61087 = keras.layers.Multiply(name = 'Mul61087', )([Zer19205,ReL72306])
model = tf.keras.models.Model(inputs=[in0Add28391,in1Add28391,in0Add73700,in1Add73700], outputs=Mul61087)
in0Add28391 = tf.constant([[[[[0.9731, 0.1068], [0.4017, 0.0562]]], [[[0.2372, 0.3756], [0.4305, 0.7534]]]]])
in1Add28391 = tf.constant([[[[[0.0874, 0.195], [0.3999, 0.8157]]], [[[0.2336, 0.2269], [0.5922, 0.8209]]]]])
in0Add73700 = tf.constant([[[[[0.1441, 0.2685], [0.8054, 0.3596]], [[0.1829, 0.3524], [0.9923, 0.1331]]], [[[0.4266, 0.2916], [0.7787, 0.2191]], [[0.3714, 0.2727], [0.3352, 0.0959]]]]])
in1Add73700 = tf.constant([[[[[0.869, 0.2373], [0.0364, 0.1067]], [[0.6704, 0.0867], [0.7035, 0.7896]]], [[[0.8928, 0.1958], [0.9968, 0.9073]], [[0.5808, 0.3262], [0.7041, 0.0651]]]]])
print (np.array2string(model.predict([in0Add28391,in1Add28391,in0Add73700,in1Add73700],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Mul61087.png')

LAdd28391 = add_layer([[[[[[0.9731, 0.1068], [0.4017, 0.0562]]], [[[0.2372, 0.3756], [0.4305, 0.7534]]]]], [[[[[0.0874, 0.195], [0.3999, 0.8157]]], [[[0.2336, 0.2269], [0.5922, 0.8209]]]]]], Add28391), 
LZer19205 = zero_padding3D_layer(Add28391, 0, 0, 1, 0, 0, 0, Zer19205), 
LAdd73700 = add_layer([[[[[[0.1441, 0.2685], [0.8054, 0.3596]], [[0.1829, 0.3524], [0.9923, 0.1331]]], [[[0.4266, 0.2916], [0.7787, 0.2191]], [[0.3714, 0.2727], [0.3352, 0.0959]]]]], [[[[[0.869, 0.2373], [0.0364, 0.1067]], [[0.6704, 0.0867], [0.7035, 0.7896]]], [[[0.8928, 0.1958], [0.9968, 0.9073]], [[0.5808, 0.3262], [0.7041, 0.0651]]]]]], Add73700), 
LReL72306 = relu_layer(Add73700, 2.876419146844977, 7.0999124836656975, 0.028746162322533797, ReL72306), 
LMul61087 = multiply_layer([Zer19205,ReL72306], Mul61087), 
exec_layers([LAdd28391,LZer19205,LAdd73700,LReL72306,LMul61087],["Add28391","Zer19205","Add73700","ReL72306","Mul61087"],Mul61087,"Mul61087")

Actual (Unparsed): [[[[[0.0000000, 0.0000000], [0.0000000, 0.0000000]], [[0.9049247, 0.1325204], [1.3593532, 0.8045021]]], [[[0.0000000, 0.0000000], [0.0000000, 0.0000000]], [[0.4482958, 0.3608373], [1.0628921, 0.2534623]]]]]

Expected (Unparsed): [[[[[0.0,0.0],[0.0,0.0]],[[0.90492465,0.13252038],[1.3593532799999999,0.8045021299999999]]],[[[0.0,0.0],[0.0,0.0]],[[0.44829576,0.36083725],[1.0628921099999997,0.25346230000000003]]]]]

Actual:   [[[[[0, 0], [0, 0]], [[0.905, 0.1326], [1.3594, 0.8046]]], [[[0, 0], [0, 0]], [[0.4483, 0.3609], [1.0629, 0.2535]]]]]

Expected: [[[[[0, 0], [0, 0]], [[0.905, 0.1326], [1.3594, 0.8046]]], [[[0, 0], [0, 0]], [[0.4483, 0.3609], [1.0629, 0.2535]]]]]