import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Per98959 = tf.keras.layers.Input(shape=([4, 3]))
in0Sub37995 = tf.keras.layers.Input(shape=([2]))
in1Sub37995 = tf.keras.layers.Input(shape=([2]))
in0Con39715 = tf.keras.layers.Input(shape=([10]))

Per98959 = keras.layers.Permute((2,1), name = 'Per98959',)(in0Per98959)
ReL19196 = keras.layers.ReLU(max_value=2.935609949937014, negative_slope=2.332136785159851, threshold=2.1325190382520507, name = 'ReL19196', )(Per98959)
Fla91417 = keras.layers.Flatten(name = 'Fla91417', )(ReL19196)
Sub37995 = keras.layers.Subtract(name = 'Sub37995', )([in0Sub37995,in1Sub37995])
ELU28302 = keras.layers.ELU(alpha=3.6862641672294334, name = 'ELU28302', )(Sub37995)
Con39715 = keras.layers.Concatenate(axis=1, name = 'Con39715', )([ELU28302,in0Con39715])
Min77832 = keras.layers.Minimum(name = 'Min77832', )([Fla91417,Con39715])
model = tf.keras.models.Model(inputs=[in0Per98959,in0Sub37995,in1Sub37995,in0Con39715], outputs=Min77832)
in0Per98959 = tf.constant([[[1.8187, 1.6282, 1.1775], [1.8879, 1.5465, 1.4458], [1.1066, 1.406, 1.0517], [1.2284, 1.5771, 1.1242]]])
in0Sub37995 = tf.constant([[0.6163, 0.3501]])
in1Sub37995 = tf.constant([[0.0675, 0.5054]])
in0Con39715 = tf.constant([[0.6502, 0.9512, 0.3139, 0.029, 0.8639, 0.5931, 0.5582, 0.0722, 0.7563, 0.3955]])
print (np.array2string(model.predict([in0Per98959,in0Sub37995,in1Sub37995,in0Con39715],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min77832.png')

LPer98959 = permute_layer([[[1.8187, 1.6282, 1.1775], [1.8879, 1.5465, 1.4458], [1.1066, 1.406, 1.0517], [1.2284, 1.5771, 1.1242]]], 2,1, Per98959), 
LReL19196 = relu_layer(Per98959, 2.935609949937014, 2.332136785159851, 2.1325190382520507, ReL19196), 
LFla91417 = flatten_layer(ReL19196, Fla91417), 
LSub37995 = subtract_layer([[0.6163, 0.3501]], [[0.0675, 0.5054]], Sub37995), 
LELU28302 = elu_layer(Sub37995, 3.6862641672294334, ELU28302), 
LCon39715 = concatenate_layer([ELU28302,[[0.6502, 0.9512, 0.3139, 0.029, 0.8639, 0.5931, 0.5582, 0.0722, 0.7563, 0.3955]]], 1, Con39715), 
LMin77832 = minimum_layer([Fla91417,Con39715], Min77832), 
exec_layers([LPer98959,LReL19196,LFla91417,LSub37995,LELU28302,LCon39715,LMin77832],["Per98959","ReL19196","Fla91417","Sub37995","ELU28302","Con39715","Min77832"],Min77832,"Min77832")

Actual (Unparsed): [[-0.7318690, -0.5704851, -2.3925834, -2.1085293, -1.1761409, -1.3666766, -1.6943417, -1.2953131, -2.2272350, -1.6015229, -2.5206178, -2.3515380]]

Expected (Unparsed): [[-0.7318689229910937,-0.5704850574580327,-2.392583527703424,-2.108529267270954,-1.1761409805640457,-1.3666765559116056,-1.6943417742265647,-1.2953131702857141,-2.2272350296355907,-1.6015227301772028,-2.5206178372087,-2.3515379202846103]]

Actual:   [[-0.7318, -0.5704, -2.3925, -2.1085, -1.1761, -1.3666, -1.6943, -1.2953, -2.2272, -1.6015, -2.5206, -2.3515]]

Expected: [[-0.7318, -0.5704, -2.3925, -2.1085, -1.1761, -1.3666, -1.6943, -1.2953, -2.2272, -1.6015, -2.5206, -2.3515]]