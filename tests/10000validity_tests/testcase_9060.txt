import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add79998 = tf.keras.layers.Input(shape=([1, 1, 2]))
in1Add79998 = tf.keras.layers.Input(shape=([1, 1, 2]))
in0Ave65603 = tf.keras.layers.Input(shape=([1, 2, 2]))
in1Ave65603 = tf.keras.layers.Input(shape=([1, 2, 2]))

Add79998 = keras.layers.Add(name = 'Add79998', )([in0Add79998,in1Add79998])
Zer32436 = keras.layers.ZeroPadding2D(padding=((0, 0), (1, 0)), name = 'Zer32436', )(Add79998)
Ave65603 = keras.layers.Average(name = 'Ave65603', )([in0Ave65603,in1Ave65603])
Max84737 = keras.layers.Maximum(name = 'Max84737', )([Zer32436,Ave65603])
model = tf.keras.models.Model(inputs=[in0Add79998,in1Add79998,in0Ave65603,in1Ave65603], outputs=Max84737)
in0Add79998 = tf.constant([[[[0.2142, 0.969]]]])
in1Add79998 = tf.constant([[[[0.7927, 0.8385]]]])
in0Ave65603 = tf.constant([[[[0.3265, 0.3055], [0.0398, 0.1193]]]])
in1Ave65603 = tf.constant([[[[0.549, 0.4366], [0.1591, 0.7906]]]])
print (np.array2string(model.predict([in0Add79998,in1Add79998,in0Ave65603,in1Ave65603],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max84737.png')

LAdd79998 = add_layer([[[[[0.2142, 0.969]]]], [[[[0.7927, 0.8385]]]]], Add79998), 
LZer32436 = zero_padding2D_layer(Add79998, 0, 0, 1, 0, Zer32436), 
LAve65603 = average_layer([[[[[0.3265, 0.3055], [0.0398, 0.1193]]]], [[[[0.549, 0.4366], [0.1591, 0.7906]]]]], Ave65603), 
LMax84737 = maximum_layer([Zer32436,Ave65603], Max84737), 
exec_layers([LAdd79998,LZer32436,LAve65603,LMax84737],["Add79998","Zer32436","Ave65603","Max84737"],Max84737,"Max84737")

Actual (Unparsed): [[[[0.4377500, 0.3710500], [1.0069000, 1.8075000]]]]

Expected (Unparsed): [[[[0.43775000000000003,0.37105],[1.0069,1.8075]]]]

Actual:   [[[[0.4378, 0.3711], [1.0069, 1.8075]]]]

Expected: [[[[0.4378, 0.3711], [1.0069, 1.8075]]]]