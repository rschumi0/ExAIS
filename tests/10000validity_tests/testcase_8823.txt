import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave55096 = tf.keras.layers.Input(shape=([2, 2]))
in1Ave55096 = tf.keras.layers.Input(shape=([2, 2]))

Ave55096 = keras.layers.Average(name = 'Ave55096', )([in0Ave55096,in1Ave55096])
Mas99262 = keras.layers.Masking(mask_value=1, name = 'Mas99262', )(Ave55096)
model = tf.keras.models.Model(inputs=[in0Ave55096,in1Ave55096], outputs=Mas99262)
in0Ave55096 = tf.constant([[[0.3439, 0.4827], [0.7772, 0.5173]]])
in1Ave55096 = tf.constant([[[0.3325, 0.2683], [0.3665, 0.3092]]])
print (np.array2string(model.predict([in0Ave55096,in1Ave55096],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Mas99262.png')

LAve55096 = average_layer([[[[0.3439, 0.4827], [0.7772, 0.5173]]], [[[0.3325, 0.2683], [0.3665, 0.3092]]]], Ave55096), 
LMas99262 = masking_layer(Ave55096, 1, Mas99262), 
exec_layers([LAve55096,LMas99262],["Ave55096","Mas99262"],Mas99262,"Mas99262")

Actual (Unparsed): [[[0.3382000, 0.3755000], [0.5718500, 0.4132500]]]

Expected (Unparsed): [[[0.3382,0.3755],[0.57185,0.41325]]]

Actual:   [[[0.3382, 0.3755], [0.5719, 0.4133]]]

Expected: [[[0.3382, 0.3755], [0.5719, 0.4133]]]