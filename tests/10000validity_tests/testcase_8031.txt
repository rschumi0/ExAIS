import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0ReL10492 = tf.keras.layers.Input(shape=([1, 2]))
in0Sub34621 = tf.keras.layers.Input(shape=([2, 2, 2]))
in1Sub34621 = tf.keras.layers.Input(shape=([2, 2, 2]))

ReL10492 = keras.layers.ReLU(max_value=2.62233030608529, negative_slope=5.125120378921373, threshold=1.4475441533927624, name = 'ReL10492', input_shape=(1, 2))(in0ReL10492)
Sub34621 = keras.layers.Subtract(name = 'Sub34621', )([in0Sub34621,in1Sub34621])
Res90818 = keras.layers.Reshape((2, 4), name = 'Res90818', )(Sub34621)
Loc96106 = keras.layers.LocallyConnected1D(2, (1),strides=(2), name = 'Loc96106', )(Res90818)
Mul878 = keras.layers.Multiply(name = 'Mul878', )([ReL10492,Loc96106])
model = tf.keras.models.Model(inputs=[in0ReL10492,in0Sub34621,in1Sub34621], outputs=Mul878)
w = model.get_layer('Loc96106').get_weights() 
w[0] = np.array([[[0.1958, 0.9758], [0.4759, 0.7156], [0.7248, 0.1799], [0.4013, 0.6309]]])
w[1] = np.array([[0, 0]])
model.get_layer('Loc96106').set_weights(w) 
in0ReL10492 = tf.constant([[[0.2639, 0.4696]]])
in0Sub34621 = tf.constant([[[[0.2979, 0.8354], [0.8828, 0.6826]], [[0.491, 0.0583], [0.7637, 0.7752]]]])
in1Sub34621 = tf.constant([[[[0.1962, 0.4102], [0.0853, 0.2436]], [[0.5622, 0.0124], [0.3513, 0.1044]]]])
print (np.array2string(model.predict([in0ReL10492,in0Sub34621,in1Sub34621],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Mul878.png')

LReL10492 = relu_layer([[[0.2639, 0.4696]]], 2.62233030608529, 5.125120378921373, 1.4475441533927624, ReL10492), 
LSub34621 = subtract_layer([[[[0.2979, 0.8354], [0.8828, 0.6826]], [[0.491, 0.0583], [0.7637, 0.7752]]]], [[[[0.1962, 0.4102], [0.0853, 0.2436]], [[0.5622, 0.0124], [0.3513, 0.1044]]]], Sub34621), 
LRes90818 = reshape_layer(Sub34621, [2, 4], Res90818), 
LLoc96106 = locally_connected1D_layer(Res90818, 1,[[[0.1958, 0.9758], [0.4759, 0.7156], [0.7248, 0.1799], [0.4013, 0.6309]]],[[0, 0]], 2, Loc96106), 
LMul878 = multiply_layer([ReL10492,Loc96106], Mul878), 
exec_layers([LReL10492,LSub34621,LRes90818,LLoc96106,LMul878],["ReL10492","Sub34621","Res90818","Loc96106","Mul878"],Mul878,"Mul878")

Actual (Unparsed): [[[-5.9235432, -4.1296912]]]

Expected (Unparsed): [[[-5.923543349244405,-4.1296911779070795]]]

Actual:   [[[-5.9235, -4.1296]]]

Expected: [[[-5.9235, -4.1296]]]