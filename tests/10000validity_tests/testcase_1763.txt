import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul20503 = tf.keras.layers.Input(shape=([2, 1, 2]))
in1Mul20503 = tf.keras.layers.Input(shape=([2, 1, 2]))

Mul20503 = keras.layers.Multiply(name = 'Mul20503', )([in0Mul20503,in1Mul20503])
Dep1322 = keras.layers.DepthwiseConv2D((2, 1),strides=(1, 1), padding='valid', name = 'Dep1322', )(Mul20503)
model = tf.keras.models.Model(inputs=[in0Mul20503,in1Mul20503], outputs=Dep1322)
w = model.get_layer('Dep1322').get_weights() 
w[0] = np.array([[[[0.689], [0.0121]]], [[[0.4705], [0.4461]]]])
w[1] = np.array([0, 0])
model.get_layer('Dep1322').set_weights(w) 
in0Mul20503 = tf.constant([[[[0.0874, 0.4805]], [[0.7261, 0.5804]]]])
in1Mul20503 = tf.constant([[[[0.9277, 0.2126]], [[0.9017, 0.7547]]]])
print (np.array2string(model.predict([in0Mul20503,in1Mul20503],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Dep1322.png')

LMul20503 = multiply_layer([[[[[0.0874, 0.4805]], [[0.7261, 0.5804]]]], [[[[0.9277, 0.2126]], [[0.9017, 0.7547]]]]], Mul20503), 
LDep1322 = depthwise_conv2D_layer(Mul20503, 2, 1,[[[[0.689], [0.0121]]], [[[0.4705], [0.4461]]]],[0, 0], 1, 1, false, Dep1322), 
exec_layers([LMul20503,LDep1322],["Mul20503","Dep1322"],Dep1322,"Dep1322")

Actual (Unparsed): [[[[0.3639126, 0.1966403]]]]

Expected (Unparsed): [[[[0.36391261130499997,0.19664030429800003]]]]

Actual:   [[[[0.364, 0.1967]]]]

Expected: [[[[0.364, 0.1967]]]]