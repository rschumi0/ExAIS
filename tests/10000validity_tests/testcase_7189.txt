import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave56627 = tf.keras.layers.Input(shape=([2, 2, 1, 2]))
in1Ave56627 = tf.keras.layers.Input(shape=([2, 2, 1, 2]))

Ave56627 = keras.layers.Average(name = 'Ave56627', )([in0Ave56627,in1Ave56627])
Res5882 = keras.layers.Reshape((2, 2, 2), name = 'Res5882', )(Ave56627)
Res62681 = keras.layers.Reshape((2, 4), name = 'Res62681', )(Res5882)
Cro9858 = keras.layers.Cropping1D(cropping=((0, 0)), name = 'Cro9858', )(Res62681)
model = tf.keras.models.Model(inputs=[in0Ave56627,in1Ave56627], outputs=Cro9858)
in0Ave56627 = tf.constant([[[[[0.5756, 0.9054]], [[0.9426, 0.5383]]], [[[0.0857, 0.8807]], [[0.2483, 0.5687]]]]])
in1Ave56627 = tf.constant([[[[[0.6122, 0.003]], [[0.4042, 0.0033]]], [[[0.3969, 0.6567]], [[0.569, 0.7178]]]]])
print (np.array2string(model.predict([in0Ave56627,in1Ave56627],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Cro9858.png')

LAve56627 = average_layer([[[[[[0.5756, 0.9054]], [[0.9426, 0.5383]]], [[[0.0857, 0.8807]], [[0.2483, 0.5687]]]]], [[[[[0.6122, 0.003]], [[0.4042, 0.0033]]], [[[0.3969, 0.6567]], [[0.569, 0.7178]]]]]], Ave56627), 
LRes5882 = reshape_layer(Ave56627, [2, 2, 2], Res5882), 
LRes62681 = reshape_layer(Res5882, [2, 4], Res62681), 
LCro9858 = cropping1D_layer(Res62681, 0, 0, Cro9858), 
exec_layers([LAve56627,LRes5882,LRes62681,LCro9858],["Ave56627","Res5882","Res62681","Cro9858"],Cro9858,"Cro9858")

Actual (Unparsed): [[[0.5939000, 0.4542000, 0.6734000, 0.2708000], [0.2413000, 0.7687000, 0.4086500, 0.6432500]]]

Expected (Unparsed): [[[0.5939,0.4542,0.6734,0.2708],[0.2413,0.7686999999999999,0.40864999999999996,0.64325]]]

Actual:   [[[0.5939, 0.4542, 0.6734, 0.2708], [0.2413, 0.7687, 0.4087, 0.6433]]]

Expected: [[[0.5939, 0.4542, 0.6734, 0.2708], [0.2413, 0.7687, 0.4087, 0.6433]]]