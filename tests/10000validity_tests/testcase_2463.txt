import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Zer12478 = tf.keras.layers.Input(shape=([3, 3, 4, 4]))

Zer12478 = keras.layers.ZeroPadding3D(padding=((1, 1), (1, 1), (1, 1)), name = 'Zer12478', )(in0Zer12478)
Res96852 = keras.layers.Reshape((5, 5, 24), name = 'Res96852', )(Zer12478)
Glo76234 = keras.layers.GlobalAveragePooling2D(name = 'Glo76234', )(Res96852)
Res37164 = keras.layers.Reshape((24, 1), name = 'Res37164', )(Glo76234)
Res57109 = keras.layers.Reshape((24, 1, 1), name = 'Res57109', )(Res37164)
Res46970 = keras.layers.Reshape((24, 1, 1, 1), name = 'Res46970', )(Res57109)
Cro29409 = keras.layers.Cropping3D(cropping=((17, 5), (0, 0), (0, 0)), name = 'Cro29409', )(Res46970)
model = tf.keras.models.Model(inputs=[in0Zer12478], outputs=Cro29409)
in0Zer12478 = tf.constant([[[[[1.1546, 1.8674, 1.0982, 1.5197], [1.3899, 1.6886, 1.6428, 1.3529], [1.945, 1.3889, 1.8983, 1.3828], [1.7786, 1.1019, 1.0744, 1.0348]], [[1.2184, 1.4411, 1.9365, 1.4663], [1.5274, 1.2885, 1.31, 1.3223], [1.9471, 1.961, 1.9107, 1.5629], [1.7892, 1.6681, 1.7628, 1.1769]], [[1.4775, 1.2334, 1.8148, 1.2932], [1.0487, 1.6392, 1.4846, 1.9281], [1.5146, 1.0697, 1.7753, 1.3668], [1.6618, 1.7803, 1.2922, 1.9665]]], [[[1.3166, 1.2983, 1.9587, 1.9899], [1.8407, 1.1762, 1.4816, 1.9306], [1.6371, 1.7567, 1.6489, 1.6758], [1.7477, 1.1875, 1.3542, 1.7662]], [[1.1974, 1.2281, 1.8404, 1.9605], [1.606, 1.2266, 1.027, 1.2873], [1.7259, 1.0135, 1.9462, 1.7789], [1.9888, 1.3604, 1.2497, 1.1181]], [[1.8491, 1.0794, 1.4675, 1.5041], [1.6954, 1.8027, 1.2022, 1.143], [1.369, 1.9751, 1.7235, 1.9038], [1.8766, 1.6153, 1.4926, 1.846]]], [[[1.7127, 1.9587, 1.9876, 1.5192], [1.3177, 1.1818, 1.8319, 1.1668], [1.5895, 1.0237, 1.6296, 1.2184], [1.0397, 1.2733, 1.1049, 1.7531]], [[1.1389, 1.7689, 1.1094, 1.9295], [1.63, 1.7697, 1.8121, 1.7376], [1.1081, 1.3016, 1.9222, 1.8064], [1.9605, 1.3549, 1.1038, 1.4192]], [[1.8399, 1.6156, 1.8403, 1.3327], [1.206, 1.751, 1.88, 1.4767], [1.1098, 1.1362, 1.0517, 1.1151], [1.3204, 1.3093, 1.6789, 1.5944]]]]])
print (np.array2string(model.predict([in0Zer12478],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Cro29409.png')

LZer12478 = zero_padding3D_layer([[[[[1.1546, 1.8674, 1.0982, 1.5197], [1.3899, 1.6886, 1.6428, 1.3529], [1.945, 1.3889, 1.8983, 1.3828], [1.7786, 1.1019, 1.0744, 1.0348]], [[1.2184, 1.4411, 1.9365, 1.4663], [1.5274, 1.2885, 1.31, 1.3223], [1.9471, 1.961, 1.9107, 1.5629], [1.7892, 1.6681, 1.7628, 1.1769]], [[1.4775, 1.2334, 1.8148, 1.2932], [1.0487, 1.6392, 1.4846, 1.9281], [1.5146, 1.0697, 1.7753, 1.3668], [1.6618, 1.7803, 1.2922, 1.9665]]], [[[1.3166, 1.2983, 1.9587, 1.9899], [1.8407, 1.1762, 1.4816, 1.9306], [1.6371, 1.7567, 1.6489, 1.6758], [1.7477, 1.1875, 1.3542, 1.7662]], [[1.1974, 1.2281, 1.8404, 1.9605], [1.606, 1.2266, 1.027, 1.2873], [1.7259, 1.0135, 1.9462, 1.7789], [1.9888, 1.3604, 1.2497, 1.1181]], [[1.8491, 1.0794, 1.4675, 1.5041], [1.6954, 1.8027, 1.2022, 1.143], [1.369, 1.9751, 1.7235, 1.9038], [1.8766, 1.6153, 1.4926, 1.846]]], [[[1.7127, 1.9587, 1.9876, 1.5192], [1.3177, 1.1818, 1.8319, 1.1668], [1.5895, 1.0237, 1.6296, 1.2184], [1.0397, 1.2733, 1.1049, 1.7531]], [[1.1389, 1.7689, 1.1094, 1.9295], [1.63, 1.7697, 1.8121, 1.7376], [1.1081, 1.3016, 1.9222, 1.8064], [1.9605, 1.3549, 1.1038, 1.4192]], [[1.8399, 1.6156, 1.8403, 1.3327], [1.206, 1.751, 1.88, 1.4767], [1.1098, 1.1362, 1.0517, 1.1151], [1.3204, 1.3093, 1.6789, 1.5944]]]]], 1, 1, 1, 1, 1, 1, Zer12478), 
LRes96852 = reshape_layer(Zer12478, [5, 5, 24], Res96852), 
LGlo76234 = global_average_pooling2D_layer(Res96852, Glo76234), 
LRes37164 = reshape_layer(Glo76234, [24, 1], Res37164), 
LRes57109 = reshape_layer(Res37164, [24, 1, 1], Res57109), 
LRes46970 = reshape_layer(Res57109, [24, 1, 1, 1], Res46970), 
LCro29409 = cropping3D_layer(Res46970, 17, 5, 0, 0, 0, 0, Cro29409), 
exec_layers([LZer12478,LRes96852,LGlo76234,LRes37164,LRes57109,LRes46970,LCro29409],["Zer12478","Res96852","Glo76234","Res37164","Res57109","Res46970","Cro29409"],Cro29409,"Cro29409")

Actual (Unparsed): [[[[[0.5060400]]], [[[0.4845400]]]]]

Expected (Unparsed): [[[[[0.50604]]],[[[0.48454]]]]]

Actual:   [[[[[0.5061]]], [[[0.4846]]]]]

Expected: [[[[[0.5061]]], [[[0.4846]]]]]