import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Zer10201 = tf.keras.layers.Input(shape=([3, 4]))

Zer10201 = keras.layers.ZeroPadding1D(padding=((1, 1)), name = 'Zer10201', )(in0Zer10201)
Thr94794 = keras.layers.ThresholdedReLU(theta=6.476677536535581, name = 'Thr94794', )(Zer10201)
Loc6414 = keras.layers.LocallyConnected1D(3, (5),strides=(1), name = 'Loc6414', )(Thr94794)
Res16183 = keras.layers.Reshape((1, 3, 1), name = 'Res16183', )(Loc6414)
Res49481 = keras.layers.Reshape((1, 3, 1, 1), name = 'Res49481', )(Res16183)
Cro65352 = keras.layers.Cropping3D(cropping=((0, 0), (0, 1), (0, 0)), name = 'Cro65352', )(Res49481)
model = tf.keras.models.Model(inputs=[in0Zer10201], outputs=Cro65352)
w = model.get_layer('Loc6414').get_weights() 
w[0] = np.array([[[0.635, 0.2166, 0.7292], [0.0166, 0.07, 0.8627], [0.0947, 0.0899, 0.4942], [0.7239, 0.7422, 0.8309], [0.0045, 0.4287, 0.7729], [0.2795, 0.4152, 0.8743], [0.5701, 0.4415, 0.1585], [0.2085, 0.0062, 0.9599], [0.3045, 0.172, 0.555], [0.3443, 0.2818, 0.272], [0.743, 0.7423, 0.5615], [0.8181, 0.6285, 0.4961], [0.644, 0.07, 0.1551], [0.1493, 0.1833, 0.6136], [0.2996, 0.1413, 0.9744], [0.6143, 0.9003, 0.1617], [0.8338, 0.7807, 0.939], [0.0209, 0.1099, 0.7092], [0.8312, 0.9394, 0.6759], [0.7824, 0.9724, 0.3592]]])
w[1] = np.array([[0, 0, 0]])
model.get_layer('Loc6414').set_weights(w) 
in0Zer10201 = tf.constant([[[1.3636, 1.322, 1.0103, 1.4083], [1.335, 1.3644, 1.1746, 1.7231], [1.4276, 1.4451, 1.3277, 1.3897]]])
print (np.array2string(model.predict([in0Zer10201],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Cro65352.png')

LZer10201 = zero_padding1D_layer([[[1.3636, 1.322, 1.0103, 1.4083], [1.335, 1.3644, 1.1746, 1.7231], [1.4276, 1.4451, 1.3277, 1.3897]]], 1, 1, Zer10201), 
LThr94794 = thresholded_relu_layer(Zer10201, 6.476677536535581, Thr94794), 
LLoc6414 = locally_connected1D_layer(Thr94794, 5,[[[0.635, 0.2166, 0.7292], [0.0166, 0.07, 0.8627], [0.0947, 0.0899, 0.4942], [0.7239, 0.7422, 0.8309], [0.0045, 0.4287, 0.7729], [0.2795, 0.4152, 0.8743], [0.5701, 0.4415, 0.1585], [0.2085, 0.0062, 0.9599], [0.3045, 0.172, 0.555], [0.3443, 0.2818, 0.272], [0.743, 0.7423, 0.5615], [0.8181, 0.6285, 0.4961], [0.644, 0.07, 0.1551], [0.1493, 0.1833, 0.6136], [0.2996, 0.1413, 0.9744], [0.6143, 0.9003, 0.1617], [0.8338, 0.7807, 0.939], [0.0209, 0.1099, 0.7092], [0.8312, 0.9394, 0.6759], [0.7824, 0.9724, 0.3592]]],[[0, 0, 0]], 1, Loc6414), 
LRes16183 = reshape_layer(Loc6414, [1, 3, 1], Res16183), 
LRes49481 = reshape_layer(Res16183, [1, 3, 1, 1], Res49481), 
LCro65352 = cropping3D_layer(Res49481, 0, 0, 0, 1, 0, 0, Cro65352), 
exec_layers([LZer10201,LThr94794,LLoc6414,LRes16183,LRes49481,LCro65352],["Zer10201","Thr94794","Loc6414","Res16183","Res49481","Cro65352"],Cro65352,"Cro65352")

Actual (Unparsed): [[[[[0.0000000]], [[0.0000000]]]]]

Expected (Unparsed): [[[[[0.0]],[[0.0]]]]]

Actual:   [[[[[0]], [[0]]]]]

Expected: [[[[[0]], [[0]]]]]