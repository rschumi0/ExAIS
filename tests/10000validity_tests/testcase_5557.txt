import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max95151 = tf.keras.layers.Input(shape=([2, 1, 1]))

Max95151 = keras.layers.MaxPool2D(pool_size=(2, 1), strides=(1, 1), padding='valid', name = 'Max95151', )(in0Max95151)
Den82416 = keras.layers.Dense(4,name = 'Den82416', )(Max95151)
model = tf.keras.models.Model(inputs=[in0Max95151], outputs=Den82416)
w = model.get_layer('Den82416').get_weights() 
w[0] = np.array([[0.5407, 0.4432, 0.8782, 0.0527]])
w[1] = np.array([0.1726, 0.6827, 0.3756, 0.6015])
model.get_layer('Den82416').set_weights(w) 
in0Max95151 = tf.constant([[[[1.3019]], [[1.9419]]]])
print (np.array2string(model.predict([in0Max95151],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Den82416.png')

LMax95151 = max_pool2D_layer([[[[1.3019]], [[1.9419]]]], 2, 1, 1, 1, false, Max95151), 
LDen82416 = dense_layer(Max95151, [[0.5407, 0.4432, 0.8782, 0.0527]],[0.1726, 0.6827, 0.3756, 0.6015], Den82416), 
exec_layers([LMax95151,LDen82416],["Max95151","Den82416"],Den82416,"Den82416")

Actual (Unparsed): [[[[1.2225853, 1.5433501, 2.0809766, 0.7038381]]]]

Expected (Unparsed): [[[[1.22258533,1.54335008,2.08097658,0.7038381300000001]]]]

Actual:   [[[[1.2226, 1.5434, 2.081, 0.7039]]]]

Expected: [[[[1.2226, 1.5434, 2.081, 0.7039]]]]