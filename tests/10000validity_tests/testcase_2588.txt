import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dep30484 = tf.keras.layers.Input(shape=([2, 1, 1]))
in0Mul28627 = tf.keras.layers.Input(shape=([2, 1]))
in1Mul28627 = tf.keras.layers.Input(shape=([2, 1]))

Dep30484 = keras.layers.DepthwiseConv2D((2, 1),strides=(1, 1), padding='same', name = 'Dep30484', )(in0Dep30484)
Res11794 = keras.layers.Reshape((2, 1), name = 'Res11794', )(Dep30484)
Mul28627 = keras.layers.Multiply(name = 'Mul28627', )([in0Mul28627,in1Mul28627])
Thr3959 = keras.layers.ThresholdedReLU(theta=3.449995739729838, name = 'Thr3959', )(Mul28627)
Min66759 = keras.layers.Minimum(name = 'Min66759', )([Res11794,Thr3959])
Res38525 = keras.layers.Reshape((2, 1, 1), name = 'Res38525', )(Min66759)
Loc14694 = keras.layers.LocallyConnected2D(2, (2, 1),strides=(6, 1), name = 'Loc14694', )(Res38525)
model = tf.keras.models.Model(inputs=[in0Dep30484,in0Mul28627,in1Mul28627], outputs=Loc14694)
w = model.get_layer('Dep30484').get_weights() 
w[0] = np.array([[[[0.2478]]], [[[0.1549]]]])
w[1] = np.array([0])
model.get_layer('Dep30484').set_weights(w) 
w = model.get_layer('Loc14694').get_weights() 
w[0] = np.array([[[0.8752, 0.9567], [0.625, 0.6219]]])
w[1] = np.array([[[0, 0]]])
model.get_layer('Loc14694').set_weights(w) 
in0Dep30484 = tf.constant([[[[0.7781]], [[0.8846]]]])
in0Mul28627 = tf.constant([[[0.7808], [0.2046]]])
in1Mul28627 = tf.constant([[[0.0223], [0.3725]]])
print (np.array2string(model.predict([in0Dep30484,in0Mul28627,in1Mul28627],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Loc14694.png')

LDep30484 = depthwise_conv2D_layer([[[[0.7781]], [[0.8846]]]], 2, 1,[[[[0.2478]]], [[[0.1549]]]],[0], 1, 1, true, Dep30484), 
LRes11794 = reshape_layer(Dep30484, [2, 1], Res11794), 
LMul28627 = multiply_layer([[[[0.7808], [0.2046]]], [[[0.0223], [0.3725]]]], Mul28627), 
LThr3959 = thresholded_relu_layer(Mul28627, 3.449995739729838, Thr3959), 
LMin66759 = minimum_layer([Res11794,Thr3959], Min66759), 
LRes38525 = reshape_layer(Min66759, [2, 1, 1], Res38525), 
LLoc14694 = locally_connected2D_layer(Res38525, 2, 1,[[[0.8752, 0.9567], [0.625, 0.6219]]],[[[0, 0]]], 6, 1, Loc14694), 
exec_layers([LDep30484,LRes11794,LMul28627,LThr3959,LMin66759,LRes38525,LLoc14694],["Dep30484","Res11794","Mul28627","Thr3959","Min66759","Res38525","Loc14694"],Loc14694,"Loc14694")

Actual (Unparsed): [[[[0.0000000, 0.0000000]]]]

Expected (Unparsed): [[[[0.0,0.0]]]]

Actual:   [[[[0, 0]]]]

Expected: [[[[0, 0]]]]