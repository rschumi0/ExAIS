import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add34493 = tf.keras.layers.Input(shape=([2, 1]))
in1Add34493 = tf.keras.layers.Input(shape=([2, 1]))

Add34493 = keras.layers.Add(name = 'Add34493', )([in0Add34493,in1Add34493])
Res35000 = keras.layers.Reshape((2, 1, 1), name = 'Res35000', )(Add34493)
Loc14422 = keras.layers.LocallyConnected2D(3, (1, 1),strides=(1, 1), name = 'Loc14422', )(Res35000)
Res99386 = keras.layers.Reshape((2, 3), name = 'Res99386', )(Loc14422)
Con31936 = keras.layers.Conv1D(4, (2),strides=(1), padding='valid', dilation_rate=(1), name = 'Con31936', )(Res99386)
Cro19986 = keras.layers.Cropping1D(cropping=((0, 0)), name = 'Cro19986', )(Con31936)
model = tf.keras.models.Model(inputs=[in0Add34493,in1Add34493], outputs=Cro19986)
w = model.get_layer('Loc14422').get_weights() 
w[0] = np.array([[[0.4546, 0.0078, 0.5035]], [[0.0634, 0.1872, 0.6449]]])
w[1] = np.array([[[0, 0, 0]], [[0, 0, 0]]])
model.get_layer('Loc14422').set_weights(w) 
w = model.get_layer('Con31936').get_weights() 
w[0] = np.array([[[0.6356, 0.3514, 0.2887, 0.1548], [0.8552, 0.3063, 0.3963, 0.3705], [0.8779, 0.5764, 0.2832, 0.2306]], [[0.1074, 0.061, 0.7691, 0.2894], [0.1385, 0.3377, 0.1395, 0.8625], [0.6636, 0.6393, 0.1835, 0.5618]]])
w[1] = np.array([0, 0, 0, 0])
model.get_layer('Con31936').set_weights(w) 
in0Add34493 = tf.constant([[[0.748], [0.241]]])
in1Add34493 = tf.constant([[[0.8565], [0.0591]]])
print (np.array2string(model.predict([in0Add34493,in1Add34493],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Cro19986.png')

LAdd34493 = add_layer([[[[0.748], [0.241]]], [[[0.8565], [0.0591]]]], Add34493), 
LRes35000 = reshape_layer(Add34493, [2, 1, 1], Res35000), 
LLoc14422 = locally_connected2D_layer(Res35000, 1, 1,[[[0.4546, 0.0078, 0.5035]], [[0.0634, 0.1872, 0.6449]]],[[[0, 0, 0]], [[0, 0, 0]]], 1, 1, Loc14422), 
LRes99386 = reshape_layer(Loc14422, [2, 3], Res99386), 
LCon31936 = conv1D_layer(Res99386, 2,[[[0.6356, 0.3514, 0.2887, 0.1548], [0.8552, 0.3063, 0.3963, 0.3705], [0.8779, 0.5764, 0.2832, 0.2306]], [[0.1074, 0.061, 0.7691, 0.2894], [0.1385, 0.3377, 0.1395, 0.8625], [0.6636, 0.6393, 0.1835, 0.5618]]],[0, 0, 0, 0], 1, false, 1, Con31936), 
LCro19986 = cropping1D_layer(Con31936, 0, 0, Cro19986), 
exec_layers([LAdd34493,LRes35000,LLoc14422,LRes99386,LCon31936,LCro19986],["Add34493","Res35000","Loc14422","Res99386","Con31936","Cro19986"],Cro19986,"Cro19986")

Actual (Unparsed): [[[1.3217922, 0.8696591, 0.5023104, 0.4665307]]]

Expected (Unparsed): [[[1.321792187565,0.869659116351,0.502310408569,0.46653073413799995]]]

Actual:   [[[1.3218, 0.8697, 0.5024, 0.4666]]]

Expected: [[[1.3218, 0.8697, 0.5024, 0.4666]]]