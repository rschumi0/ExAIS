import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min73526 = tf.keras.layers.Input(shape=([1, 1, 2]))
in1Min73526 = tf.keras.layers.Input(shape=([1, 1, 2]))
in0Con44964 = tf.keras.layers.Input(shape=([6]))
in0Ave61471 = tf.keras.layers.Input(shape=([2, 2, 1]))
in1Ave61471 = tf.keras.layers.Input(shape=([2, 2, 1]))
in0Add96146 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))
in1Add96146 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))
in0Con75455 = tf.keras.layers.Input(shape=([4]))
in0Sub24290 = tf.keras.layers.Input(shape=([3, 2, 2, 2]))
in1Sub24290 = tf.keras.layers.Input(shape=([3, 2, 2, 2]))

Min73526 = keras.layers.Minimum(name = 'Min73526', )([in0Min73526,in1Min73526])
Res69613 = keras.layers.Reshape((1, 2), name = 'Res69613', )(Min73526)
Fla35068 = keras.layers.Flatten(name = 'Fla35068', )(Res69613)
Con44964 = keras.layers.Concatenate(axis=1, name = 'Con44964', )([Fla35068,in0Con44964])
Ave61471 = keras.layers.Average(name = 'Ave61471', )([in0Ave61471,in1Ave61471])
Res44467 = keras.layers.Reshape((2, 2, 1, 1), name = 'Res44467', )(Ave61471)
Add96146 = keras.layers.Add(name = 'Add96146', )([in0Add96146,in1Add96146])
Up_87059 = keras.layers.UpSampling3D(size=(1, 2, 1), name = 'Up_87059', )(Add96146)
Add15599 = keras.layers.Add(name = 'Add15599', )([Res44467,Up_87059])
Res32905 = keras.layers.Reshape((2, 2, 1), name = 'Res32905', )(Add15599)
Res9993 = keras.layers.Reshape((2, 2), name = 'Res9993', )(Res32905)
Fla57627 = keras.layers.Flatten(name = 'Fla57627', )(Res9993)
Con75455 = keras.layers.Concatenate(axis=1, name = 'Con75455', )([Fla57627,in0Con75455])
Sub24290 = keras.layers.Subtract(name = 'Sub24290', )([in0Sub24290,in1Sub24290])
Res14594 = keras.layers.Reshape((3, 2, 4), name = 'Res14594', )(Sub24290)
Res79331 = keras.layers.Reshape((3, 8), name = 'Res79331', )(Res14594)
Glo42117 = keras.layers.GlobalAveragePooling1D(name = 'Glo42117', )(Res79331)
Min14483 = keras.layers.Minimum(name = 'Min14483', )([Con75455,Glo42117])
Dot55049 = keras.layers.Dot(axes=(1, 1), name = 'Dot55049', )([Con44964,Min14483])
model = tf.keras.models.Model(inputs=[in0Min73526,in1Min73526,in0Con44964,in0Ave61471,in1Ave61471,in0Add96146,in1Add96146,in0Con75455,in0Sub24290,in1Sub24290], outputs=Dot55049)
in0Min73526 = tf.constant([[[[0.7391, 0.6735]]]])
in1Min73526 = tf.constant([[[[0.422, 0.6301]]]])
in0Con44964 = tf.constant([[0.6019, 0.6579, 0.336, 0.0002, 0.1454, 0.5314]])
in0Ave61471 = tf.constant([[[[0.4959], [0.0061]], [[0.8084], [0.1154]]]])
in1Ave61471 = tf.constant([[[[0.9119], [0.0401]], [[0.9771], [0.3403]]]])
in0Add96146 = tf.constant([[[[[0.513]]], [[[0.151]]]]])
in1Add96146 = tf.constant([[[[[0.3688]]], [[[0.113]]]]])
in0Con75455 = tf.constant([[0.3352, 0.0393, 0.5518, 0.9792]])
in0Sub24290 = tf.constant([[[[[0.3997, 0.2914], [0.0771, 0.4145]], [[0.4353, 0.5351], [0.1372, 0.197]]], [[[0.3568, 0.7755], [0.2199, 0.2587]], [[0.983, 0.0172], [0.1123, 0.2668]]], [[[0.2393, 0.9096], [0.2949, 0.2201]], [[0.2866, 0.6525], [0.3917, 0.643]]]]])
in1Sub24290 = tf.constant([[[[[0.6459, 0.1725], [0.2564, 0.5857]], [[0.8433, 0.5163], [0.9889, 0.0694]]], [[[0.7658, 0.7366], [0.2262, 0.9568]], [[0.6136, 0.1545], [0.6434, 0.3596]]], [[[0.0628, 0.7773], [0.7153, 0.5968]], [[0.0118, 0.8211], [0.4399, 0.4087]]]]])
print (np.array2string(model.predict([in0Min73526,in1Min73526,in0Con44964,in0Ave61471,in1Ave61471,in0Add96146,in1Add96146,in0Con75455,in0Sub24290,in1Sub24290],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Dot55049.png')

LMin73526 = minimum_layer([[[[[0.7391, 0.6735]]]], [[[[0.422, 0.6301]]]]], Min73526), 
LRes69613 = reshape_layer(Min73526, [1, 2], Res69613), 
LFla35068 = flatten_layer(Res69613, Fla35068), 
LCon44964 = concatenate_layer([Fla35068,[[0.6019, 0.6579, 0.336, 0.0002, 0.1454, 0.5314]]], 1, Con44964), 
LAve61471 = average_layer([[[[[0.4959], [0.0061]], [[0.8084], [0.1154]]]], [[[[0.9119], [0.0401]], [[0.9771], [0.3403]]]]], Ave61471), 
LRes44467 = reshape_layer(Ave61471, [2, 2, 1, 1], Res44467), 
LAdd96146 = add_layer([[[[[[0.513]]], [[[0.151]]]]], [[[[[0.3688]]], [[[0.113]]]]]], Add96146), 
LUp_87059 = up_sampling3D_layer(Add96146, 1, 2, 1, Up_87059), 
LAdd15599 = add_layer([Res44467,Up_87059], Add15599), 
LRes32905 = reshape_layer(Add15599, [2, 2, 1], Res32905), 
LRes9993 = reshape_layer(Res32905, [2, 2], Res9993), 
LFla57627 = flatten_layer(Res9993, Fla57627), 
LCon75455 = concatenate_layer([Fla57627,[[0.3352, 0.0393, 0.5518, 0.9792]]], 1, Con75455), 
LSub24290 = subtract_layer([[[[[0.3997, 0.2914], [0.0771, 0.4145]], [[0.4353, 0.5351], [0.1372, 0.197]]], [[[0.3568, 0.7755], [0.2199, 0.2587]], [[0.983, 0.0172], [0.1123, 0.2668]]], [[[0.2393, 0.9096], [0.2949, 0.2201]], [[0.2866, 0.6525], [0.3917, 0.643]]]]], [[[[[0.6459, 0.1725], [0.2564, 0.5857]], [[0.8433, 0.5163], [0.9889, 0.0694]]], [[[0.7658, 0.7366], [0.2262, 0.9568]], [[0.6136, 0.1545], [0.6434, 0.3596]]], [[[0.0628, 0.7773], [0.7153, 0.5968]], [[0.0118, 0.8211], [0.4399, 0.4087]]]]], Sub24290), 
LRes14594 = reshape_layer(Sub24290, [3, 2, 4], Res14594), 
LRes79331 = reshape_layer(Res14594, [3, 8], Res79331), 
LGlo42117 = global_average_pooling1D_layer(Res79331, Glo42117), 
LMin14483 = minimum_layer([Con75455,Glo42117], Min14483), 
LDot55049 = dot_layer(Con44964,Min14483, 1, 1, Dot55049), 
exec_layers([LMin73526,LRes69613,LFla35068,LCon44964,LAve61471,LRes44467,LAdd96146,LUp_87059,LAdd15599,LRes32905,LRes9993,LFla57627,LCon75455,LSub24290,LRes14594,LRes79331,LGlo42117,LMin14483,LDot55049],["Min73526","Res69613","Fla35068","Con44964","Ave61471","Res44467","Add96146","Up_87059","Add15599","Res32905","Res9993","Fla57627","Con75455","Sub24290","Res14594","Res79331","Glo42117","Min14483","Dot55049"],Dot55049,"Dot55049")

Actual (Unparsed): [[-0.3964920]]

Expected (Unparsed): [[-0.3964920233333334]]

Actual:   [[-0.3964]]

Expected: [[-0.3964]]