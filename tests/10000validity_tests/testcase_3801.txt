import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Cro78006 = tf.keras.layers.Input(shape=([1, 4, 2, 2]))

Cro78006 = keras.layers.Cropping3D(cropping=((0, 0), (3, 0), (0, 1)), name = 'Cro78006', )(in0Cro78006)
ELU93134 = keras.layers.ELU(alpha=-3.8515655033187475, name = 'ELU93134', )(Cro78006)
Res78137 = keras.layers.Reshape((1, 1, 2), name = 'Res78137', )(ELU93134)
Res99092 = keras.layers.Reshape((1, 2), name = 'Res99092', )(Res78137)
Zer72530 = keras.layers.ZeroPadding1D(padding=((1, 1)), name = 'Zer72530', )(Res99092)
ELU13444 = keras.layers.ELU(alpha=3.2006095887535437, name = 'ELU13444', )(Zer72530)
Res50507 = keras.layers.Reshape((3, 2, 1), name = 'Res50507', )(ELU13444)
Res45308 = keras.layers.Reshape((3, 2, 1, 1), name = 'Res45308', )(Res50507)
Con10383 = keras.layers.Conv3DTranspose(4, (2, 2, 1),strides=(1, 1, 1), padding='valid', name = 'Con10383', )(Res45308)
model = tf.keras.models.Model(inputs=[in0Cro78006], outputs=Con10383)
w = model.get_layer('Con10383').get_weights() 
w[0] = np.array([[[[[0.6061], [0.1094], [0.6452], [0.4928]]], [[[0.9881], [0.7642], [0.2345], [0.1759]]]], [[[[0.528], [0.6246], [0.5474], [0.7309]]], [[[0.6559], [0.2005], [0.3056], [0.9076]]]]])
w[1] = np.array([0, 0, 0, 0])
model.get_layer('Con10383').set_weights(w) 
in0Cro78006 = tf.constant([[[[[1.8942, 1.0345], [1.5053, 1.0762]], [[1.333, 1.5842], [1.5355, 1.8292]], [[1.6632, 1.0132], [1.3627, 1.6018]], [[1.7443, 1.0298], [1.6265, 1.6437]]]]])
print (np.array2string(model.predict([in0Cro78006],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Con10383.png')

LCro78006 = cropping3D_layer([[[[[1.8942, 1.0345], [1.5053, 1.0762]], [[1.333, 1.5842], [1.5355, 1.8292]], [[1.6632, 1.0132], [1.3627, 1.6018]], [[1.7443, 1.0298], [1.6265, 1.6437]]]]], 0, 0, 3, 0, 0, 1, Cro78006), 
LELU93134 = elu_layer(Cro78006, -3.8515655033187475, ELU93134), 
LRes78137 = reshape_layer(ELU93134, [1, 1, 2], Res78137), 
LRes99092 = reshape_layer(Res78137, [1, 2], Res99092), 
LZer72530 = zero_padding1D_layer(Res99092, 1, 1, Zer72530), 
LELU13444 = elu_layer(Zer72530, 3.2006095887535437, ELU13444), 
LRes50507 = reshape_layer(ELU13444, [3, 2, 1], Res50507), 
LRes45308 = reshape_layer(Res50507, [3, 2, 1, 1], Res45308), 
LCon10383 = conv3D_transpose_layer(Res45308, 2, 2, 1,[[[[[0.6061], [0.1094], [0.6452], [0.4928]]], [[[0.9881], [0.7642], [0.2345], [0.1759]]]], [[[[0.528], [0.6246], [0.5474], [0.7309]]], [[[0.6559], [0.2005], [0.3056], [0.9076]]]]],[0, 0, 0, 0], 1, 1, 1, false, Con10383), 
exec_layers([LCro78006,LELU93134,LRes78137,LRes99092,LZer72530,LELU13444,LRes50507,LRes45308,LCon10383],["Cro78006","ELU93134","Res78137","Res99092","Zer72530","ELU13444","Res50507","Res45308","Con10383"],Con10383,"Con10383")

Actual (Unparsed): [[[[[0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000]]], [[[1.0572202, 0.1908264, 1.1254224, 0.8595910]], [[2.3477047, 1.4456542, 1.0734653, 0.8143078]], [[1.0175454, 0.7869732, 0.2414881, 0.1811418]]], [[[0.9209904, 1.0894898, 0.9548298, 1.2749089]], [[1.6878208, 0.9929453, 1.0967706, 2.3358075]], [[0.6754459, 0.2064749, 0.3147069, 0.9346465]]], [[[0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000]]]]]

Expected (Unparsed): [[[[[0.0,0.0,0.0,0.0]],[[0.0,0.0,0.0,0.0]],[[0.0,0.0,0.0,0.0]]],[[[1.05722023,0.19082642,1.12542236,0.85959104]],[[2.34770461,1.4456541799999998,1.07346531,0.8143078100000001]],[[1.01754538,0.7869731600000001,0.2414881,0.18114182]]],[[[0.9209904,1.08948978,0.9548298199999999,1.27490887]],[[1.68782077,0.9929452300000001,1.0967706000000002,2.3358075]],[[0.6754458200000001,0.20647490000000002,0.31470688,0.9346464800000001]]],[[[0.0,0.0,0.0,0.0]],[[0.0,0.0,0.0,0.0]],[[0.0,0.0,0.0,0.0]]]]]

Actual:   [[[[[0, 0, 0, 0]], [[0, 0, 0, 0]], [[0, 0, 0, 0]]], [[[1.0573, 0.1909, 1.1255, 0.8596]], [[2.3478, 1.4457, 1.0735, 0.8144]], [[1.0176, 0.787, 0.2415, 0.1812]]], [[[0.921, 1.0895, 0.9549, 1.275]], [[1.6879, 0.993, 1.0968, 2.3359]], [[0.6755, 0.2065, 0.3148, 0.9347]]], [[[0, 0, 0, 0]], [[0, 0, 0, 0]], [[0, 0, 0, 0]]]]]

Expected: [[[[[0, 0, 0, 0]], [[0, 0, 0, 0]], [[0, 0, 0, 0]]], [[[1.0573, 0.1909, 1.1255, 0.8596]], [[2.3478, 1.4457, 1.0735, 0.8144]], [[1.0176, 0.787, 0.2415, 0.1812]]], [[[0.921, 1.0895, 0.9549, 1.275]], [[1.6879, 0.993, 1.0968, 2.3359]], [[0.6755, 0.2065, 0.3148, 0.9347]]], [[[0, 0, 0, 0]], [[0, 0, 0, 0]], [[0, 0, 0, 0]]]]]