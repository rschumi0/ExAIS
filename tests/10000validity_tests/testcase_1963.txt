import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Zer30319 = tf.keras.layers.Input(shape=([4, 3]))

Zer30319 = keras.layers.ZeroPadding1D(padding=((1, 1)), name = 'Zer30319', )(in0Zer30319)
ReL15958 = keras.layers.ReLU(max_value=5.3906132780939995, negative_slope=6.44876538357739, threshold=7.967183948110153, name = 'ReL15958', )(Zer30319)
Res36087 = keras.layers.Reshape((6, 3, 1), name = 'Res36087', )(ReL15958)
Res24944 = keras.layers.Reshape((6, 3, 1, 1), name = 'Res24944', )(Res36087)
Con67404 = keras.layers.Conv3D(2, (5, 3, 1),strides=(1, 3, 5), padding='valid', dilation_rate=(1, 1, 1), name = 'Con67404', )(Res24944)
model = tf.keras.models.Model(inputs=[in0Zer30319], outputs=Con67404)
w = model.get_layer('Con67404').get_weights() 
w[0] = np.array([[[[[0.9576, 0.0548]]], [[[0.7377, 0.4032]]], [[[0.6976, 0.2702]]]], [[[[0.6973, 0.9966]]], [[[0.5979, 0.6093]]], [[[0.0036, 0.5396]]]], [[[[0.5087, 0.2817]]], [[[0.2523, 0.1707]]], [[[0.1786, 0.7906]]]], [[[[0.1763, 0.2341]]], [[[0.6449, 0.0136]]], [[[0.88, 0.9409]]]], [[[[0.5594, 0.6373]]], [[[0.0768, 0.487]]], [[[0.2393, 0.1083]]]]])
w[1] = np.array([0, 0])
model.get_layer('Con67404').set_weights(w) 
in0Zer30319 = tf.constant([[[1.1058, 1.7304, 1.1492], [1.2057, 1.8392, 1.5501], [1.2322, 1.4037, 1.4738], [1.9352, 1.4082, 1.4003]]])
print (np.array2string(model.predict([in0Zer30319],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Con67404.png')

LZer30319 = zero_padding1D_layer([[[1.1058, 1.7304, 1.1492], [1.2057, 1.8392, 1.5501], [1.2322, 1.4037, 1.4738], [1.9352, 1.4082, 1.4003]]], 1, 1, Zer30319), 
LReL15958 = relu_layer(Zer30319, 5.3906132780939995, 6.44876538357739, 7.967183948110153, ReL15958), 
LRes36087 = reshape_layer(ReL15958, [6, 3, 1], Res36087), 
LRes24944 = reshape_layer(Res36087, [6, 3, 1, 1], Res24944), 
LCon67404 = conv3D_layer(Res24944, 5, 3, 1,[[[[[0.9576, 0.0548]]], [[[0.7377, 0.4032]]], [[[0.6976, 0.2702]]]], [[[[0.6973, 0.9966]]], [[[0.5979, 0.6093]]], [[[0.0036, 0.5396]]]], [[[[0.5087, 0.2817]]], [[[0.2523, 0.1707]]], [[[0.1786, 0.7906]]]], [[[[0.1763, 0.2341]]], [[[0.6449, 0.0136]]], [[[0.88, 0.9409]]]], [[[[0.5594, 0.6373]]], [[[0.0768, 0.487]]], [[[0.2393, 0.1083]]]]],[0, 0], 1, 3, 5, false, 1, 1, 1, Con67404), 
exec_layers([LZer30319,LReL15958,LRes36087,LRes24944,LCon67404],["Zer30319","ReL15958","Res36087","Res24944","Con67404"],Con67404,"Con67404")

Actual (Unparsed): [[[[[-324.4903133, -281.6051310]]], [[[-313.5299114, -285.8063871]]]]]

Expected (Unparsed): [[[[[-324.4903130644334,-281.6051305376516]]],[[[-313.52991177625273,-285.806387041905]]]]]

Actual:   [[[[[-324.4903, -281.6051]]], [[[-313.5299, -285.8063]]]]]

Expected: [[[[[-324.4903, -281.6051]]], [[[-313.5299, -285.8063]]]]]