import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add25194 = tf.keras.layers.Input(shape=([1, 1, 2]))
in1Add25194 = tf.keras.layers.Input(shape=([1, 1, 2]))
in0Dot71328 = tf.keras.layers.Input(shape=([2]))
in1Dot71328 = tf.keras.layers.Input(shape=([2]))
in0Con21784 = tf.keras.layers.Input(shape=([1]))

Add25194 = keras.layers.Add(name = 'Add25194', )([in0Add25194,in1Add25194])
Res1057 = keras.layers.Reshape((1, 2), name = 'Res1057', )(Add25194)
Fla19423 = keras.layers.Flatten(name = 'Fla19423', )(Res1057)
Dot71328 = keras.layers.Dot(axes=(1, 1), name = 'Dot71328', )([in0Dot71328,in1Dot71328])
Con21784 = keras.layers.Concatenate(axis=1, name = 'Con21784', )([Dot71328,in0Con21784])
Mul18754 = keras.layers.Multiply(name = 'Mul18754', )([Fla19423,Con21784])
model = tf.keras.models.Model(inputs=[in0Add25194,in1Add25194,in0Dot71328,in1Dot71328,in0Con21784], outputs=Mul18754)
in0Add25194 = tf.constant([[[[0.8689, 0.2121]]]])
in1Add25194 = tf.constant([[[[0.0595, 0.3527]]]])
in0Dot71328 = tf.constant([[0.7678, 0.6685]])
in1Dot71328 = tf.constant([[0.3117, 0.4102]])
in0Con21784 = tf.constant([[0.9284]])
print (np.array2string(model.predict([in0Add25194,in1Add25194,in0Dot71328,in1Dot71328,in0Con21784],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Mul18754.png')

LAdd25194 = add_layer([[[[[0.8689, 0.2121]]]], [[[[0.0595, 0.3527]]]]], Add25194), 
LRes1057 = reshape_layer(Add25194, [1, 2], Res1057), 
LFla19423 = flatten_layer(Res1057, Fla19423), 
LDot71328 = dot_layer([[0.7678, 0.6685]], [[0.3117, 0.4102]], 1, 1, Dot71328), 
LCon21784 = concatenate_layer([Dot71328,[[0.9284]]], 1, Con21784), 
LMul18754 = multiply_layer([Fla19423,Con21784], Mul18754), 
exec_layers([LAdd25194,LRes1057,LFla19423,LDot71328,LCon21784,LMul18754],["Add25194","Res1057","Fla19423","Dot71328","Con21784","Mul18754"],Mul18754,"Mul18754")

Actual (Unparsed): [[0.4767723, 0.5243603]]

Expected (Unparsed): [[0.47677235566399995,0.52436032]]

Actual:   [[0.4768, 0.5244]]

Expected: [[0.4768, 0.5244]]