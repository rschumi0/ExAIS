import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo76724 = tf.keras.layers.Input(shape=([1, 2]))
in0Fla12197 = tf.keras.layers.Input(shape=([4]))

Glo76724 = keras.layers.GlobalMaxPool1D(name = 'Glo76724', )(in0Glo76724)
Res37158 = keras.layers.Reshape((2, 1), name = 'Res37158', )(Glo76724)
Res90953 = keras.layers.Reshape((2, 1, 1), name = 'Res90953', )(Res37158)
Fla12197 = keras.layers.Flatten(name = 'Fla12197', )(in0Fla12197)
Res71392 = keras.layers.Reshape((4, 1), name = 'Res71392', )(Fla12197)
Res14785 = keras.layers.Reshape((4, 1, 1), name = 'Res14785', )(Res71392)
Cro17179 = keras.layers.Cropping2D(cropping=((3, 0), (0, 0)), name = 'Cro17179', )(Res14785)
Zer12688 = keras.layers.ZeroPadding2D(padding=((1, 0), (0, 0)), name = 'Zer12688', )(Cro17179)
Max98085 = keras.layers.Maximum(name = 'Max98085', )([Res90953,Zer12688])
model = tf.keras.models.Model(inputs=[in0Glo76724,in0Fla12197], outputs=Max98085)
in0Glo76724 = tf.constant([[[1.5088, 1.7615]]])
in0Fla12197 = tf.constant([[1.9394, 1.6269, 1.4396, 1.9411]])
print (np.array2string(model.predict([in0Glo76724,in0Fla12197],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max98085.png')

LGlo76724 = global_max_pool1D_layer([[[1.5088, 1.7615]]], Glo76724), 
LRes37158 = reshape_layer(Glo76724, [2, 1], Res37158), 
LRes90953 = reshape_layer(Res37158, [2, 1, 1], Res90953), 
LFla12197 = flatten_layer([[1.9394, 1.6269, 1.4396, 1.9411]], Fla12197), 
LRes71392 = reshape_layer(Fla12197, [4, 1], Res71392), 
LRes14785 = reshape_layer(Res71392, [4, 1, 1], Res14785), 
LCro17179 = cropping2D_layer(Res14785, 3, 0, 0, 0, Cro17179), 
LZer12688 = zero_padding2D_layer(Cro17179, 1, 0, 0, 0, Zer12688), 
LMax98085 = maximum_layer([Res90953,Zer12688], Max98085), 
exec_layers([LGlo76724,LRes37158,LRes90953,LFla12197,LRes71392,LRes14785,LCro17179,LZer12688,LMax98085],["Glo76724","Res37158","Res90953","Fla12197","Res71392","Res14785","Cro17179","Zer12688","Max98085"],Max98085,"Max98085")

Actual (Unparsed): [[[[1.5088000]], [[1.9411000]]]]

Expected (Unparsed): [[[[1.5088]],[[1.9411]]]]

Actual:   [[[[1.5088]], [[1.9411]]]]

Expected: [[[[1.5088]], [[1.9411]]]]