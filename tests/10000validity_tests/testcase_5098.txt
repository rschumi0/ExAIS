import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Cro37734 = tf.keras.layers.Input(shape=([1, 2]))
in0Con75040 = tf.keras.layers.Input(shape=([2]))
in0Max45475 = tf.keras.layers.Input(shape=([2, 1, 2, 1]))
in1Max45475 = tf.keras.layers.Input(shape=([2, 1, 2, 1]))
in0Max34985 = tf.keras.layers.Input(shape=([2, 1]))
in0Con25727 = tf.keras.layers.Input(shape=([3]))

Cro37734 = keras.layers.Cropping1D(cropping=((0, 0)), name = 'Cro37734', )(in0Cro37734)
Lay45616 = keras.layers.LayerNormalization(axis=1, epsilon=2.0878983652984964, name = 'Lay45616', )(Cro37734)
Fla49444 = keras.layers.Flatten(name = 'Fla49444', )(Lay45616)
Con75040 = keras.layers.Concatenate(axis=1, name = 'Con75040', )([Fla49444,in0Con75040])
Max45475 = keras.layers.Maximum(name = 'Max45475', )([in0Max45475,in1Max45475])
Res50713 = keras.layers.Reshape((2, 1, 2), name = 'Res50713', )(Max45475)
Res29402 = keras.layers.Reshape((2, 2), name = 'Res29402', )(Res50713)
Fla97034 = keras.layers.Flatten(name = 'Fla97034', )(Res29402)
Max34985 = keras.layers.MaxPool1D(pool_size=(1), strides=(11), padding='same', name = 'Max34985', )(in0Max34985)
Res13693 = keras.layers.Reshape((1, 1, 1), name = 'Res13693', )(Max34985)
Glo89194 = keras.layers.GlobalAveragePooling2D(name = 'Glo89194', )(Res13693)
Con25727 = keras.layers.Concatenate(axis=1, name = 'Con25727', )([Glo89194,in0Con25727])
Ave52770 = keras.layers.Average(name = 'Ave52770', )([Fla97034,Con25727])
Mul88298 = keras.layers.Multiply(name = 'Mul88298', )([Con75040,Ave52770])
model = tf.keras.models.Model(inputs=[in0Cro37734,in0Con75040,in0Max45475,in1Max45475,in0Max34985,in0Con25727], outputs=Mul88298)
in0Cro37734 = tf.constant([[[1.6375, 1.1217]]])
in0Con75040 = tf.constant([[0.8593, 0.0351]])
in0Max45475 = tf.constant([[[[[0.8805], [0.0231]]], [[[0.6654], [0.5919]]]]])
in1Max45475 = tf.constant([[[[[0.5892], [0.9726]]], [[[0.1065], [0.2122]]]]])
in0Max34985 = tf.constant([[[1.0832], [1.7741]]])
in0Con25727 = tf.constant([[0.9254, 0.2622, 0.5992]])
print (np.array2string(model.predict([in0Cro37734,in0Con75040,in0Max45475,in1Max45475,in0Max34985,in0Con25727],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Mul88298.png')

LCro37734 = cropping1D_layer([[[1.6375, 1.1217]]], 0, 0, Cro37734), 
LLay45616 = layer_normalization_layer(Cro37734, 1, 2.0878983652984964, Lay45616), 
LFla49444 = flatten_layer(Lay45616, Fla49444), 
LCon75040 = concatenate_layer([Fla49444,[[0.8593, 0.0351]]], 1, Con75040), 
LMax45475 = maximum_layer([[[[[[0.8805], [0.0231]]], [[[0.6654], [0.5919]]]]], [[[[[0.5892], [0.9726]]], [[[0.1065], [0.2122]]]]]], Max45475), 
LRes50713 = reshape_layer(Max45475, [2, 1, 2], Res50713), 
LRes29402 = reshape_layer(Res50713, [2, 2], Res29402), 
LFla97034 = flatten_layer(Res29402, Fla97034), 
LMax34985 = max_pool1D_layer([[[1.0832], [1.7741]]], 1, 11, true, Max34985), 
LRes13693 = reshape_layer(Max34985, [1, 1, 1], Res13693), 
LGlo89194 = global_average_pooling2D_layer(Res13693, Glo89194), 
LCon25727 = concatenate_layer([Glo89194,[[0.9254, 0.2622, 0.5992]]], 1, Con25727), 
LAve52770 = average_layer([Fla97034,Con25727], Ave52770), 
LMul88298 = multiply_layer([Con75040,Ave52770], Mul88298), 
exec_layers([LCro37734,LLay45616,LFla49444,LCon75040,LMax45475,LRes50713,LRes29402,LFla97034,LMax34985,LRes13693,LGlo89194,LCon25727,LAve52770,LMul88298],["Cro37734","Lay45616","Fla49444","Con75040","Max45475","Res50713","Res29402","Fla97034","Max34985","Res13693","Glo89194","Con25727","Ave52770","Mul88298"],Mul88298,"Mul88298")

Actual (Unparsed): [[0.0000000, 0.0000000, 0.3985434, 0.0209038]]

Expected (Unparsed): [[0.0,0.0,0.39854333999999997,0.020903805]]

Actual:   [[0, 0, 0.3986, 0.021]]

Expected: [[0, 0, 0.3986, 0.021]]