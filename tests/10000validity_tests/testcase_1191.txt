import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max99744 = tf.keras.layers.Input(shape=([2, 1, 2]))
in1Max99744 = tf.keras.layers.Input(shape=([2, 1, 2]))

Max99744 = keras.layers.Maximum(name = 'Max99744', )([in0Max99744,in1Max99744])
Res88892 = keras.layers.Reshape((2, 2), name = 'Res88892', )(Max99744)
Max56666 = keras.layers.MaxPool1D(pool_size=(1), name = 'Max56666', )(Res88892)
Glo43998 = keras.layers.GlobalAveragePooling1D(name = 'Glo43998', )(Max56666)
model = tf.keras.models.Model(inputs=[in0Max99744,in1Max99744], outputs=Glo43998)
in0Max99744 = tf.constant([[[[0.3091, 0.4404]], [[0.0238, 0.9467]]]])
in1Max99744 = tf.constant([[[[0.9403, 0.1725]], [[0.2284, 0.7506]]]])
print (np.array2string(model.predict([in0Max99744,in1Max99744],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo43998.png')

LMax99744 = maximum_layer([[[[[0.3091, 0.4404]], [[0.0238, 0.9467]]]], [[[[0.9403, 0.1725]], [[0.2284, 0.7506]]]]], Max99744), 
LRes88892 = reshape_layer(Max99744, [2, 2], Res88892), 
LMax56666 = max_pool1D_layer(Res88892, 1, Max56666), 
LGlo43998 = global_average_pooling1D_layer(Max56666, Glo43998), 
exec_layers([LMax99744,LRes88892,LMax56666,LGlo43998],["Max99744","Res88892","Max56666","Glo43998"],Glo43998,"Glo43998")

Actual (Unparsed): [[0.5843500, 0.6935500]]

Expected (Unparsed): [[0.58435,0.69355]]

Actual:   [[0.5844, 0.6936]]

Expected: [[0.5844, 0.6936]]