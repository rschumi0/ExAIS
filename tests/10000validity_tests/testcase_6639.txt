import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0ReL58242 = tf.keras.layers.Input(shape=([2, 2, 1, 2]))
in0Con352 = tf.keras.layers.Input(shape=([2, 5, 1]))
in0Add14741 = tf.keras.layers.Input(shape=([2, 1, 1, 2]))
in1Add14741 = tf.keras.layers.Input(shape=([2, 1, 1, 2]))
in0Add89004 = tf.keras.layers.Input(shape=([1, 2, 2]))
in1Add89004 = tf.keras.layers.Input(shape=([1, 2, 2]))

ReL58242 = keras.layers.ReLU(max_value=5.327956378856156, negative_slope=9.157992209204618, threshold=6.569049264688422, name = 'ReL58242', input_shape=(2, 2, 1, 2))(in0ReL58242)
Res52574 = keras.layers.Reshape((2, 2, 2), name = 'Res52574', )(ReL58242)
Res49623 = keras.layers.Reshape((2, 4), name = 'Res49623', )(Res52574)
Cro76068 = keras.layers.Cropping1D(cropping=((1, 0)), name = 'Cro76068', )(Res49623)
Res96685 = keras.layers.Reshape((1, 4, 1), name = 'Res96685', )(Cro76068)
Zer23924 = keras.layers.ZeroPadding2D(padding=((1, 0), (1, 0)), name = 'Zer23924', )(Res96685)
Con352 = keras.layers.Concatenate(axis=3, name = 'Con352', )([Zer23924,in0Con352])
Add14741 = keras.layers.Add(name = 'Add14741', )([in0Add14741,in1Add14741])
Res87611 = keras.layers.Reshape((2, 1, 2), name = 'Res87611', )(Add14741)
Zer69676 = keras.layers.ZeroPadding2D(padding=((0, 0), (2, 0)), name = 'Zer69676', )(Res87611)
Add89004 = keras.layers.Add(name = 'Add89004', )([in0Add89004,in1Add89004])
Zer75390 = keras.layers.ZeroPadding2D(padding=((1, 0), (1, 0)), name = 'Zer75390', )(Add89004)
Sub68510 = keras.layers.Subtract(name = 'Sub68510', )([Zer69676,Zer75390])
Zer69565 = keras.layers.ZeroPadding2D(padding=((0, 0), (2, 0)), name = 'Zer69565', )(Sub68510)
Sub34441 = keras.layers.Subtract(name = 'Sub34441', )([Con352,Zer69565])
model = tf.keras.models.Model(inputs=[in0ReL58242,in0Con352,in0Add14741,in1Add14741,in0Add89004,in1Add89004], outputs=Sub34441)
in0ReL58242 = tf.constant([[[[[0.0176, 0.8858]], [[0.1823, 0.2999]]], [[[0.6621, 0.3407]], [[0.8648, 0.2335]]]]])
in0Con352 = tf.constant([[[[0.2333], [0.7674], [0.4875], [0.0076], [0.5583]], [[0.1392], [0.7506], [0.8148], [0.1695], [0.5201]]]])
in0Add14741 = tf.constant([[[[[0.6688, 0.4359]]], [[[0.1798, 0.5852]]]]])
in1Add14741 = tf.constant([[[[[0.9262, 0.3331]]], [[[0.3453, 0.75]]]]])
in0Add89004 = tf.constant([[[[0.3994, 0.4928], [0.0645, 0.5317]]]])
in1Add89004 = tf.constant([[[[0.1825, 0.5519], [0.4082, 0.6488]]]])
print (np.array2string(model.predict([in0ReL58242,in0Con352,in0Add14741,in1Add14741,in0Add89004,in1Add89004],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sub34441.png')

LReL58242 = relu_layer([[[[[0.0176, 0.8858]], [[0.1823, 0.2999]]], [[[0.6621, 0.3407]], [[0.8648, 0.2335]]]]], 5.327956378856156, 9.157992209204618, 6.569049264688422, ReL58242), 
LRes52574 = reshape_layer(ReL58242, [2, 2, 2], Res52574), 
LRes49623 = reshape_layer(Res52574, [2, 4], Res49623), 
LCro76068 = cropping1D_layer(Res49623, 1, 0, Cro76068), 
LRes96685 = reshape_layer(Cro76068, [1, 4, 1], Res96685), 
LZer23924 = zero_padding2D_layer(Res96685, 1, 0, 1, 0, Zer23924), 
LCon352 = concatenate_layer([Zer23924,[[[[0.2333], [0.7674], [0.4875], [0.0076], [0.5583]], [[0.1392], [0.7506], [0.8148], [0.1695], [0.5201]]]]], 3, Con352), 
LAdd14741 = add_layer([[[[[[0.6688, 0.4359]]], [[[0.1798, 0.5852]]]]], [[[[[0.9262, 0.3331]]], [[[0.3453, 0.75]]]]]], Add14741), 
LRes87611 = reshape_layer(Add14741, [2, 1, 2], Res87611), 
LZer69676 = zero_padding2D_layer(Res87611, 0, 0, 2, 0, Zer69676), 
LAdd89004 = add_layer([[[[[0.3994, 0.4928], [0.0645, 0.5317]]]], [[[[0.1825, 0.5519], [0.4082, 0.6488]]]]], Add89004), 
LZer75390 = zero_padding2D_layer(Add89004, 1, 0, 1, 0, Zer75390), 
LSub68510 = subtract_layer(Zer69676,Zer75390, Sub68510), 
LZer69565 = zero_padding2D_layer(Sub68510, 0, 0, 2, 0, Zer69565), 
LSub34441 = subtract_layer(Con352,Zer69565, Sub34441), 
exec_layers([LReL58242,LRes52574,LRes49623,LCro76068,LRes96685,LZer23924,LCon352,LAdd14741,LRes87611,LZer69676,LAdd89004,LZer75390,LSub68510,LZer69565,LSub34441],["ReL58242","Res52574","Res49623","Cro76068","Res96685","Zer23924","Con352","Add14741","Res87611","Zer69676","Add89004","Zer75390","Sub68510","Zer69565","Sub34441"],Sub34441,"Sub34441")

Actual (Unparsed): [[[[0.0000000, 0.2333000], [0.0000000, 0.7674000], [0.0000000, 0.4875000], [0.0000000, 0.0076000], [-1.5950000, -0.2107000]], [[0.0000000, 0.1392000], [-54.0957952, 0.7506000], [-57.0391740, 0.8148000], [-51.6575705, 1.2142000], [-58.0733108, 0.3654000]]]]

Expected (Unparsed): [[[[0,0.2333],[0,0.7674],[0,0.4875],[0,0.0076],[-1.595,-0.2107]],[[0,0.1392],[-54.09579534618352,0.7506],[-57.03917404222189,0.8148],[-51.65757032537775,1.2142],[-58.07331080704862,0.36539999999999995]]]]

Actual:   [[[[0, 0.2333], [0, 0.7674], [0, 0.4875], [0, 0.0076], [-1.595, -0.2107]], [[0, 0.1392], [-54.0957, 0.7506], [-57.0391, 0.8148], [-51.6575, 1.2142], [-58.0733, 0.3654]]]]

Expected: [[[[0, 0.2333], [0, 0.7674], [0, 0.4875], [0, 0.0076], [-1.595, -0.2107]], [[0, 0.1392], [-54.0957, 0.7506], [-57.0391, 0.8148], [-51.6575, 1.2142], [-58.0733, 0.3654]]]]