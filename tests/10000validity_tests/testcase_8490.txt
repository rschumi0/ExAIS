import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add85380 = tf.keras.layers.Input(shape=([1, 1, 1]))
in1Add85380 = tf.keras.layers.Input(shape=([1, 1, 1]))
in0Con30751 = tf.keras.layers.Input(shape=([2, 1, 1]))
in0Ave73959 = tf.keras.layers.Input(shape=([2, 1, 2]))
in1Ave73959 = tf.keras.layers.Input(shape=([2, 1, 2]))

Add85380 = keras.layers.Add(name = 'Add85380', )([in0Add85380,in1Add85380])
Zer15131 = keras.layers.ZeroPadding2D(padding=((1, 0), (0, 0)), name = 'Zer15131', )(Add85380)
Con30751 = keras.layers.Concatenate(axis=3, name = 'Con30751', )([Zer15131,in0Con30751])
Ave73959 = keras.layers.Average(name = 'Ave73959', )([in0Ave73959,in1Ave73959])
Cro89333 = keras.layers.Cropping2D(cropping=((0, 0), (0, 0)), name = 'Cro89333', )(Ave73959)
Mul2700 = keras.layers.Multiply(name = 'Mul2700', )([Con30751,Cro89333])
Res44338 = keras.layers.Reshape((2, 2), name = 'Res44338', )(Mul2700)
Glo67905 = keras.layers.GlobalAveragePooling1D(name = 'Glo67905', )(Res44338)
model = tf.keras.models.Model(inputs=[in0Add85380,in1Add85380,in0Con30751,in0Ave73959,in1Ave73959], outputs=Glo67905)
in0Add85380 = tf.constant([[[[0.2515]]]])
in1Add85380 = tf.constant([[[[0.4352]]]])
in0Con30751 = tf.constant([[[[0.0661]], [[0.2838]]]])
in0Ave73959 = tf.constant([[[[0.9166, 0.1524]], [[0.8462, 0.8527]]]])
in1Ave73959 = tf.constant([[[[0.8007, 0.552]], [[0.3763, 0.8015]]]])
print (np.array2string(model.predict([in0Add85380,in1Add85380,in0Con30751,in0Ave73959,in1Ave73959],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo67905.png')

LAdd85380 = add_layer([[[[[0.2515]]]], [[[[0.4352]]]]], Add85380), 
LZer15131 = zero_padding2D_layer(Add85380, 1, 0, 0, 0, Zer15131), 
LCon30751 = concatenate_layer([Zer15131,[[[[0.0661]], [[0.2838]]]]], 3, Con30751), 
LAve73959 = average_layer([[[[[0.9166, 0.1524]], [[0.8462, 0.8527]]]], [[[[0.8007, 0.552]], [[0.3763, 0.8015]]]]], Ave73959), 
LCro89333 = cropping2D_layer(Ave73959, 0, 0, 0, 0, Cro89333), 
LMul2700 = multiply_layer([Con30751,Cro89333], Mul2700), 
LRes44338 = reshape_layer(Mul2700, [2, 2], Res44338), 
LGlo67905 = global_average_pooling1D_layer(Res44338, Glo67905), 
exec_layers([LAdd85380,LZer15131,LCon30751,LAve73959,LCro89333,LMul2700,LRes44338,LGlo67905],["Add85380","Zer15131","Con30751","Ave73959","Cro89333","Mul2700","Res44338","Glo67905"],Glo67905,"Glo67905")

Actual (Unparsed): [[0.2098727, 0.1290057]]

Expected (Unparsed): [[0.2098726875,0.1290057]]

Actual:   [[0.2099, 0.1291]]

Expected: [[0.2099, 0.1291]]