import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add30855 = tf.keras.layers.Input(shape=([1, 2, 2]))
in1Add30855 = tf.keras.layers.Input(shape=([1, 2, 2]))

Add30855 = keras.layers.Add(name = 'Add30855', )([in0Add30855,in1Add30855])
Con95593 = keras.layers.Conv2D(4, (1, 1),strides=(1, 1), padding='same', dilation_rate=(1, 1), name = 'Con95593', )(Add30855)
model = tf.keras.models.Model(inputs=[in0Add30855,in1Add30855], outputs=Con95593)
w = model.get_layer('Con95593').get_weights() 
w[0] = np.array([[[[0.3986, 0.4769, 0.5999, 0.389], [0.0162, 0.0532, 0.3418, 0.4315]]]])
w[1] = np.array([0, 0, 0, 0])
model.get_layer('Con95593').set_weights(w) 
in0Add30855 = tf.constant([[[[0.2221, 0.3899], [0.2936, 0.1176]]]])
in1Add30855 = tf.constant([[[[0.9127, 0.7171], [0.9758, 0.0279]]]])
print (np.array2string(model.predict([in0Add30855,in1Add30855],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Con95593.png')

LAdd30855 = add_layer([[[[[0.2221, 0.3899], [0.2936, 0.1176]]]], [[[[0.9127, 0.7171], [0.9758, 0.0279]]]]], Add30855), 
LCon95593 = conv2D_layer(Add30855, 1, 1,[[[[0.3986, 0.4769, 0.5999, 0.389], [0.0162, 0.0532, 0.3418, 0.4315]]]],[0, 0, 0, 0], 1, 1, true, 1, 1, Con95593), 
exec_layers([LAdd30855,LCon95593],["Add30855","Con95593"],Con95593,"Con95593")

Actual (Unparsed): [[[[0.4702647, 0.6000785, 1.0591391, 0.9191077], [0.5083399, 0.6131174, 0.8112449, 0.5565798]]]]

Expected (Unparsed): [[[[0.47026468,0.60007852,1.05913912,0.9191077000000001],[0.50833994,0.61311746,0.81124496,0.55657985]]]]

Actual:   [[[[0.4703, 0.6001, 1.0592, 0.9192], [0.5084, 0.6132, 0.8113, 0.5566]]]]

Expected: [[[[0.4703, 0.6001, 1.0592, 0.9192], [0.5084, 0.6132, 0.8113, 0.5566]]]]