import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot27134 = tf.keras.layers.Input(shape=([2]))
in1Dot27134 = tf.keras.layers.Input(shape=([2]))
in0Mul91642 = tf.keras.layers.Input(shape=([1, 1]))
in1Mul91642 = tf.keras.layers.Input(shape=([1, 1]))

Dot27134 = keras.layers.Dot(axes=(1, 1), name = 'Dot27134', )([in0Dot27134,in1Dot27134])
Res7839 = keras.layers.Reshape((1, 1), name = 'Res7839', )(Dot27134)
Res36138 = keras.layers.Reshape((1, 1, 1), name = 'Res36138', )(Res7839)
Glo18625 = keras.layers.GlobalMaxPool2D(name = 'Glo18625', )(Res36138)
Res18329 = keras.layers.Reshape((1, 1), name = 'Res18329', )(Glo18625)
Mul91642 = keras.layers.Multiply(name = 'Mul91642', )([in0Mul91642,in1Mul91642])
Add81867 = keras.layers.Add(name = 'Add81867', )([Res18329,Mul91642])
Res72352 = keras.layers.Reshape((1, 1, 1), name = 'Res72352', )(Add81867)
Up_34450 = keras.layers.UpSampling2D(size=(1, 2), name = 'Up_34450', )(Res72352)
model = tf.keras.models.Model(inputs=[in0Dot27134,in1Dot27134,in0Mul91642,in1Mul91642], outputs=Up_34450)
in0Dot27134 = tf.constant([[0.8272, 0.8714]])
in1Dot27134 = tf.constant([[0.309, 0.1017]])
in0Mul91642 = tf.constant([[[0.9384]]])
in1Mul91642 = tf.constant([[[0.7972]]])
print (np.array2string(model.predict([in0Dot27134,in1Dot27134,in0Mul91642,in1Mul91642],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Up_34450.png')

LDot27134 = dot_layer([[0.8272, 0.8714]], [[0.309, 0.1017]], 1, 1, Dot27134), 
LRes7839 = reshape_layer(Dot27134, [1, 1], Res7839), 
LRes36138 = reshape_layer(Res7839, [1, 1, 1], Res36138), 
LGlo18625 = global_max_pool2D_layer(Res36138, Glo18625), 
LRes18329 = reshape_layer(Glo18625, [1, 1], Res18329), 
LMul91642 = multiply_layer([[[[0.9384]]], [[[0.7972]]]], Mul91642), 
LAdd81867 = add_layer([Res18329,Mul91642], Add81867), 
LRes72352 = reshape_layer(Add81867, [1, 1, 1], Res72352), 
LUp_34450 = up_sampling2D_layer(Res72352, 1, 2, Up_34450), 
exec_layers([LDot27134,LRes7839,LRes36138,LGlo18625,LRes18329,LMul91642,LAdd81867,LRes72352,LUp_34450],["Dot27134","Res7839","Res36138","Glo18625","Res18329","Mul91642","Add81867","Res72352","Up_34450"],Up_34450,"Up_34450")

Actual (Unparsed): [[[[1.0923186], [1.0923186]]]]

Expected (Unparsed): [[[[1.09231866],[1.09231866]]]]

Actual:   [[[[1.0924], [1.0924]]]]

Expected: [[[[1.0924], [1.0924]]]]