import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min5786 = tf.keras.layers.Input(shape=([1, 2, 2, 1]))
in1Min5786 = tf.keras.layers.Input(shape=([1, 2, 2, 1]))

Min5786 = keras.layers.Minimum(name = 'Min5786', )([in0Min5786,in1Min5786])
Res45969 = keras.layers.Reshape((1, 2, 2), name = 'Res45969', )(Min5786)
Ave50363 = keras.layers.AveragePooling2D(pool_size=(1, 1), strides=(1, 1), padding='same', name = 'Ave50363', )(Res45969)
Sof15867 = keras.layers.Softmax(axis=1, name = 'Sof15867', )(Ave50363)
model = tf.keras.models.Model(inputs=[in0Min5786,in1Min5786], outputs=Sof15867)
in0Min5786 = tf.constant([[[[[0.1702], [0.4953]], [[0.9342], [0.8861]]]]])
in1Min5786 = tf.constant([[[[[0.4432], [0.8645]], [[0.7011], [0.9232]]]]])
print (np.array2string(model.predict([in0Min5786,in1Min5786],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sof15867.png')

LMin5786 = minimum_layer([[[[[[0.1702], [0.4953]], [[0.9342], [0.8861]]]]], [[[[[0.4432], [0.8645]], [[0.7011], [0.9232]]]]]], Min5786), 
LRes45969 = reshape_layer(Min5786, [1, 2, 2], Res45969), 
LAve50363 = average_pooling2D_layer(Res45969, 1, 1, 1, 1, true, Ave50363), 
LSof15867 = softmax_layer(Ave50363, 1, Sof15867), 
exec_layers([LMin5786,LRes45969,LAve50363,LSof15867],["Min5786","Res45969","Ave50363","Sof15867"],Sof15867,"Sof15867")

Actual (Unparsed): [[[[1.0000000, 1.0000000], [1.0000000, 1.0000000]]]]

Expected (Unparsed): [[[[1.0,1.0],[1.0,1.0]]]]

Actual:   [[[[1, 1], [1, 1]]]]

Expected: [[[[1, 1], [1, 1]]]]