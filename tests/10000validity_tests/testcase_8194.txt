import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Zer67539 = tf.keras.layers.Input(shape=([4, 4, 1, 2]))
in0Max79219 = tf.keras.layers.Input(shape=([1, 1]))
in1Max79219 = tf.keras.layers.Input(shape=([1, 1]))
in0Con7791 = tf.keras.layers.Input(shape=([6, 35]))

Zer67539 = keras.layers.ZeroPadding3D(padding=((1, 1), (1, 1), (1, 1)), name = 'Zer67539', )(in0Zer67539)
Res48771 = keras.layers.Reshape((6, 6, 6), name = 'Res48771', )(Zer67539)
Res73536 = keras.layers.Reshape((6, 36), name = 'Res73536', )(Res48771)
Max79219 = keras.layers.Maximum(name = 'Max79219', )([in0Max79219,in1Max79219])
Zer61614 = keras.layers.ZeroPadding1D(padding=((5, 0)), name = 'Zer61614', )(Max79219)
Con7791 = keras.layers.Concatenate(axis=2, name = 'Con7791', )([Zer61614,in0Con7791])
Add15701 = keras.layers.Add(name = 'Add15701', )([Res73536,Con7791])
Cro63326 = keras.layers.Cropping1D(cropping=((1, 0)), name = 'Cro63326', )(Add15701)
model = tf.keras.models.Model(inputs=[in0Zer67539,in0Max79219,in1Max79219,in0Con7791], outputs=Cro63326)
in0Zer67539 = tf.constant([[[[[1.7731, 1.3722]], [[1.4368, 1.2051]], [[1.5362, 1.3061]], [[1.8026, 1.596]]], [[[1.6513, 1.9724]], [[1.4754, 1.4856]], [[1.5883, 1.5991]], [[1.9108, 1.7973]]], [[[1.1736, 1.1181]], [[1.7209, 1.0806]], [[1.2216, 1.0235]], [[1.9238, 1.2344]]], [[[1.9627, 1.9178]], [[1.5078, 1.0932]], [[1.7959, 1.8256]], [[1.8723, 1.7444]]]]])
in0Max79219 = tf.constant([[[0.8749]]])
in1Max79219 = tf.constant([[[0.9055]]])
in0Con7791 = tf.constant([[[0.998, 0.056, 0.9327, 0.8188, 0.6452, 0.4727, 0.4687, 0.4661, 0.3543, 0.3379, 0.4, 0.1901, 0.2468, 0.1023, 0.7482, 0.1218, 0.3585, 0.6357, 0.7778, 0.8353, 0.6993, 0.6849, 0.7997, 0.0656, 0.9646, 0.2945, 0.8178, 0.9446, 0.9101, 0.1787, 0.9933, 0.7357, 0.0471, 0.3071, 0.6172], [0.5296, 0.3674, 0.9051, 0.9193, 0.0021, 0.2646, 0.659, 0.572, 0.1273, 0.6822, 0.1615, 0.193, 0.6915, 0.7916, 0.5413, 0.4991, 0.5575, 0.1777, 0.7733, 0.0164, 0.894, 0.5928, 0.3885, 0.4162, 0.0019, 0.8307, 0.1692, 0.6106, 0.945, 0.1669, 0.948, 0.7172, 0.925, 0.112, 0.81], [0.8817, 0.2268, 0.9355, 0.8398, 0.7321, 0.6056, 0.5292, 0.0543, 0.9337, 0.1857, 0.7018, 0.3105, 0.9087, 0.2999, 0.9213, 0.7924, 0.292, 0.2077, 0.8566, 0.1426, 0.1057, 0.3038, 0.807, 0.4303, 0.9498, 0.2482, 0.2561, 0.9218, 0.7341, 0.436, 0.3358, 0.0567, 0.6018, 0.3595, 0.947], [0.1234, 0.7361, 0.7092, 0.6444, 0.8739, 0.6781, 0.5121, 0.1669, 0.7215, 0.6395, 0.2111, 0.6688, 0.2255, 0.0411, 0.352, 0.2926, 0.2804, 0.1759, 0.4633, 0.7113, 0.8028, 0.4591, 0.7908, 0.6647, 0.7336, 0.2009, 0.7778, 0.3161, 0.8612, 0.2207, 0.572, 0.4631, 0.3089, 0.9044, 0.3818], [0.2511, 0.5299, 0.5008, 0.2077, 0.0588, 0.3048, 0.5501, 0.328, 0.6494, 0.5455, 0.3448, 0.9317, 0.5193, 0.6776, 0.2315, 0.4629, 0.6091, 0.9928, 0.3818, 0.5614, 0.1918, 0.6436, 0.3831, 0.9701, 0.804, 0.8842, 0.6304, 0.4152, 0.5407, 0.7559, 0.0352, 0.2593, 0.9048, 0.6594, 0.0121], [0.6785, 0.6651, 0.1607, 0.0503, 0.2206, 0.8616, 0.9382, 0.4331, 0.8633, 0.1722, 0.9917, 0.8297, 0.1129, 0.3497, 0.1085, 0.55, 0.2556, 0.332, 0.1092, 0.2285, 0.6074, 0.9275, 0.5801, 0.5811, 0.4964, 0.69, 0.64, 0.6668, 0.7533, 0.709, 0.7878, 0.7771, 0.6885, 0.5618, 0.0268]]])
print (np.array2string(model.predict([in0Zer67539,in0Max79219,in1Max79219,in0Con7791],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Cro63326.png')

LZer67539 = zero_padding3D_layer([[[[[1.7731, 1.3722]], [[1.4368, 1.2051]], [[1.5362, 1.3061]], [[1.8026, 1.596]]], [[[1.6513, 1.9724]], [[1.4754, 1.4856]], [[1.5883, 1.5991]], [[1.9108, 1.7973]]], [[[1.1736, 1.1181]], [[1.7209, 1.0806]], [[1.2216, 1.0235]], [[1.9238, 1.2344]]], [[[1.9627, 1.9178]], [[1.5078, 1.0932]], [[1.7959, 1.8256]], [[1.8723, 1.7444]]]]], 1, 1, 1, 1, 1, 1, Zer67539), 
LRes48771 = reshape_layer(Zer67539, [6, 6, 6], Res48771), 
LRes73536 = reshape_layer(Res48771, [6, 36], Res73536), 
LMax79219 = maximum_layer([[[[0.8749]]], [[[0.9055]]]], Max79219), 
LZer61614 = zero_padding1D_layer(Max79219, 5, 0, Zer61614), 
LCon7791 = concatenate_layer([Zer61614,[[[0.998, 0.056, 0.9327, 0.8188, 0.6452, 0.4727, 0.4687, 0.4661, 0.3543, 0.3379, 0.4, 0.1901, 0.2468, 0.1023, 0.7482, 0.1218, 0.3585, 0.6357, 0.7778, 0.8353, 0.6993, 0.6849, 0.7997, 0.0656, 0.9646, 0.2945, 0.8178, 0.9446, 0.9101, 0.1787, 0.9933, 0.7357, 0.0471, 0.3071, 0.6172], [0.5296, 0.3674, 0.9051, 0.9193, 0.0021, 0.2646, 0.659, 0.572, 0.1273, 0.6822, 0.1615, 0.193, 0.6915, 0.7916, 0.5413, 0.4991, 0.5575, 0.1777, 0.7733, 0.0164, 0.894, 0.5928, 0.3885, 0.4162, 0.0019, 0.8307, 0.1692, 0.6106, 0.945, 0.1669, 0.948, 0.7172, 0.925, 0.112, 0.81], [0.8817, 0.2268, 0.9355, 0.8398, 0.7321, 0.6056, 0.5292, 0.0543, 0.9337, 0.1857, 0.7018, 0.3105, 0.9087, 0.2999, 0.9213, 0.7924, 0.292, 0.2077, 0.8566, 0.1426, 0.1057, 0.3038, 0.807, 0.4303, 0.9498, 0.2482, 0.2561, 0.9218, 0.7341, 0.436, 0.3358, 0.0567, 0.6018, 0.3595, 0.947], [0.1234, 0.7361, 0.7092, 0.6444, 0.8739, 0.6781, 0.5121, 0.1669, 0.7215, 0.6395, 0.2111, 0.6688, 0.2255, 0.0411, 0.352, 0.2926, 0.2804, 0.1759, 0.4633, 0.7113, 0.8028, 0.4591, 0.7908, 0.6647, 0.7336, 0.2009, 0.7778, 0.3161, 0.8612, 0.2207, 0.572, 0.4631, 0.3089, 0.9044, 0.3818], [0.2511, 0.5299, 0.5008, 0.2077, 0.0588, 0.3048, 0.5501, 0.328, 0.6494, 0.5455, 0.3448, 0.9317, 0.5193, 0.6776, 0.2315, 0.4629, 0.6091, 0.9928, 0.3818, 0.5614, 0.1918, 0.6436, 0.3831, 0.9701, 0.804, 0.8842, 0.6304, 0.4152, 0.5407, 0.7559, 0.0352, 0.2593, 0.9048, 0.6594, 0.0121], [0.6785, 0.6651, 0.1607, 0.0503, 0.2206, 0.8616, 0.9382, 0.4331, 0.8633, 0.1722, 0.9917, 0.8297, 0.1129, 0.3497, 0.1085, 0.55, 0.2556, 0.332, 0.1092, 0.2285, 0.6074, 0.9275, 0.5801, 0.5811, 0.4964, 0.69, 0.64, 0.6668, 0.7533, 0.709, 0.7878, 0.7771, 0.6885, 0.5618, 0.0268]]]], 2, Con7791), 
LAdd15701 = add_layer([Res73536,Con7791], Add15701), 
LCro63326 = cropping1D_layer(Add15701, 1, 0, Cro63326), 
exec_layers([LZer67539,LRes48771,LRes73536,LMax79219,LZer61614,LCon7791,LAdd15701,LCro63326],["Zer67539","Res48771","Res73536","Max79219","Zer61614","Con7791","Add15701","Cro63326"],Cro63326,"Cro63326")

Actual (Unparsed): [[[0.0000000, 0.5296000, 0.3674000, 0.9051000, 0.9193000, 0.0021000, 0.2646000, 0.6590000, 2.3451000, 1.4995000, 0.6822000, 0.1615000, 0.1930000, 0.6915000, 2.2284000, 1.7464001, 0.4991000, 0.5575000, 0.1777000, 0.7733000, 1.5526000, 2.2001000, 0.5928000, 0.3885000, 0.4162000, 0.0019000, 2.6333000, 1.7652000, 0.6106000, 0.9450000, 0.1669000, 0.9480000, 0.7172000, 0.9250000, 0.1120000, 0.8100000], [0.0000000, 0.8817000, 0.2268000, 0.9355000, 0.8398000, 0.7321000, 0.6056000, 0.5292000, 1.7056000, 2.9061000, 0.1857000, 0.7018000, 0.3105000, 0.9087000, 1.7753000, 2.4069000, 0.7924000, 0.2920000, 0.2077000, 0.8566000, 1.7309000, 1.7048000, 0.3038000, 0.8070000, 0.4303000, 0.9498000, 2.1590000, 2.0534000, 0.9218000, 0.7341000, 0.4360000, 0.3358000, 0.0567000, 0.6018000, 0.3595000, 0.9470000], [0.0000000, 0.1234000, 0.7361000, 0.7092000, 0.6444000, 0.8739000, 0.6781000, 0.5121000, 1.3405000, 1.8396000, 0.6395000, 0.2111000, 0.6688000, 0.2255000, 1.7620001, 1.4326000, 0.2926000, 0.2804000, 0.1759000, 0.4633000, 1.9329001, 1.8263000, 0.4591000, 0.7908000, 0.6647000, 0.7336000, 2.1247000, 2.0122001, 0.3161000, 0.8612000, 0.2207000, 0.5720000, 0.4631000, 0.3089000, 0.9044000, 0.3818000], [0.0000000, 0.2511000, 0.5299000, 0.5008000, 0.2077000, 0.0588000, 0.3048000, 0.5501000, 2.2907000, 2.5671999, 0.5455000, 0.3448000, 0.9317000, 0.5193000, 2.1854000, 1.3247000, 0.4629000, 0.6091000, 0.9928000, 0.3818000, 2.3573000, 2.0174000, 0.6436000, 0.3831000, 0.9701000, 0.8040000, 2.7565000, 2.3748000, 0.4152000, 0.5407000, 0.7559000, 0.0352000, 0.2593000, 0.9048000, 0.6594000, 0.0121000], [0.9055000, 0.6785000, 0.6651000, 0.1607000, 0.0503000, 0.2206000, 0.8616000, 0.9382000, 0.4331000, 0.8633000, 0.1722000, 0.9917000, 0.8297000, 0.1129000, 0.3497000, 0.1085000, 0.5500000, 0.2556000, 0.3320000, 0.1092000, 0.2285000, 0.6074000, 0.9275000, 0.5801000, 0.5811000, 0.4964000, 0.6900000, 0.6400000, 0.6668000, 0.7533000, 0.7090000, 0.7878000, 0.7771000, 0.6885000, 0.5618000, 0.0268000]]]

Expected (Unparsed): [[[0,0.5296,0.3674,0.9051,0.9193,0.0021,0.2646,0.659,2.3451,1.4995,0.6822,0.1615,0.193,0.6915,2.2284,1.7464,0.4991,0.5575,0.1777,0.7733,1.5526,2.2001,0.5928,0.3885,0.4162,0.0019,2.6333,1.7652,0.6106,0.945,0.1669,0.948,0.7172,0.925,0.112,0.81],[0,0.8817,0.2268,0.9355,0.8398,0.7321,0.6056,0.5292,1.7056,2.9061,0.1857,0.7018,0.3105,0.9087,1.7753,2.4069000000000003,0.7924,0.292,0.2077,0.8566,1.7309,1.7047999999999999,0.3038,0.807,0.4303,0.9498,2.1590000000000003,2.0534,0.9218,0.7341,0.436,0.3358,0.0567,0.6018,0.3595,0.947],[0,0.1234,0.7361,0.7092,0.6444,0.8739,0.6781,0.5121,1.3405,1.8396000000000001,0.6395,0.2111,0.6688,0.2255,1.762,1.4325999999999999,0.2926,0.2804,0.1759,0.4633,1.9329,1.8263,0.4591,0.7908,0.6647,0.7336,2.1247,2.0122,0.3161,0.8612,0.2207,0.572,0.4631,0.3089,0.9044,0.3818],[0,0.2511,0.5299,0.5008,0.2077,0.0588,0.3048,0.5501,2.2906999999999997,2.5671999999999997,0.5455,0.3448,0.9317,0.5193,2.1854,1.3247,0.4629,0.6091,0.9928,0.3818,2.3573,2.0174,0.6436,0.3831,0.9701,0.804,2.7565,2.3748,0.4152,0.5407,0.7559,0.0352,0.2593,0.9048,0.6594,0.0121],[0.9055,0.6785,0.6651,0.1607,0.0503,0.2206,0.8616,0.9382,0.4331,0.8633,0.1722,0.9917,0.8297,0.1129,0.3497,0.1085,0.55,0.2556,0.332,0.1092,0.2285,0.6074,0.9275,0.5801,0.5811,0.4964,0.69,0.64,0.6668,0.7533,0.709,0.7878,0.7771,0.6885,0.5618,0.0268]]]

Actual:   [[[0, 0.5296, 0.3674, 0.9051, 0.9193, 0.0021, 0.2646, 0.659, 2.3451, 1.4995, 0.6822, 0.1615, 0.193, 0.6915, 2.2284, 1.7465, 0.4991, 0.5575, 0.1777, 0.7733, 1.5526, 2.2001, 0.5928, 0.3885, 0.4162, 0.0019, 2.6333, 1.7652, 0.6106, 0.945, 0.1669, 0.948, 0.7172, 0.925, 0.112, 0.81], [0, 0.8817, 0.2268, 0.9355, 0.8398, 0.7321, 0.6056, 0.5292, 1.7056, 2.9061, 0.1857, 0.7018, 0.3105, 0.9087, 1.7753, 2.4069, 0.7924, 0.292, 0.2077, 0.8566, 1.7309, 1.7048, 0.3038, 0.807, 0.4303, 0.9498, 2.159, 2.0534, 0.9218, 0.7341, 0.436, 0.3358, 0.0567, 0.6018, 0.3595, 0.947], [0, 0.1234, 0.7361, 0.7092, 0.6444, 0.8739, 0.6781, 0.5121, 1.3405, 1.8396, 0.6395, 0.2111, 0.6688, 0.2255, 1.7621, 1.4326, 0.2926, 0.2804, 0.1759, 0.4633, 1.933, 1.8263, 0.4591, 0.7908, 0.6647, 0.7336, 2.1247, 2.0123, 0.3161, 0.8612, 0.2207, 0.572, 0.4631, 0.3089, 0.9044, 0.3818], [0, 0.2511, 0.5299, 0.5008, 0.2077, 0.0588, 0.3048, 0.5501, 2.2907, 2.5672, 0.5455, 0.3448, 0.9317, 0.5193, 2.1854, 1.3247, 0.4629, 0.6091, 0.9928, 0.3818, 2.3573, 2.0174, 0.6436, 0.3831, 0.9701, 0.804, 2.7565, 2.3748, 0.4152, 0.5407, 0.7559, 0.0352, 0.2593, 0.9048, 0.6594, 0.0121], [0.9055, 0.6785, 0.6651, 0.1607, 0.0503, 0.2206, 0.8616, 0.9382, 0.4331, 0.8633, 0.1722, 0.9917, 0.8297, 0.1129, 0.3497, 0.1085, 0.55, 0.2556, 0.332, 0.1092, 0.2285, 0.6074, 0.9275, 0.5801, 0.5811, 0.4964, 0.69, 0.64, 0.6668, 0.7533, 0.709, 0.7878, 0.7771, 0.6885, 0.5618, 0.0268]]]

Expected: [[[0, 0.5296, 0.3674, 0.9051, 0.9193, 0.0021, 0.2646, 0.659, 2.3451, 1.4995, 0.6822, 0.1615, 0.193, 0.6915, 2.2284, 1.7464, 0.4991, 0.5575, 0.1777, 0.7733, 1.5526, 2.2001, 0.5928, 0.3885, 0.4162, 0.0019, 2.6333, 1.7652, 0.6106, 0.945, 0.1669, 0.948, 0.7172, 0.925, 0.112, 0.81], [0, 0.8817, 0.2268, 0.9355, 0.8398, 0.7321, 0.6056, 0.5292, 1.7056, 2.9061, 0.1857, 0.7018, 0.3105, 0.9087, 1.7753, 2.407, 0.7924, 0.292, 0.2077, 0.8566, 1.7309, 1.7048, 0.3038, 0.807, 0.4303, 0.9498, 2.1591, 2.0534, 0.9218, 0.7341, 0.436, 0.3358, 0.0567, 0.6018, 0.3595, 0.947], [0, 0.1234, 0.7361, 0.7092, 0.6444, 0.8739, 0.6781, 0.5121, 1.3405, 1.8397, 0.6395, 0.2111, 0.6688, 0.2255, 1.762, 1.4326, 0.2926, 0.2804, 0.1759, 0.4633, 1.9329, 1.8263, 0.4591, 0.7908, 0.6647, 0.7336, 2.1247, 2.0122, 0.3161, 0.8612, 0.2207, 0.572, 0.4631, 0.3089, 0.9044, 0.3818], [0, 0.2511, 0.5299, 0.5008, 0.2077, 0.0588, 0.3048, 0.5501, 2.2907, 2.5672, 0.5455, 0.3448, 0.9317, 0.5193, 2.1854, 1.3247, 0.4629, 0.6091, 0.9928, 0.3818, 2.3573, 2.0174, 0.6436, 0.3831, 0.9701, 0.804, 2.7565, 2.3748, 0.4152, 0.5407, 0.7559, 0.0352, 0.2593, 0.9048, 0.6594, 0.0121], [0.9055, 0.6785, 0.6651, 0.1607, 0.0503, 0.2206, 0.8616, 0.9382, 0.4331, 0.8633, 0.1722, 0.9917, 0.8297, 0.1129, 0.3497, 0.1085, 0.55, 0.2556, 0.332, 0.1092, 0.2285, 0.6074, 0.9275, 0.5801, 0.5811, 0.4964, 0.69, 0.64, 0.6668, 0.7533, 0.709, 0.7878, 0.7771, 0.6885, 0.5618, 0.0268]]]