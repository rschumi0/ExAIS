import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Con19271 = tf.keras.layers.Input(shape=([2, 1, 1]))

Con19271 = keras.layers.Conv2D(2, (1, 1),strides=(1, 1), padding='valid', dilation_rate=(1, 1), name = 'Con19271', )(in0Con19271)
Res79831 = keras.layers.Reshape((2, 2), name = 'Res79831', )(Con19271)
Sep25215 = keras.layers.SeparableConv1D(2, (2),strides=(2), padding='same', name = 'Sep25215', )(Res79831)
Res71024 = keras.layers.Reshape((1, 2, 1), name = 'Res71024', )(Sep25215)
Ave57339 = keras.layers.AveragePooling2D(pool_size=(1, 1), strides=(1, 1), padding='valid', name = 'Ave57339', )(Res71024)
Lay46774 = keras.layers.LayerNormalization(axis=3, epsilon=1.7535840273192163, name = 'Lay46774', )(Ave57339)
model = tf.keras.models.Model(inputs=[in0Con19271], outputs=Lay46774)
w = model.get_layer('Con19271').get_weights() 
w[0] = np.array([[[[0.3927, 0.5911]]]])
w[1] = np.array([0, 0])
model.get_layer('Con19271').set_weights(w) 
w = model.get_layer('Sep25215').get_weights() 
w[0] = np.array([[[0.0296], [0.03]], [[0.0211], [0.4529]]])
w[1] = np.array([[[0.3659, 0.1896], [0.1983, 0.3047]]])
w[2] = np.array([0, 0])
model.get_layer('Sep25215').set_weights(w) 
in0Con19271 = tf.constant([[[[0.9545]], [[0.1866]]]])
print (np.array2string(model.predict([in0Con19271],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Lay46774.png')

LCon19271 = conv2D_layer([[[[0.9545]], [[0.1866]]]], 1, 1,[[[[0.3927, 0.5911]]]],[0, 0], 1, 1, false, 1, 1, Con19271), 
LRes79831 = reshape_layer(Con19271, [2, 2], Res79831), 
LSep25215 = separable_conv1D_layer(Res79831, 2,[[[[0.0296], [0.03]], [[0.0211], [0.4529]]],[[[0.3659, 0.1896], [0.1983, 0.3047]]]],[0, 0], 2, true, Sep25215), 
LRes71024 = reshape_layer(Sep25215, [1, 2, 1], Res71024), 
LAve57339 = average_pooling2D_layer(Res71024, 1, 1, 1, 1, false, Ave57339), 
LLay46774 = layer_normalization_layer(Ave57339, 3, 1.7535840273192163, Lay46774), 
exec_layers([LCon19271,LRes79831,LSep25215,LRes71024,LAve57339,LLay46774],["Con19271","Res79831","Sep25215","Res71024","Ave57339","Lay46774"],Lay46774,"Lay46774")

Actual (Unparsed): [[[[0.0000000], [0.0000000]]]]

Expected (Unparsed): [[[[0.0],[0.0]]]]

Actual:   [[[[0], [0]]]]

Expected: [[[[0], [0]]]]