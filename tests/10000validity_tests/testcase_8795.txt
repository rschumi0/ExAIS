import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add70337 = tf.keras.layers.Input(shape=([2, 2, 2, 1]))
in1Add70337 = tf.keras.layers.Input(shape=([2, 2, 2, 1]))

Add70337 = keras.layers.Add(name = 'Add70337', )([in0Add70337,in1Add70337])
Mas4356 = keras.layers.Masking(mask_value=2, name = 'Mas4356', )(Add70337)
Up_18213 = keras.layers.UpSampling3D(size=(1, 1, 1), name = 'Up_18213', )(Mas4356)
model = tf.keras.models.Model(inputs=[in0Add70337,in1Add70337], outputs=Up_18213)
in0Add70337 = tf.constant([[[[[0.1347], [0.7916]], [[0.2946], [0.45]]], [[[0.242], [0.3221]], [[0.5577], [0.5633]]]]])
in1Add70337 = tf.constant([[[[[0.3372], [0.5234]], [[0.5258], [0.4693]]], [[[0.756], [0.449]], [[0.0044], [0.0837]]]]])
print (np.array2string(model.predict([in0Add70337,in1Add70337],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Up_18213.png')

LAdd70337 = add_layer([[[[[[0.1347], [0.7916]], [[0.2946], [0.45]]], [[[0.242], [0.3221]], [[0.5577], [0.5633]]]]], [[[[[0.3372], [0.5234]], [[0.5258], [0.4693]]], [[[0.756], [0.449]], [[0.0044], [0.0837]]]]]], Add70337), 
LMas4356 = masking_layer(Add70337, 2, Mas4356), 
LUp_18213 = up_sampling3D_layer(Mas4356, 1, 1, 1, Up_18213), 
exec_layers([LAdd70337,LMas4356,LUp_18213],["Add70337","Mas4356","Up_18213"],Up_18213,"Up_18213")

Actual (Unparsed): [[[[[0.4719000], [1.3150000]], [[0.8204000], [0.9193000]]], [[[0.9980000], [0.7711000]], [[0.5621000], [0.6470000]]]]]

Expected (Unparsed): [[[[[0.4719],[1.315]],[[0.8204],[0.9193]]],[[[0.998],[0.7711]],[[0.5620999999999999],[0.647]]]]]

Actual:   [[[[[0.4719], [1.315]], [[0.8204], [0.9193]]], [[[0.998], [0.7711]], [[0.5621], [0.647]]]]]

Expected: [[[[[0.4719], [1.315]], [[0.8204], [0.9193]]], [[[0.998], [0.7711]], [[0.5621], [0.647]]]]]