import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Up_72497 = tf.keras.layers.Input(shape=([4, 2, 2, 1]))
in0Glo16896 = tf.keras.layers.Input(shape=([1, 2, 1]))

Up_72497 = keras.layers.UpSampling3D(size=(2, 1, 1), name = 'Up_72497', )(in0Up_72497)
Glo44609 = keras.layers.GlobalMaxPool3D(name = 'Glo44609', )(Up_72497)
Glo16896 = keras.layers.GlobalMaxPool2D(name = 'Glo16896', )(in0Glo16896)
Add39103 = keras.layers.Add(name = 'Add39103', )([Glo44609,Glo16896])
model = tf.keras.models.Model(inputs=[in0Up_72497,in0Glo16896], outputs=Add39103)
in0Up_72497 = tf.constant([[[[[1.7893], [1.2425]], [[1.8986], [1.6543]]], [[[1.4303], [1.8533]], [[1.7879], [1.3791]]], [[[1.4098], [1.7907]], [[1.4594], [1.0053]]], [[[1.3004], [1.2722]], [[1.3753], [1.3988]]]]])
in0Glo16896 = tf.constant([[[[1.5866], [1.495]]]])
print (np.array2string(model.predict([in0Up_72497,in0Glo16896],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add39103.png')

LUp_72497 = up_sampling3D_layer([[[[[1.7893], [1.2425]], [[1.8986], [1.6543]]], [[[1.4303], [1.8533]], [[1.7879], [1.3791]]], [[[1.4098], [1.7907]], [[1.4594], [1.0053]]], [[[1.3004], [1.2722]], [[1.3753], [1.3988]]]]], 2, 1, 1, Up_72497), 
LGlo44609 = global_max_pool3D_layer(Up_72497, Glo44609), 
LGlo16896 = global_max_pool2D_layer([[[[1.5866], [1.495]]]], Glo16896), 
LAdd39103 = add_layer([Glo44609,Glo16896], Add39103), 
exec_layers([LUp_72497,LGlo44609,LGlo16896,LAdd39103],["Up_72497","Glo44609","Glo16896","Add39103"],Add39103,"Add39103")

Actual (Unparsed): [[3.4851999]]

Expected (Unparsed): [[3.4852]]

Actual:   [[3.4852]]

Expected: [[3.4852]]