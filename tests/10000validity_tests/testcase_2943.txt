import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Zer58817 = tf.keras.layers.Input(shape=([1, 3]))
in0Max34664 = tf.keras.layers.Input(shape=([2, 1]))
in1Max34664 = tf.keras.layers.Input(shape=([2, 1]))
in0Con18287 = tf.keras.layers.Input(shape=([8]))

Zer58817 = keras.layers.ZeroPadding1D(padding=((1, 1)), name = 'Zer58817', )(in0Zer58817)
Fla8078 = keras.layers.Flatten(name = 'Fla8078', )(Zer58817)
Max34664 = keras.layers.Maximum(name = 'Max34664', )([in0Max34664,in1Max34664])
Res19737 = keras.layers.Reshape((2, 1, 1), name = 'Res19737', )(Max34664)
Glo4055 = keras.layers.GlobalAveragePooling2D(name = 'Glo4055', )(Res19737)
Con18287 = keras.layers.Concatenate(axis=1, name = 'Con18287', )([Glo4055,in0Con18287])
Ave72372 = keras.layers.Average(name = 'Ave72372', )([Fla8078,Con18287])
model = tf.keras.models.Model(inputs=[in0Zer58817,in0Max34664,in1Max34664,in0Con18287], outputs=Ave72372)
in0Zer58817 = tf.constant([[[1.796, 1.4336, 1.453]]])
in0Max34664 = tf.constant([[[0.9854], [0.0586]]])
in1Max34664 = tf.constant([[[0.3455], [0.3896]]])
in0Con18287 = tf.constant([[0.1574, 0.6775, 0.8768, 0.991, 0.8582, 0.2797, 0.1728, 0.259]])
print (np.array2string(model.predict([in0Zer58817,in0Max34664,in1Max34664,in0Con18287],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Ave72372.png')

LZer58817 = zero_padding1D_layer([[[1.796, 1.4336, 1.453]]], 1, 1, Zer58817), 
LFla8078 = flatten_layer(Zer58817, Fla8078), 
LMax34664 = maximum_layer([[[[0.9854], [0.0586]]], [[[0.3455], [0.3896]]]], Max34664), 
LRes19737 = reshape_layer(Max34664, [2, 1, 1], Res19737), 
LGlo4055 = global_average_pooling2D_layer(Res19737, Glo4055), 
LCon18287 = concatenate_layer([Glo4055,[[0.1574, 0.6775, 0.8768, 0.991, 0.8582, 0.2797, 0.1728, 0.259]]], 1, Con18287), 
LAve72372 = average_layer([Fla8078,Con18287], Ave72372), 
exec_layers([LZer58817,LFla8078,LMax34664,LRes19737,LGlo4055,LCon18287,LAve72372],["Zer58817","Fla8078","Max34664","Res19737","Glo4055","Con18287","Ave72372"],Ave72372,"Ave72372")

Actual (Unparsed): [[0.3437500, 0.0787000, 0.3387500, 1.3364000, 1.2123000, 1.1556000, 0.1398500, 0.0864000, 0.1295000]]

Expected (Unparsed): [[0.34375,0.0787,0.33875,1.3364,1.2123,1.1556,0.13985,0.0864,0.1295]]

Actual:   [[0.3438, 0.0787, 0.3388, 1.3364, 1.2123, 1.1556, 0.1399, 0.0864, 0.1295]]

Expected: [[0.3438, 0.0787, 0.3388, 1.3364, 1.2123, 1.1556, 0.1399, 0.0864, 0.1295]]