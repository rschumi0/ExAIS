import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0ELU77755 = tf.keras.layers.Input(shape=([1, 1]))
in0Ave6326 = tf.keras.layers.Input(shape=([2, 2, 1]))
in1Ave6326 = tf.keras.layers.Input(shape=([2, 2, 1]))

ELU77755 = keras.layers.ELU(alpha=0.24129603451000037, name = 'ELU77755', input_shape=(1, 1))(in0ELU77755)
Thr74203 = keras.layers.ThresholdedReLU(theta=6.758814797491808, name = 'Thr74203', )(ELU77755)
Res38307 = keras.layers.Reshape((1, 1, 1), name = 'Res38307', )(Thr74203)
Zer41943 = keras.layers.ZeroPadding2D(padding=((1, 0), (1, 0)), name = 'Zer41943', )(Res38307)
Ave6326 = keras.layers.Average(name = 'Ave6326', )([in0Ave6326,in1Ave6326])
Sub2086 = keras.layers.Subtract(name = 'Sub2086', )([Zer41943,Ave6326])
Lea42230 = keras.layers.LeakyReLU(alpha=0.21876702330063857, name = 'Lea42230', )(Sub2086)
model = tf.keras.models.Model(inputs=[in0ELU77755,in0Ave6326,in1Ave6326], outputs=Lea42230)
in0ELU77755 = tf.constant([[[0.8659]]])
in0Ave6326 = tf.constant([[[[0.7564], [0.9946]], [[0.0638], [0.6268]]]])
in1Ave6326 = tf.constant([[[[0.8525], [0.1548]], [[0.0287], [0.9581]]]])
print (np.array2string(model.predict([in0ELU77755,in0Ave6326,in1Ave6326],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Lea42230.png')

LELU77755 = elu_layer([[[0.8659]]], 0.24129603451000037, ELU77755), 
LThr74203 = thresholded_relu_layer(ELU77755, 6.758814797491808, Thr74203), 
LRes38307 = reshape_layer(Thr74203, [1, 1, 1], Res38307), 
LZer41943 = zero_padding2D_layer(Res38307, 1, 0, 1, 0, Zer41943), 
LAve6326 = average_layer([[[[[0.7564], [0.9946]], [[0.0638], [0.6268]]]], [[[[0.8525], [0.1548]], [[0.0287], [0.9581]]]]], Ave6326), 
LSub2086 = subtract_layer(Zer41943,Ave6326, Sub2086), 
LLea42230 = leaky_relu_layer(Sub2086, 0.21876702330063857, Lea42230), 
exec_layers([LELU77755,LThr74203,LRes38307,LZer41943,LAve6326,LSub2086,LLea42230],["ELU77755","Thr74203","Res38307","Zer41943","Ave6326","Sub2086","Lea42230"],Lea42230,"Lea42230")

Actual (Unparsed): [[[[-0.1759871], [-0.1257254]], [[-0.0101180], [-0.1733619]]]]

Expected (Unparsed): [[[[-0.1759871318941987],[-0.125725408290877]],[[-0.010117974827654534],[-0.17336192761459104]]]]

Actual:   [[[[-0.1759], [-0.1257]], [[-0.0101], [-0.1733]]]]

Expected: [[[[-0.1759], [-0.1257]], [[-0.0101], [-0.1733]]]]