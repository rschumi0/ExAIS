import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min20867 = tf.keras.layers.Input(shape=([2, 2, 1, 2]))
in1Min20867 = tf.keras.layers.Input(shape=([2, 2, 1, 2]))

Min20867 = keras.layers.Minimum(name = 'Min20867', )([in0Min20867,in1Min20867])
Res57329 = keras.layers.Reshape((2, 2, 2), name = 'Res57329', )(Min20867)
Res60323 = keras.layers.Reshape((2, 4), name = 'Res60323', )(Res57329)
Fla8255 = keras.layers.Flatten(name = 'Fla8255', )(Res60323)
Res77137 = keras.layers.Reshape((8, 1), name = 'Res77137', )(Fla8255)
Res74686 = keras.layers.Reshape((8, 1, 1), name = 'Res74686', )(Res77137)
Dep99070 = keras.layers.DepthwiseConv2D((1, 1),strides=(4, 4), padding='valid', name = 'Dep99070', )(Res74686)
model = tf.keras.models.Model(inputs=[in0Min20867,in1Min20867], outputs=Dep99070)
w = model.get_layer('Dep99070').get_weights() 
w[0] = np.array([[[[0.6155]]]])
w[1] = np.array([0])
model.get_layer('Dep99070').set_weights(w) 
in0Min20867 = tf.constant([[[[[0.5064, 0.7406]], [[0.3464, 0.2484]]], [[[0.0227, 0.0637]], [[0.8227, 0.105]]]]])
in1Min20867 = tf.constant([[[[[0.2875, 0.649]], [[0.8853, 0.9489]]], [[[0.5127, 0.4053]], [[0.2473, 0.4337]]]]])
print (np.array2string(model.predict([in0Min20867,in1Min20867],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Dep99070.png')

LMin20867 = minimum_layer([[[[[[0.5064, 0.7406]], [[0.3464, 0.2484]]], [[[0.0227, 0.0637]], [[0.8227, 0.105]]]]], [[[[[0.2875, 0.649]], [[0.8853, 0.9489]]], [[[0.5127, 0.4053]], [[0.2473, 0.4337]]]]]], Min20867), 
LRes57329 = reshape_layer(Min20867, [2, 2, 2], Res57329), 
LRes60323 = reshape_layer(Res57329, [2, 4], Res60323), 
LFla8255 = flatten_layer(Res60323, Fla8255), 
LRes77137 = reshape_layer(Fla8255, [8, 1], Res77137), 
LRes74686 = reshape_layer(Res77137, [8, 1, 1], Res74686), 
LDep99070 = depthwise_conv2D_layer(Res74686, 1, 1,[[[[0.6155]]]],[0], 4, 4, false, Dep99070), 
exec_layers([LMin20867,LRes57329,LRes60323,LFla8255,LRes77137,LRes74686,LDep99070],["Min20867","Res57329","Res60323","Fla8255","Res77137","Res74686","Dep99070"],Dep99070,"Dep99070")

Actual (Unparsed): [[[[0.1769562]], [[0.0139719]]]]

Expected (Unparsed): [[[[0.17695625]],[[0.013971850000000003]]]]

Actual:   [[[[0.177]], [[0.014]]]]

Expected: [[[[0.177]], [[0.014]]]]