import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Up_24120 = tf.keras.layers.Input(shape=([2, 4]))

Up_24120 = keras.layers.UpSampling1D(size=(1), name = 'Up_24120', )(in0Up_24120)
LST27202 = keras.layers.LSTM(1,recurrent_activation='sigmoid', name = 'LST27202', )(Up_24120)
model = tf.keras.models.Model(inputs=[in0Up_24120], outputs=LST27202)
w = model.get_layer('LST27202').get_weights() 
w[0] = np.array([[1, 2, 8, 10], [3, 10, 3, 7], [2, 8, 7, 7], [8, 10, 4, 4]])
w[1] = np.array([[2, 3, 5, 3]])
w[2] = np.array([6, 6, 1, 10])
model.get_layer('LST27202').set_weights(w) 
in0Up_24120 = tf.constant([[[1.9423, 1.7558, 1.6127, 1.7806], [1.1402, 1.5693, 1.1608, 1.7586]]])
print (np.array2string(model.predict([in0Up_24120],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='LST27202.png')

LUp_24120 = up_sampling1D_layer([[[1.9423, 1.7558, 1.6127, 1.7806], [1.1402, 1.5693, 1.1608, 1.7586]]], 1, Up_24120), 
LLST27202 = lstm_layer(Up_24120,[[1, 2, 8, 10], [3, 10, 3, 7], [2, 8, 7, 7], [8, 10, 4, 4]],[[2, 3, 5, 3]],[6, 6, 1, 10], LST27202), 
exec_layers([LUp_24120,LLST27202],["Up_24120","LST27202"],LST27202,"LST27202")

Actual (Unparsed): [[0.9640276]]

Expected (Unparsed): [[0.9640275800758051]]

Actual:   [[0.9641]]

Expected: [[0.9641]]