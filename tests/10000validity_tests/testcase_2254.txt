import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min12379 = tf.keras.layers.Input(shape=([2, 2]))
in1Min12379 = tf.keras.layers.Input(shape=([2, 2]))

Min12379 = keras.layers.Minimum(name = 'Min12379', )([in0Min12379,in1Min12379])
Res28765 = keras.layers.Reshape((2, 2, 1), name = 'Res28765', )(Min12379)
Res28131 = keras.layers.Reshape((2, 2, 1, 1), name = 'Res28131', )(Res28765)
Glo98786 = keras.layers.GlobalAveragePooling3D(name = 'Glo98786', )(Res28131)
model = tf.keras.models.Model(inputs=[in0Min12379,in1Min12379], outputs=Glo98786)
in0Min12379 = tf.constant([[[0.0242, 0.4045], [0.172, 0.7652]]])
in1Min12379 = tf.constant([[[0.4839, 0.1485], [0.5059, 0.1137]]])
print (np.array2string(model.predict([in0Min12379,in1Min12379],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo98786.png')

LMin12379 = minimum_layer([[[[0.0242, 0.4045], [0.172, 0.7652]]], [[[0.4839, 0.1485], [0.5059, 0.1137]]]], Min12379), 
LRes28765 = reshape_layer(Min12379, [2, 2, 1], Res28765), 
LRes28131 = reshape_layer(Res28765, [2, 2, 1, 1], Res28131), 
LGlo98786 = global_average_pooling3D_layer(Res28131, Glo98786), 
exec_layers([LMin12379,LRes28765,LRes28131,LGlo98786],["Min12379","Res28765","Res28131","Glo98786"],Glo98786,"Glo98786")

Actual (Unparsed): [[0.1146000]]

Expected (Unparsed): [[0.11460000000000001]]

Actual:   [[0.1146]]

Expected: [[0.1147]]