import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min19981 = tf.keras.layers.Input(shape=([2, 1, 2, 2]))
in1Min19981 = tf.keras.layers.Input(shape=([2, 1, 2, 2]))
in0Min1667 = tf.keras.layers.Input(shape=([2, 1]))
in1Min1667 = tf.keras.layers.Input(shape=([2, 1]))
in0Con22725 = tf.keras.layers.Input(shape=([2, 3]))

Min19981 = keras.layers.Minimum(name = 'Min19981', )([in0Min19981,in1Min19981])
Res34281 = keras.layers.Reshape((2, 1, 4), name = 'Res34281', )(Min19981)
Max33501 = keras.layers.MaxPool2D(pool_size=(2, 1), name = 'Max33501', )(Res34281)
Res54941 = keras.layers.Reshape((1, 4), name = 'Res54941', )(Max33501)
Zer86953 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer86953', )(Res54941)
Min1667 = keras.layers.Minimum(name = 'Min1667', )([in0Min1667,in1Min1667])
Con22725 = keras.layers.Concatenate(axis=2, name = 'Con22725', )([Min1667,in0Con22725])
Min42027 = keras.layers.Minimum(name = 'Min42027', )([Zer86953,Con22725])
model = tf.keras.models.Model(inputs=[in0Min19981,in1Min19981,in0Min1667,in1Min1667,in0Con22725], outputs=Min42027)
in0Min19981 = tf.constant([[[[[0.0554, 0.7787], [0.8886, 0.2815]]], [[[0.7976, 0.6722], [0.5968, 0.1597]]]]])
in1Min19981 = tf.constant([[[[[0.8803, 0.855], [0.2488, 0.6594]]], [[[0.6829, 0.079], [0.4535, 0.9791]]]]])
in0Min1667 = tf.constant([[[0.4179], [0.0612]]])
in1Min1667 = tf.constant([[[0.0229], [0.0857]]])
in0Con22725 = tf.constant([[[0.6198, 0.7387, 0.2254], [0.4058, 0.272, 0.7563]]])
print (np.array2string(model.predict([in0Min19981,in1Min19981,in0Min1667,in1Min1667,in0Con22725],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min42027.png')

LMin19981 = minimum_layer([[[[[[0.0554, 0.7787], [0.8886, 0.2815]]], [[[0.7976, 0.6722], [0.5968, 0.1597]]]]], [[[[[0.8803, 0.855], [0.2488, 0.6594]]], [[[0.6829, 0.079], [0.4535, 0.9791]]]]]], Min19981), 
LRes34281 = reshape_layer(Min19981, [2, 1, 4], Res34281), 
LMax33501 = max_pool2D_layer(Res34281, 2, 1, Max33501), 
LRes54941 = reshape_layer(Max33501, [1, 4], Res54941), 
LZer86953 = zero_padding1D_layer(Res54941, 1, 0, Zer86953), 
LMin1667 = minimum_layer([[[[0.4179], [0.0612]]], [[[0.0229], [0.0857]]]], Min1667), 
LCon22725 = concatenate_layer([Min1667,[[[0.6198, 0.7387, 0.2254], [0.4058, 0.272, 0.7563]]]], 2, Con22725), 
LMin42027 = minimum_layer([Zer86953,Con22725], Min42027), 
exec_layers([LMin19981,LRes34281,LMax33501,LRes54941,LZer86953,LMin1667,LCon22725,LMin42027],["Min19981","Res34281","Max33501","Res54941","Zer86953","Min1667","Con22725","Min42027"],Min42027,"Min42027")

Actual (Unparsed): [[[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0612000, 0.4058000, 0.2720000, 0.2815000]]]

Expected (Unparsed): [[[0,0,0,0],[0.0612,0.4058,0.272,0.2815]]]

Actual:   [[[0, 0, 0, 0], [0.0612, 0.4058, 0.272, 0.2815]]]

Expected: [[[0, 0, 0, 0], [0.0612, 0.4058, 0.272, 0.2815]]]