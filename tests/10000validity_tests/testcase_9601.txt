import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub77435 = tf.keras.layers.Input(shape=([2, 3, 2]))
in1Sub77435 = tf.keras.layers.Input(shape=([2, 3, 2]))
in0Add68864 = tf.keras.layers.Input(shape=([2, 1]))
in1Add68864 = tf.keras.layers.Input(shape=([2, 1]))
in0Con85825 = tf.keras.layers.Input(shape=([2, 5]))
in0Dot37606 = tf.keras.layers.Input(shape=([2]))
in1Dot37606 = tf.keras.layers.Input(shape=([2]))
in0Mul84199 = tf.keras.layers.Input(shape=([1, 1]))
in1Mul84199 = tf.keras.layers.Input(shape=([1, 1]))
in0Con52482 = tf.keras.layers.Input(shape=([3, 2]))
in0Dot5117 = tf.keras.layers.Input(shape=([3, 2]))
in1Dot5117 = tf.keras.layers.Input(shape=([3, 2]))
in0Con85068 = tf.keras.layers.Input(shape=([3, 3]))

Sub77435 = keras.layers.Subtract(name = 'Sub77435', )([in0Sub77435,in1Sub77435])
Res19661 = keras.layers.Reshape((2, 6), name = 'Res19661', )(Sub77435)
Add68864 = keras.layers.Add(name = 'Add68864', )([in0Add68864,in1Add68864])
Con85825 = keras.layers.Concatenate(axis=2, name = 'Con85825', )([Add68864,in0Con85825])
Add28087 = keras.layers.Add(name = 'Add28087', )([Res19661,Con85825])
Zer81779 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer81779', )(Add28087)
Dot37606 = keras.layers.Dot(axes=(1, 1), name = 'Dot37606', )([in0Dot37606,in1Dot37606])
Res80087 = keras.layers.Reshape((1, 1), name = 'Res80087', )(Dot37606)
Mul84199 = keras.layers.Multiply(name = 'Mul84199', )([in0Mul84199,in1Mul84199])
Dot94889 = keras.layers.Dot(axes=(1, 2), name = 'Dot94889', )([Res80087,Mul84199])
Thr76476 = keras.layers.ThresholdedReLU(theta=5.544555790655868, name = 'Thr76476', )(Dot94889)
Zer41075 = keras.layers.ZeroPadding1D(padding=((2, 0)), name = 'Zer41075', )(Thr76476)
Con52482 = keras.layers.Concatenate(axis=2, name = 'Con52482', )([Zer41075,in0Con52482])
Dot5117 = keras.layers.Dot(axes=(2, 2), name = 'Dot5117', )([in0Dot5117,in1Dot5117])
Min10231 = keras.layers.Minimum(name = 'Min10231', )([Con52482,Dot5117])
Con85068 = keras.layers.Concatenate(axis=2, name = 'Con85068', )([Min10231,in0Con85068])
Min75082 = keras.layers.Minimum(name = 'Min75082', )([Zer81779,Con85068])
model = tf.keras.models.Model(inputs=[in0Sub77435,in1Sub77435,in0Add68864,in1Add68864,in0Con85825,in0Dot37606,in1Dot37606,in0Mul84199,in1Mul84199,in0Con52482,in0Dot5117,in1Dot5117,in0Con85068], outputs=Min75082)
in0Sub77435 = tf.constant([[[[0.4599, 0.1351], [0.3482, 0.7372], [0.5032, 0.7235]], [[0.9079, 0.5961], [0.8948, 0.7422], [0.9978, 0.3498]]]])
in1Sub77435 = tf.constant([[[[0.679, 0.7789], [0.9303, 0.9645], [0.3506, 0.5391]], [[0.9621, 0.5133], [0.1272, 0.6716], [0.4608, 0.7828]]]])
in0Add68864 = tf.constant([[[0.508], [0.1944]]])
in1Add68864 = tf.constant([[[0.2127], [0.1157]]])
in0Con85825 = tf.constant([[[0.5794, 0.3531, 0.744, 0.6136, 0.6237], [0.1403, 0.2373, 0.8678, 0.4166, 0.7162]]])
in0Dot37606 = tf.constant([[0.2663, 0.585]])
in1Dot37606 = tf.constant([[0.3702, 0.7694]])
in0Mul84199 = tf.constant([[[0.2376]]])
in1Mul84199 = tf.constant([[[0.352]]])
in0Con52482 = tf.constant([[[0.7399, 0.9877], [0.0962, 0.458], [0.7284, 0.6955]]])
in0Dot5117 = tf.constant([[[0.8928, 0.5866], [0.002, 0.4337], [0.715, 0.5732]]])
in1Dot5117 = tf.constant([[[0.8417, 0.088], [0.2948, 0.0573], [0.153, 0.0274]]])
in0Con85068 = tf.constant([[[0.1909, 0.7387, 0.2676], [0.2503, 0.4737, 0.8587], [0.8751, 0.0382, 0.6352]]])
print (np.array2string(model.predict([in0Sub77435,in1Sub77435,in0Add68864,in1Add68864,in0Con85825,in0Dot37606,in1Dot37606,in0Mul84199,in1Mul84199,in0Con52482,in0Dot5117,in1Dot5117,in0Con85068],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min75082.png')

LSub77435 = subtract_layer([[[[0.4599, 0.1351], [0.3482, 0.7372], [0.5032, 0.7235]], [[0.9079, 0.5961], [0.8948, 0.7422], [0.9978, 0.3498]]]], [[[[0.679, 0.7789], [0.9303, 0.9645], [0.3506, 0.5391]], [[0.9621, 0.5133], [0.1272, 0.6716], [0.4608, 0.7828]]]], Sub77435), 
LRes19661 = reshape_layer(Sub77435, [2, 6], Res19661), 
LAdd68864 = add_layer([[[[0.508], [0.1944]]], [[[0.2127], [0.1157]]]], Add68864), 
LCon85825 = concatenate_layer([Add68864,[[[0.5794, 0.3531, 0.744, 0.6136, 0.6237], [0.1403, 0.2373, 0.8678, 0.4166, 0.7162]]]], 2, Con85825), 
LAdd28087 = add_layer([Res19661,Con85825], Add28087), 
LZer81779 = zero_padding1D_layer(Add28087, 1, 0, Zer81779), 
LDot37606 = dot_layer([[0.2663, 0.585]], [[0.3702, 0.7694]], 1, 1, Dot37606), 
LRes80087 = reshape_layer(Dot37606, [1, 1], Res80087), 
LMul84199 = multiply_layer([[[[0.2376]]], [[[0.352]]]], Mul84199), 
LDot94889 = dot_layer(Res80087,Mul84199, 1, 2, Dot94889), 
LThr76476 = thresholded_relu_layer(Dot94889, 5.544555790655868, Thr76476), 
LZer41075 = zero_padding1D_layer(Thr76476, 2, 0, Zer41075), 
LCon52482 = concatenate_layer([Zer41075,[[[0.7399, 0.9877], [0.0962, 0.458], [0.7284, 0.6955]]]], 2, Con52482), 
LDot5117 = dot_layer([[[0.8928, 0.5866], [0.002, 0.4337], [0.715, 0.5732]]], [[[0.8417, 0.088], [0.2948, 0.0573], [0.153, 0.0274]]], 2, 2, Dot5117), 
LMin10231 = minimum_layer([Con52482,Dot5117], Min10231), 
LCon85068 = concatenate_layer([Min10231,[[[0.1909, 0.7387, 0.2676], [0.2503, 0.4737, 0.8587], [0.8751, 0.0382, 0.6352]]]], 2, Con85068), 
LMin75082 = minimum_layer([Zer81779,Con85068], Min75082), 
exec_layers([LSub77435,LRes19661,LAdd68864,LCon85825,LAdd28087,LZer81779,LDot37606,LRes80087,LMul84199,LDot94889,LThr76476,LZer41075,LCon52482,LDot5117,LMin10231,LCon85068,LMin75082],["Sub77435","Res19661","Add68864","Con85825","Add28087","Zer81779","Dot37606","Res80087","Mul84199","Dot94889","Thr76476","Zer41075","Con52482","Dot5117","Min10231","Con85068","Min75082"],Min75082,"Min75082")

Actual (Unparsed): [[[0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, -0.0644000, -0.2290000, 0.2503000, 0.4737000, 0.8081000], [0.0000000, 0.2231000, 0.1251007, 0.8751000, 0.0382000, 0.2832000]]]

Expected (Unparsed): [[[0,0,0,0,0,0],[0,-0.06440000000000001,-0.22900000000000004,0.2503,0.4737,0.8081],[0,0.2231,0.12510068,0.8751,0.0382,0.2831999999999999]]]

Actual:   [[[0, 0, 0, 0, 0, 0], [0, -0.0644, -0.229, 0.2503, 0.4737, 0.8081], [0, 0.2231, 0.1252, 0.8751, 0.0382, 0.2832]]]

Expected: [[[0, 0, 0, 0, 0, 0], [0, -0.0644, -0.229, 0.2503, 0.4737, 0.8081], [0, 0.2231, 0.1252, 0.8751, 0.0382, 0.2832]]]