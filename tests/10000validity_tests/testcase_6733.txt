import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Con8130 = tf.keras.layers.Input(shape=([1, 1, 2, 1]))

Con8130 = keras.layers.Conv3DTranspose(4, (1, 1, 1),strides=(1, 1, 1), padding='valid', name = 'Con8130', )(in0Con8130)
Res3092 = keras.layers.Reshape((1, 1, 8), name = 'Res3092', )(Con8130)
Max99310 = keras.layers.MaxPool2D(pool_size=(1, 1), name = 'Max99310', )(Res3092)
model = tf.keras.models.Model(inputs=[in0Con8130], outputs=Max99310)
w = model.get_layer('Con8130').get_weights() 
w[0] = np.array([[[[[0.13], [0.5376], [0.5983], [0.1218]]]]])
w[1] = np.array([0, 0, 0, 0])
model.get_layer('Con8130').set_weights(w) 
in0Con8130 = tf.constant([[[[[0.8761], [0.5506]]]]])
print (np.array2string(model.predict([in0Con8130],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max99310.png')

LCon8130 = conv3D_transpose_layer([[[[[0.8761], [0.5506]]]]], 1, 1, 1,[[[[[0.13], [0.5376], [0.5983], [0.1218]]]]],[0, 0, 0, 0], 1, 1, 1, false, Con8130), 
LRes3092 = reshape_layer(Con8130, [1, 1, 8], Res3092), 
LMax99310 = max_pool2D_layer(Res3092, 1, 1, Max99310), 
exec_layers([LCon8130,LRes3092,LMax99310],["Con8130","Res3092","Max99310"],Max99310,"Max99310")

Actual (Unparsed): [[[[0.1138930, 0.4709914, 0.5241706, 0.1067090, 0.0715780, 0.2960026, 0.3294240, 0.0670631]]]]

Expected (Unparsed): [[[[0.11389300000000001,0.47099135999999997,0.5241706300000001,0.10670898000000001,0.071578,0.29600255999999997,0.32942398,0.06706308]]]]

Actual:   [[[[0.1139, 0.471, 0.5242, 0.1068, 0.0716, 0.2961, 0.3295, 0.0671]]]]

Expected: [[[[0.1139, 0.471, 0.5242, 0.1068, 0.0716, 0.2961, 0.3295, 0.0671]]]]