import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub56730 = tf.keras.layers.Input(shape=([3, 3, 2]))
in1Sub56730 = tf.keras.layers.Input(shape=([3, 3, 2]))

Sub56730 = keras.layers.Subtract(name = 'Sub56730', )([in0Sub56730,in1Sub56730])
Res48580 = keras.layers.Reshape((3, 3, 2, 1), name = 'Res48580', )(Sub56730)
Con52557 = keras.layers.Conv3DTranspose(2, (1, 1, 1),strides=(1, 1, 1), padding='valid', name = 'Con52557', )(Res48580)
model = tf.keras.models.Model(inputs=[in0Sub56730,in1Sub56730], outputs=Con52557)
w = model.get_layer('Con52557').get_weights() 
w[0] = np.array([[[[[0.0145], [0.5214]]]]])
w[1] = np.array([0, 0])
model.get_layer('Con52557').set_weights(w) 
in0Sub56730 = tf.constant([[[[0.2317, 0.6776], [0.0505, 0.0547], [0.2479, 0.3155]], [[0.6328, 0.9148], [0.113, 0.5868], [0.9744, 0.2634]], [[0.5636, 0.071], [0.8614, 0.8836], [0.0236, 0.7622]]]])
in1Sub56730 = tf.constant([[[[0.1829, 0.3217], [0.9823, 0.4673], [0.5764, 0.8042]], [[0.4281, 0.3352], [0.6917, 0.2509], [0.4361, 0.8267]], [[0.3876, 0.7572], [0.2943, 0.9812], [0.7923, 0.9214]]]])
print (np.array2string(model.predict([in0Sub56730,in1Sub56730],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Con52557.png')

LSub56730 = subtract_layer([[[[0.2317, 0.6776], [0.0505, 0.0547], [0.2479, 0.3155]], [[0.6328, 0.9148], [0.113, 0.5868], [0.9744, 0.2634]], [[0.5636, 0.071], [0.8614, 0.8836], [0.0236, 0.7622]]]], [[[[0.1829, 0.3217], [0.9823, 0.4673], [0.5764, 0.8042]], [[0.4281, 0.3352], [0.6917, 0.2509], [0.4361, 0.8267]], [[0.3876, 0.7572], [0.2943, 0.9812], [0.7923, 0.9214]]]], Sub56730), 
LRes48580 = reshape_layer(Sub56730, [3, 3, 2, 1], Res48580), 
LCon52557 = conv3D_transpose_layer(Res48580, 1, 1, 1,[[[[[0.0145], [0.5214]]]]],[0, 0], 1, 1, 1, false, Con52557), 
exec_layers([LSub56730,LRes48580,LCon52557],["Sub56730","Res48580","Con52557"],Con52557,"Con52557")

Actual (Unparsed): [[[[[0.0007076, 0.0254443], [0.0051606, 0.1855663]], [[-0.0135111, -0.4858405], [-0.0059827, -0.2151296]], [[-0.0047632, -0.1712799], [-0.0070862, -0.2548082]]], [[[0.0029681, 0.1067306], [0.0084042, 0.3022034]], [[-0.0083911, -0.3017342], [0.0048705, 0.1751382]], [[0.0078053, 0.2806696], [-0.0081678, -0.2937046]]], [[[0.0025520, 0.0917664], [-0.0099499, -0.3577847]], [[0.0082230, 0.2956859], [-0.0014152, -0.0508886]], [[-0.0111461, -0.4008002], [-0.0023084, -0.0830069]]]]]

Expected (Unparsed): [[[[[0.0007075999999999997,0.02544431999999999],[0.00516055,0.18556625999999998]],[[-0.0135111,-0.48584051999999994],[-0.0059827,-0.21512963999999998]],[[-0.00476325,-0.1712799],[-0.007086150000000001,-0.25480818]]],[[[0.002968150000000001,0.10673058000000002],[0.008404199999999999,0.30220343999999993]],[[-0.00839115,-0.30173417999999996],[0.0048705499999999995,0.17513826]],[[0.007805350000000001,0.28066962],[-0.008167849999999999,-0.2937046199999999]]],[[[0.002552,0.09176639999999998],[-0.009949900000000001,-0.35778468]],[[0.008222950000000001,0.29568594000000004],[-0.0014151999999999988,-0.05088863999999995]],[[-0.01114615,-0.40080018],[-0.0023084000000000004,-0.08300688]]]]]

Actual:   [[[[[0.0008, 0.0255], [0.0052, 0.1856]], [[-0.0135, -0.4858], [-0.0059, -0.2151]], [[-0.0047, -0.1712], [-0.007, -0.2548]]], [[[0.003, 0.1068], [0.0085, 0.3023]], [[-0.0083, -0.3017], [0.0049, 0.1752]], [[0.0079, 0.2807], [-0.0081, -0.2937]]], [[[0.0026, 0.0918], [-0.0099, -0.3577]], [[0.0083, 0.2957], [-0.0014, -0.0508]], [[-0.0111, -0.4008], [-0.0023, -0.083]]]]]

Expected: [[[[[0.0008, 0.0255], [0.0052, 0.1856]], [[-0.0135, -0.4858], [-0.0059, -0.2151]], [[-0.0047, -0.1712], [-0.007, -0.2548]]], [[[0.003, 0.1068], [0.0085, 0.3023]], [[-0.0083, -0.3017], [0.0049, 0.1752]], [[0.0079, 0.2807], [-0.0081, -0.2937]]], [[[0.0026, 0.0918], [-0.0099, -0.3577]], [[0.0083, 0.2957], [-0.0014, -0.0508]], [[-0.0111, -0.4008], [-0.0023, -0.083]]]]]