import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Cro95117 = tf.keras.layers.Input(shape=([1, 4]))
in0Con88804 = tf.keras.layers.Input(shape=([4, 6, 1]))
in0Up_36007 = tf.keras.layers.Input(shape=([4, 1, 2]))

Cro95117 = keras.layers.Cropping1D(cropping=((0, 0)), name = 'Cro95117', )(in0Cro95117)
Res77599 = keras.layers.Reshape((1, 4, 1), name = 'Res77599', )(Cro95117)
Zer28663 = keras.layers.ZeroPadding2D(padding=((3, 0), (2, 0)), name = 'Zer28663', )(Res77599)
Con88804 = keras.layers.Concatenate(axis=3, name = 'Con88804', )([Zer28663,in0Con88804])
Up_36007 = keras.layers.UpSampling2D(size=(1, 2), name = 'Up_36007', )(in0Up_36007)
Zer74426 = keras.layers.ZeroPadding2D(padding=((0, 0), (4, 0)), name = 'Zer74426', )(Up_36007)
Ave84820 = keras.layers.Average(name = 'Ave84820', )([Con88804,Zer74426])
Res19099 = keras.layers.Reshape((4, 6, 2, 1), name = 'Res19099', )(Ave84820)
Zer47524 = keras.layers.ZeroPadding3D(padding=((1, 1), (1, 1), (1, 1)), name = 'Zer47524', )(Res19099)
model = tf.keras.models.Model(inputs=[in0Cro95117,in0Con88804,in0Up_36007], outputs=Zer47524)
in0Cro95117 = tf.constant([[[1.3183, 1.6827, 1.398, 1.769]]])
in0Con88804 = tf.constant([[[[0.6903], [0.0908], [0.7377], [0.2548], [0.7523], [0.4505]], [[0.9242], [0.3415], [0.5741], [0.4573], [0.7103], [0.4028]], [[0.7352], [0.8189], [0.0168], [0.7364], [0.0753], [0.5278]], [[0.7484], [0.7482], [0.4053], [0.2939], [0.4051], [0.9421]]]])
in0Up_36007 = tf.constant([[[[1.1725, 1.8054]], [[1.2472, 1.6952]], [[1.3212, 1.3512]], [[1.0366, 1.9611]]]])
print (np.array2string(model.predict([in0Cro95117,in0Con88804,in0Up_36007],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Zer47524.png')

LCro95117 = cropping1D_layer([[[1.3183, 1.6827, 1.398, 1.769]]], 0, 0, Cro95117), 
LRes77599 = reshape_layer(Cro95117, [1, 4, 1], Res77599), 
LZer28663 = zero_padding2D_layer(Res77599, 3, 0, 2, 0, Zer28663), 
LCon88804 = concatenate_layer([Zer28663,[[[[0.6903], [0.0908], [0.7377], [0.2548], [0.7523], [0.4505]], [[0.9242], [0.3415], [0.5741], [0.4573], [0.7103], [0.4028]], [[0.7352], [0.8189], [0.0168], [0.7364], [0.0753], [0.5278]], [[0.7484], [0.7482], [0.4053], [0.2939], [0.4051], [0.9421]]]]], 3, Con88804), 
LUp_36007 = up_sampling2D_layer([[[[1.1725, 1.8054]], [[1.2472, 1.6952]], [[1.3212, 1.3512]], [[1.0366, 1.9611]]]], 1, 2, Up_36007), 
LZer74426 = zero_padding2D_layer(Up_36007, 0, 0, 4, 0, Zer74426), 
LAve84820 = average_layer([Con88804,Zer74426], Ave84820), 
LRes19099 = reshape_layer(Ave84820, [4, 6, 2, 1], Res19099), 
LZer47524 = zero_padding3D_layer(Res19099, 1, 1, 1, 1, 1, 1, Zer47524), 
exec_layers([LCro95117,LRes77599,LZer28663,LCon88804,LUp_36007,LZer74426,LAve84820,LRes19099,LZer47524],["Cro95117","Res77599","Zer28663","Con88804","Up_36007","Zer74426","Ave84820","Res19099","Zer47524"],Zer47524,"Zer47524")

Actual (Unparsed): [[[[[0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.3451500], [0.0000000]], [[0.0000000], [0.0000000], [0.0454000], [0.0000000]], [[0.0000000], [0.0000000], [0.3688500], [0.0000000]], [[0.0000000], [0.0000000], [0.1274000], [0.0000000]], [[0.0000000], [0.5862500], [1.2788500], [0.0000000]], [[0.0000000], [0.5862500], [1.1279500], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.4621000], [0.0000000]], [[0.0000000], [0.0000000], [0.1707500], [0.0000000]], [[0.0000000], [0.0000000], [0.2870500], [0.0000000]], [[0.0000000], [0.0000000], [0.2286500], [0.0000000]], [[0.0000000], [0.6236000], [1.2027500], [0.0000000]], [[0.0000000], [0.6236000], [1.0490000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.3676000], [0.0000000]], [[0.0000000], [0.0000000], [0.4094500], [0.0000000]], [[0.0000000], [0.0000000], [0.0084000], [0.0000000]], [[0.0000000], [0.0000000], [0.3682000], [0.0000000]], [[0.0000000], [0.6606000], [0.7132500], [0.0000000]], [[0.0000000], [0.6606000], [0.9395000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.3742000], [0.0000000]], [[0.0000000], [0.0000000], [0.3741000], [0.0000000]], [[0.0000000], [0.6591500], [0.2026500], [0.0000000]], [[0.0000000], [0.8413500], [0.1469500], [0.0000000]], [[0.0000000], [1.2173000], [1.1831000], [0.0000000]], [[0.0000000], [1.4028000], [1.4516000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000]]]]]

Expected (Unparsed): [[[[[0],[0],[0],[0]],[[0],[0],[0],[0]],[[0],[0],[0],[0]],[[0],[0],[0],[0]],[[0],[0],[0],[0]],[[0],[0],[0],[0]],[[0],[0],[0],[0]],[[0],[0],[0],[0]]],[[[0],[0],[0],[0]],[[0],[0],[0.34515],[0]],[[0],[0],[0.0454],[0]],[[0],[0],[0.36885],[0]],[[0],[0],[0.1274],[0]],[[0],[0.58625],[1.2788499999999998],[0]],[[0],[0.58625],[1.12795],[0]],[[0],[0],[0],[0]]],[[[0],[0],[0],[0]],[[0],[0],[0.4621],[0]],[[0],[0],[0.17075],[0]],[[0],[0],[0.28705],[0]],[[0],[0],[0.22865],[0]],[[0],[0.6236],[1.20275],[0]],[[0],[0.6236],[1.049],[0]],[[0],[0],[0],[0]]],[[[0],[0],[0],[0]],[[0],[0],[0.3676],[0]],[[0],[0],[0.40945],[0]],[[0],[0],[0.0084],[0]],[[0],[0],[0.3682],[0]],[[0],[0.6606],[0.7132499999999999],[0]],[[0],[0.6606],[0.9395],[0]],[[0],[0],[0],[0]]],[[[0],[0],[0],[0]],[[0],[0],[0.3742],[0]],[[0],[0],[0.3741],[0]],[[0],[0.65915],[0.20265],[0]],[[0],[0.84135],[0.14695],[0]],[[0],[1.2172999999999998],[1.1831],[0]],[[0],[1.4028],[1.4516],[0]],[[0],[0],[0],[0]]],[[[0],[0],[0],[0]],[[0],[0],[0],[0]],[[0],[0],[0],[0]],[[0],[0],[0],[0]],[[0],[0],[0],[0]],[[0],[0],[0],[0]],[[0],[0],[0],[0]],[[0],[0],[0],[0]]]]]

Actual:   [[[[[0], [0], [0], [0]], [[0], [0], [0], [0]], [[0], [0], [0], [0]], [[0], [0], [0], [0]], [[0], [0], [0], [0]], [[0], [0], [0], [0]], [[0], [0], [0], [0]], [[0], [0], [0], [0]]], [[[0], [0], [0], [0]], [[0], [0], [0.3452], [0]], [[0], [0], [0.0454], [0]], [[0], [0], [0.3689], [0]], [[0], [0], [0.1274], [0]], [[0], [0.5863], [1.2789], [0]], [[0], [0.5863], [1.128], [0]], [[0], [0], [0], [0]]], [[[0], [0], [0], [0]], [[0], [0], [0.4621], [0]], [[0], [0], [0.1708], [0]], [[0], [0], [0.2871], [0]], [[0], [0], [0.2287], [0]], [[0], [0.6236], [1.2028], [0]], [[0], [0.6236], [1.049], [0]], [[0], [0], [0], [0]]], [[[0], [0], [0], [0]], [[0], [0], [0.3676], [0]], [[0], [0], [0.4095], [0]], [[0], [0], [0.0084], [0]], [[0], [0], [0.3682], [0]], [[0], [0.6606], [0.7133], [0]], [[0], [0.6606], [0.9395], [0]], [[0], [0], [0], [0]]], [[[0], [0], [0], [0]], [[0], [0], [0.3742], [0]], [[0], [0], [0.3741], [0]], [[0], [0.6592], [0.2027], [0]], [[0], [0.8414], [0.147], [0]], [[0], [1.2173], [1.1831], [0]], [[0], [1.4028], [1.4516], [0]], [[0], [0], [0], [0]]], [[[0], [0], [0], [0]], [[0], [0], [0], [0]], [[0], [0], [0], [0]], [[0], [0], [0], [0]], [[0], [0], [0], [0]], [[0], [0], [0], [0]], [[0], [0], [0], [0]], [[0], [0], [0], [0]]]]]

Expected: [[[[[0], [0], [0], [0]], [[0], [0], [0], [0]], [[0], [0], [0], [0]], [[0], [0], [0], [0]], [[0], [0], [0], [0]], [[0], [0], [0], [0]], [[0], [0], [0], [0]], [[0], [0], [0], [0]]], [[[0], [0], [0], [0]], [[0], [0], [0.3452], [0]], [[0], [0], [0.0454], [0]], [[0], [0], [0.3689], [0]], [[0], [0], [0.1274], [0]], [[0], [0.5863], [1.2789], [0]], [[0], [0.5863], [1.128], [0]], [[0], [0], [0], [0]]], [[[0], [0], [0], [0]], [[0], [0], [0.4621], [0]], [[0], [0], [0.1708], [0]], [[0], [0], [0.2871], [0]], [[0], [0], [0.2287], [0]], [[0], [0.6236], [1.2028], [0]], [[0], [0.6236], [1.049], [0]], [[0], [0], [0], [0]]], [[[0], [0], [0], [0]], [[0], [0], [0.3676], [0]], [[0], [0], [0.4095], [0]], [[0], [0], [0.0084], [0]], [[0], [0], [0.3682], [0]], [[0], [0.6606], [0.7133], [0]], [[0], [0.6606], [0.9395], [0]], [[0], [0], [0], [0]]], [[[0], [0], [0], [0]], [[0], [0], [0.3742], [0]], [[0], [0], [0.3741], [0]], [[0], [0.6592], [0.2027], [0]], [[0], [0.8414], [0.147], [0]], [[0], [1.2173], [1.1831], [0]], [[0], [1.4028], [1.4516], [0]], [[0], [0], [0], [0]]], [[[0], [0], [0], [0]], [[0], [0], [0], [0]], [[0], [0], [0], [0]], [[0], [0], [0], [0]], [[0], [0], [0], [0]], [[0], [0], [0], [0]], [[0], [0], [0], [0]], [[0], [0], [0], [0]]]]]