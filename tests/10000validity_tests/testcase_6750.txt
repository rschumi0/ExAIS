import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max86720 = tf.keras.layers.Input(shape=([1, 2, 2, 1]))
in1Max86720 = tf.keras.layers.Input(shape=([1, 2, 2, 1]))

Max86720 = keras.layers.Maximum(name = 'Max86720', )([in0Max86720,in1Max86720])
Res80950 = keras.layers.Reshape((1, 2, 2), name = 'Res80950', )(Max86720)
Res34959 = keras.layers.Reshape((1, 4), name = 'Res34959', )(Res80950)
Max58712 = keras.layers.MaxPool1D(pool_size=(1), strides=(1), padding='valid', name = 'Max58712', )(Res34959)
model = tf.keras.models.Model(inputs=[in0Max86720,in1Max86720], outputs=Max58712)
in0Max86720 = tf.constant([[[[[0.0025], [0.1179]], [[0.429], [0.8198]]]]])
in1Max86720 = tf.constant([[[[[0.5795], [0.6609]], [[0.6871], [0.8527]]]]])
print (np.array2string(model.predict([in0Max86720,in1Max86720],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max58712.png')

LMax86720 = maximum_layer([[[[[[0.0025], [0.1179]], [[0.429], [0.8198]]]]], [[[[[0.5795], [0.6609]], [[0.6871], [0.8527]]]]]], Max86720), 
LRes80950 = reshape_layer(Max86720, [1, 2, 2], Res80950), 
LRes34959 = reshape_layer(Res80950, [1, 4], Res34959), 
LMax58712 = max_pool1D_layer(Res34959, 1, 1, false, Max58712), 
exec_layers([LMax86720,LRes80950,LRes34959,LMax58712],["Max86720","Res80950","Res34959","Max58712"],Max58712,"Max58712")

Actual (Unparsed): [[[0.5795000, 0.6609000, 0.6871000, 0.8527000]]]

Expected (Unparsed): [[[0.5795,0.6609,0.6871,0.8527]]]

Actual:   [[[0.5795, 0.6609, 0.6871, 0.8527]]]

Expected: [[[0.5795, 0.6609, 0.6871, 0.8527]]]