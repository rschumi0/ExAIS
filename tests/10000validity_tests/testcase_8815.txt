import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave46701 = tf.keras.layers.Input(shape=([1, 2, 1]))
in1Ave46701 = tf.keras.layers.Input(shape=([1, 2, 1]))

Ave46701 = keras.layers.Average(name = 'Ave46701', )([in0Ave46701,in1Ave46701])
Max87196 = keras.layers.MaxPool2D(pool_size=(1, 1), name = 'Max87196', )(Ave46701)
Res76886 = keras.layers.Reshape((1, 2), name = 'Res76886', )(Max87196)
Glo30609 = keras.layers.GlobalMaxPool1D(name = 'Glo30609', )(Res76886)
model = tf.keras.models.Model(inputs=[in0Ave46701,in1Ave46701], outputs=Glo30609)
in0Ave46701 = tf.constant([[[[0.8637], [0.1675]]]])
in1Ave46701 = tf.constant([[[[0.4039], [0.6027]]]])
print (np.array2string(model.predict([in0Ave46701,in1Ave46701],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo30609.png')

LAve46701 = average_layer([[[[[0.8637], [0.1675]]]], [[[[0.4039], [0.6027]]]]], Ave46701), 
LMax87196 = max_pool2D_layer(Ave46701, 1, 1, Max87196), 
LRes76886 = reshape_layer(Max87196, [1, 2], Res76886), 
LGlo30609 = global_max_pool1D_layer(Res76886, Glo30609), 
exec_layers([LAve46701,LMax87196,LRes76886,LGlo30609],["Ave46701","Max87196","Res76886","Glo30609"],Glo30609,"Glo30609")

Actual (Unparsed): [[0.6338000, 0.3851000]]

Expected (Unparsed): [[0.6338,0.3851]]

Actual:   [[0.6338, 0.3851]]

Expected: [[0.6338, 0.3851]]