import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Zer47303 = tf.keras.layers.Input(shape=([2, 3, 1]))
in0Dot97004 = tf.keras.layers.Input(shape=([2]))
in1Dot97004 = tf.keras.layers.Input(shape=([2]))
in0Con84112 = tf.keras.layers.Input(shape=([19]))

Zer47303 = keras.layers.ZeroPadding2D(padding=((1, 1), (1, 1)), name = 'Zer47303', )(in0Zer47303)
Res55445 = keras.layers.Reshape((4, 5), name = 'Res55445', )(Zer47303)
Fla514 = keras.layers.Flatten(name = 'Fla514', )(Res55445)
Dot97004 = keras.layers.Dot(axes=(1, 1), name = 'Dot97004', )([in0Dot97004,in1Dot97004])
Con84112 = keras.layers.Concatenate(axis=1, name = 'Con84112', )([Dot97004,in0Con84112])
Min93810 = keras.layers.Minimum(name = 'Min93810', )([Fla514,Con84112])
Res23278 = keras.layers.Reshape((20, 1), name = 'Res23278', )(Min93810)
Res70114 = keras.layers.Reshape((20, 1, 1), name = 'Res70114', )(Res23278)
Res89675 = keras.layers.Reshape((20, 1, 1, 1), name = 'Res89675', )(Res70114)
Zer48064 = keras.layers.ZeroPadding3D(padding=((1, 1), (1, 1), (1, 1)), name = 'Zer48064', )(Res89675)
model = tf.keras.models.Model(inputs=[in0Zer47303,in0Dot97004,in1Dot97004,in0Con84112], outputs=Zer48064)
in0Zer47303 = tf.constant([[[[1.0876], [1.9108], [1.6901]], [[1.8568], [1.7432], [1.8232]]]])
in0Dot97004 = tf.constant([[0.5703, 0.3548]])
in1Dot97004 = tf.constant([[0.5435, 0.0169]])
in0Con84112 = tf.constant([[0.6827, 0.7002, 0.0475, 0.8359, 0.9798, 0.9551, 0.6829, 0.3485, 0.2152, 0.5603, 0.7719, 0.9552, 0.446, 0.1536, 0.6469, 0.8136, 0.6575, 0.6408, 0.4417]])
print (np.array2string(model.predict([in0Zer47303,in0Dot97004,in1Dot97004,in0Con84112],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Zer48064.png')

LZer47303 = zero_padding2D_layer([[[[1.0876], [1.9108], [1.6901]], [[1.8568], [1.7432], [1.8232]]]], 1, 1, 1, 1, Zer47303), 
LRes55445 = reshape_layer(Zer47303, [4, 5], Res55445), 
LFla514 = flatten_layer(Res55445, Fla514), 
LDot97004 = dot_layer([[0.5703, 0.3548]], [[0.5435, 0.0169]], 1, 1, Dot97004), 
LCon84112 = concatenate_layer([Dot97004,[[0.6827, 0.7002, 0.0475, 0.8359, 0.9798, 0.9551, 0.6829, 0.3485, 0.2152, 0.5603, 0.7719, 0.9552, 0.446, 0.1536, 0.6469, 0.8136, 0.6575, 0.6408, 0.4417]]], 1, Con84112), 
LMin93810 = minimum_layer([Fla514,Con84112], Min93810), 
LRes23278 = reshape_layer(Min93810, [20, 1], Res23278), 
LRes70114 = reshape_layer(Res23278, [20, 1, 1], Res70114), 
LRes89675 = reshape_layer(Res70114, [20, 1, 1, 1], Res89675), 
LZer48064 = zero_padding3D_layer(Res89675, 1, 1, 1, 1, 1, 1, Zer48064), 
exec_layers([LZer47303,LRes55445,LFla514,LDot97004,LCon84112,LMin93810,LRes23278,LRes70114,LRes89675,LZer48064],["Zer47303","Res55445","Fla514","Dot97004","Con84112","Min93810","Res23278","Res70114","Res89675","Zer48064"],Zer48064,"Zer48064")

Actual (Unparsed): [[[[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.9551000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.6829000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.3485000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.7719000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.9552000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.4460000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]]]]

Expected (Unparsed): [[[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0.9551],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0.6829],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0.3485],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0.7719],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0.9552],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0.446],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]]]]]

Actual:   [[[[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.9551], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.6829], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.3485], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.7719], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.9552], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.446], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]]]]

Expected: [[[[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.9551], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.6829], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.3485], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.7719], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.9552], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.446], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]]]]