import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul32292 = tf.keras.layers.Input(shape=([2, 2, 1]))
in1Mul32292 = tf.keras.layers.Input(shape=([2, 2, 1]))

Mul32292 = keras.layers.Multiply(name = 'Mul32292', )([in0Mul32292,in1Mul32292])
Lea24798 = keras.layers.LeakyReLU(alpha=8.381481069795695, name = 'Lea24798', )(Mul32292)
Res6243 = keras.layers.Reshape((2, 2), name = 'Res6243', )(Lea24798)
Zer11171 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer11171', )(Res6243)
Res11014 = keras.layers.Reshape((3, 2, 1), name = 'Res11014', )(Zer11171)
Res48671 = keras.layers.Reshape((3, 2, 1, 1), name = 'Res48671', )(Res11014)
Glo40214 = keras.layers.GlobalAveragePooling3D(name = 'Glo40214', )(Res48671)
Res8805 = keras.layers.Reshape((1, 1), name = 'Res8805', )(Glo40214)
Res29438 = keras.layers.Reshape((1, 1, 1), name = 'Res29438', )(Res8805)
Res26591 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res26591', )(Res29438)
Glo45496 = keras.layers.GlobalMaxPool3D(name = 'Glo45496', )(Res26591)
model = tf.keras.models.Model(inputs=[in0Mul32292,in1Mul32292], outputs=Glo45496)
in0Mul32292 = tf.constant([[[[0.3874], [0.257]], [[0.8616], [0.6071]]]])
in1Mul32292 = tf.constant([[[[0.7954], [0.3982]], [[0.4147], [0.6233]]]])
print (np.array2string(model.predict([in0Mul32292,in1Mul32292],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo45496.png')

LMul32292 = multiply_layer([[[[[0.3874], [0.257]], [[0.8616], [0.6071]]]], [[[[0.7954], [0.3982]], [[0.4147], [0.6233]]]]], Mul32292), 
LLea24798 = leaky_relu_layer(Mul32292, 8.381481069795695, Lea24798), 
LRes6243 = reshape_layer(Lea24798, [2, 2], Res6243), 
LZer11171 = zero_padding1D_layer(Res6243, 1, 0, Zer11171), 
LRes11014 = reshape_layer(Zer11171, [3, 2, 1], Res11014), 
LRes48671 = reshape_layer(Res11014, [3, 2, 1, 1], Res48671), 
LGlo40214 = global_average_pooling3D_layer(Res48671, Glo40214), 
LRes8805 = reshape_layer(Glo40214, [1, 1], Res8805), 
LRes29438 = reshape_layer(Res8805, [1, 1, 1], Res29438), 
LRes26591 = reshape_layer(Res29438, [1, 1, 1, 1], Res26591), 
LGlo45496 = global_max_pool3D_layer(Res26591, Glo45496), 
exec_layers([LMul32292,LLea24798,LRes6243,LZer11171,LRes11014,LRes48671,LGlo40214,LRes8805,LRes29438,LRes26591,LGlo45496],["Mul32292","Lea24798","Res6243","Zer11171","Res11014","Res48671","Glo40214","Res8805","Res29438","Res26591","Glo45496"],Glo45496,"Glo45496")

Actual (Unparsed): [[0.1910311]]

Expected (Unparsed): [[0.19103105166666667]]

Actual:   [[0.1911]]

Expected: [[0.1911]]