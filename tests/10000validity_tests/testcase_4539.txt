import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave50307 = tf.keras.layers.Input(shape=([2, 2]))
in1Ave50307 = tf.keras.layers.Input(shape=([2, 2]))

Ave50307 = keras.layers.Average(name = 'Ave50307', )([in0Ave50307,in1Ave50307])
Glo92958 = keras.layers.GlobalMaxPool1D(name = 'Glo92958', )(Ave50307)
model = tf.keras.models.Model(inputs=[in0Ave50307,in1Ave50307], outputs=Glo92958)
in0Ave50307 = tf.constant([[[0.522, 0.3798], [0.6852, 0.0986]]])
in1Ave50307 = tf.constant([[[0.4156, 0.8206], [0.2697, 0.0282]]])
print (np.array2string(model.predict([in0Ave50307,in1Ave50307],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo92958.png')

LAve50307 = average_layer([[[[0.522, 0.3798], [0.6852, 0.0986]]], [[[0.4156, 0.8206], [0.2697, 0.0282]]]], Ave50307), 
LGlo92958 = global_max_pool1D_layer(Ave50307, Glo92958), 
exec_layers([LAve50307,LGlo92958],["Ave50307","Glo92958"],Glo92958,"Glo92958")

Actual (Unparsed): [[0.4774500, 0.6002000]]

Expected (Unparsed): [[0.47745000000000004,0.6002000000000001]]

Actual:   [[0.4775, 0.6002]]

Expected: [[0.4775, 0.6003]]