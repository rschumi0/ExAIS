import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Thr23837 = tf.keras.layers.Input(shape=([2, 2, 1, 1]))

Thr23837 = keras.layers.ThresholdedReLU(theta=2.505497169927767, name = 'Thr23837', input_shape=(2, 2, 1, 1))(in0Thr23837)
Res8402 = keras.layers.Reshape((2, 2, 1), name = 'Res8402', )(Thr23837)
Glo40663 = keras.layers.GlobalAveragePooling2D(name = 'Glo40663', )(Res8402)
Res64606 = keras.layers.Reshape((1, 1), name = 'Res64606', )(Glo40663)
Res42773 = keras.layers.Reshape((1, 1, 1), name = 'Res42773', )(Res64606)
Ave80869 = keras.layers.AveragePooling2D(pool_size=(1, 1), strides=(1, 1), padding='valid', name = 'Ave80869', )(Res42773)
model = tf.keras.models.Model(inputs=[in0Thr23837], outputs=Ave80869)
in0Thr23837 = tf.constant([[[[[0.2893]], [[0.221]]], [[[0.0865]], [[0.3009]]]]])
print (np.array2string(model.predict([in0Thr23837],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Ave80869.png')

LThr23837 = thresholded_relu_layer([[[[[0.2893]], [[0.221]]], [[[0.0865]], [[0.3009]]]]], 2.505497169927767, Thr23837), 
LRes8402 = reshape_layer(Thr23837, [2, 2, 1], Res8402), 
LGlo40663 = global_average_pooling2D_layer(Res8402, Glo40663), 
LRes64606 = reshape_layer(Glo40663, [1, 1], Res64606), 
LRes42773 = reshape_layer(Res64606, [1, 1, 1], Res42773), 
LAve80869 = average_pooling2D_layer(Res42773, 1, 1, 1, 1, false, Ave80869), 
exec_layers([LThr23837,LRes8402,LGlo40663,LRes64606,LRes42773,LAve80869],["Thr23837","Res8402","Glo40663","Res64606","Res42773","Ave80869"],Ave80869,"Ave80869")

Actual (Unparsed): [[[[0.0000000]]]]

Expected (Unparsed): [[[[0]]]]

Actual:   [[[[0]]]]

Expected: [[[[0]]]]