import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo79611 = tf.keras.layers.Input(shape=([1, 1, 1, 2]))
in0Max97358 = tf.keras.layers.Input(shape=([2, 2, 1]))
in1Max97358 = tf.keras.layers.Input(shape=([2, 2, 1]))

Glo79611 = keras.layers.GlobalAveragePooling3D(name = 'Glo79611', )(in0Glo79611)
Res65658 = keras.layers.Reshape((2, 1), name = 'Res65658', )(Glo79611)
Res72063 = keras.layers.Reshape((2, 1, 1), name = 'Res72063', )(Res65658)
Zer5038 = keras.layers.ZeroPadding2D(padding=((0, 0), (1, 0)), name = 'Zer5038', )(Res72063)
Max97358 = keras.layers.Maximum(name = 'Max97358', )([in0Max97358,in1Max97358])
Ave60085 = keras.layers.Average(name = 'Ave60085', )([Zer5038,Max97358])
Res48880 = keras.layers.Reshape((2, 2), name = 'Res48880', )(Ave60085)
Ave84637 = keras.layers.AveragePooling1D(pool_size=(1), strides=(8), padding='valid', name = 'Ave84637', )(Res48880)
model = tf.keras.models.Model(inputs=[in0Glo79611,in0Max97358,in1Max97358], outputs=Ave84637)
in0Glo79611 = tf.constant([[[[[1.7739, 1.1618]]]]])
in0Max97358 = tf.constant([[[[0.2358], [0.3774]], [[0.4506], [0.1086]]]])
in1Max97358 = tf.constant([[[[0.4637], [0.8372]], [[0.8846], [0.2329]]]])
print (np.array2string(model.predict([in0Glo79611,in0Max97358,in1Max97358],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Ave84637.png')

LGlo79611 = global_average_pooling3D_layer([[[[[1.7739, 1.1618]]]]], Glo79611), 
LRes65658 = reshape_layer(Glo79611, [2, 1], Res65658), 
LRes72063 = reshape_layer(Res65658, [2, 1, 1], Res72063), 
LZer5038 = zero_padding2D_layer(Res72063, 0, 0, 1, 0, Zer5038), 
LMax97358 = maximum_layer([[[[[0.2358], [0.3774]], [[0.4506], [0.1086]]]], [[[[0.4637], [0.8372]], [[0.8846], [0.2329]]]]], Max97358), 
LAve60085 = average_layer([Zer5038,Max97358], Ave60085), 
LRes48880 = reshape_layer(Ave60085, [2, 2], Res48880), 
LAve84637 = average_pooling1D_layer(Res48880, 1, 8, false, Ave84637), 
exec_layers([LGlo79611,LRes65658,LRes72063,LZer5038,LMax97358,LAve60085,LRes48880,LAve84637],["Glo79611","Res65658","Res72063","Zer5038","Max97358","Ave60085","Res48880","Ave84637"],Ave84637,"Ave84637")

Actual (Unparsed): [[[0.2318500, 1.3055500]]]

Expected (Unparsed): [[[0.23185,1.30555]]]

Actual:   [[[0.2319, 1.3056]]]

Expected: [[[0.2319, 1.3056]]]