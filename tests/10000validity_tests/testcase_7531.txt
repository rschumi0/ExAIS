import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min71692 = tf.keras.layers.Input(shape=([2, 1, 2, 1]))
in1Min71692 = tf.keras.layers.Input(shape=([2, 1, 2, 1]))
in0Dot16780 = tf.keras.layers.Input(shape=([2]))
in1Dot16780 = tf.keras.layers.Input(shape=([2]))
in0Con23080 = tf.keras.layers.Input(shape=([3]))

Min71692 = keras.layers.Minimum(name = 'Min71692', )([in0Min71692,in1Min71692])
Res96846 = keras.layers.Reshape((2, 1, 2), name = 'Res96846', )(Min71692)
Res32178 = keras.layers.Reshape((2, 2), name = 'Res32178', )(Res96846)
Fla98550 = keras.layers.Flatten(name = 'Fla98550', )(Res32178)
Dot16780 = keras.layers.Dot(axes=(1, 1), name = 'Dot16780', )([in0Dot16780,in1Dot16780])
Con23080 = keras.layers.Concatenate(axis=1, name = 'Con23080', )([Dot16780,in0Con23080])
Add44749 = keras.layers.Add(name = 'Add44749', )([Fla98550,Con23080])
model = tf.keras.models.Model(inputs=[in0Min71692,in1Min71692,in0Dot16780,in1Dot16780,in0Con23080], outputs=Add44749)
in0Min71692 = tf.constant([[[[[0.303], [0.0014]]], [[[0.5104], [0.2117]]]]])
in1Min71692 = tf.constant([[[[[0.5637], [0.9612]]], [[[0.7579], [0.188]]]]])
in0Dot16780 = tf.constant([[0.4901, 0.4518]])
in1Dot16780 = tf.constant([[0.6743, 0.5849]])
in0Con23080 = tf.constant([[0.5449, 0.422, 0.2121]])
print (np.array2string(model.predict([in0Min71692,in1Min71692,in0Dot16780,in1Dot16780,in0Con23080],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add44749.png')

LMin71692 = minimum_layer([[[[[[0.303], [0.0014]]], [[[0.5104], [0.2117]]]]], [[[[[0.5637], [0.9612]]], [[[0.7579], [0.188]]]]]], Min71692), 
LRes96846 = reshape_layer(Min71692, [2, 1, 2], Res96846), 
LRes32178 = reshape_layer(Res96846, [2, 2], Res32178), 
LFla98550 = flatten_layer(Res32178, Fla98550), 
LDot16780 = dot_layer([[0.4901, 0.4518]], [[0.6743, 0.5849]], 1, 1, Dot16780), 
LCon23080 = concatenate_layer([Dot16780,[[0.5449, 0.422, 0.2121]]], 1, Con23080), 
LAdd44749 = add_layer([Fla98550,Con23080], Add44749), 
exec_layers([LMin71692,LRes96846,LRes32178,LFla98550,LDot16780,LCon23080,LAdd44749],["Min71692","Res96846","Res32178","Fla98550","Dot16780","Con23080","Add44749"],Add44749,"Add44749")

Actual (Unparsed): [[0.8977323, 0.5463000, 0.9324000, 0.4001000]]

Expected (Unparsed): [[0.89773225,0.5463,0.9323999999999999,0.4001]]

Actual:   [[0.8978, 0.5463, 0.9324, 0.4001]]

Expected: [[0.8978, 0.5463, 0.9324, 0.4001]]