import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul68489 = tf.keras.layers.Input(shape=([2, 1, 1]))
in1Mul68489 = tf.keras.layers.Input(shape=([2, 1, 1]))
in0Up_57138 = tf.keras.layers.Input(shape=([3, 3, 2, 1]))
in0Min90730 = tf.keras.layers.Input(shape=([1, 2, 1, 1]))
in1Min90730 = tf.keras.layers.Input(shape=([1, 2, 1, 1]))
in0Con67475 = tf.keras.layers.Input(shape=([10, 4]))

Mul68489 = keras.layers.Multiply(name = 'Mul68489', )([in0Mul68489,in1Mul68489])
Res61671 = keras.layers.Reshape((2, 1, 1, 1), name = 'Res61671', )(Mul68489)
Zer59954 = keras.layers.ZeroPadding3D(padding=((1, 0), (2, 0), (3, 0)), name = 'Zer59954', )(Res61671)
Up_57138 = keras.layers.UpSampling3D(size=(1, 1, 2), name = 'Up_57138', )(in0Up_57138)
ReL15263 = keras.layers.ReLU(max_value=3.5380972412857656, negative_slope=7.478353065347066, threshold=3.759865805871766, name = 'ReL15263', )(Up_57138)
Add83943 = keras.layers.Add(name = 'Add83943', )([Zer59954,ReL15263])
Res39665 = keras.layers.Reshape((3, 3, 4), name = 'Res39665', )(Add83943)
Res86103 = keras.layers.Reshape((3, 12), name = 'Res86103', )(Res39665)
Zer42076 = keras.layers.ZeroPadding1D(padding=((7, 0)), name = 'Zer42076', )(Res86103)
Min90730 = keras.layers.Minimum(name = 'Min90730', )([in0Min90730,in1Min90730])
Con21273 = keras.layers.Conv3DTranspose(4, (1, 1, 1),strides=(8, 1, 1), padding='same', name = 'Con21273', )(Min90730)
Res72566 = keras.layers.Reshape((8, 2, 4), name = 'Res72566', )(Con21273)
Res82743 = keras.layers.Reshape((8, 8), name = 'Res82743', )(Res72566)
Zer5136 = keras.layers.ZeroPadding1D(padding=((1, 1)), name = 'Zer5136', )(Res82743)
Con67475 = keras.layers.Concatenate(axis=2, name = 'Con67475', )([Zer5136,in0Con67475])
Min28826 = keras.layers.Minimum(name = 'Min28826', )([Zer42076,Con67475])
model = tf.keras.models.Model(inputs=[in0Mul68489,in1Mul68489,in0Up_57138,in0Min90730,in1Min90730,in0Con67475], outputs=Min28826)
w = model.get_layer('Con21273').get_weights() 
w[0] = np.array([[[[[0.9127], [0.1956], [0.6827], [0.6097]]]]])
w[1] = np.array([0, 0, 0, 0])
model.get_layer('Con21273').set_weights(w) 
in0Mul68489 = tf.constant([[[[0.3283]], [[0.8981]]]])
in1Mul68489 = tf.constant([[[[0.1836]], [[0.9682]]]])
in0Up_57138 = tf.constant([[[[[1.055], [1.2454]], [[1.7565], [1.8929]], [[1.0131], [1.5967]]], [[[1.0084], [1.0164]], [[1.9572], [1.3013]], [[1.1922], [1.223]]], [[[1.1333], [1.9341]], [[1.7067], [1.9548]], [[1.1294], [1.5009]]]]])
in0Min90730 = tf.constant([[[[[0.5309]], [[0.8063]]]]])
in1Min90730 = tf.constant([[[[[0.1295]], [[0.3635]]]]])
in0Con67475 = tf.constant([[[0.9854, 0.3073, 0.1081, 0.5703], [0.869, 0.0467, 0.5129, 0.704], [0.9768, 0.9725, 0.4137, 0.0804], [0.2138, 0.9311, 0.7053, 0.1415], [0.9618, 0.38, 0.7692, 0.8782], [0.9056, 0.1605, 0.6125, 0.0459], [0.9812, 0.7146, 0.0077, 0.6617], [0.1838, 0.2142, 0.6573, 0.7], [0.5191, 0.5059, 0.5351, 0.0402], [0.3459, 0.8642, 0.5942, 0.0123]]])
print (np.array2string(model.predict([in0Mul68489,in1Mul68489,in0Up_57138,in0Min90730,in1Min90730,in0Con67475],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min28826.png')

LMul68489 = multiply_layer([[[[[0.3283]], [[0.8981]]]], [[[[0.1836]], [[0.9682]]]]], Mul68489), 
LRes61671 = reshape_layer(Mul68489, [2, 1, 1, 1], Res61671), 
LZer59954 = zero_padding3D_layer(Res61671, 1, 0, 2, 0, 3, 0, Zer59954), 
LUp_57138 = up_sampling3D_layer([[[[[1.055], [1.2454]], [[1.7565], [1.8929]], [[1.0131], [1.5967]]], [[[1.0084], [1.0164]], [[1.9572], [1.3013]], [[1.1922], [1.223]]], [[[1.1333], [1.9341]], [[1.7067], [1.9548]], [[1.1294], [1.5009]]]]], 1, 1, 2, Up_57138), 
LReL15263 = relu_layer(Up_57138, 3.5380972412857656, 7.478353065347066, 3.759865805871766, ReL15263), 
LAdd83943 = add_layer([Zer59954,ReL15263], Add83943), 
LRes39665 = reshape_layer(Add83943, [3, 3, 4], Res39665), 
LRes86103 = reshape_layer(Res39665, [3, 12], Res86103), 
LZer42076 = zero_padding1D_layer(Res86103, 7, 0, Zer42076), 
LMin90730 = minimum_layer([[[[[[0.5309]], [[0.8063]]]]], [[[[[0.1295]], [[0.3635]]]]]], Min90730), 
LCon21273 = conv3D_transpose_layer(Min90730, 1, 1, 1,[[[[[0.9127], [0.1956], [0.6827], [0.6097]]]]],[0, 0, 0, 0], 8, 1, 1, true, Con21273), 
LRes72566 = reshape_layer(Con21273, [8, 2, 4], Res72566), 
LRes82743 = reshape_layer(Res72566, [8, 8], Res82743), 
LZer5136 = zero_padding1D_layer(Res82743, 1, 1, Zer5136), 
LCon67475 = concatenate_layer([Zer5136,[[[0.9854, 0.3073, 0.1081, 0.5703], [0.869, 0.0467, 0.5129, 0.704], [0.9768, 0.9725, 0.4137, 0.0804], [0.2138, 0.9311, 0.7053, 0.1415], [0.9618, 0.38, 0.7692, 0.8782], [0.9056, 0.1605, 0.6125, 0.0459], [0.9812, 0.7146, 0.0077, 0.6617], [0.1838, 0.2142, 0.6573, 0.7], [0.5191, 0.5059, 0.5351, 0.0402], [0.3459, 0.8642, 0.5942, 0.0123]]]], 2, Con67475), 
LMin28826 = minimum_layer([Zer42076,Con67475], Min28826), 
exec_layers([LMul68489,LRes61671,LZer59954,LUp_57138,LReL15263,LAdd83943,LRes39665,LRes86103,LZer42076,LMin90730,LCon21273,LRes72566,LRes82743,LZer5136,LCon67475,LMin28826],["Mul68489","Res61671","Zer59954","Up_57138","ReL15263","Add83943","Res39665","Res86103","Zer42076","Min90730","Con21273","Res72566","Res82743","Zer5136","Con67475","Min28826"],Min28826,"Min28826")

Actual (Unparsed): [[[0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000], [-20.2279419, -20.2279419, -18.8040634, -18.8040634, -14.9818768, -14.9818768, -13.9618295, -13.9618295, -20.5412843, -20.5412843, -16.1769180, -16.1769180], [-20.5764330, -20.5764330, -20.5166061, -20.5166061, -13.4809710, -13.4809710, -18.3860228, -18.3860228, -19.2019119, -19.2019119, -18.9715778, -18.9113019], [-19.6423868, -19.6423868, -13.6537211, -13.6537211, -15.3542990, -15.3542990, -13.4989193, -13.4989193, -19.6715519, -19.6715519, -16.8933436, -16.0238032]]]

Expected (Unparsed): [[[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[-20.227941490693585,-20.227941490693585,-18.8040630670515,-18.8040630670515,-14.981876815352619,-14.981876815352619,-13.96182945723928,-13.96182945723928,-20.54128448413163,-20.54128448413163,-16.176917635195082,-16.176917635195082],[-20.57643274353876,-20.57643274353876,-20.516605919015984,-20.516605919015984,-13.480971355137463,-13.480971355137463,-18.386023130698604,-18.386023130698604,-19.20191145012797,-19.20191145012797,-18.97157817571528,-18.91130229571528],[-19.642386445676912,-19.642386445676912,-13.653721310946981,-13.653721310946981,-15.354298798006901,-15.354298798006901,-13.498919402494295,-13.498919402494295,-19.671552022631765,-19.671552022631765,-16.89334385885533,-16.02380343885533]]]

Actual:   [[[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [-20.2279, -20.2279, -18.804, -18.804, -14.9818, -14.9818, -13.9618, -13.9618, -20.5412, -20.5412, -16.1769, -16.1769], [-20.5764, -20.5764, -20.5166, -20.5166, -13.4809, -13.4809, -18.386, -18.386, -19.2019, -19.2019, -18.9715, -18.9113], [-19.6423, -19.6423, -13.6537, -13.6537, -15.3542, -15.3542, -13.4989, -13.4989, -19.6715, -19.6715, -16.8933, -16.0238]]]

Expected: [[[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [-20.2279, -20.2279, -18.804, -18.804, -14.9818, -14.9818, -13.9618, -13.9618, -20.5412, -20.5412, -16.1769, -16.1769], [-20.5764, -20.5764, -20.5166, -20.5166, -13.4809, -13.4809, -18.386, -18.386, -19.2019, -19.2019, -18.9715, -18.9113], [-19.6423, -19.6423, -13.6537, -13.6537, -15.3542, -15.3542, -13.4989, -13.4989, -19.6715, -19.6715, -16.8933, -16.0238]]]