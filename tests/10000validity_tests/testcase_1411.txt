import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max43523 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))
in1Max43523 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))
in0Con36845 = tf.keras.layers.Input(shape=([2, 1, 2]))
in0Up_6333 = tf.keras.layers.Input(shape=([2, 1, 3]))

Max43523 = keras.layers.Maximum(name = 'Max43523', )([in0Max43523,in1Max43523])
Res37259 = keras.layers.Reshape((2, 1, 1), name = 'Res37259', )(Max43523)
Con36845 = keras.layers.Concatenate(axis=3, name = 'Con36845', )([Res37259,in0Con36845])
Up_6333 = keras.layers.UpSampling2D(size=(1, 1), name = 'Up_6333', )(in0Up_6333)
Max48745 = keras.layers.Maximum(name = 'Max48745', )([Con36845,Up_6333])
ReL8186 = keras.layers.ReLU(max_value=1.1413697099097613, negative_slope=5.792477596394274, threshold=7.46767812045036, name = 'ReL8186', )(Max48745)
model = tf.keras.models.Model(inputs=[in0Max43523,in1Max43523,in0Con36845,in0Up_6333], outputs=ReL8186)
in0Max43523 = tf.constant([[[[[0.2215]]], [[[0.171]]]]])
in1Max43523 = tf.constant([[[[[0.3106]]], [[[0.1722]]]]])
in0Con36845 = tf.constant([[[[0.1744, 0.0902]], [[0.7654, 0.1931]]]])
in0Up_6333 = tf.constant([[[[1.7344, 1.4798, 1.7158]], [[1.4211, 1.7766, 1.0728]]]])
print (np.array2string(model.predict([in0Max43523,in1Max43523,in0Con36845,in0Up_6333],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='ReL8186.png')

LMax43523 = maximum_layer([[[[[[0.2215]]], [[[0.171]]]]], [[[[[0.3106]]], [[[0.1722]]]]]], Max43523), 
LRes37259 = reshape_layer(Max43523, [2, 1, 1], Res37259), 
LCon36845 = concatenate_layer([Res37259,[[[[0.1744, 0.0902]], [[0.7654, 0.1931]]]]], 3, Con36845), 
LUp_6333 = up_sampling2D_layer([[[[1.7344, 1.4798, 1.7158]], [[1.4211, 1.7766, 1.0728]]]], 1, 1, Up_6333), 
LMax48745 = maximum_layer([Con36845,Up_6333], Max48745), 
LReL8186 = relu_layer(Max48745, 1.1413697099097613, 5.792477596394274, 7.46767812045036, ReL8186), 
exec_layers([LMax43523,LRes37259,LCon36845,LUp_6333,LMax48745,LReL8186],["Max43523","Res37259","Con36845","Up_6333","Max48745","ReL8186"],ReL8186,"ReL8186")

Actual (Unparsed): [[[[-33.2098849, -34.6846499, -33.3176249]], [[-35.0246682, -32.9654425, -37.0421880]]]]

Expected (Unparsed): [[[[-33.20988506660619,-34.68464986264817,-33.31762514989912]],[[-35.02466829755652,-32.96544251203835,-37.04218824438064]]]]

Actual:   [[[[-33.2098, -34.6846, -33.3176]], [[-35.0246, -32.9654, -37.0421]]]]

Expected: [[[[-33.2098, -34.6846, -33.3176]], [[-35.0246, -32.9654, -37.0421]]]]