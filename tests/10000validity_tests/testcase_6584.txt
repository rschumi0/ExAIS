import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave46028 = tf.keras.layers.Input(shape=([2, 1]))

Ave46028 = keras.layers.AveragePooling1D(pool_size=(2), strides=(1), padding='same', name = 'Ave46028', )(in0Ave46028)
Res50804 = keras.layers.Reshape((2, 1, 1), name = 'Res50804', )(Ave46028)
Up_30457 = keras.layers.UpSampling2D(size=(1, 1), name = 'Up_30457', )(Res50804)
Res88423 = keras.layers.Reshape((2, 1), name = 'Res88423', )(Up_30457)
Glo16377 = keras.layers.GlobalAveragePooling1D(name = 'Glo16377', )(Res88423)
Res81536 = keras.layers.Reshape((1, 1), name = 'Res81536', )(Glo16377)
Max43768 = keras.layers.MaxPool1D(pool_size=(1), name = 'Max43768', )(Res81536)
model = tf.keras.models.Model(inputs=[in0Ave46028], outputs=Max43768)
in0Ave46028 = tf.constant([[[1.1941], [1.0285]]])
print (np.array2string(model.predict([in0Ave46028],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max43768.png')

LAve46028 = average_pooling1D_layer([[[1.1941], [1.0285]]], 2, 1, true, Ave46028), 
LRes50804 = reshape_layer(Ave46028, [2, 1, 1], Res50804), 
LUp_30457 = up_sampling2D_layer(Res50804, 1, 1, Up_30457), 
LRes88423 = reshape_layer(Up_30457, [2, 1], Res88423), 
LGlo16377 = global_average_pooling1D_layer(Res88423, Glo16377), 
LRes81536 = reshape_layer(Glo16377, [1, 1], Res81536), 
LMax43768 = max_pool1D_layer(Res81536, 1, Max43768), 
exec_layers([LAve46028,LRes50804,LUp_30457,LRes88423,LGlo16377,LRes81536,LMax43768],["Ave46028","Res50804","Up_30457","Res88423","Glo16377","Res81536","Max43768"],Max43768,"Max43768")

Actual (Unparsed): [[[1.0699000]]]

Expected (Unparsed): [[[1.0699]]]

Actual:   [[[1.0699]]]

Expected: [[[1.0699]]]