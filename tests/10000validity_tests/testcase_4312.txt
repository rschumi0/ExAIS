import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min99549 = tf.keras.layers.Input(shape=([1, 1]))
in1Min99549 = tf.keras.layers.Input(shape=([1, 1]))
in0LST41610 = tf.keras.layers.Input(shape=([3, 1]))
in0Min96052 = tf.keras.layers.Input(shape=([1, 1, 1, 2]))
in1Min96052 = tf.keras.layers.Input(shape=([1, 1, 1, 2]))

Min99549 = keras.layers.Minimum(name = 'Min99549', )([in0Min99549,in1Min99549])
ReL61096 = keras.layers.ReLU(max_value=3.0729837053775544, negative_slope=8.293095738396511, threshold=5.182602885979026, name = 'ReL61096', )(Min99549)
Zer76045 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer76045', )(ReL61096)
LST41610 = keras.layers.LSTM(2,recurrent_activation='sigmoid', name = 'LST41610', )(in0LST41610)
Res58519 = keras.layers.Reshape((2, 1), name = 'Res58519', )(LST41610)
Min96052 = keras.layers.Minimum(name = 'Min96052', )([in0Min96052,in1Min96052])
Res57909 = keras.layers.Reshape((2, 1), name = 'Res57909', )(Min96052)
Add94482 = keras.layers.Add(name = 'Add94482', )([Res58519,Res57909])
Add59663 = keras.layers.Add(name = 'Add59663', )([Zer76045,Add94482])
model = tf.keras.models.Model(inputs=[in0Min99549,in1Min99549,in0LST41610,in0Min96052,in1Min96052], outputs=Add59663)
w = model.get_layer('LST41610').get_weights() 
w[0] = np.array([[1, 8, 9, 10, 5, 6, 7, 1]])
w[1] = np.array([[5, 3, 5, 6, 4, 6, 8, 10], [4, 1, 7, 1, 8, 9, 5, 2]])
w[2] = np.array([7, 4, 3, 8, 1, 6, 2, 8])
model.get_layer('LST41610').set_weights(w) 
in0Min99549 = tf.constant([[[0.1479]]])
in1Min99549 = tf.constant([[[0.1476]]])
in0LST41610 = tf.constant([[[9], [10], [7]]])
in0Min96052 = tf.constant([[[[[0.791, 0.3227]]]]])
in1Min96052 = tf.constant([[[[[0.2277, 0.0458]]]]])
print (np.array2string(model.predict([in0Min99549,in1Min99549,in0LST41610,in0Min96052,in1Min96052],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add59663.png')

LMin99549 = minimum_layer([[[[0.1479]]], [[[0.1476]]]], Min99549), 
LReL61096 = relu_layer(Min99549, 3.0729837053775544, 8.293095738396511, 5.182602885979026, ReL61096), 
LZer76045 = zero_padding1D_layer(ReL61096, 1, 0, Zer76045), 
LLST41610 = lstm_layer([[[9], [10], [7]]],[[1, 8, 9, 10, 5, 6, 7, 1]],[[5, 3, 5, 6, 4, 6, 8, 10], [4, 1, 7, 1, 8, 9, 5, 2]],[7, 4, 3, 8, 1, 6, 2, 8], LST41610), 
LRes58519 = reshape_layer(LST41610, [2, 1], Res58519), 
LMin96052 = minimum_layer([[[[[[0.791, 0.3227]]]]], [[[[[0.2277, 0.0458]]]]]], Min96052), 
LRes57909 = reshape_layer(Min96052, [2, 1], Res57909), 
LAdd94482 = add_layer([Res58519,Res57909], Add94482), 
LAdd59663 = add_layer([Zer76045,Add94482], Add59663), 
exec_layers([LMin99549,LReL61096,LZer76045,LLST41610,LRes58519,LMin96052,LRes57909,LAdd94482,LAdd59663],["Min99549","ReL61096","Zer76045","LST41610","Res58519","Min96052","Res57909","Add94482","Add59663"],Add59663,"Add59663")

Actual (Unparsed): [[[1.2227547], [-40.7149063]]]

Expected (Unparsed): [[[1.2227547525746238],[-40.71490622284294]]]

Actual:   [[[1.2228], [-40.7149]]]

Expected: [[[1.2228], [-40.7149]]]