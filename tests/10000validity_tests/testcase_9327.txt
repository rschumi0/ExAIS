import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul20926 = tf.keras.layers.Input(shape=([1, 1]))
in1Mul20926 = tf.keras.layers.Input(shape=([1, 1]))
in0Zer75046 = tf.keras.layers.Input(shape=([1, 2, 1]))

Mul20926 = keras.layers.Multiply(name = 'Mul20926', )([in0Mul20926,in1Mul20926])
Res52771 = keras.layers.Reshape((1, 1, 1), name = 'Res52771', )(Mul20926)
Res12577 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res12577', )(Res52771)
Zer81695 = keras.layers.ZeroPadding3D(padding=((3, 0), (0, 0), (0, 0)), name = 'Zer81695', )(Res12577)
Zer75046 = keras.layers.ZeroPadding2D(padding=((1, 1), (1, 1)), name = 'Zer75046', )(in0Zer75046)
Res46504 = keras.layers.Reshape((3, 4), name = 'Res46504', )(Zer75046)
Fla9195 = keras.layers.Flatten(name = 'Fla9195', )(Res46504)
Res59097 = keras.layers.Reshape((12, 1), name = 'Res59097', )(Fla9195)
Res79974 = keras.layers.Reshape((12, 1, 1), name = 'Res79974', )(Res59097)
Res62580 = keras.layers.Reshape((12, 1, 1, 1), name = 'Res62580', )(Res79974)
Cro68322 = keras.layers.Cropping3D(cropping=((7, 1), (0, 0), (0, 0)), name = 'Cro68322', )(Res62580)
Min14387 = keras.layers.Minimum(name = 'Min14387', )([Zer81695,Cro68322])
Res29210 = keras.layers.Reshape((4, 1, 1), name = 'Res29210', )(Min14387)
Glo80626 = keras.layers.GlobalMaxPool2D(name = 'Glo80626', )(Res29210)
Res8074 = keras.layers.Reshape((1, 1), name = 'Res8074', )(Glo80626)
Glo54129 = keras.layers.GlobalAveragePooling1D(name = 'Glo54129', )(Res8074)
model = tf.keras.models.Model(inputs=[in0Mul20926,in1Mul20926,in0Zer75046], outputs=Glo54129)
in0Mul20926 = tf.constant([[[0.8112]]])
in1Mul20926 = tf.constant([[[0.704]]])
in0Zer75046 = tf.constant([[[[1.8723], [1.7736]]]])
print (np.array2string(model.predict([in0Mul20926,in1Mul20926,in0Zer75046],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo54129.png')

LMul20926 = multiply_layer([[[[0.8112]]], [[[0.704]]]], Mul20926), 
LRes52771 = reshape_layer(Mul20926, [1, 1, 1], Res52771), 
LRes12577 = reshape_layer(Res52771, [1, 1, 1, 1], Res12577), 
LZer81695 = zero_padding3D_layer(Res12577, 3, 0, 0, 0, 0, 0, Zer81695), 
LZer75046 = zero_padding2D_layer([[[[1.8723], [1.7736]]]], 1, 1, 1, 1, Zer75046), 
LRes46504 = reshape_layer(Zer75046, [3, 4], Res46504), 
LFla9195 = flatten_layer(Res46504, Fla9195), 
LRes59097 = reshape_layer(Fla9195, [12, 1], Res59097), 
LRes79974 = reshape_layer(Res59097, [12, 1, 1], Res79974), 
LRes62580 = reshape_layer(Res79974, [12, 1, 1, 1], Res62580), 
LCro68322 = cropping3D_layer(Res62580, 7, 1, 0, 0, 0, 0, Cro68322), 
LMin14387 = minimum_layer([Zer81695,Cro68322], Min14387), 
LRes29210 = reshape_layer(Min14387, [4, 1, 1], Res29210), 
LGlo80626 = global_max_pool2D_layer(Res29210, Glo80626), 
LRes8074 = reshape_layer(Glo80626, [1, 1], Res8074), 
LGlo54129 = global_average_pooling1D_layer(Res8074, Glo54129), 
exec_layers([LMul20926,LRes52771,LRes12577,LZer81695,LZer75046,LRes46504,LFla9195,LRes59097,LRes79974,LRes62580,LCro68322,LMin14387,LRes29210,LGlo80626,LRes8074,LGlo54129],["Mul20926","Res52771","Res12577","Zer81695","Zer75046","Res46504","Fla9195","Res59097","Res79974","Res62580","Cro68322","Min14387","Res29210","Glo80626","Res8074","Glo54129"],Glo54129,"Glo54129")

Actual (Unparsed): [[0.0000000]]

Expected (Unparsed): [[0]]

Actual:   [[0]]

Expected: [[0]]