import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul619 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))
in1Mul619 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))
in0Con55993 = tf.keras.layers.Input(shape=([2, 1]))
in0Mul6496 = tf.keras.layers.Input(shape=([2, 2, 2]))
in1Mul6496 = tf.keras.layers.Input(shape=([2, 2, 2]))
in0Ave60684 = tf.keras.layers.Input(shape=([2, 2]))
in1Ave60684 = tf.keras.layers.Input(shape=([2, 2]))

Mul619 = keras.layers.Multiply(name = 'Mul619', )([in0Mul619,in1Mul619])
Res22072 = keras.layers.Reshape((2, 1, 1), name = 'Res22072', )(Mul619)
Res32556 = keras.layers.Reshape((2, 1), name = 'Res32556', )(Res22072)
Con55993 = keras.layers.Concatenate(axis=2, name = 'Con55993', )([Res32556,in0Con55993])
Mul6496 = keras.layers.Multiply(name = 'Mul6496', )([in0Mul6496,in1Mul6496])
Res26644 = keras.layers.Reshape((2, 2, 2, 1), name = 'Res26644', )(Mul6496)
Cro80423 = keras.layers.Cropping3D(cropping=((1, 0), (1, 0), (0, 0)), name = 'Cro80423', )(Res26644)
Res10559 = keras.layers.Reshape((1, 1, 2), name = 'Res10559', )(Cro80423)
Res12153 = keras.layers.Reshape((1, 2), name = 'Res12153', )(Res10559)
Zer71528 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer71528', )(Res12153)
Ave60684 = keras.layers.Average(name = 'Ave60684', )([in0Ave60684,in1Ave60684])
Ave43962 = keras.layers.AveragePooling1D(pool_size=(1), strides=(1), padding='valid', name = 'Ave43962', )(Ave60684)
Max39450 = keras.layers.Maximum(name = 'Max39450', )([Zer71528,Ave43962])
Ave11280 = keras.layers.Average(name = 'Ave11280', )([Con55993,Max39450])
LST7996 = keras.layers.LSTM(2,recurrent_activation='sigmoid', name = 'LST7996', )(Ave11280)
ELU53093 = keras.layers.ELU(alpha=-6.948462890596419, name = 'ELU53093', )(LST7996)
model = tf.keras.models.Model(inputs=[in0Mul619,in1Mul619,in0Con55993,in0Mul6496,in1Mul6496,in0Ave60684,in1Ave60684], outputs=ELU53093)
w = model.get_layer('LST7996').get_weights() 
w[0] = np.array([[1, 9, 2, 10, 4, 8, 5, 7], [4, 6, 8, 6, 3, 7, 7, 6]])
w[1] = np.array([[9, 1, 3, 2, 1, 1, 4, 9], [5, 5, 9, 10, 2, 8, 4, 5]])
w[2] = np.array([8, 10, 1, 9, 2, 1, 2, 10])
model.get_layer('LST7996').set_weights(w) 
in0Mul619 = tf.constant([[[[[0.8864]]], [[[0.7488]]]]])
in1Mul619 = tf.constant([[[[[0.7843]]], [[[0.126]]]]])
in0Con55993 = tf.constant([[[0.6035], [0.2048]]])
in0Mul6496 = tf.constant([[[[0.9893, 0.6506], [0.3647, 0.9481]], [[0.297, 0.576], [0.9446, 0.6958]]]])
in1Mul6496 = tf.constant([[[[0.3598, 0.5976], [0.6041, 0.9319]], [[0.843, 0.3065], [0.959, 0.1743]]]])
in0Ave60684 = tf.constant([[[0.8025, 0.6087], [0.62, 0.1279]]])
in1Ave60684 = tf.constant([[[0.9781, 0.5318], [0.0977, 0.1624]]])
print (np.array2string(model.predict([in0Mul619,in1Mul619,in0Con55993,in0Mul6496,in1Mul6496,in0Ave60684,in1Ave60684],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='ELU53093.png')

LMul619 = multiply_layer([[[[[[0.8864]]], [[[0.7488]]]]], [[[[[0.7843]]], [[[0.126]]]]]], Mul619), 
LRes22072 = reshape_layer(Mul619, [2, 1, 1], Res22072), 
LRes32556 = reshape_layer(Res22072, [2, 1], Res32556), 
LCon55993 = concatenate_layer([Res32556,[[[0.6035], [0.2048]]]], 2, Con55993), 
LMul6496 = multiply_layer([[[[[0.9893, 0.6506], [0.3647, 0.9481]], [[0.297, 0.576], [0.9446, 0.6958]]]], [[[[0.3598, 0.5976], [0.6041, 0.9319]], [[0.843, 0.3065], [0.959, 0.1743]]]]], Mul6496), 
LRes26644 = reshape_layer(Mul6496, [2, 2, 2, 1], Res26644), 
LCro80423 = cropping3D_layer(Res26644, 1, 0, 1, 0, 0, 0, Cro80423), 
LRes10559 = reshape_layer(Cro80423, [1, 1, 2], Res10559), 
LRes12153 = reshape_layer(Res10559, [1, 2], Res12153), 
LZer71528 = zero_padding1D_layer(Res12153, 1, 0, Zer71528), 
LAve60684 = average_layer([[[[0.8025, 0.6087], [0.62, 0.1279]]], [[[0.9781, 0.5318], [0.0977, 0.1624]]]], Ave60684), 
LAve43962 = average_pooling1D_layer(Ave60684, 1, 1, false, Ave43962), 
LMax39450 = maximum_layer([Zer71528,Ave43962], Max39450), 
LAve11280 = average_layer([Con55993,Max39450], Ave11280), 
LLST7996 = lstm_layer(Ave11280,[[1, 9, 2, 10, 4, 8, 5, 7], [4, 6, 8, 6, 3, 7, 7, 6]],[[9, 1, 3, 2, 1, 1, 4, 9], [5, 5, 9, 10, 2, 8, 4, 5]],[8, 10, 1, 9, 2, 1, 2, 10], LST7996), 
LELU53093 = elu_layer(LST7996, -6.948462890596419, ELU53093), 
exec_layers([LMul619,LRes22072,LRes32556,LCon55993,LMul6496,LRes26644,LCro80423,LRes10559,LRes12153,LZer71528,LAve60684,LAve43962,LMax39450,LAve11280,LLST7996,LELU53093],["Mul619","Res22072","Res32556","Con55993","Mul6496","Res26644","Cro80423","Res10559","Res12153","Zer71528","Ave60684","Ave43962","Max39450","Ave11280","LST7996","ELU53093"],ELU53093,"ELU53093")

Actual (Unparsed): [[0.9640189, 0.9640276]]

Expected (Unparsed): [[0.9640188889464627,0.9640275798414775]]

Actual:   [[0.9641, 0.9641]]

Expected: [[0.9641, 0.9641]]