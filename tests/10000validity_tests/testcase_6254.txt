import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max89104 = tf.keras.layers.Input(shape=([2, 1]))
in1Max89104 = tf.keras.layers.Input(shape=([2, 1]))
in0Add63726 = tf.keras.layers.Input(shape=([2, 1, 1]))
in1Add63726 = tf.keras.layers.Input(shape=([2, 1, 1]))
in0Glo88110 = tf.keras.layers.Input(shape=([2, 2, 1, 1]))
in0Con38729 = tf.keras.layers.Input(shape=([1]))

Max89104 = keras.layers.Maximum(name = 'Max89104', )([in0Max89104,in1Max89104])
Add63726 = keras.layers.Add(name = 'Add63726', )([in0Add63726,in1Add63726])
Res28666 = keras.layers.Reshape((2, 1), name = 'Res28666', )(Add63726)
Fla5299 = keras.layers.Flatten(name = 'Fla5299', )(Res28666)
Glo88110 = keras.layers.GlobalAveragePooling3D(name = 'Glo88110', )(in0Glo88110)
Con38729 = keras.layers.Concatenate(axis=1, name = 'Con38729', )([Glo88110,in0Con38729])
Mul58197 = keras.layers.Multiply(name = 'Mul58197', )([Fla5299,Con38729])
Res87341 = keras.layers.Reshape((2, 1), name = 'Res87341', )(Mul58197)
Cro94488 = keras.layers.Cropping1D(cropping=((0, 1)), name = 'Cro94488', )(Res87341)
Zer10681 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer10681', )(Cro94488)
Min47749 = keras.layers.Minimum(name = 'Min47749', )([Max89104,Zer10681])
model = tf.keras.models.Model(inputs=[in0Max89104,in1Max89104,in0Add63726,in1Add63726,in0Glo88110,in0Con38729], outputs=Min47749)
in0Max89104 = tf.constant([[[0.6277], [0.8857]]])
in1Max89104 = tf.constant([[[0.8683], [0.6276]]])
in0Add63726 = tf.constant([[[[0.7682]], [[0.3402]]]])
in1Add63726 = tf.constant([[[[0.0921]], [[0.4354]]]])
in0Glo88110 = tf.constant([[[[[1.214]], [[1.5873]]], [[[1.5951]], [[1.6394]]]]])
in0Con38729 = tf.constant([[0.781]])
print (np.array2string(model.predict([in0Max89104,in1Max89104,in0Add63726,in1Add63726,in0Glo88110,in0Con38729],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min47749.png')

LMax89104 = maximum_layer([[[[0.6277], [0.8857]]], [[[0.8683], [0.6276]]]], Max89104), 
LAdd63726 = add_layer([[[[[0.7682]], [[0.3402]]]], [[[[0.0921]], [[0.4354]]]]], Add63726), 
LRes28666 = reshape_layer(Add63726, [2, 1], Res28666), 
LFla5299 = flatten_layer(Res28666, Fla5299), 
LGlo88110 = global_average_pooling3D_layer([[[[[1.214]], [[1.5873]]], [[[1.5951]], [[1.6394]]]]], Glo88110), 
LCon38729 = concatenate_layer([Glo88110,[[0.781]]], 1, Con38729), 
LMul58197 = multiply_layer([Fla5299,Con38729], Mul58197), 
LRes87341 = reshape_layer(Mul58197, [2, 1], Res87341), 
LCro94488 = cropping1D_layer(Res87341, 0, 1, Cro94488), 
LZer10681 = zero_padding1D_layer(Cro94488, 1, 0, Zer10681), 
LMin47749 = minimum_layer([Max89104,Zer10681], Min47749), 
exec_layers([LMax89104,LAdd63726,LRes28666,LFla5299,LGlo88110,LCon38729,LMul58197,LRes87341,LCro94488,LZer10681,LMin47749],["Max89104","Add63726","Res28666","Fla5299","Glo88110","Con38729","Mul58197","Res87341","Cro94488","Zer10681","Min47749"],Min47749,"Min47749")

Actual (Unparsed): [[[0.0000000], [0.8857000]]]

Expected (Unparsed): [[[0],[0.8857]]]

Actual:   [[[0], [0.8857]]]

Expected: [[[0], [0.8857]]]