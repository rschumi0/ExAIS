import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0ELU7289 = tf.keras.layers.Input(shape=([1, 1, 1, 1]))
in0Con68825 = tf.keras.layers.Input(shape=([3, 2, 2]))
in0Sub20298 = tf.keras.layers.Input(shape=([3, 2, 3]))
in1Sub20298 = tf.keras.layers.Input(shape=([3, 2, 3]))

ELU7289 = keras.layers.ELU(alpha=5.0542699635831685, name = 'ELU7289', input_shape=(1, 1, 1, 1))(in0ELU7289)
Res78639 = keras.layers.Reshape((1, 1, 1), name = 'Res78639', )(ELU7289)
Zer57881 = keras.layers.ZeroPadding2D(padding=((2, 0), (1, 0)), name = 'Zer57881', )(Res78639)
Con68825 = keras.layers.Concatenate(axis=3, name = 'Con68825', )([Zer57881,in0Con68825])
Sub20298 = keras.layers.Subtract(name = 'Sub20298', )([in0Sub20298,in1Sub20298])
Ave28443 = keras.layers.Average(name = 'Ave28443', )([Con68825,Sub20298])
Res71200 = keras.layers.Reshape((3, 6), name = 'Res71200', )(Ave28443)
Ave65033 = keras.layers.AveragePooling1D(pool_size=(1), strides=(3), padding='same', name = 'Ave65033', )(Res71200)
model = tf.keras.models.Model(inputs=[in0ELU7289,in0Con68825,in0Sub20298,in1Sub20298], outputs=Ave65033)
in0ELU7289 = tf.constant([[[[[0.6525]]]]])
in0Con68825 = tf.constant([[[[0.4507, 0.1576], [0.3998, 0.9981]], [[0.3642, 0.6975], [0.2368, 0.0256]], [[0.0546, 0.5554], [0.7098, 0.6641]]]])
in0Sub20298 = tf.constant([[[[0.076, 0.2191, 0.775], [0.7494, 0.937, 0.0748]], [[0.3656, 0.2557, 0.4533], [0.4962, 0.8752, 0.8728]], [[0.1184, 0.3894, 0.106], [0.8371, 0.7335, 0.0166]]]])
in1Sub20298 = tf.constant([[[[0.1505, 0.7667, 0.4949], [0.6613, 0.6178, 0.1747]], [[0.063, 0.0661, 0.306], [0.9748, 0.4986, 0.0183]], [[0.8385, 0.1064, 0.2222], [0.7794, 0.1957, 0.4828]]]])
print (np.array2string(model.predict([in0ELU7289,in0Con68825,in0Sub20298,in1Sub20298],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Ave65033.png')

LELU7289 = elu_layer([[[[[0.6525]]]]], 5.0542699635831685, ELU7289), 
LRes78639 = reshape_layer(ELU7289, [1, 1, 1], Res78639), 
LZer57881 = zero_padding2D_layer(Res78639, 2, 0, 1, 0, Zer57881), 
LCon68825 = concatenate_layer([Zer57881,[[[[0.4507, 0.1576], [0.3998, 0.9981]], [[0.3642, 0.6975], [0.2368, 0.0256]], [[0.0546, 0.5554], [0.7098, 0.6641]]]]], 3, Con68825), 
LSub20298 = subtract_layer([[[[0.076, 0.2191, 0.775], [0.7494, 0.937, 0.0748]], [[0.3656, 0.2557, 0.4533], [0.4962, 0.8752, 0.8728]], [[0.1184, 0.3894, 0.106], [0.8371, 0.7335, 0.0166]]]], [[[[0.1505, 0.7667, 0.4949], [0.6613, 0.6178, 0.1747]], [[0.063, 0.0661, 0.306], [0.9748, 0.4986, 0.0183]], [[0.8385, 0.1064, 0.2222], [0.7794, 0.1957, 0.4828]]]], Sub20298), 
LAve28443 = average_layer([Con68825,Sub20298], Ave28443), 
LRes71200 = reshape_layer(Ave28443, [3, 6], Res71200), 
LAve65033 = average_pooling1D_layer(Res71200, 1, 3, true, Ave65033), 
exec_layers([LELU7289,LRes78639,LZer57881,LCon68825,LSub20298,LAve28443,LRes71200,LAve65033],["ELU7289","Res78639","Zer57881","Con68825","Sub20298","Ave28443","Res71200","Ave65033"],Ave65033,"Ave65033")

Actual (Unparsed): [[[-0.0372500, -0.0484500, 0.2188500, 0.0440500, 0.3595000, 0.4491000]]]

Expected (Unparsed): [[[-0.03725,-0.04845000000000005,0.21885,0.04404999999999998,0.35950000000000004,0.4491]]]

Actual:   [[[-0.0372, -0.0484, 0.2189, 0.0441, 0.3595, 0.4491]]]

Expected: [[[-0.0372, -0.0484, 0.2189, 0.0441, 0.3596, 0.4491]]]