import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot80447 = tf.keras.layers.Input(shape=([3]))
in1Dot80447 = tf.keras.layers.Input(shape=([3]))

Dot80447 = keras.layers.Dot(axes=(1, 1), name = 'Dot80447', )([in0Dot80447,in1Dot80447])
Thr21720 = keras.layers.ThresholdedReLU(theta=7.029685560726321, name = 'Thr21720', )(Dot80447)
Res45656 = keras.layers.Reshape((1, 1), name = 'Res45656', )(Thr21720)
Res10811 = keras.layers.Reshape((1, 1, 1), name = 'Res10811', )(Res45656)
Max61219 = keras.layers.MaxPool2D(pool_size=(1, 1), name = 'Max61219', )(Res10811)
model = tf.keras.models.Model(inputs=[in0Dot80447,in1Dot80447], outputs=Max61219)
in0Dot80447 = tf.constant([[0.552, 0.3482, 0.8563]])
in1Dot80447 = tf.constant([[0.8754, 0.2322, 0.4437]])
print (np.array2string(model.predict([in0Dot80447,in1Dot80447],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max61219.png')

LDot80447 = dot_layer([[0.552, 0.3482, 0.8563]], [[0.8754, 0.2322, 0.4437]], 1, 1, Dot80447), 
LThr21720 = thresholded_relu_layer(Dot80447, 7.029685560726321, Thr21720), 
LRes45656 = reshape_layer(Thr21720, [1, 1], Res45656), 
LRes10811 = reshape_layer(Res45656, [1, 1, 1], Res10811), 
LMax61219 = max_pool2D_layer(Res10811, 1, 1, Max61219), 
exec_layers([LDot80447,LThr21720,LRes45656,LRes10811,LMax61219],["Dot80447","Thr21720","Res45656","Res10811","Max61219"],Max61219,"Max61219")

Actual (Unparsed): [[[[0.0000000]]]]

Expected (Unparsed): [[[[0]]]]

Actual:   [[[[0]]]]

Expected: [[[[0]]]]