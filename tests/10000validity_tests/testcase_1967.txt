import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul86405 = tf.keras.layers.Input(shape=([1, 1]))
in1Mul86405 = tf.keras.layers.Input(shape=([1, 1]))
in0Con20603 = tf.keras.layers.Input(shape=([1, 2, 2]))
in0Con35782 = tf.keras.layers.Input(shape=([1, 2, 1]))

Mul86405 = keras.layers.Multiply(name = 'Mul86405', )([in0Mul86405,in1Mul86405])
Res87334 = keras.layers.Reshape((1, 1, 1), name = 'Res87334', )(Mul86405)
Zer16828 = keras.layers.ZeroPadding2D(padding=((0, 0), (1, 0)), name = 'Zer16828', )(Res87334)
Con20603 = keras.layers.Concatenate(axis=3, name = 'Con20603', )([Zer16828,in0Con20603])
Con35782 = keras.layers.Conv2D(3, (1, 1),strides=(1, 1), padding='valid', dilation_rate=(1, 1), name = 'Con35782', )(in0Con35782)
Max99716 = keras.layers.Maximum(name = 'Max99716', )([Con20603,Con35782])
model = tf.keras.models.Model(inputs=[in0Mul86405,in1Mul86405,in0Con20603,in0Con35782], outputs=Max99716)
w = model.get_layer('Con35782').get_weights() 
w[0] = np.array([[[[0.1865, 0.0881, 0.0752]]]])
w[1] = np.array([0, 0, 0])
model.get_layer('Con35782').set_weights(w) 
in0Mul86405 = tf.constant([[[0.7571]]])
in1Mul86405 = tf.constant([[[0.9821]]])
in0Con20603 = tf.constant([[[[0.2089, 0.3005], [0.9194, 0.8048]]]])
in0Con35782 = tf.constant([[[[0.9607], [0.327]]]])
print (np.array2string(model.predict([in0Mul86405,in1Mul86405,in0Con20603,in0Con35782],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max99716.png')

LMul86405 = multiply_layer([[[[0.7571]]], [[[0.9821]]]], Mul86405), 
LRes87334 = reshape_layer(Mul86405, [1, 1, 1], Res87334), 
LZer16828 = zero_padding2D_layer(Res87334, 0, 0, 1, 0, Zer16828), 
LCon20603 = concatenate_layer([Zer16828,[[[[0.2089, 0.3005], [0.9194, 0.8048]]]]], 3, Con20603), 
LCon35782 = conv2D_layer([[[[0.9607], [0.327]]]], 1, 1,[[[[0.1865, 0.0881, 0.0752]]]],[0, 0, 0], 1, 1, false, 1, 1, Con35782), 
LMax99716 = maximum_layer([Con20603,Con35782], Max99716), 
exec_layers([LMul86405,LRes87334,LZer16828,LCon20603,LCon35782,LMax99716],["Mul86405","Res87334","Zer16828","Con20603","Con35782","Max99716"],Max99716,"Max99716")

Actual (Unparsed): [[[[0.1791705, 0.2089000, 0.3005000], [0.7435479, 0.9194000, 0.8048000]]]]

Expected (Unparsed): [[[[0.17917055,0.2089,0.3005],[0.74354791,0.9194,0.8048]]]]

Actual:   [[[[0.1792, 0.2089, 0.3005], [0.7436, 0.9194, 0.8048]]]]

Expected: [[[[0.1792, 0.2089, 0.3005], [0.7436, 0.9194, 0.8048]]]]