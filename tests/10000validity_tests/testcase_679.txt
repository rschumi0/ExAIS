import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Up_28696 = tf.keras.layers.Input(shape=([3, 4, 4, 2]))

Up_28696 = keras.layers.UpSampling3D(size=(1, 2, 1), name = 'Up_28696', )(in0Up_28696)
Res24279 = keras.layers.Reshape((3, 8, 8), name = 'Res24279', )(Up_28696)
Cro50982 = keras.layers.Cropping2D(cropping=((1, 0), (6, 1)), name = 'Cro50982', )(Res24279)
Glo91763 = keras.layers.GlobalAveragePooling2D(name = 'Glo91763', )(Cro50982)
model = tf.keras.models.Model(inputs=[in0Up_28696], outputs=Glo91763)
in0Up_28696 = tf.constant([[[[[1.0774, 1.5389], [1.8238, 1.9629], [1.0983, 1.6351], [1.8673, 1.3156]], [[1.3911, 1.9848], [1.165, 1.239], [1.7055, 1.3719], [1.5985, 1.4799]], [[1.9191, 1.3518], [1.7254, 1.8897], [1.5323, 1.5783], [1.9818, 1.2021]], [[1.9696, 1.9872], [1.1659, 1.4036], [1.7033, 1.5334], [1.1225, 1.6459]]], [[[1.8762, 1.099], [1.5391, 1.0227], [1.6691, 1.264], [1.1586, 1.5631]], [[1.1298, 1.8634], [1.5167, 1.4749], [1.5629, 1.6423], [1.5189, 1.0155]], [[1.8637, 1.8625], [1.7866, 1.3629], [1.3732, 1.4184], [1.7225, 1.5129]], [[1.9296, 1.8714], [1.6721, 1.5399], [1.7956, 1.8296], [1.3918, 1.5218]]], [[[1.0534, 1.2643], [1.2714, 1.0539], [1.8762, 1.683], [1.4074, 1.5537]], [[1.8078, 1.5591], [1.6712, 1.4937], [1.812, 1.0545], [1.3795, 1.2894]], [[1.3921, 1.8697], [1.0326, 1.8182], [1.5185, 1.9996], [1.8618, 1.446]], [[1.4553, 1.2866], [1.6013, 1.0006], [1.8303, 1.9202], [1.9831, 1.3441]]]]])
print (np.array2string(model.predict([in0Up_28696],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo91763.png')

LUp_28696 = up_sampling3D_layer([[[[[1.0774, 1.5389], [1.8238, 1.9629], [1.0983, 1.6351], [1.8673, 1.3156]], [[1.3911, 1.9848], [1.165, 1.239], [1.7055, 1.3719], [1.5985, 1.4799]], [[1.9191, 1.3518], [1.7254, 1.8897], [1.5323, 1.5783], [1.9818, 1.2021]], [[1.9696, 1.9872], [1.1659, 1.4036], [1.7033, 1.5334], [1.1225, 1.6459]]], [[[1.8762, 1.099], [1.5391, 1.0227], [1.6691, 1.264], [1.1586, 1.5631]], [[1.1298, 1.8634], [1.5167, 1.4749], [1.5629, 1.6423], [1.5189, 1.0155]], [[1.8637, 1.8625], [1.7866, 1.3629], [1.3732, 1.4184], [1.7225, 1.5129]], [[1.9296, 1.8714], [1.6721, 1.5399], [1.7956, 1.8296], [1.3918, 1.5218]]], [[[1.0534, 1.2643], [1.2714, 1.0539], [1.8762, 1.683], [1.4074, 1.5537]], [[1.8078, 1.5591], [1.6712, 1.4937], [1.812, 1.0545], [1.3795, 1.2894]], [[1.3921, 1.8697], [1.0326, 1.8182], [1.5185, 1.9996], [1.8618, 1.446]], [[1.4553, 1.2866], [1.6013, 1.0006], [1.8303, 1.9202], [1.9831, 1.3441]]]]], 1, 2, 1, Up_28696), 
LRes24279 = reshape_layer(Up_28696, [3, 8, 8], Res24279), 
LCro50982 = cropping2D_layer(Res24279, 1, 0, 6, 1, Cro50982), 
LGlo91763 = global_average_pooling2D_layer(Cro50982, Glo91763), 
exec_layers([LUp_28696,LRes24279,LCro50982,LGlo91763],["Up_28696","Res24279","Cro50982","Glo91763"],Glo91763,"Glo91763")

Actual (Unparsed): [[1.6924500, 1.5790000, 1.6367000, 1.2702500, 1.8129500, 1.8749000, 1.6874501, 1.4329500]]

Expected (Unparsed): [[1.69245,1.579,1.6366999999999998,1.2702499999999999,1.81295,1.8748999999999998,1.6874500000000001,1.43295]]

Actual:   [[1.6925, 1.579, 1.6367, 1.2703, 1.813, 1.8749, 1.6875, 1.433]]

Expected: [[1.6925, 1.579, 1.6367, 1.2703, 1.813, 1.8749, 1.6875, 1.433]]