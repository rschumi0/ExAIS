import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub68542 = tf.keras.layers.Input(shape=([3, 2, 2, 2]))
in1Sub68542 = tf.keras.layers.Input(shape=([3, 2, 2, 2]))

Sub68542 = keras.layers.Subtract(name = 'Sub68542', )([in0Sub68542,in1Sub68542])
Con28105 = keras.layers.Conv3D(2, (1, 2, 1),strides=(1, 2, 1), padding='same', dilation_rate=(1, 1, 1), name = 'Con28105', )(Sub68542)
model = tf.keras.models.Model(inputs=[in0Sub68542,in1Sub68542], outputs=Con28105)
w = model.get_layer('Con28105').get_weights() 
w[0] = np.array([[[[[0.7838, 0.0731], [0.3229, 0.639]]], [[[0.3855, 0.5646], [0.8415, 0.14]]]]])
w[1] = np.array([0, 0])
model.get_layer('Con28105').set_weights(w) 
in0Sub68542 = tf.constant([[[[[0.8691, 0.4375], [0.0863, 0.8518]], [[0.38, 0.5369], [0.1832, 0.0358]]], [[[0.8208, 0.7956], [0.7306, 0.0992]], [[0.3789, 0.6675], [0.2631, 0.927]]], [[[0.4079, 0.2503], [0.0256, 0.3964]], [[0.869, 0.2127], [0.1539, 0.9131]]]]])
in1Sub68542 = tf.constant([[[[[0.3824, 0.7675], [0.6431, 0.3458]], [[0.9013, 0.9506], [0.87, 0.0826]]], [[[0.4747, 0.6543], [0.9077, 0.7573]], [[0.3001, 0.5675], [0.118, 0.0437]]], [[[0.287, 0.4247], [0.5432, 0.8001]], [[0.6447, 0.737], [0.4298, 0.7636]]]]])
print (np.array2string(model.predict([in0Sub68542,in1Sub68542],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Con28105.png')

LSub68542 = subtract_layer([[[[[0.8691, 0.4375], [0.0863, 0.8518]], [[0.38, 0.5369], [0.1832, 0.0358]]], [[[0.8208, 0.7956], [0.7306, 0.0992]], [[0.3789, 0.6675], [0.2631, 0.927]]], [[[0.4079, 0.2503], [0.0256, 0.3964]], [[0.869, 0.2127], [0.1539, 0.9131]]]]], [[[[[0.3824, 0.7675], [0.6431, 0.3458]], [[0.9013, 0.9506], [0.87, 0.0826]]], [[[0.4747, 0.6543], [0.9077, 0.7573]], [[0.3001, 0.5675], [0.118, 0.0437]]], [[[0.287, 0.4247], [0.5432, 0.8001]], [[0.6447, 0.737], [0.4298, 0.7636]]]]], Sub68542), 
LCon28105 = conv3D_layer(Sub68542, 1, 2, 1,[[[[[0.7838, 0.0731], [0.3229, 0.639]]], [[[0.3855, 0.5646], [0.8415, 0.14]]]]],[0, 0], 1, 2, 1, true, 1, 1, 1, Con28105), 
exec_layers([LSub68542,LCon28105],["Sub68542","Con28105"],Con28105,"Con28105")

Actual (Unparsed): [[[[[-0.2741713, -0.5275362], [-0.5771761, -0.1116874]]], [[[0.4314264, 0.1740811], [0.4479215, -0.2278865]]], [[[-0.3162831, -0.0493660], [-0.5166048, -0.4306440]]]]]

Expected (Unparsed): [[[[[-0.27417124,-0.52753621],[-0.57717604,-0.11168735999999996]]],[[[0.43142635,0.17408109],[0.4479215300000001,-0.22788645]]],[[[-0.31628314,-0.04936603000000002],[-0.51660481,-0.430644]]]]]

Actual:   [[[[[-0.2741, -0.5275], [-0.5771, -0.1116]]], [[[0.4315, 0.1741], [0.448, -0.2278]]], [[[-0.3162, -0.0493], [-0.5166, -0.4306]]]]]

Expected: [[[[[-0.2741, -0.5275], [-0.5771, -0.1116]]], [[[0.4315, 0.1741], [0.448, -0.2278]]], [[[-0.3162, -0.0493], [-0.5166, -0.4306]]]]]