import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub13491 = tf.keras.layers.Input(shape=([2, 2, 3]))
in1Sub13491 = tf.keras.layers.Input(shape=([2, 2, 3]))

Sub13491 = keras.layers.Subtract(name = 'Sub13491', )([in0Sub13491,in1Sub13491])
ReL24673 = keras.layers.ReLU(max_value=1.4713657275985448, negative_slope=2.104953674381668, threshold=9.773329080469832, name = 'ReL24673', )(Sub13491)
Res85173 = keras.layers.Reshape((2, 2, 3, 1), name = 'Res85173', )(ReL24673)
Glo13722 = keras.layers.GlobalAveragePooling3D(name = 'Glo13722', )(Res85173)
model = tf.keras.models.Model(inputs=[in0Sub13491,in1Sub13491], outputs=Glo13722)
in0Sub13491 = tf.constant([[[[0.0307, 0.8338, 0.4969], [0.9945, 0.9858, 0.7672]], [[0.8355, 0.961, 0.733], [0.1617, 0.3844, 0.1736]]]])
in1Sub13491 = tf.constant([[[[0.2816, 0.7248, 0.6439], [0.4439, 0.2144, 0.3124]], [[0.3172, 0.5472, 0.4675], [0.8232, 0.9575, 0.7691]]]])
print (np.array2string(model.predict([in0Sub13491,in1Sub13491],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo13722.png')

LSub13491 = subtract_layer([[[[0.0307, 0.8338, 0.4969], [0.9945, 0.9858, 0.7672]], [[0.8355, 0.961, 0.733], [0.1617, 0.3844, 0.1736]]]], [[[[0.2816, 0.7248, 0.6439], [0.4439, 0.2144, 0.3124]], [[0.3172, 0.5472, 0.4675], [0.8232, 0.9575, 0.7691]]]], Sub13491), 
LReL24673 = relu_layer(Sub13491, 1.4713657275985448, 2.104953674381668, 9.773329080469832, ReL24673), 
LRes85173 = reshape_layer(ReL24673, [2, 2, 3, 1], Res85173), 
LGlo13722 = global_average_pooling3D_layer(Res85173, Glo13722), 
exec_layers([LSub13491,LReL24673,LRes85173,LGlo13722],["Sub13491","ReL24673","Res85173","Glo13722"],Glo13722,"Glo13722")

Actual (Unparsed): [[-20.4223568]]

Expected (Unparsed): [[-20.422356844454004]]

Actual:   [[-20.4223]]

Expected: [[-20.4223]]