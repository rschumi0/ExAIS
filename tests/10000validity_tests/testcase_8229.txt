import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Cro67539 = tf.keras.layers.Input(shape=([2, 1, 2]))
in0Con87414 = tf.keras.layers.Input(shape=([4, 11, 2]))
in0Up_14248 = tf.keras.layers.Input(shape=([3, 3, 4]))
in0Min89167 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))
in1Min89167 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))

Cro67539 = keras.layers.Cropping2D(cropping=((0, 0), (0, 0)), name = 'Cro67539', )(in0Cro67539)
Zer54511 = keras.layers.ZeroPadding2D(padding=((1, 1), (1, 1)), name = 'Zer54511', )(Cro67539)
Max15492 = keras.layers.MaxPool2D(pool_size=(1, 2), name = 'Max15492', )(Zer54511)
Zer37923 = keras.layers.ZeroPadding2D(padding=((0, 0), (10, 0)), name = 'Zer37923', )(Max15492)
Con87414 = keras.layers.Concatenate(axis=3, name = 'Con87414', )([Zer37923,in0Con87414])
Up_14248 = keras.layers.UpSampling2D(size=(1, 2), name = 'Up_14248', )(in0Up_14248)
Zer57595 = keras.layers.ZeroPadding2D(padding=((1, 0), (5, 0)), name = 'Zer57595', )(Up_14248)
Max31031 = keras.layers.Maximum(name = 'Max31031', )([Con87414,Zer57595])
Res29253 = keras.layers.Reshape((4, 11, 4, 1), name = 'Res29253', )(Max31031)
Min89167 = keras.layers.Minimum(name = 'Min89167', )([in0Min89167,in1Min89167])
Zer24241 = keras.layers.ZeroPadding3D(padding=((2, 0), (10, 0), (3, 0)), name = 'Zer24241', )(Min89167)
Sub32192 = keras.layers.Subtract(name = 'Sub32192', )([Res29253,Zer24241])
model = tf.keras.models.Model(inputs=[in0Cro67539,in0Con87414,in0Up_14248,in0Min89167,in1Min89167], outputs=Sub32192)
in0Cro67539 = tf.constant([[[[1.5559, 1.6356]], [[1.3382, 1.3952]]]])
in0Con87414 = tf.constant([[[[0.2352, 0.4611], [0.0436, 0.9357], [0.3636, 0.5134], [0.919, 0.4684], [0.892, 0.2853], [0.8536, 0.8562], [0.9675, 0.7978], [0.7388, 0.0686], [0.3731, 0.8819], [0.1381, 0.2942], [0.4071, 0.0654]], [[0.9613, 0.5831], [0.8458, 0.1103], [0.5506, 0.031], [0.5014, 0.4591], [0.0287, 0.7482], [0.8856, 0.4483], [0.5269, 0.8474], [0.2725, 0.7841], [0.9559, 0.2122], [0.0165, 0.4387], [0.3158, 0.8592]], [[0.3279, 0.8218], [0.1473, 0.2984], [0.8327, 0.8102], [0.6219, 0.4105], [0.1522, 0.9766], [0.9382, 0.0131], [0.424, 0.1495], [0.1483, 0.4644], [0.1592, 0.2564], [0.2715, 0.368], [0.0776, 0.2554]], [[0.5715, 0.6849], [0.5993, 0.8446], [0.1682, 0.3313], [0.4792, 0.5529], [0.7366, 0.6496], [0.6719, 0.7634], [0.9047, 0.9747], [0.8851, 0.1958], [0.105, 0.8853], [0.4392, 0.3858], [0.0539, 0.6331]]]])
in0Up_14248 = tf.constant([[[[1.549, 1.7992, 1.1935, 1.3628], [1.6874, 1.3014, 1.6208, 1.7727], [1.8507, 1.6711, 1.0397, 1.6075]], [[1.2314, 1.4045, 1.5137, 1.3073], [1.4419, 1.2163, 1.4318, 1.3419], [1.3664, 1.4937, 1.8629, 1.6521]], [[1.9873, 1.9122, 1.2712, 1.4081], [1.0633, 1.4433, 1.006, 1.0188], [1.5847, 1.9251, 1.6103, 1.9578]]]])
in0Min89167 = tf.constant([[[[[0.394]]], [[[0.9528]]]]])
in1Min89167 = tf.constant([[[[[0.5279]]], [[[0.7724]]]]])
print (np.array2string(model.predict([in0Cro67539,in0Con87414,in0Up_14248,in0Min89167,in1Min89167],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sub32192.png')

LCro67539 = cropping2D_layer([[[[1.5559, 1.6356]], [[1.3382, 1.3952]]]], 0, 0, 0, 0, Cro67539), 
LZer54511 = zero_padding2D_layer(Cro67539, 1, 1, 1, 1, Zer54511), 
LMax15492 = max_pool2D_layer(Zer54511, 1, 2, Max15492), 
LZer37923 = zero_padding2D_layer(Max15492, 0, 0, 10, 0, Zer37923), 
LCon87414 = concatenate_layer([Zer37923,[[[[0.2352, 0.4611], [0.0436, 0.9357], [0.3636, 0.5134], [0.919, 0.4684], [0.892, 0.2853], [0.8536, 0.8562], [0.9675, 0.7978], [0.7388, 0.0686], [0.3731, 0.8819], [0.1381, 0.2942], [0.4071, 0.0654]], [[0.9613, 0.5831], [0.8458, 0.1103], [0.5506, 0.031], [0.5014, 0.4591], [0.0287, 0.7482], [0.8856, 0.4483], [0.5269, 0.8474], [0.2725, 0.7841], [0.9559, 0.2122], [0.0165, 0.4387], [0.3158, 0.8592]], [[0.3279, 0.8218], [0.1473, 0.2984], [0.8327, 0.8102], [0.6219, 0.4105], [0.1522, 0.9766], [0.9382, 0.0131], [0.424, 0.1495], [0.1483, 0.4644], [0.1592, 0.2564], [0.2715, 0.368], [0.0776, 0.2554]], [[0.5715, 0.6849], [0.5993, 0.8446], [0.1682, 0.3313], [0.4792, 0.5529], [0.7366, 0.6496], [0.6719, 0.7634], [0.9047, 0.9747], [0.8851, 0.1958], [0.105, 0.8853], [0.4392, 0.3858], [0.0539, 0.6331]]]]], 3, Con87414), 
LUp_14248 = up_sampling2D_layer([[[[1.549, 1.7992, 1.1935, 1.3628], [1.6874, 1.3014, 1.6208, 1.7727], [1.8507, 1.6711, 1.0397, 1.6075]], [[1.2314, 1.4045, 1.5137, 1.3073], [1.4419, 1.2163, 1.4318, 1.3419], [1.3664, 1.4937, 1.8629, 1.6521]], [[1.9873, 1.9122, 1.2712, 1.4081], [1.0633, 1.4433, 1.006, 1.0188], [1.5847, 1.9251, 1.6103, 1.9578]]]], 1, 2, Up_14248), 
LZer57595 = zero_padding2D_layer(Up_14248, 1, 0, 5, 0, Zer57595), 
LMax31031 = maximum_layer([Con87414,Zer57595], Max31031), 
LRes29253 = reshape_layer(Max31031, [4, 11, 4, 1], Res29253), 
LMin89167 = minimum_layer([[[[[[0.394]]], [[[0.9528]]]]], [[[[[0.5279]]], [[[0.7724]]]]]], Min89167), 
LZer24241 = zero_padding3D_layer(Min89167, 2, 0, 10, 0, 3, 0, Zer24241), 
LSub32192 = subtract_layer(Res29253,Zer24241, Sub32192), 
exec_layers([LCro67539,LZer54511,LMax15492,LZer37923,LCon87414,LUp_14248,LZer57595,LMax31031,LRes29253,LMin89167,LZer24241,LSub32192],["Cro67539","Zer54511","Max15492","Zer37923","Con87414","Up_14248","Zer57595","Max31031","Res29253","Min89167","Zer24241","Sub32192"],Sub32192,"Sub32192")

Actual (Unparsed): [[[[[0.0000000], [0.0000000], [0.2352000], [0.4611000]], [[0.0000000], [0.0000000], [0.0436000], [0.9357000]], [[0.0000000], [0.0000000], [0.3636000], [0.5134000]], [[0.0000000], [0.0000000], [0.9190000], [0.4684000]], [[0.0000000], [0.0000000], [0.8920000], [0.2853000]], [[0.0000000], [0.0000000], [0.8536000], [0.8562000]], [[0.0000000], [0.0000000], [0.9675000], [0.7978000]], [[0.0000000], [0.0000000], [0.7388000], [0.0686000]], [[0.0000000], [0.0000000], [0.3731000], [0.8819000]], [[0.0000000], [0.0000000], [0.1381000], [0.2942000]], [[0.0000000], [0.0000000], [0.4071000], [0.0654000]]], [[[0.0000000], [0.0000000], [0.9613000], [0.5831000]], [[0.0000000], [0.0000000], [0.8458000], [0.1103000]], [[0.0000000], [0.0000000], [0.5506000], [0.0310000]], [[0.0000000], [0.0000000], [0.5014000], [0.4591000]], [[0.0000000], [0.0000000], [0.0287000], [0.7482000]], [[1.5490000], [1.7992001], [1.1935000], [1.3628000]], [[1.5490000], [1.7992001], [1.1935000], [1.3628000]], [[1.6874000], [1.3013999], [1.6208000], [1.7727000]], [[1.6874000], [1.3013999], [1.6208000], [1.7727000]], [[1.8507000], [1.6711000], [1.0397000], [1.6075000]], [[1.8507000], [1.6711000], [1.0397000], [1.6075000]]], [[[0.0000000], [0.0000000], [0.3279000], [0.8218000]], [[0.0000000], [0.0000000], [0.1473000], [0.2984000]], [[0.0000000], [0.0000000], [0.8327000], [0.8102000]], [[0.0000000], [0.0000000], [0.6219000], [0.4105000]], [[0.0000000], [0.0000000], [0.1522000], [0.9766000]], [[1.2314000], [1.4045000], [1.5137000], [1.3073000]], [[1.2314000], [1.4045000], [1.5137000], [1.3073000]], [[1.4419000], [1.2163000], [1.4318000], [1.3419000]], [[1.4419000], [1.2163000], [1.4318000], [1.3419000]], [[1.3664000], [1.4937000], [1.8629000], [1.6521000]], [[1.3664000], [1.4937000], [1.8629000], [1.2581000]]], [[[0.0000000], [0.0000000], [0.5715000], [0.6849000]], [[0.0000000], [0.0000000], [0.5993000], [0.8446000]], [[0.0000000], [0.0000000], [0.1682000], [0.3313000]], [[0.0000000], [0.0000000], [0.4792000], [0.5529000]], [[0.0000000], [0.0000000], [0.7366000], [0.6496000]], [[1.9873000], [1.9122000], [1.2711999], [1.4081000]], [[1.9873000], [1.9122000], [1.2711999], [1.4081000]], [[1.0633000], [1.4433000], [1.0060000], [1.0188000]], [[1.0633000], [1.4433000], [1.0060000], [1.0188000]], [[1.5847000], [1.9251000], [1.6102999], [1.9578000]], [[1.5847000], [1.9251000], [1.6102999], [1.1854000]]]]]

Expected (Unparsed): [[[[[0],[0],[0.2352],[0.4611]],[[0],[0],[0.0436],[0.9357]],[[0],[0],[0.3636],[0.5134]],[[0],[0],[0.919],[0.4684]],[[0],[0],[0.892],[0.2853]],[[0],[0],[0.8536],[0.8562]],[[0],[0],[0.9675],[0.7978]],[[0],[0],[0.7388],[0.0686]],[[0],[0],[0.3731],[0.8819]],[[0],[0],[0.1381],[0.2942]],[[0],[0],[0.4071],[0.0654]]],[[[0],[0],[0.9613],[0.5831]],[[0],[0],[0.8458],[0.1103]],[[0],[0],[0.5506],[0.031]],[[0],[0],[0.5014],[0.4591]],[[0],[0],[0.0287],[0.7482]],[[1.549],[1.7992],[1.1935],[1.3628]],[[1.549],[1.7992],[1.1935],[1.3628]],[[1.6874],[1.3014],[1.6208],[1.7727]],[[1.6874],[1.3014],[1.6208],[1.7727]],[[1.8507],[1.6711],[1.0397],[1.6075]],[[1.8507],[1.6711],[1.0397],[1.6075]]],[[[0],[0],[0.3279],[0.8218]],[[0],[0],[0.1473],[0.2984]],[[0],[0],[0.8327],[0.8102]],[[0],[0],[0.6219],[0.4105]],[[0],[0],[0.1522],[0.9766]],[[1.2314],[1.4045],[1.5137],[1.3073]],[[1.2314],[1.4045],[1.5137],[1.3073]],[[1.4419],[1.2163],[1.4318],[1.3419]],[[1.4419],[1.2163],[1.4318],[1.3419]],[[1.3664],[1.4937],[1.8629],[1.6521]],[[1.3664],[1.4937],[1.8629],[1.2580999999999998]]],[[[0],[0],[0.5715],[0.6849]],[[0],[0],[0.5993],[0.8446]],[[0],[0],[0.1682],[0.3313]],[[0],[0],[0.4792],[0.5529]],[[0],[0],[0.7366],[0.6496]],[[1.9873],[1.9122],[1.2712],[1.4081]],[[1.9873],[1.9122],[1.2712],[1.4081]],[[1.0633],[1.4433],[1.006],[1.0188]],[[1.0633],[1.4433],[1.006],[1.0188]],[[1.5847],[1.9251],[1.6103],[1.9578]],[[1.5847],[1.9251],[1.6103],[1.1854]]]]]

Actual:   [[[[[0], [0], [0.2352], [0.4611]], [[0], [0], [0.0436], [0.9357]], [[0], [0], [0.3636], [0.5134]], [[0], [0], [0.919], [0.4684]], [[0], [0], [0.892], [0.2853]], [[0], [0], [0.8536], [0.8562]], [[0], [0], [0.9675], [0.7978]], [[0], [0], [0.7388], [0.0686]], [[0], [0], [0.3731], [0.8819]], [[0], [0], [0.1381], [0.2942]], [[0], [0], [0.4071], [0.0654]]], [[[0], [0], [0.9613], [0.5831]], [[0], [0], [0.8458], [0.1103]], [[0], [0], [0.5506], [0.031]], [[0], [0], [0.5014], [0.4591]], [[0], [0], [0.0287], [0.7482]], [[1.549], [1.7993], [1.1935], [1.3628]], [[1.549], [1.7993], [1.1935], [1.3628]], [[1.6874], [1.3014], [1.6208], [1.7727]], [[1.6874], [1.3014], [1.6208], [1.7727]], [[1.8507], [1.6711], [1.0397], [1.6075]], [[1.8507], [1.6711], [1.0397], [1.6075]]], [[[0], [0], [0.3279], [0.8218]], [[0], [0], [0.1473], [0.2984]], [[0], [0], [0.8327], [0.8102]], [[0], [0], [0.6219], [0.4105]], [[0], [0], [0.1522], [0.9766]], [[1.2314], [1.4045], [1.5137], [1.3073]], [[1.2314], [1.4045], [1.5137], [1.3073]], [[1.4419], [1.2163], [1.4318], [1.3419]], [[1.4419], [1.2163], [1.4318], [1.3419]], [[1.3664], [1.4937], [1.8629], [1.6521]], [[1.3664], [1.4937], [1.8629], [1.2581]]], [[[0], [0], [0.5715], [0.6849]], [[0], [0], [0.5993], [0.8446]], [[0], [0], [0.1682], [0.3313]], [[0], [0], [0.4792], [0.5529]], [[0], [0], [0.7366], [0.6496]], [[1.9873], [1.9122], [1.2712], [1.4081]], [[1.9873], [1.9122], [1.2712], [1.4081]], [[1.0633], [1.4433], [1.006], [1.0188]], [[1.0633], [1.4433], [1.006], [1.0188]], [[1.5847], [1.9251], [1.6103], [1.9578]], [[1.5847], [1.9251], [1.6103], [1.1854]]]]]

Expected: [[[[[0], [0], [0.2352], [0.4611]], [[0], [0], [0.0436], [0.9357]], [[0], [0], [0.3636], [0.5134]], [[0], [0], [0.919], [0.4684]], [[0], [0], [0.892], [0.2853]], [[0], [0], [0.8536], [0.8562]], [[0], [0], [0.9675], [0.7978]], [[0], [0], [0.7388], [0.0686]], [[0], [0], [0.3731], [0.8819]], [[0], [0], [0.1381], [0.2942]], [[0], [0], [0.4071], [0.0654]]], [[[0], [0], [0.9613], [0.5831]], [[0], [0], [0.8458], [0.1103]], [[0], [0], [0.5506], [0.031]], [[0], [0], [0.5014], [0.4591]], [[0], [0], [0.0287], [0.7482]], [[1.549], [1.7992], [1.1935], [1.3628]], [[1.549], [1.7992], [1.1935], [1.3628]], [[1.6874], [1.3014], [1.6208], [1.7727]], [[1.6874], [1.3014], [1.6208], [1.7727]], [[1.8507], [1.6711], [1.0397], [1.6075]], [[1.8507], [1.6711], [1.0397], [1.6075]]], [[[0], [0], [0.3279], [0.8218]], [[0], [0], [0.1473], [0.2984]], [[0], [0], [0.8327], [0.8102]], [[0], [0], [0.6219], [0.4105]], [[0], [0], [0.1522], [0.9766]], [[1.2314], [1.4045], [1.5137], [1.3073]], [[1.2314], [1.4045], [1.5137], [1.3073]], [[1.4419], [1.2163], [1.4318], [1.3419]], [[1.4419], [1.2163], [1.4318], [1.3419]], [[1.3664], [1.4937], [1.8629], [1.6521]], [[1.3664], [1.4937], [1.8629], [1.2581]]], [[[0], [0], [0.5715], [0.6849]], [[0], [0], [0.5993], [0.8446]], [[0], [0], [0.1682], [0.3313]], [[0], [0], [0.4792], [0.5529]], [[0], [0], [0.7366], [0.6496]], [[1.9873], [1.9122], [1.2712], [1.4081]], [[1.9873], [1.9122], [1.2712], [1.4081]], [[1.0633], [1.4433], [1.006], [1.0188]], [[1.0633], [1.4433], [1.006], [1.0188]], [[1.5847], [1.9251], [1.6103], [1.9578]], [[1.5847], [1.9251], [1.6103], [1.1854]]]]]