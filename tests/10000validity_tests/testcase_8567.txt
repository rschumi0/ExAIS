import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max26264 = tf.keras.layers.Input(shape=([1, 2, 1, 1]))
in1Max26264 = tf.keras.layers.Input(shape=([1, 2, 1, 1]))
in0Min96027 = tf.keras.layers.Input(shape=([2, 1]))
in1Min96027 = tf.keras.layers.Input(shape=([2, 1]))
in0Con35989 = tf.keras.layers.Input(shape=([2, 1]))

Max26264 = keras.layers.Maximum(name = 'Max26264', )([in0Max26264,in1Max26264])
Res13065 = keras.layers.Reshape((1, 2, 1), name = 'Res13065', )(Max26264)
Res68453 = keras.layers.Reshape((1, 2), name = 'Res68453', )(Res13065)
Zer9614 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer9614', )(Res68453)
Min96027 = keras.layers.Minimum(name = 'Min96027', )([in0Min96027,in1Min96027])
Con35989 = keras.layers.Concatenate(axis=2, name = 'Con35989', )([Min96027,in0Con35989])
Add67741 = keras.layers.Add(name = 'Add67741', )([Zer9614,Con35989])
Ave67089 = keras.layers.AveragePooling1D(pool_size=(2), strides=(1), padding='valid', name = 'Ave67089', )(Add67741)
model = tf.keras.models.Model(inputs=[in0Max26264,in1Max26264,in0Min96027,in1Min96027,in0Con35989], outputs=Ave67089)
in0Max26264 = tf.constant([[[[[0.5394]], [[0.1765]]]]])
in1Max26264 = tf.constant([[[[[0.3644]], [[0.2654]]]]])
in0Min96027 = tf.constant([[[0.4732], [0.5846]]])
in1Min96027 = tf.constant([[[0.6433], [0.0938]]])
in0Con35989 = tf.constant([[[0.9666], [0.7243]]])
print (np.array2string(model.predict([in0Max26264,in1Max26264,in0Min96027,in1Min96027,in0Con35989],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Ave67089.png')

LMax26264 = maximum_layer([[[[[[0.5394]], [[0.1765]]]]], [[[[[0.3644]], [[0.2654]]]]]], Max26264), 
LRes13065 = reshape_layer(Max26264, [1, 2, 1], Res13065), 
LRes68453 = reshape_layer(Res13065, [1, 2], Res68453), 
LZer9614 = zero_padding1D_layer(Res68453, 1, 0, Zer9614), 
LMin96027 = minimum_layer([[[[0.4732], [0.5846]]], [[[0.6433], [0.0938]]]], Min96027), 
LCon35989 = concatenate_layer([Min96027,[[[0.9666], [0.7243]]]], 2, Con35989), 
LAdd67741 = add_layer([Zer9614,Con35989], Add67741), 
LAve67089 = average_pooling1D_layer(Add67741, 2, 1, false, Ave67089), 
exec_layers([LMax26264,LRes13065,LRes68453,LZer9614,LMin96027,LCon35989,LAdd67741,LAve67089],["Max26264","Res13065","Res68453","Zer9614","Min96027","Con35989","Add67741","Ave67089"],Ave67089,"Ave67089")

Actual (Unparsed): [[[0.5532000, 0.9781500]]]

Expected (Unparsed): [[[0.5532,0.9781500000000001]]]

Actual:   [[[0.5532, 0.9782]]]

Expected: [[[0.5532, 0.9782]]]