import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max58652 = tf.keras.layers.Input(shape=([2, 2, 1, 2]))
in1Max58652 = tf.keras.layers.Input(shape=([2, 2, 1, 2]))

Max58652 = keras.layers.Maximum(name = 'Max58652', )([in0Max58652,in1Max58652])
Res5235 = keras.layers.Reshape((2, 2, 2), name = 'Res5235', )(Max58652)
Res88832 = keras.layers.Reshape((2, 4), name = 'Res88832', )(Res5235)
Glo31621 = keras.layers.GlobalAveragePooling1D(name = 'Glo31621', )(Res88832)
model = tf.keras.models.Model(inputs=[in0Max58652,in1Max58652], outputs=Glo31621)
in0Max58652 = tf.constant([[[[[0.0356, 0.4367]], [[0.6893, 0.7163]]], [[[0.3493, 0.0464]], [[0.907, 0.1479]]]]])
in1Max58652 = tf.constant([[[[[0.8948, 0.0307]], [[0.3606, 0.8779]]], [[[0.2375, 0.2791]], [[0.8911, 0.7575]]]]])
print (np.array2string(model.predict([in0Max58652,in1Max58652],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo31621.png')

LMax58652 = maximum_layer([[[[[[0.0356, 0.4367]], [[0.6893, 0.7163]]], [[[0.3493, 0.0464]], [[0.907, 0.1479]]]]], [[[[[0.8948, 0.0307]], [[0.3606, 0.8779]]], [[[0.2375, 0.2791]], [[0.8911, 0.7575]]]]]], Max58652), 
LRes5235 = reshape_layer(Max58652, [2, 2, 2], Res5235), 
LRes88832 = reshape_layer(Res5235, [2, 4], Res88832), 
LGlo31621 = global_average_pooling1D_layer(Res88832, Glo31621), 
exec_layers([LMax58652,LRes5235,LRes88832,LGlo31621],["Max58652","Res5235","Res88832","Glo31621"],Glo31621,"Glo31621")

Actual (Unparsed): [[0.6220500, 0.3579000, 0.7981500, 0.8177000]]

Expected (Unparsed): [[0.62205,0.3579,0.79815,0.8177]]

Actual:   [[0.6221, 0.3579, 0.7982, 0.8177]]

Expected: [[0.6221, 0.3579, 0.7982, 0.8177]]