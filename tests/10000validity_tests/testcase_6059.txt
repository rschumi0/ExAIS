import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo19673 = tf.keras.layers.Input(shape=([1, 2, 2, 2]))

Glo19673 = keras.layers.GlobalMaxPool3D(name = 'Glo19673', )(in0Glo19673)
Res96095 = keras.layers.Reshape((2, 1), name = 'Res96095', )(Glo19673)
Res17961 = keras.layers.Reshape((2, 1, 1), name = 'Res17961', )(Res96095)
Glo98792 = keras.layers.GlobalAveragePooling2D(name = 'Glo98792', )(Res17961)
model = tf.keras.models.Model(inputs=[in0Glo19673], outputs=Glo98792)
in0Glo19673 = tf.constant([[[[[1.0087, 1.741], [1.3037, 1.5744]], [[1.0718, 1.1912], [1.7777, 1.6216]]]]])
print (np.array2string(model.predict([in0Glo19673],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo98792.png')

LGlo19673 = global_max_pool3D_layer([[[[[1.0087, 1.741], [1.3037, 1.5744]], [[1.0718, 1.1912], [1.7777, 1.6216]]]]], Glo19673), 
LRes96095 = reshape_layer(Glo19673, [2, 1], Res96095), 
LRes17961 = reshape_layer(Res96095, [2, 1, 1], Res17961), 
LGlo98792 = global_average_pooling2D_layer(Res17961, Glo98792), 
exec_layers([LGlo19673,LRes96095,LRes17961,LGlo98792],["Glo19673","Res96095","Res17961","Glo98792"],Glo98792,"Glo98792")

Actual (Unparsed): [[1.7593500]]

Expected (Unparsed): [[1.75935]]

Actual:   [[1.7594]]

Expected: [[1.7594]]