import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo20528 = tf.keras.layers.Input(shape=([2, 2, 2, 1]))

Glo20528 = keras.layers.GlobalAveragePooling3D(name = 'Glo20528', )(in0Glo20528)
Res16424 = keras.layers.Reshape((1, 1), name = 'Res16424', )(Glo20528)
Cro3072 = keras.layers.Cropping1D(cropping=((0, 0)), name = 'Cro3072', )(Res16424)
Res742 = keras.layers.Reshape((1, 1, 1), name = 'Res742', )(Cro3072)
Res9861 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res9861', )(Res742)
Con57770 = keras.layers.Conv3D(3, (1, 1, 1),strides=(1, 1, 8), padding='valid', dilation_rate=(1, 1, 1), name = 'Con57770', )(Res9861)
model = tf.keras.models.Model(inputs=[in0Glo20528], outputs=Con57770)
w = model.get_layer('Con57770').get_weights() 
w[0] = np.array([[[[[0.8725, 0.5855, 0.7563]]]]])
w[1] = np.array([0, 0, 0])
model.get_layer('Con57770').set_weights(w) 
in0Glo20528 = tf.constant([[[[[1.0816], [1.1766]], [[1.6872], [1.6294]]], [[[1.189], [1.7365]], [[1.1319], [1.4357]]]]])
print (np.array2string(model.predict([in0Glo20528],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Con57770.png')

LGlo20528 = global_average_pooling3D_layer([[[[[1.0816], [1.1766]], [[1.6872], [1.6294]]], [[[1.189], [1.7365]], [[1.1319], [1.4357]]]]], Glo20528), 
LRes16424 = reshape_layer(Glo20528, [1, 1], Res16424), 
LCro3072 = cropping1D_layer(Res16424, 0, 0, Cro3072), 
LRes742 = reshape_layer(Cro3072, [1, 1, 1], Res742), 
LRes9861 = reshape_layer(Res742, [1, 1, 1, 1], Res9861), 
LCon57770 = conv3D_layer(Res9861, 1, 1, 1,[[[[[0.8725, 0.5855, 0.7563]]]]],[0, 0, 0], 1, 1, 8, false, 1, 1, 1, Con57770), 
exec_layers([LGlo20528,LRes16424,LCro3072,LRes742,LRes9861,LCon57770],["Glo20528","Res16424","Cro3072","Res742","Res9861","Con57770"],Con57770,"Con57770")

Actual (Unparsed): [[[[[1.2070928, 0.8100319, 1.0463316]]]]]

Expected (Unparsed): [[[[[1.2070928437500001,0.8100319312500001,1.04633159625]]]]]

Actual:   [[[[[1.2071, 0.8101, 1.0464]]]]]

Expected: [[[[[1.2071, 0.8101, 1.0464]]]]]