import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add2047 = tf.keras.layers.Input(shape=([1, 2]))
in1Add2047 = tf.keras.layers.Input(shape=([1, 2]))
in0Up_6416 = tf.keras.layers.Input(shape=([2, 3]))

Add2047 = keras.layers.Add(name = 'Add2047', )([in0Add2047,in1Add2047])
Up_6416 = keras.layers.UpSampling1D(size=(2), name = 'Up_6416', )(in0Up_6416)
Res81504 = keras.layers.Reshape((4, 3, 1), name = 'Res81504', )(Up_6416)
Cro50286 = keras.layers.Cropping2D(cropping=((2, 1), (0, 1)), name = 'Cro50286', )(Res81504)
Res80359 = keras.layers.Reshape((1, 2), name = 'Res80359', )(Cro50286)
Dot15936 = keras.layers.Dot(axes=(2, 2), name = 'Dot15936', )([Add2047,Res80359])
Res22439 = keras.layers.Reshape((1, 1, 1), name = 'Res22439', )(Dot15936)
Res52328 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res52328', )(Res22439)
Up_64546 = keras.layers.UpSampling3D(size=(1, 2, 1), name = 'Up_64546', )(Res52328)
Res68611 = keras.layers.Reshape((1, 2, 1), name = 'Res68611', )(Up_64546)
Res37428 = keras.layers.Reshape((1, 2), name = 'Res37428', )(Res68611)
Zer83724 = keras.layers.ZeroPadding1D(padding=((1, 1)), name = 'Zer83724', )(Res37428)
model = tf.keras.models.Model(inputs=[in0Add2047,in1Add2047,in0Up_6416], outputs=Zer83724)
in0Add2047 = tf.constant([[[0.282, 0.6239]]])
in1Add2047 = tf.constant([[[0.8921, 0.6786]]])
in0Up_6416 = tf.constant([[[1.9552, 1.4488, 1.2097], [1.8969, 1.0382, 1.1101]]])
print (np.array2string(model.predict([in0Add2047,in1Add2047,in0Up_6416],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Zer83724.png')

LAdd2047 = add_layer([[[[0.282, 0.6239]]], [[[0.8921, 0.6786]]]], Add2047), 
LUp_6416 = up_sampling1D_layer([[[1.9552, 1.4488, 1.2097], [1.8969, 1.0382, 1.1101]]], 2, Up_6416), 
LRes81504 = reshape_layer(Up_6416, [4, 3, 1], Res81504), 
LCro50286 = cropping2D_layer(Res81504, 2, 1, 0, 1, Cro50286), 
LRes80359 = reshape_layer(Cro50286, [1, 2], Res80359), 
LDot15936 = dot_layer(Add2047,Res80359, 2, 2, Dot15936), 
LRes22439 = reshape_layer(Dot15936, [1, 1, 1], Res22439), 
LRes52328 = reshape_layer(Res22439, [1, 1, 1, 1], Res52328), 
LUp_64546 = up_sampling3D_layer(Res52328, 1, 2, 1, Up_64546), 
LRes68611 = reshape_layer(Up_64546, [1, 2, 1], Res68611), 
LRes37428 = reshape_layer(Res68611, [1, 2], Res37428), 
LZer83724 = zero_padding1D_layer(Res37428, 1, 1, Zer83724), 
exec_layers([LAdd2047,LUp_6416,LRes81504,LCro50286,LRes80359,LDot15936,LRes22439,LRes52328,LUp_64546,LRes68611,LRes37428,LZer83724],["Add2047","Up_6416","Res81504","Cro50286","Res80359","Dot15936","Res22439","Res52328","Up_64546","Res68611","Res37428","Zer83724"],Zer83724,"Zer83724")

Actual (Unparsed): [[[0.0000000, 0.0000000], [3.5794059, 3.5794059], [0.0000000, 0.0000000]]]

Expected (Unparsed): [[[0,0],[3.57940579,3.57940579],[0,0]]]

Actual:   [[[0, 0], [3.5795, 3.5795], [0, 0]]]

Expected: [[[0, 0], [3.5795, 3.5795], [0, 0]]]