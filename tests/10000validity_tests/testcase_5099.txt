import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub450 = tf.keras.layers.Input(shape=([3]))
in1Sub450 = tf.keras.layers.Input(shape=([3]))
in0Min13515 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))
in1Min13515 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))
in0Con33834 = tf.keras.layers.Input(shape=([2]))

Sub450 = keras.layers.Subtract(name = 'Sub450', )([in0Sub450,in1Sub450])
Min13515 = keras.layers.Minimum(name = 'Min13515', )([in0Min13515,in1Min13515])
Res94362 = keras.layers.Reshape((2, 1, 1), name = 'Res94362', )(Min13515)
Res52487 = keras.layers.Reshape((2, 1), name = 'Res52487', )(Res94362)
Glo27038 = keras.layers.GlobalMaxPool1D(name = 'Glo27038', )(Res52487)
Con33834 = keras.layers.Concatenate(axis=1, name = 'Con33834', )([Glo27038,in0Con33834])
Max58816 = keras.layers.Maximum(name = 'Max58816', )([Sub450,Con33834])
model = tf.keras.models.Model(inputs=[in0Sub450,in1Sub450,in0Min13515,in1Min13515,in0Con33834], outputs=Max58816)
in0Sub450 = tf.constant([[0.6469, 0.0445, 0.4901]])
in1Sub450 = tf.constant([[0.7603, 0.9128, 0.2316]])
in0Min13515 = tf.constant([[[[[0.7011]]], [[[0.3487]]]]])
in1Min13515 = tf.constant([[[[[0.8249]]], [[[0.5786]]]]])
in0Con33834 = tf.constant([[0.2458, 0.778]])
print (np.array2string(model.predict([in0Sub450,in1Sub450,in0Min13515,in1Min13515,in0Con33834],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max58816.png')

LSub450 = subtract_layer([[0.6469, 0.0445, 0.4901]], [[0.7603, 0.9128, 0.2316]], Sub450), 
LMin13515 = minimum_layer([[[[[[0.7011]]], [[[0.3487]]]]], [[[[[0.8249]]], [[[0.5786]]]]]], Min13515), 
LRes94362 = reshape_layer(Min13515, [2, 1, 1], Res94362), 
LRes52487 = reshape_layer(Res94362, [2, 1], Res52487), 
LGlo27038 = global_max_pool1D_layer(Res52487, Glo27038), 
LCon33834 = concatenate_layer([Glo27038,[[0.2458, 0.778]]], 1, Con33834), 
LMax58816 = maximum_layer([Sub450,Con33834], Max58816), 
exec_layers([LSub450,LMin13515,LRes94362,LRes52487,LGlo27038,LCon33834,LMax58816],["Sub450","Min13515","Res94362","Res52487","Glo27038","Con33834","Max58816"],Max58816,"Max58816")

Actual (Unparsed): [[0.7011000, 0.2458000, 0.7780000]]

Expected (Unparsed): [[0.7011,0.2458,0.778]]

Actual:   [[0.7011, 0.2458, 0.778]]

Expected: [[0.7011, 0.2458, 0.778]]