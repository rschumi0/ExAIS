import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Lea27948 = tf.keras.layers.Input(shape=([1, 1, 1, 1]))
in0Con39389 = tf.keras.layers.Input(shape=([1, 1, 3]))
in0Mas64351 = tf.keras.layers.Input(shape=([2]))

Lea27948 = keras.layers.LeakyReLU(alpha=2.2603834977856114, name = 'Lea27948', input_shape=(1, 1, 1, 1))(in0Lea27948)
Res92167 = keras.layers.Reshape((1, 1, 1), name = 'Res92167', )(Lea27948)
Con39389 = keras.layers.Concatenate(axis=3, name = 'Con39389', )([Res92167,in0Con39389])
Mas64351 = keras.layers.Masking(mask_value=2, name = 'Mas64351', )(in0Mas64351)
Lea35530 = keras.layers.LeakyReLU(alpha=7.13651853663798, name = 'Lea35530', )(Mas64351)
Res47747 = keras.layers.Reshape((2, 1), name = 'Res47747', )(Lea35530)
Res81010 = keras.layers.Reshape((2, 1, 1), name = 'Res81010', )(Res47747)
Loc18701 = keras.layers.LocallyConnected2D(4, (2, 1),strides=(1, 1), name = 'Loc18701', )(Res81010)
Min46385 = keras.layers.Minimum(name = 'Min46385', )([Con39389,Loc18701])
model = tf.keras.models.Model(inputs=[in0Lea27948,in0Con39389,in0Mas64351], outputs=Min46385)
w = model.get_layer('Loc18701').get_weights() 
w[0] = np.array([[[0.5532, 0.5402, 0.4584, 0.4801], [0.2591, 0.1112, 0.3622, 0.8128]]])
w[1] = np.array([[[0, 0, 0, 0]]])
model.get_layer('Loc18701').set_weights(w) 
in0Lea27948 = tf.constant([[[[[0.1932]]]]])
in0Con39389 = tf.constant([[[[0.3112, 0.1672, 0.7378]]]])
in0Mas64351 = tf.constant([[1.6797, 1.6883]])
print (np.array2string(model.predict([in0Lea27948,in0Con39389,in0Mas64351],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min46385.png')

LLea27948 = leaky_relu_layer([[[[[0.1932]]]]], 2.2603834977856114, Lea27948), 
LRes92167 = reshape_layer(Lea27948, [1, 1, 1], Res92167), 
LCon39389 = concatenate_layer([Res92167,[[[[0.3112, 0.1672, 0.7378]]]]], 3, Con39389), 
LMas64351 = masking_layer([[1.6797, 1.6883]], 2, Mas64351), 
LLea35530 = leaky_relu_layer(Mas64351, 7.13651853663798, Lea35530), 
LRes47747 = reshape_layer(Lea35530, [2, 1], Res47747), 
LRes81010 = reshape_layer(Res47747, [2, 1, 1], Res81010), 
LLoc18701 = locally_connected2D_layer(Res81010, 2, 1,[[[0.5532, 0.5402, 0.4584, 0.4801], [0.2591, 0.1112, 0.3622, 0.8128]]],[[[0, 0, 0, 0]]], 1, 1, Loc18701), 
LMin46385 = minimum_layer([Con39389,Loc18701], Min46385), 
exec_layers([LLea27948,LRes92167,LCon39389,LMas64351,LLea35530,LRes47747,LRes81010,LLoc18701,LMin46385],["Lea27948","Res92167","Con39389","Mas64351","Lea35530","Res47747","Res81010","Loc18701","Min46385"],Min46385,"Min46385")

Actual (Unparsed): [[[[0.1932000, 0.3112000, 0.1672000, 0.7378000]]]]

Expected (Unparsed): [[[[0.1932,0.3112,0.1672,0.7378]]]]

Actual:   [[[[0.1932, 0.3112, 0.1672, 0.7378]]]]

Expected: [[[[0.1932, 0.3112, 0.1672, 0.7378]]]]