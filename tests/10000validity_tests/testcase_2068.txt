import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min48257 = tf.keras.layers.Input(shape=([2, 1, 1]))
in1Min48257 = tf.keras.layers.Input(shape=([2, 1, 1]))
in0Con35382 = tf.keras.layers.Input(shape=([2, 1]))
in0Max59419 = tf.keras.layers.Input(shape=([2, 1, 2]))
in1Max59419 = tf.keras.layers.Input(shape=([2, 1, 2]))

Min48257 = keras.layers.Minimum(name = 'Min48257', )([in0Min48257,in1Min48257])
Res37840 = keras.layers.Reshape((2, 1), name = 'Res37840', )(Min48257)
Con35382 = keras.layers.Concatenate(axis=2, name = 'Con35382', )([Res37840,in0Con35382])
Max59419 = keras.layers.Maximum(name = 'Max59419', )([in0Max59419,in1Max59419])
Res19304 = keras.layers.Reshape((2, 2), name = 'Res19304', )(Max59419)
Max97512 = keras.layers.MaxPool1D(pool_size=(2), strides=(2), padding='same', name = 'Max97512', )(Res19304)
Zer92392 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer92392', )(Max97512)
Min21546 = keras.layers.Minimum(name = 'Min21546', )([Con35382,Zer92392])
model = tf.keras.models.Model(inputs=[in0Min48257,in1Min48257,in0Con35382,in0Max59419,in1Max59419], outputs=Min21546)
in0Min48257 = tf.constant([[[[0.5575]], [[0.6362]]]])
in1Min48257 = tf.constant([[[[0.8369]], [[0.7719]]]])
in0Con35382 = tf.constant([[[0.1133], [0.9868]]])
in0Max59419 = tf.constant([[[[0.1167, 0.7082]], [[0.9974, 0.9012]]]])
in1Max59419 = tf.constant([[[[0.0573, 0.4731]], [[0.9787, 0.6455]]]])
print (np.array2string(model.predict([in0Min48257,in1Min48257,in0Con35382,in0Max59419,in1Max59419],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min21546.png')

LMin48257 = minimum_layer([[[[[0.5575]], [[0.6362]]]], [[[[0.8369]], [[0.7719]]]]], Min48257), 
LRes37840 = reshape_layer(Min48257, [2, 1], Res37840), 
LCon35382 = concatenate_layer([Res37840,[[[0.1133], [0.9868]]]], 2, Con35382), 
LMax59419 = maximum_layer([[[[[0.1167, 0.7082]], [[0.9974, 0.9012]]]], [[[[0.0573, 0.4731]], [[0.9787, 0.6455]]]]], Max59419), 
LRes19304 = reshape_layer(Max59419, [2, 2], Res19304), 
LMax97512 = max_pool1D_layer(Res19304, 2, 2, true, Max97512), 
LZer92392 = zero_padding1D_layer(Max97512, 1, 0, Zer92392), 
LMin21546 = minimum_layer([Con35382,Zer92392], Min21546), 
exec_layers([LMin48257,LRes37840,LCon35382,LMax59419,LRes19304,LMax97512,LZer92392,LMin21546],["Min48257","Res37840","Con35382","Max59419","Res19304","Max97512","Zer92392","Min21546"],Min21546,"Min21546")

Actual (Unparsed): [[[0.0000000, 0.0000000], [0.6362000, 0.9012000]]]

Expected (Unparsed): [[[0,0],[0.6362,0.9012]]]

Actual:   [[[0, 0], [0.6362, 0.9012]]]

Expected: [[[0, 0], [0.6362, 0.9012]]]