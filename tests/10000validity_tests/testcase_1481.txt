import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max70592 = tf.keras.layers.Input(shape=([1, 2, 2]))
in0Con66068 = tf.keras.layers.Input(shape=([3, 1]))
in0Sub67616 = tf.keras.layers.Input(shape=([3, 3]))
in1Sub67616 = tf.keras.layers.Input(shape=([3, 3]))

Max70592 = keras.layers.MaxPool2D(pool_size=(1, 2), name = 'Max70592', )(in0Max70592)
Res47247 = keras.layers.Reshape((1, 2), name = 'Res47247', )(Max70592)
Zer29357 = keras.layers.ZeroPadding1D(padding=((2, 0)), name = 'Zer29357', )(Res47247)
Con66068 = keras.layers.Concatenate(axis=2, name = 'Con66068', )([Zer29357,in0Con66068])
Sub67616 = keras.layers.Subtract(name = 'Sub67616', )([in0Sub67616,in1Sub67616])
Max92282 = keras.layers.Maximum(name = 'Max92282', )([Con66068,Sub67616])
model = tf.keras.models.Model(inputs=[in0Max70592,in0Con66068,in0Sub67616,in1Sub67616], outputs=Max92282)
in0Max70592 = tf.constant([[[[1.4679, 1.8412], [1.2123, 1.9657]]]])
in0Con66068 = tf.constant([[[0.9798], [0.6168], [0.9696]]])
in0Sub67616 = tf.constant([[[0.3201, 0.4648, 0.1783], [0.9091, 0.9815, 0.0884], [0.1539, 0.492, 0.8588]]])
in1Sub67616 = tf.constant([[[0.2175, 0.6486, 0.7153], [0.3333, 0.8368, 0.92], [0.3454, 0.4425, 0.0801]]])
print (np.array2string(model.predict([in0Max70592,in0Con66068,in0Sub67616,in1Sub67616],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max92282.png')

LMax70592 = max_pool2D_layer([[[[1.4679, 1.8412], [1.2123, 1.9657]]]], 1, 2, Max70592), 
LRes47247 = reshape_layer(Max70592, [1, 2], Res47247), 
LZer29357 = zero_padding1D_layer(Res47247, 2, 0, Zer29357), 
LCon66068 = concatenate_layer([Zer29357,[[[0.9798], [0.6168], [0.9696]]]], 2, Con66068), 
LSub67616 = subtract_layer([[[0.3201, 0.4648, 0.1783], [0.9091, 0.9815, 0.0884], [0.1539, 0.492, 0.8588]]], [[[0.2175, 0.6486, 0.7153], [0.3333, 0.8368, 0.92], [0.3454, 0.4425, 0.0801]]], Sub67616), 
LMax92282 = maximum_layer([Con66068,Sub67616], Max92282), 
exec_layers([LMax70592,LRes47247,LZer29357,LCon66068,LSub67616,LMax92282],["Max70592","Res47247","Zer29357","Con66068","Sub67616","Max92282"],Max92282,"Max92282")

Actual (Unparsed): [[[0.1026000, 0.0000000, 0.9798000], [0.5758000, 0.1447001, 0.6168000], [1.4679000, 1.9657000, 0.9696000]]]

Expected (Unparsed): [[[0.1026,0,0.9798],[0.5758000000000001,0.14470000000000005,0.6168],[1.4679,1.9657,0.9696]]]

Actual:   [[[0.1026, 0, 0.9798], [0.5758, 0.1448, 0.6168], [1.4679, 1.9657, 0.9696]]]

Expected: [[[0.1026, 0, 0.9798], [0.5759, 0.1448, 0.6168], [1.4679, 1.9657, 0.9696]]]