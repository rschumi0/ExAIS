import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot71490 = tf.keras.layers.Input(shape=([3]))
in1Dot71490 = tf.keras.layers.Input(shape=([3]))
in0Ave4736 = tf.keras.layers.Input(shape=([2, 1]))
in1Ave4736 = tf.keras.layers.Input(shape=([2, 1]))

Dot71490 = keras.layers.Dot(axes=(1, 1), name = 'Dot71490', )([in0Dot71490,in1Dot71490])
Res2750 = keras.layers.Reshape((1, 1), name = 'Res2750', )(Dot71490)
Res9726 = keras.layers.Reshape((1, 1, 1), name = 'Res9726', )(Res2750)
Up_22294 = keras.layers.UpSampling2D(size=(1, 2), name = 'Up_22294', )(Res9726)
Res18250 = keras.layers.Reshape((1, 2), name = 'Res18250', )(Up_22294)
Zer58899 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer58899', )(Res18250)
Ave4736 = keras.layers.Average(name = 'Ave4736', )([in0Ave4736,in1Ave4736])
Dot33880 = keras.layers.Dot(axes=(1, 1), name = 'Dot33880', )([Zer58899,Ave4736])
model = tf.keras.models.Model(inputs=[in0Dot71490,in1Dot71490,in0Ave4736,in1Ave4736], outputs=Dot33880)
in0Dot71490 = tf.constant([[0.9248, 0.7629, 0.3738]])
in1Dot71490 = tf.constant([[0.6231, 0.9395, 0.089]])
in0Ave4736 = tf.constant([[[0.9243], [0.3535]]])
in1Ave4736 = tf.constant([[[0.5886], [0.912]]])
print (np.array2string(model.predict([in0Dot71490,in1Dot71490,in0Ave4736,in1Ave4736],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Dot33880.png')

LDot71490 = dot_layer([[0.9248, 0.7629, 0.3738]], [[0.6231, 0.9395, 0.089]], 1, 1, Dot71490), 
LRes2750 = reshape_layer(Dot71490, [1, 1], Res2750), 
LRes9726 = reshape_layer(Res2750, [1, 1, 1], Res9726), 
LUp_22294 = up_sampling2D_layer(Res9726, 1, 2, Up_22294), 
LRes18250 = reshape_layer(Up_22294, [1, 2], Res18250), 
LZer58899 = zero_padding1D_layer(Res18250, 1, 0, Zer58899), 
LAve4736 = average_layer([[[[0.9243], [0.3535]]], [[[0.5886], [0.912]]]], Ave4736), 
LDot33880 = dot_layer(Zer58899,Ave4736, 1, 1, Dot33880), 
exec_layers([LDot71490,LRes2750,LRes9726,LUp_22294,LRes18250,LZer58899,LAve4736,LDot33880],["Dot71490","Res2750","Res9726","Up_22294","Res18250","Zer58899","Ave4736","Dot33880"],Dot33880,"Dot33880")

Actual (Unparsed): [[[0.8391882], [0.8391882]]]

Expected (Unparsed): [[[0.8391882498825002],[0.8391882498825002]]]

Actual:   [[[0.8392], [0.8392]]]

Expected: [[[0.8392], [0.8392]]]