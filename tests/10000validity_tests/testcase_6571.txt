import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add65739 = tf.keras.layers.Input(shape=([2, 2]))
in1Add65739 = tf.keras.layers.Input(shape=([2, 2]))
in0Ave40987 = tf.keras.layers.Input(shape=([2, 1]))
in0Con89665 = tf.keras.layers.Input(shape=([1, 1]))
in0Dot50166 = tf.keras.layers.Input(shape=([2, 3]))
in1Dot50166 = tf.keras.layers.Input(shape=([2, 3]))

Add65739 = keras.layers.Add(name = 'Add65739', )([in0Add65739,in1Add65739])
Ave40987 = keras.layers.AveragePooling1D(pool_size=(2), name = 'Ave40987', )(in0Ave40987)
Con89665 = keras.layers.Concatenate(axis=2, name = 'Con89665', )([Ave40987,in0Con89665])
Dot50166 = keras.layers.Dot(axes=(2, 2), name = 'Dot50166', )([in0Dot50166,in1Dot50166])
Dot21663 = keras.layers.Dot(axes=(2, 2), name = 'Dot21663', )([Con89665,Dot50166])
Zer4687 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer4687', )(Dot21663)
Add97314 = keras.layers.Add(name = 'Add97314', )([Add65739,Zer4687])
model = tf.keras.models.Model(inputs=[in0Add65739,in1Add65739,in0Ave40987,in0Con89665,in0Dot50166,in1Dot50166], outputs=Add97314)
in0Add65739 = tf.constant([[[0.7695, 0.0705], [0.6713, 0.631]]])
in1Add65739 = tf.constant([[[0.4816, 0.245], [0.2665, 0.3681]]])
in0Ave40987 = tf.constant([[[1.4027], [1.8431]]])
in0Con89665 = tf.constant([[[0.3585]]])
in0Dot50166 = tf.constant([[[0.5787, 0.8663, 0.0837], [0.2046, 0.996, 0.9308]]])
in1Dot50166 = tf.constant([[[0.763, 0.6841, 0.784], [0.9459, 0.8516, 0.7396]]])
print (np.array2string(model.predict([in0Add65739,in1Add65739,in0Ave40987,in0Con89665,in0Dot50166,in1Dot50166],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add97314.png')

LAdd65739 = add_layer([[[[0.7695, 0.0705], [0.6713, 0.631]]], [[[0.4816, 0.245], [0.2665, 0.3681]]]], Add65739), 
LAve40987 = average_pooling1D_layer([[[1.4027], [1.8431]]], 2, Ave40987), 
LCon89665 = concatenate_layer([Ave40987,[[[0.3585]]]], 2, Con89665), 
LDot50166 = dot_layer([[[0.5787, 0.8663, 0.0837], [0.2046, 0.996, 0.9308]]], [[[0.763, 0.6841, 0.784], [0.9459, 0.8516, 0.7396]]], 2, 2, Dot50166), 
LDot21663 = dot_layer(Con89665,Dot50166, 2, 2, Dot21663), 
LZer4687 = zero_padding1D_layer(Dot21663, 1, 0, Zer4687), 
LAdd97314 = add_layer([Add65739,Zer4687], Add97314), 
exec_layers([LAdd65739,LAve40987,LCon89665,LDot50166,LDot21663,LZer4687,LAdd97314],["Add65739","Ave40987","Con89665","Dot50166","Dot21663","Zer4687","Add97314"],Add97314,"Add97314")

Actual (Unparsed): [[[1.2511000, 0.3155000], [3.2055861, 4.1627989]]]

Expected (Unparsed): [[[1.2510999999999999,0.3155],[3.2055861942219996,4.162799086310001]]]

Actual:   [[[1.2511, 0.3155], [3.2056, 4.1628]]]

Expected: [[[1.2511, 0.3155], [3.2056, 4.1628]]]