import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul309 = tf.keras.layers.Input(shape=([2, 1]))
in1Mul309 = tf.keras.layers.Input(shape=([2, 1]))
in0Glo38545 = tf.keras.layers.Input(shape=([1, 1, 2, 1]))
in0Con33842 = tf.keras.layers.Input(shape=([1]))

Mul309 = keras.layers.Multiply(name = 'Mul309', )([in0Mul309,in1Mul309])
Fla74987 = keras.layers.Flatten(name = 'Fla74987', )(Mul309)
Glo38545 = keras.layers.GlobalAveragePooling3D(name = 'Glo38545', )(in0Glo38545)
Con33842 = keras.layers.Concatenate(axis=1, name = 'Con33842', )([Glo38545,in0Con33842])
Max61244 = keras.layers.Maximum(name = 'Max61244', )([Fla74987,Con33842])
model = tf.keras.models.Model(inputs=[in0Mul309,in1Mul309,in0Glo38545,in0Con33842], outputs=Max61244)
in0Mul309 = tf.constant([[[0.7499], [0.9725]]])
in1Mul309 = tf.constant([[[0.4695], [0.4634]]])
in0Glo38545 = tf.constant([[[[[1.4698], [1.0543]]]]])
in0Con33842 = tf.constant([[0.2531]])
print (np.array2string(model.predict([in0Mul309,in1Mul309,in0Glo38545,in0Con33842],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max61244.png')

LMul309 = multiply_layer([[[[0.7499], [0.9725]]], [[[0.4695], [0.4634]]]], Mul309), 
LFla74987 = flatten_layer(Mul309, Fla74987), 
LGlo38545 = global_average_pooling3D_layer([[[[[1.4698], [1.0543]]]]], Glo38545), 
LCon33842 = concatenate_layer([Glo38545,[[0.2531]]], 1, Con33842), 
LMax61244 = maximum_layer([Fla74987,Con33842], Max61244), 
exec_layers([LMul309,LFla74987,LGlo38545,LCon33842,LMax61244],["Mul309","Fla74987","Glo38545","Con33842","Max61244"],Max61244,"Max61244")

Actual (Unparsed): [[1.2620500, 0.4506565]]

Expected (Unparsed): [[1.26205,0.4506565]]

Actual:   [[1.2621, 0.4507]]

Expected: [[1.2621, 0.4507]]