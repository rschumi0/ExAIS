import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo68791 = tf.keras.layers.Input(shape=([2, 2, 1, 2]))
in0Glo91777 = tf.keras.layers.Input(shape=([1, 1]))
in0Con34388 = tf.keras.layers.Input(shape=([1]))

Glo68791 = keras.layers.GlobalAveragePooling3D(name = 'Glo68791', )(in0Glo68791)
Glo91777 = keras.layers.GlobalAveragePooling1D(name = 'Glo91777', )(in0Glo91777)
Con34388 = keras.layers.Concatenate(axis=1, name = 'Con34388', )([Glo91777,in0Con34388])
Mul67372 = keras.layers.Multiply(name = 'Mul67372', )([Glo68791,Con34388])
Bat41472 = keras.layers.BatchNormalization(axis=1, epsilon=0.40403400777390897,  name = 'Bat41472', )(Mul67372)
model = tf.keras.models.Model(inputs=[in0Glo68791,in0Glo91777,in0Con34388], outputs=Bat41472)
w = model.get_layer('Bat41472').get_weights() 
w[0] = np.array([0.1182, 0.9328])
w[1] = np.array([0.6258, 0.952])
w[2] = np.array([0.416, 0.4222])
w[3] = np.array([0.7139, 0.3711])
model.get_layer('Bat41472').set_weights(w) 
in0Glo68791 = tf.constant([[[[[1.1978, 1.7452]], [[1.8192, 1.5815]]], [[[1.5679, 1.5122]], [[1.5295, 1.4551]]]]])
in0Glo91777 = tf.constant([[[1.6688]]])
in0Con34388 = tf.constant([[0.877]])
print (np.array2string(model.predict([in0Glo68791,in0Glo91777,in0Con34388],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Bat41472.png')

LGlo68791 = global_average_pooling3D_layer([[[[[1.1978, 1.7452]], [[1.8192, 1.5815]]], [[[1.5679, 1.5122]], [[1.5295, 1.4551]]]]], Glo68791), 
LGlo91777 = global_average_pooling1D_layer([[[1.6688]]], Glo91777), 
LCon34388 = concatenate_layer([Glo91777,[[0.877]]], 1, Con34388), 
LMul67372 = multiply_layer([Glo68791,Con34388], Mul67372), 
LBat41472 = batch_normalization_layer(Mul67372, 1, 0.40403400777390897, [0.1182, 0.9328], [0.6258, 0.952], [0.416, 0.4222], [0.7139, 0.3711], Bat41472), 
exec_layers([LGlo68791,LGlo91777,LCon34388,LMul67372,LBat41472],["Glo68791","Glo91777","Con34388","Mul67372","Bat41472"],Bat41472,"Bat41472")

Actual (Unparsed): [[0.8644671, 1.9667443]]

Expected (Unparsed): [[0.8644671025374555,1.966744275981651]]

Actual:   [[0.8645, 1.9668]]

Expected: [[0.8645, 1.9668]]