import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot49217 = tf.keras.layers.Input(shape=([2, 3]))
in1Dot49217 = tf.keras.layers.Input(shape=([2, 3]))
in0Mul98294 = tf.keras.layers.Input(shape=([1, 1, 1, 1]))
in1Mul98294 = tf.keras.layers.Input(shape=([1, 1, 1, 1]))

Dot49217 = keras.layers.Dot(axes=(1, 1), name = 'Dot49217', )([in0Dot49217,in1Dot49217])
Res42871 = keras.layers.Reshape((3, 3, 1), name = 'Res42871', )(Dot49217)
Res87682 = keras.layers.Reshape((3, 3, 1, 1), name = 'Res87682', )(Res42871)
Mul98294 = keras.layers.Multiply(name = 'Mul98294', )([in0Mul98294,in1Mul98294])
Zer29031 = keras.layers.ZeroPadding3D(padding=((2, 0), (2, 0), (0, 0)), name = 'Zer29031', )(Mul98294)
Min12749 = keras.layers.Minimum(name = 'Min12749', )([Res87682,Zer29031])
model = tf.keras.models.Model(inputs=[in0Dot49217,in1Dot49217,in0Mul98294,in1Mul98294], outputs=Min12749)
in0Dot49217 = tf.constant([[[0.4233, 0.4822, 0.7078], [0.7628, 0.2063, 0.0063]]])
in1Dot49217 = tf.constant([[[0.595, 0.8041, 0.159], [0.5343, 0.7179, 0.2184]]])
in0Mul98294 = tf.constant([[[[[0.915]]]]])
in1Mul98294 = tf.constant([[[[[0.5012]]]]])
print (np.array2string(model.predict([in0Dot49217,in1Dot49217,in0Mul98294,in1Mul98294],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min12749.png')

LDot49217 = dot_layer([[[0.4233, 0.4822, 0.7078], [0.7628, 0.2063, 0.0063]]], [[[0.595, 0.8041, 0.159], [0.5343, 0.7179, 0.2184]]], 1, 1, Dot49217), 
LRes42871 = reshape_layer(Dot49217, [3, 3, 1], Res42871), 
LRes87682 = reshape_layer(Res42871, [3, 3, 1, 1], Res87682), 
LMul98294 = multiply_layer([[[[[[0.915]]]]], [[[[[0.5012]]]]]], Mul98294), 
LZer29031 = zero_padding3D_layer(Mul98294, 2, 0, 2, 0, 0, 0, Zer29031), 
LMin12749 = minimum_layer([Res87682,Zer29031], Min12749), 
exec_layers([LDot49217,LRes42871,LRes87682,LMul98294,LZer29031,LMin12749],["Dot49217","Res42871","Res87682","Mul98294","Zer29031","Min12749"],Min12749,"Min12749")

Actual (Unparsed): [[[[[0.0000000]], [[0.0000000]], [[0.0000000]]], [[[0.0000000]], [[0.0000000]], [[0.0000000]]], [[[0.0000000]], [[0.0000000]], [[0.1139161]]]]]

Expected (Unparsed): [[[[[0]],[[0]],[[0]]],[[[0]],[[0]],[[0]]],[[[0]],[[0]],[[0.11391612]]]]]

Actual:   [[[[[0]], [[0]], [[0]]], [[[0]], [[0]], [[0]]], [[[0]], [[0]], [[0.114]]]]]

Expected: [[[[[0]], [[0]], [[0]]], [[[0]], [[0]], [[0]]], [[[0]], [[0]], [[0.114]]]]]