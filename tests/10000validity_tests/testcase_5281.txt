import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub94418 = tf.keras.layers.Input(shape=([3, 3]))
in1Sub94418 = tf.keras.layers.Input(shape=([3, 3]))

Sub94418 = keras.layers.Subtract(name = 'Sub94418', )([in0Sub94418,in1Sub94418])
Res41908 = keras.layers.Reshape((3, 3, 1), name = 'Res41908', )(Sub94418)
Res35378 = keras.layers.Reshape((3, 3, 1, 1), name = 'Res35378', )(Res41908)
Con11649 = keras.layers.Conv3D(4, (1, 3, 1),strides=(3, 3, 1), padding='same', dilation_rate=(1, 1, 1), name = 'Con11649', )(Res35378)
Zer93911 = keras.layers.ZeroPadding3D(padding=((1, 1), (1, 1), (1, 1)), name = 'Zer93911', )(Con11649)
model = tf.keras.models.Model(inputs=[in0Sub94418,in1Sub94418], outputs=Zer93911)
w = model.get_layer('Con11649').get_weights() 
w[0] = np.array([[[[[0.9933, 0.664, 0.8, 0.3511]]], [[[0.1201, 0.8284, 0.34, 0.642]]], [[[0.397, 0.0444, 0.655, 0.0777]]]]])
w[1] = np.array([0, 0, 0, 0])
model.get_layer('Con11649').set_weights(w) 
in0Sub94418 = tf.constant([[[0.5156, 0.2614, 0.2081], [0.2858, 0.6514, 0.6976], [0.8899, 0.6824, 0.1434]]])
in1Sub94418 = tf.constant([[[0.0632, 0.5415, 0.1553], [0.8638, 0.7709, 0.0841], [0.1946, 0.6084, 0.6351]]])
print (np.array2string(model.predict([in0Sub94418,in1Sub94418],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Zer93911.png')

LSub94418 = subtract_layer([[[0.5156, 0.2614, 0.2081], [0.2858, 0.6514, 0.6976], [0.8899, 0.6824, 0.1434]]], [[[0.0632, 0.5415, 0.1553], [0.8638, 0.7709, 0.0841], [0.1946, 0.6084, 0.6351]]], Sub94418), 
LRes41908 = reshape_layer(Sub94418, [3, 3, 1], Res41908), 
LRes35378 = reshape_layer(Res41908, [3, 3, 1, 1], Res35378), 
LCon11649 = conv3D_layer(Res35378, 1, 3, 1,[[[[[0.9933, 0.664, 0.8, 0.3511]]], [[[0.1201, 0.8284, 0.34, 0.642]]], [[[0.397, 0.0444, 0.655, 0.0777]]]]],[0, 0, 0, 0], 3, 3, 1, true, 1, 1, 1, Con11649), 
LZer93911 = zero_padding3D_layer(Con11649, 1, 1, 1, 1, 1, 1, Zer93911), 
exec_layers([LSub94418,LRes41908,LRes35378,LCon11649,LZer93911],["Sub94418","Res41908","Res35378","Con11649","Zer93911"],Zer93911,"Zer93911")

Actual (Unparsed): [[[[[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000]]], [[[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.4366905, 0.0707031, 0.3012700, -0.0168840], [0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000]]], [[[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000]], [[0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000], [0.0000000, 0.0000000, 0.0000000, 0.0000000]]]]]

Expected (Unparsed): [[[[[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0]]],[[[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0.4366905099999999,0.07070308000000002,0.30127,-0.016884000000000014],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0]]],[[[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0]]]]]

Actual:   [[[[[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]]], [[[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0.4367, 0.0708, 0.3013, -0.0168], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]]], [[[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]]]]]

Expected: [[[[[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]]], [[[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0.4367, 0.0708, 0.3013, -0.0168], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]]], [[[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]], [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]]]]]