import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo32889 = tf.keras.layers.Input(shape=([2, 2]))
in0Dot28727 = tf.keras.layers.Input(shape=([3]))
in1Dot28727 = tf.keras.layers.Input(shape=([3]))

Glo32889 = keras.layers.GlobalAveragePooling1D(name = 'Glo32889', )(in0Glo32889)
Res71944 = keras.layers.Reshape((2, 1), name = 'Res71944', )(Glo32889)
Res82886 = keras.layers.Reshape((2, 1, 1), name = 'Res82886', )(Res71944)
Res48446 = keras.layers.Reshape((2, 1, 1, 1), name = 'Res48446', )(Res82886)
Dot28727 = keras.layers.Dot(axes=(1, 1), name = 'Dot28727', )([in0Dot28727,in1Dot28727])
Res96457 = keras.layers.Reshape((1, 1), name = 'Res96457', )(Dot28727)
Res11679 = keras.layers.Reshape((1, 1, 1), name = 'Res11679', )(Res96457)
Res98021 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res98021', )(Res11679)
Cro17991 = keras.layers.Cropping3D(cropping=((0, 0), (0, 0), (0, 0)), name = 'Cro17991', )(Res98021)
Mas82352 = keras.layers.Masking(mask_value=2, name = 'Mas82352', )(Cro17991)
Zer55363 = keras.layers.ZeroPadding3D(padding=((1, 0), (0, 0), (0, 0)), name = 'Zer55363', )(Mas82352)
Add57875 = keras.layers.Add(name = 'Add57875', )([Res48446,Zer55363])
model = tf.keras.models.Model(inputs=[in0Glo32889,in0Dot28727,in1Dot28727], outputs=Add57875)
in0Glo32889 = tf.constant([[[1.3815, 1.4216], [1.709, 1.4412]]])
in0Dot28727 = tf.constant([[0.5941, 0.3899, 0.2745]])
in1Dot28727 = tf.constant([[0.3773, 0.2147, 0.0291]])
print (np.array2string(model.predict([in0Glo32889,in0Dot28727,in1Dot28727],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add57875.png')

LGlo32889 = global_average_pooling1D_layer([[[1.3815, 1.4216], [1.709, 1.4412]]], Glo32889), 
LRes71944 = reshape_layer(Glo32889, [2, 1], Res71944), 
LRes82886 = reshape_layer(Res71944, [2, 1, 1], Res82886), 
LRes48446 = reshape_layer(Res82886, [2, 1, 1, 1], Res48446), 
LDot28727 = dot_layer([[0.5941, 0.3899, 0.2745]], [[0.3773, 0.2147, 0.0291]], 1, 1, Dot28727), 
LRes96457 = reshape_layer(Dot28727, [1, 1], Res96457), 
LRes11679 = reshape_layer(Res96457, [1, 1, 1], Res11679), 
LRes98021 = reshape_layer(Res11679, [1, 1, 1, 1], Res98021), 
LCro17991 = cropping3D_layer(Res98021, 0, 0, 0, 0, 0, 0, Cro17991), 
LMas82352 = masking_layer(Cro17991, 2, Mas82352), 
LZer55363 = zero_padding3D_layer(Mas82352, 1, 0, 0, 0, 0, 0, Zer55363), 
LAdd57875 = add_layer([Res48446,Zer55363], Add57875), 
exec_layers([LGlo32889,LRes71944,LRes82886,LRes48446,LDot28727,LRes96457,LRes11679,LRes98021,LCro17991,LMas82352,LZer55363,LAdd57875],["Glo32889","Res71944","Res82886","Res48446","Dot28727","Res96457","Res11679","Res98021","Cro17991","Mas82352","Zer55363","Add57875"],Add57875,"Add57875")

Actual (Unparsed): [[[[[1.5452500]]], [[[1.7472534]]]]]

Expected (Unparsed): [[[[[1.54525]]],[[[1.7472534100000001]]]]]

Actual:   [[[[[1.5453]]], [[[1.7473]]]]]

Expected: [[[[[1.5453]]], [[[1.7473]]]]]