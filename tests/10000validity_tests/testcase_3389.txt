import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub3996 = tf.keras.layers.Input(shape=([2]))
in1Sub3996 = tf.keras.layers.Input(shape=([2]))
in0PRe74922 = tf.keras.layers.Input(shape=([2, 1]))

Sub3996 = keras.layers.Subtract(name = 'Sub3996', )([in0Sub3996,in1Sub3996])
Res77898 = keras.layers.Reshape((2, 1), name = 'Res77898', )(Sub3996)
Res23245 = keras.layers.Reshape((2, 1, 1), name = 'Res23245', )(Res77898)
PRe74922 = keras.layers.PReLU(name = 'PRe74922', input_shape=(2, 1))(in0PRe74922)
Res79089 = keras.layers.Reshape((2, 1, 1), name = 'Res79089', )(PRe74922)
Dep45740 = keras.layers.DepthwiseConv2D((1, 1),strides=(1, 1), padding='same', name = 'Dep45740', )(Res79089)
Min32356 = keras.layers.Minimum(name = 'Min32356', )([Res23245,Dep45740])
model = tf.keras.models.Model(inputs=[in0Sub3996,in1Sub3996,in0PRe74922], outputs=Min32356)
w = model.get_layer('PRe74922').get_weights() 
w[0] = np.array([[0.1577], [0.3201]])
model.get_layer('PRe74922').set_weights(w) 
w = model.get_layer('Dep45740').get_weights() 
w[0] = np.array([[[[0.7985]]]])
w[1] = np.array([0])
model.get_layer('Dep45740').set_weights(w) 
in0Sub3996 = tf.constant([[0.6321, 0.1171]])
in1Sub3996 = tf.constant([[0.7358, 0.5403]])
in0PRe74922 = tf.constant([[[0.4474], [0.9828]]])
print (np.array2string(model.predict([in0Sub3996,in1Sub3996,in0PRe74922],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min32356.png')

LSub3996 = subtract_layer([[0.6321, 0.1171]], [[0.7358, 0.5403]], Sub3996), 
LRes77898 = reshape_layer(Sub3996, [2, 1], Res77898), 
LRes23245 = reshape_layer(Res77898, [2, 1, 1], Res23245), 
LPRe74922 = prelu_layer([[[0.4474], [0.9828]]], [[0.1577], [0.3201]], PRe74922), 
LRes79089 = reshape_layer(PRe74922, [2, 1, 1], Res79089), 
LDep45740 = depthwise_conv2D_layer(Res79089, 1, 1,[[[[0.7985]]]],[0], 1, 1, true, Dep45740), 
LMin32356 = minimum_layer([Res23245,Dep45740], Min32356), 
exec_layers([LSub3996,LRes77898,LRes23245,LPRe74922,LRes79089,LDep45740,LMin32356],["Sub3996","Res77898","Res23245","PRe74922","Res79089","Dep45740","Min32356"],Min32356,"Min32356")

Actual (Unparsed): [[[[-0.1037000]], [[-0.4232000]]]]

Expected (Unparsed): [[[[-0.10370000000000001]],[[-0.4232]]]]

Actual:   [[[[-0.1037]], [[-0.4232]]]]

Expected: [[[[-0.1037]], [[-0.4232]]]]