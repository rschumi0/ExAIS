import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave40305 = tf.keras.layers.Input(shape=([2, 2]))
in1Ave40305 = tf.keras.layers.Input(shape=([2, 2]))
in0Dot41602 = tf.keras.layers.Input(shape=([3]))
in1Dot41602 = tf.keras.layers.Input(shape=([3]))
in0Con10586 = tf.keras.layers.Input(shape=([1]))

Ave40305 = keras.layers.Average(name = 'Ave40305', )([in0Ave40305,in1Ave40305])
Glo27076 = keras.layers.GlobalMaxPool1D(name = 'Glo27076', )(Ave40305)
Dot41602 = keras.layers.Dot(axes=(1, 1), name = 'Dot41602', )([in0Dot41602,in1Dot41602])
Res67401 = keras.layers.Reshape((1, 1), name = 'Res67401', )(Dot41602)
Glo15388 = keras.layers.GlobalAveragePooling1D(name = 'Glo15388', )(Res67401)
Con10586 = keras.layers.Concatenate(axis=1, name = 'Con10586', )([Glo15388,in0Con10586])
Add76637 = keras.layers.Add(name = 'Add76637', )([Glo27076,Con10586])
model = tf.keras.models.Model(inputs=[in0Ave40305,in1Ave40305,in0Dot41602,in1Dot41602,in0Con10586], outputs=Add76637)
in0Ave40305 = tf.constant([[[0.8835, 0.4794], [0.9385, 0.752]]])
in1Ave40305 = tf.constant([[[0.7162, 0.2184], [0.7574, 0.4491]]])
in0Dot41602 = tf.constant([[0.8469, 0.4484, 0.4629]])
in1Dot41602 = tf.constant([[0.7396, 0.9284, 0.7665]])
in0Con10586 = tf.constant([[0.4201]])
print (np.array2string(model.predict([in0Ave40305,in1Ave40305,in0Dot41602,in1Dot41602,in0Con10586],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add76637.png')

LAve40305 = average_layer([[[[0.8835, 0.4794], [0.9385, 0.752]]], [[[0.7162, 0.2184], [0.7574, 0.4491]]]], Ave40305), 
LGlo27076 = global_max_pool1D_layer(Ave40305, Glo27076), 
LDot41602 = dot_layer([[0.8469, 0.4484, 0.4629]], [[0.7396, 0.9284, 0.7665]], 1, 1, Dot41602), 
LRes67401 = reshape_layer(Dot41602, [1, 1], Res67401), 
LGlo15388 = global_average_pooling1D_layer(Res67401, Glo15388), 
LCon10586 = concatenate_layer([Glo15388,[[0.4201]]], 1, Con10586), 
LAdd76637 = add_layer([Glo27076,Con10586], Add76637), 
exec_layers([LAve40305,LGlo27076,LDot41602,LRes67401,LGlo15388,LCon10586,LAdd76637],["Ave40305","Glo27076","Dot41602","Res67401","Glo15388","Con10586","Add76637"],Add76637,"Add76637")

Actual (Unparsed): [[2.2454246, 1.0206500]]

Expected (Unparsed): [[2.24542465,1.02065]]

Actual:   [[2.2455, 1.0207]]

Expected: [[2.2455, 1.0207]]