import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max32887 = tf.keras.layers.Input(shape=([1, 1, 1, 1]))
in1Max32887 = tf.keras.layers.Input(shape=([1, 1, 1, 1]))
in0Ave78826 = tf.keras.layers.Input(shape=([1, 1, 1]))

Max32887 = keras.layers.Maximum(name = 'Max32887', )([in0Max32887,in1Max32887])
Res11141 = keras.layers.Reshape((1, 1, 1), name = 'Res11141', )(Max32887)
Ave78826 = keras.layers.AveragePooling2D(pool_size=(1, 1), strides=(1, 1), padding='valid', name = 'Ave78826', )(in0Ave78826)
Sub68877 = keras.layers.Subtract(name = 'Sub68877', )([Res11141,Ave78826])
model = tf.keras.models.Model(inputs=[in0Max32887,in1Max32887,in0Ave78826], outputs=Sub68877)
in0Max32887 = tf.constant([[[[[0.7786]]]]])
in1Max32887 = tf.constant([[[[[0.4292]]]]])
in0Ave78826 = tf.constant([[[[1.6365]]]])
print (np.array2string(model.predict([in0Max32887,in1Max32887,in0Ave78826],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sub68877.png')

LMax32887 = maximum_layer([[[[[[0.7786]]]]], [[[[[0.4292]]]]]], Max32887), 
LRes11141 = reshape_layer(Max32887, [1, 1, 1], Res11141), 
LAve78826 = average_pooling2D_layer([[[[1.6365]]]], 1, 1, 1, 1, false, Ave78826), 
LSub68877 = subtract_layer(Res11141,Ave78826, Sub68877), 
exec_layers([LMax32887,LRes11141,LAve78826,LSub68877],["Max32887","Res11141","Ave78826","Sub68877"],Sub68877,"Sub68877")

Actual (Unparsed): [[[[-0.8579000]]]]

Expected (Unparsed): [[[[-0.8579000000000001]]]]

Actual:   [[[[-0.8579]]]]

Expected: [[[[-0.8579]]]]