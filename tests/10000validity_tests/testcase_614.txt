import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul65708 = tf.keras.layers.Input(shape=([1, 2, 1, 1]))
in1Mul65708 = tf.keras.layers.Input(shape=([1, 2, 1, 1]))
in0Con41927 = tf.keras.layers.Input(shape=([1, 2, 1]))
in0Ave47266 = tf.keras.layers.Input(shape=([1, 2, 2]))
in1Ave47266 = tf.keras.layers.Input(shape=([1, 2, 2]))

Mul65708 = keras.layers.Multiply(name = 'Mul65708', )([in0Mul65708,in1Mul65708])
Res24862 = keras.layers.Reshape((1, 2, 1), name = 'Res24862', )(Mul65708)
Con41927 = keras.layers.Concatenate(axis=3, name = 'Con41927', )([Res24862,in0Con41927])
Ave47266 = keras.layers.Average(name = 'Ave47266', )([in0Ave47266,in1Ave47266])
Min70099 = keras.layers.Minimum(name = 'Min70099', )([Con41927,Ave47266])
model = tf.keras.models.Model(inputs=[in0Mul65708,in1Mul65708,in0Con41927,in0Ave47266,in1Ave47266], outputs=Min70099)
in0Mul65708 = tf.constant([[[[[0.3136]], [[0.5435]]]]])
in1Mul65708 = tf.constant([[[[[0.5956]], [[0.6542]]]]])
in0Con41927 = tf.constant([[[[0.9668], [0.6337]]]])
in0Ave47266 = tf.constant([[[[0.2745, 0.6125], [0.1366, 0.0992]]]])
in1Ave47266 = tf.constant([[[[0.1215, 0.8145], [0.9215, 0.7555]]]])
print (np.array2string(model.predict([in0Mul65708,in1Mul65708,in0Con41927,in0Ave47266,in1Ave47266],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min70099.png')

LMul65708 = multiply_layer([[[[[[0.3136]], [[0.5435]]]]], [[[[[0.5956]], [[0.6542]]]]]], Mul65708), 
LRes24862 = reshape_layer(Mul65708, [1, 2, 1], Res24862), 
LCon41927 = concatenate_layer([Res24862,[[[[0.9668], [0.6337]]]]], 3, Con41927), 
LAve47266 = average_layer([[[[[0.2745, 0.6125], [0.1366, 0.0992]]]], [[[[0.1215, 0.8145], [0.9215, 0.7555]]]]], Ave47266), 
LMin70099 = minimum_layer([Con41927,Ave47266], Min70099), 
exec_layers([LMul65708,LRes24862,LCon41927,LAve47266,LMin70099],["Mul65708","Res24862","Con41927","Ave47266","Min70099"],Min70099,"Min70099")

Actual (Unparsed): [[[[0.1867802, 0.7135000], [0.3555577, 0.4273500]]]]

Expected (Unparsed): [[[[0.18678016,0.7135],[0.3555577,0.42734999999999995]]]]

Actual:   [[[[0.1868, 0.7135], [0.3556, 0.4274]]]]

Expected: [[[[0.1868, 0.7135], [0.3556, 0.4274]]]]