import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Lea63710 = tf.keras.layers.Input(shape=([1, 2]))

Lea63710 = keras.layers.LeakyReLU(alpha=6.591027233826103, name = 'Lea63710', input_shape=(1, 2))(in0Lea63710)
LST18954 = keras.layers.LSTM(1,recurrent_activation='sigmoid', name = 'LST18954', )(Lea63710)
ReL36099 = keras.layers.ReLU(max_value=3.9013423536597585, negative_slope=6.337277377004472, threshold=4.381894878172048, name = 'ReL36099', )(LST18954)
Res66063 = keras.layers.Reshape((1, 1), name = 'Res66063', )(ReL36099)
Res3857 = keras.layers.Reshape((1, 1, 1), name = 'Res3857', )(Res66063)
Res25445 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res25445', )(Res3857)
Glo85528 = keras.layers.GlobalMaxPool3D(name = 'Glo85528', )(Res25445)
Den57164 = keras.layers.Dense(3,name = 'Den57164', )(Glo85528)
model = tf.keras.models.Model(inputs=[in0Lea63710], outputs=Den57164)
w = model.get_layer('LST18954').get_weights() 
w[0] = np.array([[2, 4, 10, 9], [8, 5, 2, 2]])
w[1] = np.array([[10, 3, 1, 4]])
w[2] = np.array([7, 5, 3, 7])
model.get_layer('LST18954').set_weights(w) 
w = model.get_layer('Den57164').get_weights() 
w[0] = np.array([[0.0156, 0.9695, 0.1506]])
w[1] = np.array([0.3977, 0.8281, 0.8999])
model.get_layer('Den57164').set_weights(w) 
in0Lea63710 = tf.constant([[[0.6696, 0.2219]]])
print (np.array2string(model.predict([in0Lea63710],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Den57164.png')

LLea63710 = leaky_relu_layer([[[0.6696, 0.2219]]], 6.591027233826103, Lea63710), 
LLST18954 = lstm_layer(Lea63710,[[2, 4, 10, 9], [8, 5, 2, 2]],[[10, 3, 1, 4]],[7, 5, 3, 7], LST18954), 
LReL36099 = relu_layer(LST18954, 3.9013423536597585, 6.337277377004472, 4.381894878172048, ReL36099), 
LRes66063 = reshape_layer(ReL36099, [1, 1], Res66063), 
LRes3857 = reshape_layer(Res66063, [1, 1, 1], Res3857), 
LRes25445 = reshape_layer(Res3857, [1, 1, 1, 1], Res25445), 
LGlo85528 = global_max_pool3D_layer(Res25445, Glo85528), 
LDen57164 = dense_layer(Glo85528, [[0.0156, 0.9695, 0.1506]],[0.3977, 0.8281, 0.8999], Den57164), 
exec_layers([LLea63710,LLST18954,LReL36099,LRes66063,LRes3857,LRes25445,LGlo85528,LDen57164],["Lea63710","LST18954","ReL36099","Res66063","Res3857","Res25445","Glo85528","Den57164"],Den57164,"Den57164")

Actual (Unparsed): [[0.0397898, -21.4151040, -2.5553104]]

Expected (Unparsed): [[0.0397897544425419,-21.41510404281767,-2.5553104474969994]]

Actual:   [[0.0398, -21.4151, -2.5553]]

Expected: [[0.0398, -21.4151, -2.5553]]