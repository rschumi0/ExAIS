import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub18189 = tf.keras.layers.Input(shape=([2, 3]))
in1Sub18189 = tf.keras.layers.Input(shape=([2, 3]))

Sub18189 = keras.layers.Subtract(name = 'Sub18189', )([in0Sub18189,in1Sub18189])
Den50847 = keras.layers.Dense(3,name = 'Den50847', )(Sub18189)
model = tf.keras.models.Model(inputs=[in0Sub18189,in1Sub18189], outputs=Den50847)
w = model.get_layer('Den50847').get_weights() 
w[0] = np.array([[0.0173, 0.1119, 0.1002], [0.8695, 0.1853, 0.3061], [0.655, 0.5595, 0.6067]])
w[1] = np.array([0.726, 0.5794, 0.969])
model.get_layer('Den50847').set_weights(w) 
in0Sub18189 = tf.constant([[[0.8213, 0.7873, 0.5616], [0.0516, 0.584, 0.5338]]])
in1Sub18189 = tf.constant([[[0.9106, 0.9556, 0.982], [0.5308, 0.5334, 0.8295]]])
print (np.array2string(model.predict([in0Sub18189,in1Sub18189],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Den50847.png')

LSub18189 = subtract_layer([[[0.8213, 0.7873, 0.5616], [0.0516, 0.584, 0.5338]]], [[[0.9106, 0.9556, 0.982], [0.5308, 0.5334, 0.8295]]], Sub18189), 
LDen50847 = dense_layer(Sub18189, [[0.0173, 0.1119, 0.1002], [0.8695, 0.1853, 0.3061], [0.655, 0.5595, 0.6067]],[0.726, 0.5794, 0.969], Den50847), 
exec_layers([LSub18189,LDen50847],["Sub18189","Den50847"],Den50847,"Den50847")

Actual (Unparsed): [[[0.3027563, 0.3030076, 0.6534788], [0.5680230, 0.3697095, 0.7570716]]]

Expected (Unparsed): [[[0.3027562599999999,0.30300753999999996,0.6534788300000001],[0.5680230399999999,0.36970954999999994,0.75707163]]]

Actual:   [[[0.3028, 0.3031, 0.6535], [0.5681, 0.3698, 0.7571]]]

Expected: [[[0.3028, 0.3031, 0.6535], [0.5681, 0.3698, 0.7571]]]