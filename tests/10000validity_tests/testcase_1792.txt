import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub97603 = tf.keras.layers.Input(shape=([3]))
in1Sub97603 = tf.keras.layers.Input(shape=([3]))

Sub97603 = keras.layers.Subtract(name = 'Sub97603', )([in0Sub97603,in1Sub97603])
Res67803 = keras.layers.Reshape((3, 1), name = 'Res67803', )(Sub97603)
Cro27905 = keras.layers.Cropping1D(cropping=((0, 0)), name = 'Cro27905', )(Res67803)
Res2817 = keras.layers.Reshape((3, 1, 1), name = 'Res2817', )(Cro27905)
Res64829 = keras.layers.Reshape((3, 1, 1, 1), name = 'Res64829', )(Res2817)
Up_81446 = keras.layers.UpSampling3D(size=(1, 1, 2), name = 'Up_81446', )(Res64829)
model = tf.keras.models.Model(inputs=[in0Sub97603,in1Sub97603], outputs=Up_81446)
in0Sub97603 = tf.constant([[0.2297, 0.5724, 0.4467]])
in1Sub97603 = tf.constant([[0.4876, 0.2695, 0.6345]])
print (np.array2string(model.predict([in0Sub97603,in1Sub97603],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Up_81446.png')

LSub97603 = subtract_layer([[0.2297, 0.5724, 0.4467]], [[0.4876, 0.2695, 0.6345]], Sub97603), 
LRes67803 = reshape_layer(Sub97603, [3, 1], Res67803), 
LCro27905 = cropping1D_layer(Res67803, 0, 0, Cro27905), 
LRes2817 = reshape_layer(Cro27905, [3, 1, 1], Res2817), 
LRes64829 = reshape_layer(Res2817, [3, 1, 1, 1], Res64829), 
LUp_81446 = up_sampling3D_layer(Res64829, 1, 1, 2, Up_81446), 
exec_layers([LSub97603,LRes67803,LCro27905,LRes2817,LRes64829,LUp_81446],["Sub97603","Res67803","Cro27905","Res2817","Res64829","Up_81446"],Up_81446,"Up_81446")

Actual (Unparsed): [[[[[-0.2579000], [-0.2579000]]], [[[0.3029000], [0.3029000]]], [[[-0.1878000], [-0.1878000]]]]]

Expected (Unparsed): [[[[[-0.2579],[-0.2579]]],[[[0.3029],[0.3029]]],[[[-0.18779999999999997],[-0.18779999999999997]]]]]

Actual:   [[[[[-0.2579], [-0.2579]]], [[[0.3029], [0.3029]]], [[[-0.1878], [-0.1878]]]]]

Expected: [[[[[-0.2579], [-0.2579]]], [[[0.3029], [0.3029]]], [[[-0.1877], [-0.1877]]]]]