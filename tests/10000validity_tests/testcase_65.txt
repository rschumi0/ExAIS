import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Zer54856 = tf.keras.layers.Input(shape=([4, 1]))
in0Con94834 = tf.keras.layers.Input(shape=([1, 1, 2, 2]))
in0Mul11606 = tf.keras.layers.Input(shape=([1, 2]))
in1Mul11606 = tf.keras.layers.Input(shape=([1, 2]))
in0Con2030 = tf.keras.layers.Input(shape=([1, 2]))
in0Con29216 = tf.keras.layers.Input(shape=([3]))

Zer54856 = keras.layers.ZeroPadding1D(padding=((1, 1)), name = 'Zer54856', )(in0Zer54856)
Res16005 = keras.layers.Reshape((6, 1, 1), name = 'Res16005', )(Zer54856)
Res35817 = keras.layers.Reshape((6, 1, 1, 1), name = 'Res35817', )(Res16005)
Cro35085 = keras.layers.Cropping3D(cropping=((0, 2), (0, 0), (0, 0)), name = 'Cro35085', )(Res35817)
Res72063 = keras.layers.Reshape((4, 1, 1), name = 'Res72063', )(Cro35085)
Res30951 = keras.layers.Reshape((4, 1), name = 'Res30951', )(Res72063)
Fla33821 = keras.layers.Flatten(name = 'Fla33821', )(Res30951)
Con94834 = keras.layers.Conv3DTranspose(2, (1, 1, 1),strides=(1, 1, 1), padding='valid', name = 'Con94834', )(in0Con94834)
Res28807 = keras.layers.Reshape((1, 1, 4), name = 'Res28807', )(Con94834)
Res85365 = keras.layers.Reshape((1, 4), name = 'Res85365', )(Res28807)
Mul11606 = keras.layers.Multiply(name = 'Mul11606', )([in0Mul11606,in1Mul11606])
Con2030 = keras.layers.Concatenate(axis=2, name = 'Con2030', )([Mul11606,in0Con2030])
Mul7837 = keras.layers.Multiply(name = 'Mul7837', )([Res85365,Con2030])
ReL78548 = keras.layers.ReLU(max_value=5.065372443900478, negative_slope=2.1230040339925855, threshold=9.779604980799308, name = 'ReL78548', )(Mul7837)
Res62917 = keras.layers.Reshape((1, 4, 1), name = 'Res62917', )(ReL78548)
Res98577 = keras.layers.Reshape((1, 4, 1, 1), name = 'Res98577', )(Res62917)
Glo84968 = keras.layers.GlobalMaxPool3D(name = 'Glo84968', )(Res98577)
Con29216 = keras.layers.Concatenate(axis=1, name = 'Con29216', )([Glo84968,in0Con29216])
Add46359 = keras.layers.Add(name = 'Add46359', )([Fla33821,Con29216])
model = tf.keras.models.Model(inputs=[in0Zer54856,in0Con94834,in0Mul11606,in1Mul11606,in0Con2030,in0Con29216], outputs=Add46359)
w = model.get_layer('Con94834').get_weights() 
w[0] = np.array([[[[[0.0732, 0.5711], [0.9449, 0.0956]]]]])
w[1] = np.array([0, 0])
model.get_layer('Con94834').set_weights(w) 
in0Zer54856 = tf.constant([[[1.509], [1.879], [1.9142], [1.8074]]])
in0Con94834 = tf.constant([[[[[0.058, 0.9618], [0.8681, 0.6262]]]]])
in0Mul11606 = tf.constant([[[0.1232, 0.587]]])
in1Mul11606 = tf.constant([[[0.8575, 0.1719]]])
in0Con2030 = tf.constant([[[0.9686, 0.6486]]])
in0Con29216 = tf.constant([[0.1431, 0.6134, 0.0306]])
print (np.array2string(model.predict([in0Zer54856,in0Con94834,in0Mul11606,in1Mul11606,in0Con2030,in0Con29216],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add46359.png')

LZer54856 = zero_padding1D_layer([[[1.509], [1.879], [1.9142], [1.8074]]], 1, 1, Zer54856), 
LRes16005 = reshape_layer(Zer54856, [6, 1, 1], Res16005), 
LRes35817 = reshape_layer(Res16005, [6, 1, 1, 1], Res35817), 
LCro35085 = cropping3D_layer(Res35817, 0, 2, 0, 0, 0, 0, Cro35085), 
LRes72063 = reshape_layer(Cro35085, [4, 1, 1], Res72063), 
LRes30951 = reshape_layer(Res72063, [4, 1], Res30951), 
LFla33821 = flatten_layer(Res30951, Fla33821), 
LCon94834 = conv3D_transpose_layer([[[[[0.058, 0.9618], [0.8681, 0.6262]]]]], 1, 1, 1,[[[[[0.0732, 0.5711], [0.9449, 0.0956]]]]],[0, 0], 1, 1, 1, false, Con94834), 
LRes28807 = reshape_layer(Con94834, [1, 1, 4], Res28807), 
LRes85365 = reshape_layer(Res28807, [1, 4], Res85365), 
LMul11606 = multiply_layer([[[[0.1232, 0.587]]], [[[0.8575, 0.1719]]]], Mul11606), 
LCon2030 = concatenate_layer([Mul11606,[[[0.9686, 0.6486]]]], 2, Con2030), 
LMul7837 = multiply_layer([Res85365,Con2030], Mul7837), 
LReL78548 = relu_layer(Mul7837, 5.065372443900478, 2.1230040339925855, 9.779604980799308, ReL78548), 
LRes62917 = reshape_layer(ReL78548, [1, 4, 1], Res62917), 
LRes98577 = reshape_layer(Res62917, [1, 4, 1, 1], Res98577), 
LGlo84968 = global_max_pool3D_layer(Res98577, Glo84968), 
LCon29216 = concatenate_layer([Glo84968,[[0.1431, 0.6134, 0.0306]]], 1, Con29216), 
LAdd46359 = add_layer([Fla33821,Con29216], Add46359), 
exec_layers([LZer54856,LRes16005,LRes35817,LCro35085,LRes72063,LRes30951,LFla33821,LCon94834,LRes28807,LRes85365,LMul11606,LCon2030,LMul7837,LReL78548,LRes62917,LRes98577,LGlo84968,LCon29216,LAdd46359],["Zer54856","Res16005","Res35817","Cro35085","Res72063","Res30951","Fla33821","Con94834","Res28807","Res85365","Mul11606","Con2030","Mul7837","ReL78548","Res62917","Res98577","Glo84968","Con29216","Add46359"],Add46359,"Add46359")

Actual (Unparsed): [[-19.5502158, 1.6520999, 2.4923999, 1.9447999]]

Expected (Unparsed): [[-19.55021573264009,1.6521,2.4924,1.9447999999999999]]

Actual:   [[-19.5502, 1.6521, 2.4924, 1.9448]]

Expected: [[-19.5502, 1.6521, 2.4924, 1.9448]]