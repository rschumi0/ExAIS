import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo70088 = tf.keras.layers.Input(shape=([2, 2, 2, 1]))

Glo70088 = keras.layers.GlobalAveragePooling3D(name = 'Glo70088', )(in0Glo70088)
Res36638 = keras.layers.Reshape((1, 1), name = 'Res36638', )(Glo70088)
Up_4696 = keras.layers.UpSampling1D(size=(1), name = 'Up_4696', )(Res36638)
Res22373 = keras.layers.Reshape((1, 1, 1), name = 'Res22373', )(Up_4696)
Glo85375 = keras.layers.GlobalMaxPool2D(name = 'Glo85375', )(Res22373)
Res12756 = keras.layers.Reshape((1, 1), name = 'Res12756', )(Glo85375)
Res6341 = keras.layers.Reshape((1, 1, 1), name = 'Res6341', )(Res12756)
Max79925 = keras.layers.MaxPool2D(pool_size=(1, 1), name = 'Max79925', )(Res6341)
model = tf.keras.models.Model(inputs=[in0Glo70088], outputs=Max79925)
in0Glo70088 = tf.constant([[[[[1.2604], [1.9064]], [[1.2493], [1.4433]]], [[[1.4008], [1.9093]], [[1.8622], [1.2642]]]]])
print (np.array2string(model.predict([in0Glo70088],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max79925.png')

LGlo70088 = global_average_pooling3D_layer([[[[[1.2604], [1.9064]], [[1.2493], [1.4433]]], [[[1.4008], [1.9093]], [[1.8622], [1.2642]]]]], Glo70088), 
LRes36638 = reshape_layer(Glo70088, [1, 1], Res36638), 
LUp_4696 = up_sampling1D_layer(Res36638, 1, Up_4696), 
LRes22373 = reshape_layer(Up_4696, [1, 1, 1], Res22373), 
LGlo85375 = global_max_pool2D_layer(Res22373, Glo85375), 
LRes12756 = reshape_layer(Glo85375, [1, 1], Res12756), 
LRes6341 = reshape_layer(Res12756, [1, 1, 1], Res6341), 
LMax79925 = max_pool2D_layer(Res6341, 1, 1, Max79925), 
exec_layers([LGlo70088,LRes36638,LUp_4696,LRes22373,LGlo85375,LRes12756,LRes6341,LMax79925],["Glo70088","Res36638","Up_4696","Res22373","Glo85375","Res12756","Res6341","Max79925"],Max79925,"Max79925")

Actual (Unparsed): [[[[1.5369875]]]]

Expected (Unparsed): [[[[1.5369875000000002]]]]

Actual:   [[[[1.537]]]]

Expected: [[[[1.537]]]]