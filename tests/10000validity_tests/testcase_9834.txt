import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot85805 = tf.keras.layers.Input(shape=([2]))
in1Dot85805 = tf.keras.layers.Input(shape=([2]))

Dot85805 = keras.layers.Dot(axes=(1, 1), name = 'Dot85805', )([in0Dot85805,in1Dot85805])
Res29552 = keras.layers.Reshape((1, 1), name = 'Res29552', )(Dot85805)
Sep57680 = keras.layers.SeparableConv1D(3, (1),strides=(1), padding='same', name = 'Sep57680', )(Res29552)
Res22888 = keras.layers.Reshape((1, 3, 1), name = 'Res22888', )(Sep57680)
Res90182 = keras.layers.Reshape((1, 3, 1, 1), name = 'Res90182', )(Res22888)
Con50802 = keras.layers.Conv3DTranspose(2, (1, 3, 1),strides=(1, 1, 1), padding='same', name = 'Con50802', )(Res90182)
model = tf.keras.models.Model(inputs=[in0Dot85805,in1Dot85805], outputs=Con50802)
w = model.get_layer('Sep57680').get_weights() 
w[0] = np.array([[[0.4966]]])
w[1] = np.array([[[0.5517, 0.0289, 0.587]]])
w[2] = np.array([0, 0, 0])
model.get_layer('Sep57680').set_weights(w) 
w = model.get_layer('Con50802').get_weights() 
w[0] = np.array([[[[[0.2852], [0.9385]]], [[[0.9585], [0.7042]]], [[[0.4507], [0.9215]]]]])
w[1] = np.array([0, 0])
model.get_layer('Con50802').set_weights(w) 
in0Dot85805 = tf.constant([[0.6341, 0.2975]])
in1Dot85805 = tf.constant([[0.1925, 0.0173]])
print (np.array2string(model.predict([in0Dot85805,in1Dot85805],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Con50802.png')

LDot85805 = dot_layer([[0.6341, 0.2975]], [[0.1925, 0.0173]], 1, 1, Dot85805), 
LRes29552 = reshape_layer(Dot85805, [1, 1], Res29552), 
LSep57680 = separable_conv1D_layer(Res29552, 1,[[[[0.4966]]],[[[0.5517, 0.0289, 0.587]]]],[0, 0, 0], 1, true, Sep57680), 
LRes22888 = reshape_layer(Sep57680, [1, 3, 1], Res22888), 
LRes90182 = reshape_layer(Res22888, [1, 3, 1, 1], Res90182), 
LCon50802 = conv3D_transpose_layer(Res90182, 1, 3, 1,[[[[[0.2852], [0.9385]]], [[[0.9585], [0.7042]]], [[[0.4507], [0.9215]]]]],[0, 0], 1, 1, 1, true, Con50802), 
exec_layers([LDot85805,LRes29552,LSep57680,LRes22888,LRes90182,LCon50802],["Dot85805","Res29552","Sep57680","Res22888","Res90182","Con50802"],Con50802,"Con50802")

Actual (Unparsed): [[[[[0.0339268, 0.0262566]], [[0.0280339, 0.0682042]], [[0.0363665, 0.0277959]]]]]

Expected (Unparsed): [[[[[0.033926843729676893,0.02625657349171165]],[[0.02803391061202222,0.06820423244461171]],[[0.0363664579717237,0.02779590703180655]]]]]

Actual:   [[[[[0.034, 0.0263]], [[0.0281, 0.0683]], [[0.0364, 0.0278]]]]]

Expected: [[[[[0.034, 0.0263]], [[0.0281, 0.0683]], [[0.0364, 0.0278]]]]]