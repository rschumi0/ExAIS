import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sof59968 = tf.keras.layers.Input(shape=([1, 2]))
in0Con1128 = tf.keras.layers.Input(shape=([3]))
in0Ave57311 = tf.keras.layers.Input(shape=([2, 2]))
in1Ave57311 = tf.keras.layers.Input(shape=([2, 2]))
in0Glo68193 = tf.keras.layers.Input(shape=([2, 2]))
in0Con90473 = tf.keras.layers.Input(shape=([2]))

Sof59968 = keras.layers.Softmax(axis=1, name = 'Sof59968', input_shape=(1, 2))(in0Sof59968)
Res35118 = keras.layers.Reshape((1, 2, 1), name = 'Res35118', )(Sof59968)
Ave96242 = keras.layers.AveragePooling2D(pool_size=(1, 2), name = 'Ave96242', )(Res35118)
Res38675 = keras.layers.Reshape((1, 1), name = 'Res38675', )(Ave96242)
Fla95522 = keras.layers.Flatten(name = 'Fla95522', )(Res38675)
Con1128 = keras.layers.Concatenate(axis=1, name = 'Con1128', )([Fla95522,in0Con1128])
Ave57311 = keras.layers.Average(name = 'Ave57311', )([in0Ave57311,in1Ave57311])
Fla13656 = keras.layers.Flatten(name = 'Fla13656', )(Ave57311)
Glo68193 = keras.layers.GlobalMaxPool1D(name = 'Glo68193', )(in0Glo68193)
Con90473 = keras.layers.Concatenate(axis=1, name = 'Con90473', )([Glo68193,in0Con90473])
Mul33056 = keras.layers.Multiply(name = 'Mul33056', )([Fla13656,Con90473])
Min75102 = keras.layers.Minimum(name = 'Min75102', )([Con1128,Mul33056])
model = tf.keras.models.Model(inputs=[in0Sof59968,in0Con1128,in0Ave57311,in1Ave57311,in0Glo68193,in0Con90473], outputs=Min75102)
in0Sof59968 = tf.constant([[[0.9866, 0.7277]]])
in0Con1128 = tf.constant([[0.3097, 0.753, 0.9241]])
in0Ave57311 = tf.constant([[[0.9179, 0.3281], [0.2228, 0.0779]]])
in1Ave57311 = tf.constant([[[0.3931, 0.618], [0.9566, 0.509]]])
in0Glo68193 = tf.constant([[[1.7626, 1.2078], [1.2626, 1.3249]]])
in0Con90473 = tf.constant([[0.8243, 0.6918]])
print (np.array2string(model.predict([in0Sof59968,in0Con1128,in0Ave57311,in1Ave57311,in0Glo68193,in0Con90473],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min75102.png')

LSof59968 = softmax_layer([[[0.9866, 0.7277]]], 1, Sof59968), 
LRes35118 = reshape_layer(Sof59968, [1, 2, 1], Res35118), 
LAve96242 = average_pooling2D_layer(Res35118, 1, 2, Ave96242), 
LRes38675 = reshape_layer(Ave96242, [1, 1], Res38675), 
LFla95522 = flatten_layer(Res38675, Fla95522), 
LCon1128 = concatenate_layer([Fla95522,[[0.3097, 0.753, 0.9241]]], 1, Con1128), 
LAve57311 = average_layer([[[[0.9179, 0.3281], [0.2228, 0.0779]]], [[[0.3931, 0.618], [0.9566, 0.509]]]], Ave57311), 
LFla13656 = flatten_layer(Ave57311, Fla13656), 
LGlo68193 = global_max_pool1D_layer([[[1.7626, 1.2078], [1.2626, 1.3249]]], Glo68193), 
LCon90473 = concatenate_layer([Glo68193,[[0.8243, 0.6918]]], 1, Con90473), 
LMul33056 = multiply_layer([Fla13656,Con90473], Mul33056), 
LMin75102 = minimum_layer([Con1128,Mul33056], Min75102), 
exec_layers([LSof59968,LRes35118,LAve96242,LRes38675,LFla95522,LCon1128,LAve57311,LFla13656,LGlo68193,LCon90473,LMul33056,LMin75102],["Sof59968","Res35118","Ave96242","Res38675","Fla95522","Con1128","Ave57311","Fla13656","Glo68193","Con90473","Mul33056","Min75102"],Min75102,"Min75102")

Actual (Unparsed): [[1.0000000, 0.3097000, 0.4860897, 0.2030087]]

Expected (Unparsed): [[1.0,0.3097,0.48608971,0.20300870999999998]]

Actual:   [[1, 0.3097, 0.4861, 0.2031]]

Expected: [[1, 0.3097, 0.4861, 0.2031]]