import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min25722 = tf.keras.layers.Input(shape=([1, 1, 2, 1]))
in1Min25722 = tf.keras.layers.Input(shape=([1, 1, 2, 1]))
in0Dot68147 = tf.keras.layers.Input(shape=([3, 3]))
in1Dot68147 = tf.keras.layers.Input(shape=([3, 3]))
in0Con35553 = tf.keras.layers.Input(shape=([2, 1, 1]))

Min25722 = keras.layers.Minimum(name = 'Min25722', )([in0Min25722,in1Min25722])
Res39039 = keras.layers.Reshape((1, 1, 2), name = 'Res39039', )(Min25722)
Zer85350 = keras.layers.ZeroPadding2D(padding=((1, 0), (0, 0)), name = 'Zer85350', )(Res39039)
Dot68147 = keras.layers.Dot(axes=(2, 1), name = 'Dot68147', )([in0Dot68147,in1Dot68147])
Res39876 = keras.layers.Reshape((3, 3, 1), name = 'Res39876', )(Dot68147)
Cro3018 = keras.layers.Cropping2D(cropping=((0, 1), (0, 2)), name = 'Cro3018', )(Res39876)
Con35553 = keras.layers.Concatenate(axis=3, name = 'Con35553', )([Cro3018,in0Con35553])
Mul51450 = keras.layers.Multiply(name = 'Mul51450', )([Zer85350,Con35553])
Cro9707 = keras.layers.Cropping2D(cropping=((0, 0), (0, 0)), name = 'Cro9707', )(Mul51450)
model = tf.keras.models.Model(inputs=[in0Min25722,in1Min25722,in0Dot68147,in1Dot68147,in0Con35553], outputs=Cro9707)
in0Min25722 = tf.constant([[[[[0.3989], [0.5175]]]]])
in1Min25722 = tf.constant([[[[[0.754], [0.1965]]]]])
in0Dot68147 = tf.constant([[[0.951, 0.4848, 0.6087], [0.6627, 0.5294, 0.8093], [0.6756, 0.0118, 0.7939]]])
in1Dot68147 = tf.constant([[[0.7149, 0.6103, 0.9667], [0.9111, 0.4944, 0.1145], [0.855, 0.0925, 0.0838]]])
in0Con35553 = tf.constant([[[[0.9223]], [[0.3872]]]])
print (np.array2string(model.predict([in0Min25722,in1Min25722,in0Dot68147,in1Dot68147,in0Con35553],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Cro9707.png')

LMin25722 = minimum_layer([[[[[[0.3989], [0.5175]]]]], [[[[[0.754], [0.1965]]]]]], Min25722), 
LRes39039 = reshape_layer(Min25722, [1, 1, 2], Res39039), 
LZer85350 = zero_padding2D_layer(Res39039, 1, 0, 0, 0, Zer85350), 
LDot68147 = dot_layer([[[0.951, 0.4848, 0.6087], [0.6627, 0.5294, 0.8093], [0.6756, 0.0118, 0.7939]]], [[[0.7149, 0.6103, 0.9667], [0.9111, 0.4944, 0.1145], [0.855, 0.0925, 0.0838]]], 2, 1, Dot68147), 
LRes39876 = reshape_layer(Dot68147, [3, 3, 1], Res39876), 
LCro3018 = cropping2D_layer(Res39876, 0, 1, 0, 2, Cro3018), 
LCon35553 = concatenate_layer([Cro3018,[[[[0.9223]], [[0.3872]]]]], 3, Con35553), 
LMul51450 = multiply_layer([Zer85350,Con35553], Mul51450), 
LCro9707 = cropping2D_layer(Mul51450, 0, 0, 0, 0, Cro9707), 
exec_layers([LMin25722,LRes39039,LZer85350,LDot68147,LRes39876,LCro3018,LCon35553,LMul51450,LCro9707],["Min25722","Res39039","Zer85350","Dot68147","Res39876","Cro3018","Con35553","Mul51450","Cro9707"],Cro9707,"Cro9707")

Actual (Unparsed): [[[[0.0000000, 0.0000000]], [[0.6574080, 0.0760848]]]]

Expected (Unparsed): [[[[0.0,0.0]],[[0.657407970723,0.0760848]]]]

Actual:   [[[[0, 0]], [[0.6575, 0.0761]]]]

Expected: [[[[0, 0]], [[0.6575, 0.0761]]]]