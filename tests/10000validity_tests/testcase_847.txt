import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub82087 = tf.keras.layers.Input(shape=([2]))
in1Sub82087 = tf.keras.layers.Input(shape=([2]))
in0Add82669 = tf.keras.layers.Input(shape=([2, 1]))
in1Add82669 = tf.keras.layers.Input(shape=([2, 1]))
in0Con24642 = tf.keras.layers.Input(shape=([1]))

Sub82087 = keras.layers.Subtract(name = 'Sub82087', )([in0Sub82087,in1Sub82087])
Add82669 = keras.layers.Add(name = 'Add82669', )([in0Add82669,in1Add82669])
Res15117 = keras.layers.Reshape((2, 1, 1), name = 'Res15117', )(Add82669)
Res31605 = keras.layers.Reshape((2, 1, 1, 1), name = 'Res31605', )(Res15117)
Glo46379 = keras.layers.GlobalMaxPool3D(name = 'Glo46379', )(Res31605)
Con24642 = keras.layers.Concatenate(axis=1, name = 'Con24642', )([Glo46379,in0Con24642])
Max53138 = keras.layers.Maximum(name = 'Max53138', )([Sub82087,Con24642])
Res75919 = keras.layers.Reshape((2, 1), name = 'Res75919', )(Max53138)
Res82150 = keras.layers.Reshape((2, 1, 1), name = 'Res82150', )(Res75919)
Res78577 = keras.layers.Reshape((2, 1, 1, 1), name = 'Res78577', )(Res82150)
Cro1789 = keras.layers.Cropping3D(cropping=((1, 0), (0, 0), (0, 0)), name = 'Cro1789', )(Res78577)
model = tf.keras.models.Model(inputs=[in0Sub82087,in1Sub82087,in0Add82669,in1Add82669,in0Con24642], outputs=Cro1789)
in0Sub82087 = tf.constant([[0.3908, 0.4839]])
in1Sub82087 = tf.constant([[0.3985, 0.8216]])
in0Add82669 = tf.constant([[[0.2731], [0.0094]]])
in1Add82669 = tf.constant([[[0.0276], [0.2228]]])
in0Con24642 = tf.constant([[0.7221]])
print (np.array2string(model.predict([in0Sub82087,in1Sub82087,in0Add82669,in1Add82669,in0Con24642],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Cro1789.png')

LSub82087 = subtract_layer([[0.3908, 0.4839]], [[0.3985, 0.8216]], Sub82087), 
LAdd82669 = add_layer([[[[0.2731], [0.0094]]], [[[0.0276], [0.2228]]]], Add82669), 
LRes15117 = reshape_layer(Add82669, [2, 1, 1], Res15117), 
LRes31605 = reshape_layer(Res15117, [2, 1, 1, 1], Res31605), 
LGlo46379 = global_max_pool3D_layer(Res31605, Glo46379), 
LCon24642 = concatenate_layer([Glo46379,[[0.7221]]], 1, Con24642), 
LMax53138 = maximum_layer([Sub82087,Con24642], Max53138), 
LRes75919 = reshape_layer(Max53138, [2, 1], Res75919), 
LRes82150 = reshape_layer(Res75919, [2, 1, 1], Res82150), 
LRes78577 = reshape_layer(Res82150, [2, 1, 1, 1], Res78577), 
LCro1789 = cropping3D_layer(Res78577, 1, 0, 0, 0, 0, 0, Cro1789), 
exec_layers([LSub82087,LAdd82669,LRes15117,LRes31605,LGlo46379,LCon24642,LMax53138,LRes75919,LRes82150,LRes78577,LCro1789],["Sub82087","Add82669","Res15117","Res31605","Glo46379","Con24642","Max53138","Res75919","Res82150","Res78577","Cro1789"],Cro1789,"Cro1789")

Actual (Unparsed): [[[[[0.7221000]]]]]

Expected (Unparsed): [[[[[0.7221]]]]]

Actual:   [[[[[0.7221]]]]]

Expected: [[[[[0.7221]]]]]