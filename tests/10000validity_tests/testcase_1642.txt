import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add4534 = tf.keras.layers.Input(shape=([2, 2, 1, 1]))
in1Add4534 = tf.keras.layers.Input(shape=([2, 2, 1, 1]))
in0Con893 = tf.keras.layers.Input(shape=([2, 2, 1]))
in0ELU30156 = tf.keras.layers.Input(shape=([1, 2, 2]))

Add4534 = keras.layers.Add(name = 'Add4534', )([in0Add4534,in1Add4534])
Res65291 = keras.layers.Reshape((2, 2, 1), name = 'Res65291', )(Add4534)
Con893 = keras.layers.Concatenate(axis=3, name = 'Con893', )([Res65291,in0Con893])
ELU30156 = keras.layers.ELU(alpha=-8.481849315558001, name = 'ELU30156', input_shape=(1, 2, 2))(in0ELU30156)
Zer9237 = keras.layers.ZeroPadding2D(padding=((1, 0), (0, 0)), name = 'Zer9237', )(ELU30156)
Sub427 = keras.layers.Subtract(name = 'Sub427', )([Con893,Zer9237])
model = tf.keras.models.Model(inputs=[in0Add4534,in1Add4534,in0Con893,in0ELU30156], outputs=Sub427)
in0Add4534 = tf.constant([[[[[0.3389]], [[0.0632]]], [[[0.5697]], [[0.3829]]]]])
in1Add4534 = tf.constant([[[[[0.4972]], [[0.8136]]], [[[0.981]], [[0.4747]]]]])
in0Con893 = tf.constant([[[[0.9875], [0.747]], [[0.2362], [0.1951]]]])
in0ELU30156 = tf.constant([[[[0.156, 0.4017], [0.5431, 0.6532]]]])
print (np.array2string(model.predict([in0Add4534,in1Add4534,in0Con893,in0ELU30156],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sub427.png')

LAdd4534 = add_layer([[[[[[0.3389]], [[0.0632]]], [[[0.5697]], [[0.3829]]]]], [[[[[0.4972]], [[0.8136]]], [[[0.981]], [[0.4747]]]]]], Add4534), 
LRes65291 = reshape_layer(Add4534, [2, 2, 1], Res65291), 
LCon893 = concatenate_layer([Res65291,[[[[0.9875], [0.747]], [[0.2362], [0.1951]]]]], 3, Con893), 
LELU30156 = elu_layer([[[[0.156, 0.4017], [0.5431, 0.6532]]]], -8.481849315558001, ELU30156), 
LZer9237 = zero_padding2D_layer(ELU30156, 1, 0, 0, 0, Zer9237), 
LSub427 = subtract_layer(Con893,Zer9237, Sub427), 
exec_layers([LAdd4534,LRes65291,LCon893,LELU30156,LZer9237,LSub427],["Add4534","Res65291","Con893","ELU30156","Zer9237","Sub427"],Sub427,"Sub427")

Actual (Unparsed): [[[[0.8361000, 0.9875000], [0.8768000, 0.7470000]], [[1.3947000, -0.1655000], [0.3145000, -0.4581000]]]]

Expected (Unparsed): [[[[0.8361,0.9875],[0.8768,0.747]],[[1.3947,-0.1655],[0.3145,-0.4581]]]]

Actual:   [[[[0.8361, 0.9875], [0.8768, 0.747]], [[1.3947, -0.1655], [0.3145, -0.4581]]]]

Expected: [[[[0.8361, 0.9875], [0.8768, 0.747]], [[1.3947, -0.1655], [0.3145, -0.4581]]]]