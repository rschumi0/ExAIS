import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul65782 = tf.keras.layers.Input(shape=([1, 1, 2, 2]))
in1Mul65782 = tf.keras.layers.Input(shape=([1, 1, 2, 2]))

Mul65782 = keras.layers.Multiply(name = 'Mul65782', )([in0Mul65782,in1Mul65782])
Res41870 = keras.layers.Reshape((1, 1, 4), name = 'Res41870', )(Mul65782)
Res8908 = keras.layers.Reshape((1, 4), name = 'Res8908', )(Res41870)
Max23356 = keras.layers.MaxPool1D(pool_size=(1), strides=(10), padding='valid', name = 'Max23356', )(Res8908)
model = tf.keras.models.Model(inputs=[in0Mul65782,in1Mul65782], outputs=Max23356)
in0Mul65782 = tf.constant([[[[[0.5648, 0.4818], [0.5162, 0.5803]]]]])
in1Mul65782 = tf.constant([[[[[0.8808, 0.8311], [0.0415, 0.2972]]]]])
print (np.array2string(model.predict([in0Mul65782,in1Mul65782],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max23356.png')

LMul65782 = multiply_layer([[[[[[0.5648, 0.4818], [0.5162, 0.5803]]]]], [[[[[0.8808, 0.8311], [0.0415, 0.2972]]]]]], Mul65782), 
LRes41870 = reshape_layer(Mul65782, [1, 1, 4], Res41870), 
LRes8908 = reshape_layer(Res41870, [1, 4], Res8908), 
LMax23356 = max_pool1D_layer(Res8908, 1, 10, false, Max23356), 
exec_layers([LMul65782,LRes41870,LRes8908,LMax23356],["Mul65782","Res41870","Res8908","Max23356"],Max23356,"Max23356")

Actual (Unparsed): [[[0.4974759, 0.4004240, 0.0214223, 0.1724651]]]

Expected (Unparsed): [[[0.49747584,0.40042397999999996,0.021422300000000002,0.17246516000000003]]]

Actual:   [[[0.4975, 0.4005, 0.0215, 0.1725]]]

Expected: [[[0.4975, 0.4005, 0.0215, 0.1725]]]