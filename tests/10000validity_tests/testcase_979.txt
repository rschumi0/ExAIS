import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max67895 = tf.keras.layers.Input(shape=([1, 2, 1, 1]))
in1Max67895 = tf.keras.layers.Input(shape=([1, 2, 1, 1]))
in0Dot94467 = tf.keras.layers.Input(shape=([3]))
in1Dot94467 = tf.keras.layers.Input(shape=([3]))
in0Dot58731 = tf.keras.layers.Input(shape=([2]))
in1Dot58731 = tf.keras.layers.Input(shape=([2]))

Max67895 = keras.layers.Maximum(name = 'Max67895', )([in0Max67895,in1Max67895])
ELU22774 = keras.layers.ELU(alpha=-8.755252163213543, name = 'ELU22774', )(Max67895)
Res9662 = keras.layers.Reshape((1, 2, 1), name = 'Res9662', )(ELU22774)
Glo82684 = keras.layers.GlobalMaxPool2D(name = 'Glo82684', )(Res9662)
Dot94467 = keras.layers.Dot(axes=(1, 1), name = 'Dot94467', )([in0Dot94467,in1Dot94467])
Dot58731 = keras.layers.Dot(axes=(1, 1), name = 'Dot58731', )([in0Dot58731,in1Dot58731])
Max48122 = keras.layers.Maximum(name = 'Max48122', )([Dot94467,Dot58731])
Ave83030 = keras.layers.Average(name = 'Ave83030', )([Glo82684,Max48122])
model = tf.keras.models.Model(inputs=[in0Max67895,in1Max67895,in0Dot94467,in1Dot94467,in0Dot58731,in1Dot58731], outputs=Ave83030)
in0Max67895 = tf.constant([[[[[0.6091]], [[0.6967]]]]])
in1Max67895 = tf.constant([[[[[0.6772]], [[0.5512]]]]])
in0Dot94467 = tf.constant([[0.987, 0.4398, 0.3463]])
in1Dot94467 = tf.constant([[0.0428, 0.9011, 0.5319]])
in0Dot58731 = tf.constant([[0.2822, 0.8821]])
in1Dot58731 = tf.constant([[0.5852, 0.8368]])
print (np.array2string(model.predict([in0Max67895,in1Max67895,in0Dot94467,in1Dot94467,in0Dot58731,in1Dot58731],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Ave83030.png')

LMax67895 = maximum_layer([[[[[[0.6091]], [[0.6967]]]]], [[[[[0.6772]], [[0.5512]]]]]], Max67895), 
LELU22774 = elu_layer(Max67895, -8.755252163213543, ELU22774), 
LRes9662 = reshape_layer(ELU22774, [1, 2, 1], Res9662), 
LGlo82684 = global_max_pool2D_layer(Res9662, Glo82684), 
LDot94467 = dot_layer([[0.987, 0.4398, 0.3463]], [[0.0428, 0.9011, 0.5319]], 1, 1, Dot94467), 
LDot58731 = dot_layer([[0.2822, 0.8821]], [[0.5852, 0.8368]], 1, 1, Dot58731), 
LMax48122 = maximum_layer([Dot94467,Dot58731], Max48122), 
LAve83030 = average_layer([Glo82684,Max48122], Ave83030), 
exec_layers([LMax67895,LELU22774,LRes9662,LGlo82684,LDot94467,LDot58731,LMax48122,LAve83030],["Max67895","ELU22774","Res9662","Glo82684","Dot94467","Dot58731","Max48122","Ave83030"],Ave83030,"Ave83030")

Actual (Unparsed): [[0.7999923]]

Expected (Unparsed): [[0.7999923600000001]]

Actual:   [[0.8]]

Expected: [[0.8]]