import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dep65303 = tf.keras.layers.Input(shape=([1, 2, 2]))
in0Dot35218 = tf.keras.layers.Input(shape=([2]))
in1Dot35218 = tf.keras.layers.Input(shape=([2]))
in0Con89151 = tf.keras.layers.Input(shape=([1, 3]))

Dep65303 = keras.layers.DepthwiseConv2D((1, 1),strides=(1, 1), padding='valid', name = 'Dep65303', )(in0Dep65303)
Res12537 = keras.layers.Reshape((1, 4), name = 'Res12537', )(Dep65303)
Dot35218 = keras.layers.Dot(axes=(1, 1), name = 'Dot35218', )([in0Dot35218,in1Dot35218])
Res72864 = keras.layers.Reshape((1, 1), name = 'Res72864', )(Dot35218)
PRe84843 = keras.layers.PReLU(name = 'PRe84843', )(Res72864)
Con89151 = keras.layers.Concatenate(axis=2, name = 'Con89151', )([PRe84843,in0Con89151])
Max63717 = keras.layers.Maximum(name = 'Max63717', )([Res12537,Con89151])
Thr11953 = keras.layers.ThresholdedReLU(theta=3.775670128167012, name = 'Thr11953', )(Max63717)
model = tf.keras.models.Model(inputs=[in0Dep65303,in0Dot35218,in1Dot35218,in0Con89151], outputs=Thr11953)
w = model.get_layer('Dep65303').get_weights() 
w[0] = np.array([[[[0.5566], [0.6904]]]])
w[1] = np.array([0, 0])
model.get_layer('Dep65303').set_weights(w) 
w = model.get_layer('PRe84843').get_weights() 
w[0] = np.array([[0.2069]])
model.get_layer('PRe84843').set_weights(w) 
in0Dep65303 = tf.constant([[[[0.2638, 0.7276], [0.601, 0.0411]]]])
in0Dot35218 = tf.constant([[0.778, 0.5676]])
in1Dot35218 = tf.constant([[0.6153, 0.9768]])
in0Con89151 = tf.constant([[[0.6413, 0.868, 0.5301]]])
print (np.array2string(model.predict([in0Dep65303,in0Dot35218,in1Dot35218,in0Con89151],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Thr11953.png')

LDep65303 = depthwise_conv2D_layer([[[[0.2638, 0.7276], [0.601, 0.0411]]]], 1, 1,[[[[0.5566], [0.6904]]]],[0, 0], 1, 1, false, Dep65303), 
LRes12537 = reshape_layer(Dep65303, [1, 4], Res12537), 
LDot35218 = dot_layer([[0.778, 0.5676]], [[0.6153, 0.9768]], 1, 1, Dot35218), 
LRes72864 = reshape_layer(Dot35218, [1, 1], Res72864), 
LPRe84843 = prelu_layer(Res72864, [[0.2069]], PRe84843), 
LCon89151 = concatenate_layer([PRe84843,[[[0.6413, 0.868, 0.5301]]]], 2, Con89151), 
LMax63717 = maximum_layer([Res12537,Con89151], Max63717), 
LThr11953 = thresholded_relu_layer(Max63717, 3.775670128167012, Thr11953), 
exec_layers([LDep65303,LRes12537,LDot35218,LRes72864,LPRe84843,LCon89151,LMax63717,LThr11953],["Dep65303","Res12537","Dot35218","Res72864","PRe84843","Con89151","Max63717","Thr11953"],Thr11953,"Thr11953")

Actual (Unparsed): [[[0.0000000, 0.0000000, 0.0000000, 0.0000000]]]

Expected (Unparsed): [[[0,0,0,0]]]

Actual:   [[[0, 0, 0, 0]]]

Expected: [[[0, 0, 0, 0]]]