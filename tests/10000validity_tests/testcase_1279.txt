import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min47919 = tf.keras.layers.Input(shape=([1, 1]))
in1Min47919 = tf.keras.layers.Input(shape=([1, 1]))
in0Con82277 = tf.keras.layers.Input(shape=([1, 1, 1]))
in0Ave89279 = tf.keras.layers.Input(shape=([1, 1, 2]))
in1Ave89279 = tf.keras.layers.Input(shape=([1, 1, 2]))

Min47919 = keras.layers.Minimum(name = 'Min47919', )([in0Min47919,in1Min47919])
Res59899 = keras.layers.Reshape((1, 1, 1), name = 'Res59899', )(Min47919)
Con82277 = keras.layers.Concatenate(axis=3, name = 'Con82277', )([Res59899,in0Con82277])
Ave89279 = keras.layers.Average(name = 'Ave89279', )([in0Ave89279,in1Ave89279])
Max79779 = keras.layers.MaxPool2D(pool_size=(1, 1), name = 'Max79779', )(Ave89279)
Cro14612 = keras.layers.Cropping2D(cropping=((0, 0), (0, 0)), name = 'Cro14612', )(Max79779)
Sub21188 = keras.layers.Subtract(name = 'Sub21188', )([Con82277,Cro14612])
model = tf.keras.models.Model(inputs=[in0Min47919,in1Min47919,in0Con82277,in0Ave89279,in1Ave89279], outputs=Sub21188)
in0Min47919 = tf.constant([[[0.8777]]])
in1Min47919 = tf.constant([[[0.8688]]])
in0Con82277 = tf.constant([[[[0.6234]]]])
in0Ave89279 = tf.constant([[[[0.1521, 0.7083]]]])
in1Ave89279 = tf.constant([[[[0.6435, 0.2309]]]])
print (np.array2string(model.predict([in0Min47919,in1Min47919,in0Con82277,in0Ave89279,in1Ave89279],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Sub21188.png')

LMin47919 = minimum_layer([[[[0.8777]]], [[[0.8688]]]], Min47919), 
LRes59899 = reshape_layer(Min47919, [1, 1, 1], Res59899), 
LCon82277 = concatenate_layer([Res59899,[[[[0.6234]]]]], 3, Con82277), 
LAve89279 = average_layer([[[[[0.1521, 0.7083]]]], [[[[0.6435, 0.2309]]]]], Ave89279), 
LMax79779 = max_pool2D_layer(Ave89279, 1, 1, Max79779), 
LCro14612 = cropping2D_layer(Max79779, 0, 0, 0, 0, Cro14612), 
LSub21188 = subtract_layer(Con82277,Cro14612, Sub21188), 
exec_layers([LMin47919,LRes59899,LCon82277,LAve89279,LMax79779,LCro14612,LSub21188],["Min47919","Res59899","Con82277","Ave89279","Max79779","Cro14612","Sub21188"],Sub21188,"Sub21188")

Actual (Unparsed): [[[[0.4710000, 0.1538000]]]]

Expected (Unparsed): [[[[0.47100000000000003,0.15379999999999994]]]]

Actual:   [[[[0.471, 0.1538]]]]

Expected: [[[[0.4711, 0.1538]]]]