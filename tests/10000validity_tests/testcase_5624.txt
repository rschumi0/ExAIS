import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul53103 = tf.keras.layers.Input(shape=([1, 1, 1, 1]))
in1Mul53103 = tf.keras.layers.Input(shape=([1, 1, 1, 1]))
in0Con87471 = tf.keras.layers.Input(shape=([2, 2]))
in0Sub74733 = tf.keras.layers.Input(shape=([2, 3]))
in1Sub74733 = tf.keras.layers.Input(shape=([2, 3]))

Mul53103 = keras.layers.Multiply(name = 'Mul53103', )([in0Mul53103,in1Mul53103])
Res40705 = keras.layers.Reshape((1, 1, 1), name = 'Res40705', )(Mul53103)
Res35791 = keras.layers.Reshape((1, 1), name = 'Res35791', )(Res40705)
Zer5050 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer5050', )(Res35791)
Con87471 = keras.layers.Concatenate(axis=2, name = 'Con87471', )([Zer5050,in0Con87471])
Sub74733 = keras.layers.Subtract(name = 'Sub74733', )([in0Sub74733,in1Sub74733])
Add94108 = keras.layers.Add(name = 'Add94108', )([Con87471,Sub74733])
Lea64395 = keras.layers.LeakyReLU(alpha=8.000959759184845, name = 'Lea64395', )(Add94108)
model = tf.keras.models.Model(inputs=[in0Mul53103,in1Mul53103,in0Con87471,in0Sub74733,in1Sub74733], outputs=Lea64395)
in0Mul53103 = tf.constant([[[[[0.8736]]]]])
in1Mul53103 = tf.constant([[[[[0.9325]]]]])
in0Con87471 = tf.constant([[[0.648, 0.4407], [0.2258, 0.27]]])
in0Sub74733 = tf.constant([[[0.9508, 0.7367, 0.1812], [0.2452, 0.2366, 0.3776]]])
in1Sub74733 = tf.constant([[[0.912, 0.5701, 0.9801], [0.7321, 0.2279, 0.8499]]])
print (np.array2string(model.predict([in0Mul53103,in1Mul53103,in0Con87471,in0Sub74733,in1Sub74733],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Lea64395.png')

LMul53103 = multiply_layer([[[[[[0.8736]]]]], [[[[[0.9325]]]]]], Mul53103), 
LRes40705 = reshape_layer(Mul53103, [1, 1, 1], Res40705), 
LRes35791 = reshape_layer(Res40705, [1, 1], Res35791), 
LZer5050 = zero_padding1D_layer(Res35791, 1, 0, Zer5050), 
LCon87471 = concatenate_layer([Zer5050,[[[0.648, 0.4407], [0.2258, 0.27]]]], 2, Con87471), 
LSub74733 = subtract_layer([[[0.9508, 0.7367, 0.1812], [0.2452, 0.2366, 0.3776]]], [[[0.912, 0.5701, 0.9801], [0.7321, 0.2279, 0.8499]]], Sub74733), 
LAdd94108 = add_layer([Con87471,Sub74733], Add94108), 
LLea64395 = leaky_relu_layer(Add94108, 8.000959759184845, Lea64395), 
exec_layers([LMul53103,LRes40705,LRes35791,LZer5050,LCon87471,LSub74733,LAdd94108,LLea64395],["Mul53103","Res40705","Res35791","Zer5050","Con87471","Sub74733","Add94108","Lea64395"],Lea64395,"Lea64395")

Actual (Unparsed): [[[0.0388000, 0.8146000, -2.8659435], [0.3277320, 0.2345000, -1.6185939]]]

Expected (Unparsed): [[[0.038799999999999946,0.8146,-2.865943785740011],[0.327732,0.23450000000000001,-1.618594159283094]]]

Actual:   [[[0.0388, 0.8146, -2.8659], [0.3278, 0.2345, -1.6185]]]

Expected: [[[0.0388, 0.8146, -2.8659], [0.3278, 0.2346, -1.6185]]]