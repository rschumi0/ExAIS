import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add20463 = tf.keras.layers.Input(shape=([1, 1, 2, 2]))
in1Add20463 = tf.keras.layers.Input(shape=([1, 1, 2, 2]))

Add20463 = keras.layers.Add(name = 'Add20463', )([in0Add20463,in1Add20463])
Con22370 = keras.layers.Conv3D(3, (1, 1, 1),strides=(1, 1, 1), padding='same', dilation_rate=(1, 1, 1), name = 'Con22370', )(Add20463)
Res36167 = keras.layers.Reshape((1, 1, 6), name = 'Res36167', )(Con22370)
Res18611 = keras.layers.Reshape((1, 6), name = 'Res18611', )(Res36167)
Glo81140 = keras.layers.GlobalMaxPool1D(name = 'Glo81140', )(Res18611)
Res67748 = keras.layers.Reshape((6, 1), name = 'Res67748', )(Glo81140)
Zer90433 = keras.layers.ZeroPadding1D(padding=((1, 1)), name = 'Zer90433', )(Res67748)
model = tf.keras.models.Model(inputs=[in0Add20463,in1Add20463], outputs=Zer90433)
w = model.get_layer('Con22370').get_weights() 
w[0] = np.array([[[[[0.3794, 0.0863, 0.022], [0.3464, 0.8608, 0.5889]]]]])
w[1] = np.array([0, 0, 0])
model.get_layer('Con22370').set_weights(w) 
in0Add20463 = tf.constant([[[[[0.4729, 0.6231], [0.5324, 0.691]]]]])
in1Add20463 = tf.constant([[[[[0.2744, 0.665], [0.2595, 0.6884]]]]])
print (np.array2string(model.predict([in0Add20463,in1Add20463],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Zer90433.png')

LAdd20463 = add_layer([[[[[[0.4729, 0.6231], [0.5324, 0.691]]]]], [[[[[0.2744, 0.665], [0.2595, 0.6884]]]]]], Add20463), 
LCon22370 = conv3D_layer(Add20463, 1, 1, 1,[[[[[0.3794, 0.0863, 0.022], [0.3464, 0.8608, 0.5889]]]]],[0, 0, 0], 1, 1, 1, true, 1, 1, 1, Con22370), 
LRes36167 = reshape_layer(Con22370, [1, 1, 6], Res36167), 
LRes18611 = reshape_layer(Res36167, [1, 6], Res18611), 
LGlo81140 = global_max_pool1D_layer(Res18611, Glo81140), 
LRes67748 = reshape_layer(Glo81140, [6, 1], Res67748), 
LZer90433 = zero_padding1D_layer(Res67748, 1, 1, Zer90433), 
exec_layers([LAdd20463,LCon22370,LRes36167,LRes18611,LGlo81140,LRes67748,LZer90433],["Add20463","Con22370","Res36167","Res18611","Glo81140","Res67748","Zer90433"],Zer90433,"Zer90433")

Actual (Unparsed): [[[0.0000000], [0.7297235], [1.1732885], [0.7750027], [0.7782710], [1.2557285], [0.8297504], [0.0000000]]]

Expected (Unparsed): [[[0],[0.72972346],[1.1732884700000001],[0.77500269],[0.77827102],[1.2557284899999999],[0.82975046],[0]]]

Actual:   [[[0], [0.7298], [1.1733], [0.7751], [0.7783], [1.2558], [0.8298], [0]]]

Expected: [[[0], [0.7298], [1.1733], [0.7751], [0.7783], [1.2558], [0.8298], [0]]]