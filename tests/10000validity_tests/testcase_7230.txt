import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot3266 = tf.keras.layers.Input(shape=([2, 2]))
in1Dot3266 = tf.keras.layers.Input(shape=([2, 2]))

Dot3266 = keras.layers.Dot(axes=(1, 1), name = 'Dot3266', )([in0Dot3266,in1Dot3266])
Mas75933 = keras.layers.Masking(mask_value=1, name = 'Mas75933', )(Dot3266)
ELU30655 = keras.layers.ELU(alpha=-0.28315890960192114, name = 'ELU30655', )(Mas75933)
Res67538 = keras.layers.Reshape((2, 2, 1), name = 'Res67538', )(ELU30655)
Glo41118 = keras.layers.GlobalAveragePooling2D(name = 'Glo41118', )(Res67538)
model = tf.keras.models.Model(inputs=[in0Dot3266,in1Dot3266], outputs=Glo41118)
in0Dot3266 = tf.constant([[[0.342, 0.8081], [0.7786, 0.6829]]])
in1Dot3266 = tf.constant([[[0.367, 0.0097], [0.3718, 0.9086]]])
print (np.array2string(model.predict([in0Dot3266,in1Dot3266],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo41118.png')

LDot3266 = dot_layer([[[0.342, 0.8081], [0.7786, 0.6829]]], [[[0.367, 0.0097], [0.3718, 0.9086]]], 1, 1, Dot3266), 
LMas75933 = masking_layer(Dot3266, 1, Mas75933), 
LELU30655 = elu_layer(Mas75933, -0.28315890960192114, ELU30655), 
LRes67538 = reshape_layer(ELU30655, [2, 2, 1], Res67538), 
LGlo41118 = global_average_pooling2D_layer(Res67538, Glo41118), 
exec_layers([LDot3266,LMas75933,LELU30655,LRes67538,LGlo41118],["Dot3266","Mas75933","ELU30655","Res67538","Glo41118"],Glo41118,"Glo41118")

Actual (Unparsed): [[0.5761368]]

Expected (Unparsed): [[0.5761368175]]

Actual:   [[0.5762]]

Expected: [[0.5762]]