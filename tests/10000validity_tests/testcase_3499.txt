import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Loc36849 = tf.keras.layers.Input(shape=([1, 1]))

Loc36849 = keras.layers.LocallyConnected1D(4, (1),strides=(3), name = 'Loc36849', )(in0Loc36849)
Res2526 = keras.layers.Reshape((1, 4, 1), name = 'Res2526', )(Loc36849)
Zer92746 = keras.layers.ZeroPadding2D(padding=((1, 1), (1, 1)), name = 'Zer92746', )(Res2526)
Loc94433 = keras.layers.LocallyConnected2D(2, (3, 5),strides=(1, 1), name = 'Loc94433', )(Zer92746)
Glo13014 = keras.layers.GlobalAveragePooling2D(name = 'Glo13014', )(Loc94433)
model = tf.keras.models.Model(inputs=[in0Loc36849], outputs=Glo13014)
w = model.get_layer('Loc36849').get_weights() 
w[0] = np.array([[[0.6294, 0.755, 0.7388, 0.171]]])
w[1] = np.array([[0, 0, 0, 0]])
model.get_layer('Loc36849').set_weights(w) 
w = model.get_layer('Loc94433').get_weights() 
w[0] = np.array([[[0.6426, 0.6509], [0.726, 0.5166], [0.6734, 0.9188], [0.2064, 0.7664], [0.76, 0.1737], [0.4387, 0.7404], [0.418, 0.8398], [0.0121, 0.1865], [0.1864, 0.936], [0.371, 0.7663], [0.249, 0.5602], [0.0887, 0.9647], [0.9224, 0.778], [0.8146, 0.6113], [0.8969, 0.8945]], [[0.176, 0.1298], [0.1695, 0.4384], [0.6156, 0.2468], [0.1969, 0.3085], [0.8729, 0.7801], [0.9144, 0.4444], [0.5741, 0.2996], [0.9144, 0.0674], [0.1888, 0.9104], [0.2618, 0.0113], [0.4297, 0.1387], [0.1327, 0.9103], [0.0264, 0.9231], [0.7071, 0.0473], [0.6866, 0.0066]]])
w[1] = np.array([[[0, 0], [0, 0]]])
model.get_layer('Loc94433').set_weights(w) 
in0Loc36849 = tf.constant([[[0.2576]]])
print (np.array2string(model.predict([in0Loc36849],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo13014.png')

LLoc36849 = locally_connected1D_layer([[[0.2576]]], 1,[[[0.6294, 0.755, 0.7388, 0.171]]],[[0, 0, 0, 0]], 3, Loc36849), 
LRes2526 = reshape_layer(Loc36849, [1, 4, 1], Res2526), 
LZer92746 = zero_padding2D_layer(Res2526, 1, 1, 1, 1, Zer92746), 
LLoc94433 = locally_connected2D_layer(Zer92746, 3, 5,[[[0.6426, 0.6509], [0.726, 0.5166], [0.6734, 0.9188], [0.2064, 0.7664], [0.76, 0.1737], [0.4387, 0.7404], [0.418, 0.8398], [0.0121, 0.1865], [0.1864, 0.936], [0.371, 0.7663], [0.249, 0.5602], [0.0887, 0.9647], [0.9224, 0.778], [0.8146, 0.6113], [0.8969, 0.8945]], [[0.176, 0.1298], [0.1695, 0.4384], [0.6156, 0.2468], [0.1969, 0.3085], [0.8729, 0.7801], [0.9144, 0.4444], [0.5741, 0.2996], [0.9144, 0.0674], [0.1888, 0.9104], [0.2618, 0.0113], [0.4297, 0.1387], [0.1327, 0.9103], [0.0264, 0.9231], [0.7071, 0.0473], [0.6866, 0.0066]]],[[[0, 0], [0, 0]]], 1, 1, Loc94433), 
LGlo13014 = global_average_pooling2D_layer(Loc94433, Glo13014), 
exec_layers([LLoc36849,LRes2526,LZer92746,LLoc94433,LGlo13014],["Loc36849","Res2526","Zer92746","Loc94433","Glo13014"],Glo13014,"Glo13014")

Actual (Unparsed): [[0.2820965, 0.2837862]]

Expected (Unparsed): [[0.28209652352,0.28378614768]]

Actual:   [[0.2821, 0.2838]]

Expected: [[0.2821, 0.2838]]