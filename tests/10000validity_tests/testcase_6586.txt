import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub56218 = tf.keras.layers.Input(shape=([3, 2]))
in1Sub56218 = tf.keras.layers.Input(shape=([3, 2]))
in0Ave82018 = tf.keras.layers.Input(shape=([2, 1]))
in0Con43429 = tf.keras.layers.Input(shape=([1, 2, 1, 1]))
in0Lea26130 = tf.keras.layers.Input(shape=([1, 2, 1, 2]))
in0Con95286 = tf.keras.layers.Input(shape=([4]))
in0Con96860 = tf.keras.layers.Input(shape=([6, 1]))
in0Min20679 = tf.keras.layers.Input(shape=([1, 1, 1, 2]))
in1Min20679 = tf.keras.layers.Input(shape=([1, 1, 1, 2]))
in0Up_75412 = tf.keras.layers.Input(shape=([2, 2]))

Sub56218 = keras.layers.Subtract(name = 'Sub56218', )([in0Sub56218,in1Sub56218])
Fla26785 = keras.layers.Flatten(name = 'Fla26785', )(Sub56218)
Ave82018 = keras.layers.AveragePooling1D(pool_size=(2), strides=(1), padding='valid', name = 'Ave82018', )(in0Ave82018)
Res4712 = keras.layers.Reshape((1, 1, 1), name = 'Res4712', )(Ave82018)
Res33714 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res33714', )(Res4712)
Zer4291 = keras.layers.ZeroPadding3D(padding=((0, 0), (1, 0), (0, 0)), name = 'Zer4291', )(Res33714)
Con43429 = keras.layers.Concatenate(axis=4, name = 'Con43429', )([Zer4291,in0Con43429])
Lea26130 = keras.layers.LeakyReLU(alpha=6.603559128832566, name = 'Lea26130', input_shape=(1, 2, 1, 2))(in0Lea26130)
Mul87066 = keras.layers.Multiply(name = 'Mul87066', )([Con43429,Lea26130])
Res4437 = keras.layers.Reshape((1, 2, 2), name = 'Res4437', )(Mul87066)
Glo40466 = keras.layers.GlobalMaxPool2D(name = 'Glo40466', )(Res4437)
Con95286 = keras.layers.Concatenate(axis=1, name = 'Con95286', )([Glo40466,in0Con95286])
Add9447 = keras.layers.Add(name = 'Add9447', )([Fla26785,Con95286])
Res84085 = keras.layers.Reshape((6, 1), name = 'Res84085', )(Add9447)
Con96860 = keras.layers.Concatenate(axis=2, name = 'Con96860', )([Res84085,in0Con96860])
Min20679 = keras.layers.Minimum(name = 'Min20679', )([in0Min20679,in1Min20679])
Res75277 = keras.layers.Reshape((1, 1, 2), name = 'Res75277', )(Min20679)
Res19842 = keras.layers.Reshape((1, 2), name = 'Res19842', )(Res75277)
Zer19235 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer19235', )(Res19842)
Up_75412 = keras.layers.UpSampling1D(size=(1), name = 'Up_75412', )(in0Up_75412)
Sub26092 = keras.layers.Subtract(name = 'Sub26092', )([Zer19235,Up_75412])
Zer88254 = keras.layers.ZeroPadding1D(padding=((4, 0)), name = 'Zer88254', )(Sub26092)
Min47049 = keras.layers.Minimum(name = 'Min47049', )([Con96860,Zer88254])
model = tf.keras.models.Model(inputs=[in0Sub56218,in1Sub56218,in0Ave82018,in0Con43429,in0Lea26130,in0Con95286,in0Con96860,in0Min20679,in1Min20679,in0Up_75412], outputs=Min47049)
in0Sub56218 = tf.constant([[[0.3462, 0.0624], [0.6367, 0.6719], [0.542, 0.3856]]])
in1Sub56218 = tf.constant([[[0.4427, 0.3882], [0.9525, 0.6496], [0.3098, 0.4798]]])
in0Ave82018 = tf.constant([[[1.7979], [1.6984]]])
in0Con43429 = tf.constant([[[[[0.302]], [[0.8979]]]]])
in0Lea26130 = tf.constant([[[[[0.2362, 0.1114]], [[0.1867, 0.8865]]]]])
in0Con95286 = tf.constant([[0.608, 0.8671, 0.9542, 0.6581]])
in0Con96860 = tf.constant([[[0.6373], [0.1301], [0.0052], [0.1107], [0.243], [0.1363]]])
in0Min20679 = tf.constant([[[[[0.0424, 0.8767]]]]])
in1Min20679 = tf.constant([[[[[0.6148, 0.5646]]]]])
in0Up_75412 = tf.constant([[[1.9709, 1.0827], [1.8856, 1.3375]]])
print (np.array2string(model.predict([in0Sub56218,in1Sub56218,in0Ave82018,in0Con43429,in0Lea26130,in0Con95286,in0Con96860,in0Min20679,in1Min20679,in0Up_75412],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min47049.png')

LSub56218 = subtract_layer([[[0.3462, 0.0624], [0.6367, 0.6719], [0.542, 0.3856]]], [[[0.4427, 0.3882], [0.9525, 0.6496], [0.3098, 0.4798]]], Sub56218), 
LFla26785 = flatten_layer(Sub56218, Fla26785), 
LAve82018 = average_pooling1D_layer([[[1.7979], [1.6984]]], 2, 1, false, Ave82018), 
LRes4712 = reshape_layer(Ave82018, [1, 1, 1], Res4712), 
LRes33714 = reshape_layer(Res4712, [1, 1, 1, 1], Res33714), 
LZer4291 = zero_padding3D_layer(Res33714, 0, 0, 1, 0, 0, 0, Zer4291), 
LCon43429 = concatenate_layer([Zer4291,[[[[[0.302]], [[0.8979]]]]]], 4, Con43429), 
LLea26130 = leaky_relu_layer([[[[[0.2362, 0.1114]], [[0.1867, 0.8865]]]]], 6.603559128832566, Lea26130), 
LMul87066 = multiply_layer([Con43429,Lea26130], Mul87066), 
LRes4437 = reshape_layer(Mul87066, [1, 2, 2], Res4437), 
LGlo40466 = global_max_pool2D_layer(Res4437, Glo40466), 
LCon95286 = concatenate_layer([Glo40466,[[0.608, 0.8671, 0.9542, 0.6581]]], 1, Con95286), 
LAdd9447 = add_layer([Fla26785,Con95286], Add9447), 
LRes84085 = reshape_layer(Add9447, [6, 1], Res84085), 
LCon96860 = concatenate_layer([Res84085,[[[0.6373], [0.1301], [0.0052], [0.1107], [0.243], [0.1363]]]], 2, Con96860), 
LMin20679 = minimum_layer([[[[[[0.0424, 0.8767]]]]], [[[[[0.6148, 0.5646]]]]]], Min20679), 
LRes75277 = reshape_layer(Min20679, [1, 1, 2], Res75277), 
LRes19842 = reshape_layer(Res75277, [1, 2], Res19842), 
LZer19235 = zero_padding1D_layer(Res19842, 1, 0, Zer19235), 
LUp_75412 = up_sampling1D_layer([[[1.9709, 1.0827], [1.8856, 1.3375]]], 1, Up_75412), 
LSub26092 = subtract_layer(Zer19235,Up_75412, Sub26092), 
LZer88254 = zero_padding1D_layer(Sub26092, 4, 0, Zer88254), 
LMin47049 = minimum_layer([Con96860,Zer88254], Min47049), 
exec_layers([LSub56218,LFla26785,LAve82018,LRes4712,LRes33714,LZer4291,LCon43429,LLea26130,LMul87066,LRes4437,LGlo40466,LCon95286,LAdd9447,LRes84085,LCon96860,LMin20679,LRes75277,LRes19842,LZer19235,LUp_75412,LSub26092,LZer88254,LMin47049],["Sub56218","Fla26785","Ave82018","Res4712","Res33714","Zer4291","Con43429","Lea26130","Mul87066","Res4437","Glo40466","Con95286","Add9447","Res84085","Con96860","Min20679","Res75277","Res19842","Zer19235","Up_75412","Sub26092","Zer88254","Min47049"],Min47049,"Min47049")

Actual (Unparsed): [[[0.0000000, 0.0000000], [0.0000000, 0.0000000], [0.0000000, 0.0000000], [0.0000000, 0.0000000], [-1.9709001, -1.0827000], [-1.8432000, -0.7729000]]]

Expected (Unparsed): [[[0,0],[0,0],[0,0],[0,0],[-1.9709,-1.0827],[-1.8432,-0.7728999999999999]]]

Actual:   [[[0, 0], [0, 0], [0, 0], [0, 0], [-1.9709, -1.0827], [-1.8432, -0.7729]]]

Expected: [[[0, 0], [0, 0], [0, 0], [0, 0], [-1.9709, -1.0827], [-1.8432, -0.7728]]]