import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave14040 = tf.keras.layers.Input(shape=([2, 2]))
in1Ave14040 = tf.keras.layers.Input(shape=([2, 2]))

Ave14040 = keras.layers.Average(name = 'Ave14040', )([in0Ave14040,in1Ave14040])
Res31999 = keras.layers.Reshape((2, 2, 1), name = 'Res31999', )(Ave14040)
Zer88598 = keras.layers.ZeroPadding2D(padding=((1, 1), (1, 1)), name = 'Zer88598', )(Res31999)
model = tf.keras.models.Model(inputs=[in0Ave14040,in1Ave14040], outputs=Zer88598)
in0Ave14040 = tf.constant([[[0.5235, 0.2801], [0.1192, 0.6065]]])
in1Ave14040 = tf.constant([[[0.1295, 0.6828], [0.7727, 0.0475]]])
print (np.array2string(model.predict([in0Ave14040,in1Ave14040],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Zer88598.png')

LAve14040 = average_layer([[[[0.5235, 0.2801], [0.1192, 0.6065]]], [[[0.1295, 0.6828], [0.7727, 0.0475]]]], Ave14040), 
LRes31999 = reshape_layer(Ave14040, [2, 2, 1], Res31999), 
LZer88598 = zero_padding2D_layer(Res31999, 1, 1, 1, 1, Zer88598), 
exec_layers([LAve14040,LRes31999,LZer88598],["Ave14040","Res31999","Zer88598"],Zer88598,"Zer88598")

Actual (Unparsed): [[[[0.0000000], [0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.3265000], [0.4814500], [0.0000000]], [[0.0000000], [0.4459500], [0.3270000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000], [0.0000000]]]]

Expected (Unparsed): [[[[0],[0],[0],[0]],[[0],[0.3265],[0.48145],[0]],[[0],[0.44595],[0.327],[0]],[[0],[0],[0],[0]]]]

Actual:   [[[[0], [0], [0], [0]], [[0], [0.3265], [0.4815], [0]], [[0], [0.446], [0.327], [0]], [[0], [0], [0], [0]]]]

Expected: [[[[0], [0], [0], [0]], [[0], [0.3265], [0.4815], [0]], [[0], [0.446], [0.327], [0]], [[0], [0], [0], [0]]]]