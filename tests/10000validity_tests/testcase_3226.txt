import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min62495 = tf.keras.layers.Input(shape=([1, 1, 2, 2]))
in1Min62495 = tf.keras.layers.Input(shape=([1, 1, 2, 2]))
in0Add11133 = tf.keras.layers.Input(shape=([2, 1, 2, 2]))
in1Add11133 = tf.keras.layers.Input(shape=([2, 1, 2, 2]))
in0Ave53486 = tf.keras.layers.Input(shape=([1, 2, 2]))
in1Ave53486 = tf.keras.layers.Input(shape=([1, 2, 2]))
in0Con4294 = tf.keras.layers.Input(shape=([2, 3, 2]))

Min62495 = keras.layers.Minimum(name = 'Min62495', )([in0Min62495,in1Min62495])
Res87729 = keras.layers.Reshape((1, 1, 4), name = 'Res87729', )(Min62495)
Zer11693 = keras.layers.ZeroPadding2D(padding=((1, 0), (2, 0)), name = 'Zer11693', )(Res87729)
Add11133 = keras.layers.Add(name = 'Add11133', )([in0Add11133,in1Add11133])
ELU53586 = keras.layers.ELU(alpha=-8.073831882286157, name = 'ELU53586', )(Add11133)
Res30793 = keras.layers.Reshape((2, 1, 4), name = 'Res30793', )(ELU53586)
Zer49244 = keras.layers.ZeroPadding2D(padding=((0, 0), (2, 0)), name = 'Zer49244', )(Res30793)
Ave53486 = keras.layers.Average(name = 'Ave53486', )([in0Ave53486,in1Ave53486])
Zer97216 = keras.layers.ZeroPadding2D(padding=((1, 0), (1, 0)), name = 'Zer97216', )(Ave53486)
Con4294 = keras.layers.Concatenate(axis=3, name = 'Con4294', )([Zer97216,in0Con4294])
Max61392 = keras.layers.Maximum(name = 'Max61392', )([Zer49244,Con4294])
Mul39370 = keras.layers.Multiply(name = 'Mul39370', )([Zer11693,Max61392])
Res84712 = keras.layers.Reshape((2, 12), name = 'Res84712', )(Mul39370)
Cro55176 = keras.layers.Cropping1D(cropping=((1, 0)), name = 'Cro55176', )(Res84712)
model = tf.keras.models.Model(inputs=[in0Min62495,in1Min62495,in0Add11133,in1Add11133,in0Ave53486,in1Ave53486,in0Con4294], outputs=Cro55176)
in0Min62495 = tf.constant([[[[[0.0703, 0.9658], [0.8272, 0.7219]]]]])
in1Min62495 = tf.constant([[[[[0.2668, 0.6128], [0.5873, 0.1758]]]]])
in0Add11133 = tf.constant([[[[[0.226, 0.693], [0.3599, 0.9317]]], [[[0.8049, 0.1826], [0.1133, 0.8016]]]]])
in1Add11133 = tf.constant([[[[[0.0647, 0.7749], [0.1073, 0.2185]]], [[[0.3239, 0.9736], [0.6211, 0.7608]]]]])
in0Ave53486 = tf.constant([[[[0.5456, 0.5172], [0.1437, 0.2816]]]])
in1Ave53486 = tf.constant([[[[0.8678, 0.1672], [0.6907, 0.8022]]]])
in0Con4294 = tf.constant([[[[0.4287, 0.1877], [0.9685, 0.1446], [0.842, 0.9876]], [[0.4528, 0.0903], [0.8278, 0.196], [0.8222, 0.8122]]]])
print (np.array2string(model.predict([in0Min62495,in1Min62495,in0Add11133,in1Add11133,in0Ave53486,in1Ave53486,in0Con4294],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Cro55176.png')

LMin62495 = minimum_layer([[[[[[0.0703, 0.9658], [0.8272, 0.7219]]]]], [[[[[0.2668, 0.6128], [0.5873, 0.1758]]]]]], Min62495), 
LRes87729 = reshape_layer(Min62495, [1, 1, 4], Res87729), 
LZer11693 = zero_padding2D_layer(Res87729, 1, 0, 2, 0, Zer11693), 
LAdd11133 = add_layer([[[[[[0.226, 0.693], [0.3599, 0.9317]]], [[[0.8049, 0.1826], [0.1133, 0.8016]]]]], [[[[[0.0647, 0.7749], [0.1073, 0.2185]]], [[[0.3239, 0.9736], [0.6211, 0.7608]]]]]], Add11133), 
LELU53586 = elu_layer(Add11133, -8.073831882286157, ELU53586), 
LRes30793 = reshape_layer(ELU53586, [2, 1, 4], Res30793), 
LZer49244 = zero_padding2D_layer(Res30793, 0, 0, 2, 0, Zer49244), 
LAve53486 = average_layer([[[[[0.5456, 0.5172], [0.1437, 0.2816]]]], [[[[0.8678, 0.1672], [0.6907, 0.8022]]]]], Ave53486), 
LZer97216 = zero_padding2D_layer(Ave53486, 1, 0, 1, 0, Zer97216), 
LCon4294 = concatenate_layer([Zer97216,[[[[0.4287, 0.1877], [0.9685, 0.1446], [0.842, 0.9876]], [[0.4528, 0.0903], [0.8278, 0.196], [0.8222, 0.8122]]]]], 3, Con4294), 
LMax61392 = maximum_layer([Zer49244,Con4294], Max61392), 
LMul39370 = multiply_layer([Zer11693,Max61392], Mul39370), 
LRes84712 = reshape_layer(Mul39370, [2, 12], Res84712), 
LCro55176 = cropping1D_layer(Res84712, 1, 0, Cro55176), 
exec_layers([LMin62495,LRes87729,LZer11693,LAdd11133,LELU53586,LRes30793,LZer49244,LAve53486,LZer97216,LCon4294,LMax61392,LMul39370,LRes84712,LCro55176],["Min62495","Res87729","Zer11693","Add11133","ELU53586","Res30793","Zer49244","Ave53486","Zer97216","Con4294","Max61392","Mul39370","Res84712","Cro55176"],Cro55176,"Cro55176")

Actual (Unparsed): [[[0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0000000, 0.0793546, 0.7085193, 0.4828781, 0.2746699]]]

Expected (Unparsed): [[[0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.07935464,0.70851936,0.48287806000000005,0.27466992]]]

Actual:   [[[0, 0, 0, 0, 0, 0, 0, 0, 0.0794, 0.7086, 0.4829, 0.2747]]]

Expected: [[[0, 0, 0, 0, 0, 0, 0, 0, 0.0794, 0.7086, 0.4829, 0.2747]]]