import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave99867 = tf.keras.layers.Input(shape=([1, 1]))
in1Ave99867 = tf.keras.layers.Input(shape=([1, 1]))
in0Lay54041 = tf.keras.layers.Input(shape=([1]))

Ave99867 = keras.layers.Average(name = 'Ave99867', )([in0Ave99867,in1Ave99867])
Fla98407 = keras.layers.Flatten(name = 'Fla98407', )(Ave99867)
Lay54041 = keras.layers.LayerNormalization(axis=1, epsilon=2.7901686952435067, name = 'Lay54041', )(in0Lay54041)
ReL24505 = keras.layers.ReLU(max_value=8.175669114846984, negative_slope=3.1353531953985727, threshold=1.7034307670684534, name = 'ReL24505', )(Lay54041)
Dot83112 = keras.layers.Dot(axes=(1, 1), name = 'Dot83112', )([Fla98407,ReL24505])
Fla59977 = keras.layers.Flatten(name = 'Fla59977', )(Dot83112)
model = tf.keras.models.Model(inputs=[in0Ave99867,in1Ave99867,in0Lay54041], outputs=Fla59977)
in0Ave99867 = tf.constant([[[0.7798]]])
in1Ave99867 = tf.constant([[[0.2493]]])
in0Lay54041 = tf.constant([[1.5252]])
print (np.array2string(model.predict([in0Ave99867,in1Ave99867,in0Lay54041],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Fla59977.png')

LAve99867 = average_layer([[[[0.7798]]], [[[0.2493]]]], Ave99867), 
LFla98407 = flatten_layer(Ave99867, Fla98407), 
LLay54041 = layer_normalization_layer([[1.5252]], 1, 2.7901686952435067, Lay54041), 
LReL24505 = relu_layer(Lay54041, 8.175669114846984, 3.1353531953985727, 1.7034307670684534, ReL24505), 
LDot83112 = dot_layer(Fla98407,ReL24505, 1, 1, Dot83112), 
LFla59977 = flatten_layer(Dot83112, Fla59977), 
exec_layers([LAve99867,LFla98407,LLay54041,LReL24505,LDot83112,LFla59977],["Ave99867","Fla98407","Lay54041","ReL24505","Dot83112","Fla59977"],Fla59977,"Fla59977")

Actual (Unparsed): [[-2.7481380]]

Expected (Unparsed): [[-2.7481380201197827]]

Actual:   [[-2.7481]]

Expected: [[-2.7481]]