import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0ELU19130 = tf.keras.layers.Input(shape=([2, 1, 2, 1]))
in0Con47951 = tf.keras.layers.Input(shape=([2, 3, 2, 1]))
in0Max9549 = tf.keras.layers.Input(shape=([1, 2, 1, 2]))
in1Max9549 = tf.keras.layers.Input(shape=([1, 2, 1, 2]))
in0Add2660 = tf.keras.layers.Input(shape=([2, 2]))
in1Add2660 = tf.keras.layers.Input(shape=([2, 2]))
in0Con33367 = tf.keras.layers.Input(shape=([2, 10]))

ELU19130 = keras.layers.ELU(alpha=-2.4512792511700177, name = 'ELU19130', input_shape=(2, 1, 2, 1))(in0ELU19130)
Zer55774 = keras.layers.ZeroPadding3D(padding=((0, 0), (2, 0), (0, 0)), name = 'Zer55774', )(ELU19130)
Con47951 = keras.layers.Concatenate(axis=4, name = 'Con47951', )([Zer55774,in0Con47951])
Max9549 = keras.layers.Maximum(name = 'Max9549', )([in0Max9549,in1Max9549])
Zer26281 = keras.layers.ZeroPadding3D(padding=((1, 0), (1, 0), (1, 0)), name = 'Zer26281', )(Max9549)
Mul60073 = keras.layers.Multiply(name = 'Mul60073', )([Con47951,Zer26281])
Res40394 = keras.layers.Reshape((2, 3, 4), name = 'Res40394', )(Mul60073)
Res32639 = keras.layers.Reshape((2, 12), name = 'Res32639', )(Res40394)
Add2660 = keras.layers.Add(name = 'Add2660', )([in0Add2660,in1Add2660])
Con33367 = keras.layers.Concatenate(axis=2, name = 'Con33367', )([Add2660,in0Con33367])
Add8689 = keras.layers.Add(name = 'Add8689', )([Res32639,Con33367])
model = tf.keras.models.Model(inputs=[in0ELU19130,in0Con47951,in0Max9549,in1Max9549,in0Add2660,in1Add2660,in0Con33367], outputs=Add8689)
in0ELU19130 = tf.constant([[[[[0.1499], [0.7476]]], [[[0.1632], [0.4342]]]]])
in0Con47951 = tf.constant([[[[[0.262], [0.4153]], [[0.7492], [0.8618]], [[0.6513], [0.5304]]], [[[0.3672], [0.6612]], [[0.1494], [0.7656]], [[0.641], [0.4067]]]]])
in0Max9549 = tf.constant([[[[[0.0066, 0.3257]], [[0.1035, 0.9796]]]]])
in1Max9549 = tf.constant([[[[[0.0958, 0.796]], [[0.3375, 0.5126]]]]])
in0Add2660 = tf.constant([[[0.1194, 0.6355], [0.4197, 0.4176]]])
in1Add2660 = tf.constant([[[0.0269, 0.6201], [0.7578, 0.2386]]])
in0Con33367 = tf.constant([[[0.4501, 0.9725, 0.604, 0.4229, 0.9924, 0.8735, 0.9111, 0.0398, 0.0242, 0.0925], [0.2373, 0.5458, 0.1334, 0.6357, 0.8086, 0.6532, 0.035, 0.7168, 0.3006, 0.292]]])
print (np.array2string(model.predict([in0ELU19130,in0Con47951,in0Max9549,in1Max9549,in0Add2660,in1Add2660,in0Con33367],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add8689.png')

LELU19130 = elu_layer([[[[[0.1499], [0.7476]]], [[[0.1632], [0.4342]]]]], -2.4512792511700177, ELU19130), 
LZer55774 = zero_padding3D_layer(ELU19130, 0, 0, 2, 0, 0, 0, Zer55774), 
LCon47951 = concatenate_layer([Zer55774,[[[[[0.262], [0.4153]], [[0.7492], [0.8618]], [[0.6513], [0.5304]]], [[[0.3672], [0.6612]], [[0.1494], [0.7656]], [[0.641], [0.4067]]]]]], 4, Con47951), 
LMax9549 = maximum_layer([[[[[[0.0066, 0.3257]], [[0.1035, 0.9796]]]]], [[[[[0.0958, 0.796]], [[0.3375, 0.5126]]]]]], Max9549), 
LZer26281 = zero_padding3D_layer(Max9549, 1, 0, 1, 0, 1, 0, Zer26281), 
LMul60073 = multiply_layer([Con47951,Zer26281], Mul60073), 
LRes40394 = reshape_layer(Mul60073, [2, 3, 4], Res40394), 
LRes32639 = reshape_layer(Res40394, [2, 12], Res32639), 
LAdd2660 = add_layer([[[[0.1194, 0.6355], [0.4197, 0.4176]]], [[[0.0269, 0.6201], [0.7578, 0.2386]]]], Add2660), 
LCon33367 = concatenate_layer([Add2660,[[[0.4501, 0.9725, 0.604, 0.4229, 0.9924, 0.8735, 0.9111, 0.0398, 0.0242, 0.0925], [0.2373, 0.5458, 0.1334, 0.6357, 0.8086, 0.6532, 0.035, 0.7168, 0.3006, 0.292]]]], 2, Con33367), 
LAdd8689 = add_layer([Res32639,Con33367], Add8689), 
exec_layers([LELU19130,LZer55774,LCon47951,LMax9549,LZer26281,LMul60073,LRes40394,LRes32639,LAdd2660,LCon33367,LAdd8689],["ELU19130","Zer55774","Con47951","Max9549","Zer26281","Mul60073","Res40394","Res32639","Add2660","Con33367","Add8689"],Add8689,"Add8689")

Actual (Unparsed): [[[0.1463000, 1.2556000, 0.4501000, 0.9725000, 0.6040000, 0.4229000, 0.9924000, 0.8735000, 0.9111000, 0.0398000, 0.0242000, 0.0925000], [1.1775000, 0.6562000, 0.2373000, 0.5458000, 0.1334000, 0.6357000, 0.8086000, 1.2626176, 0.0350000, 0.7168000, 0.4471425, 0.6904033]]]

Expected (Unparsed): [[[0.1463,1.2555999999999998,0.4501,0.9725,0.604,0.4229,0.9924,0.8735,0.9111,0.0398,0.0242,0.0925],[1.1775,0.6562,0.2373,0.5458,0.1334,0.6357,0.8086,1.2626176,0.035,0.7168,0.4471425,0.6904033199999999]]]

Actual:   [[[0.1463, 1.2556, 0.4501, 0.9725, 0.604, 0.4229, 0.9924, 0.8735, 0.9111, 0.0398, 0.0242, 0.0925], [1.1775, 0.6562, 0.2373, 0.5458, 0.1334, 0.6357, 0.8086, 1.2627, 0.035, 0.7168, 0.4472, 0.6905]]]

Expected: [[[0.1463, 1.2556, 0.4501, 0.9725, 0.604, 0.4229, 0.9924, 0.8735, 0.9111, 0.0398, 0.0242, 0.0925], [1.1775, 0.6562, 0.2373, 0.5458, 0.1334, 0.6357, 0.8086, 1.2627, 0.035, 0.7168, 0.4472, 0.6905]]]