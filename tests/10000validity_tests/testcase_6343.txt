import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave67364 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))
in1Ave67364 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))

Ave67364 = keras.layers.Average(name = 'Ave67364', )([in0Ave67364,in1Ave67364])
Res21136 = keras.layers.Reshape((2, 1, 1), name = 'Res21136', )(Ave67364)
Res86892 = keras.layers.Reshape((2, 1), name = 'Res86892', )(Res21136)
Up_82959 = keras.layers.UpSampling1D(size=(1), name = 'Up_82959', )(Res86892)
Res83804 = keras.layers.Reshape((2, 1, 1), name = 'Res83804', )(Up_82959)
Cro22100 = keras.layers.Cropping2D(cropping=((0, 1), (0, 0)), name = 'Cro22100', )(Res83804)
model = tf.keras.models.Model(inputs=[in0Ave67364,in1Ave67364], outputs=Cro22100)
in0Ave67364 = tf.constant([[[[[0.4664]]], [[[0.0793]]]]])
in1Ave67364 = tf.constant([[[[[0.4884]]], [[[0.2207]]]]])
print (np.array2string(model.predict([in0Ave67364,in1Ave67364],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Cro22100.png')

LAve67364 = average_layer([[[[[[0.4664]]], [[[0.0793]]]]], [[[[[0.4884]]], [[[0.2207]]]]]], Ave67364), 
LRes21136 = reshape_layer(Ave67364, [2, 1, 1], Res21136), 
LRes86892 = reshape_layer(Res21136, [2, 1], Res86892), 
LUp_82959 = up_sampling1D_layer(Res86892, 1, Up_82959), 
LRes83804 = reshape_layer(Up_82959, [2, 1, 1], Res83804), 
LCro22100 = cropping2D_layer(Res83804, 0, 1, 0, 0, Cro22100), 
exec_layers([LAve67364,LRes21136,LRes86892,LUp_82959,LRes83804,LCro22100],["Ave67364","Res21136","Res86892","Up_82959","Res83804","Cro22100"],Cro22100,"Cro22100")

Actual (Unparsed): [[[[0.4774000]]]]

Expected (Unparsed): [[[[0.4774]]]]

Actual:   [[[[0.4774]]]]

Expected: [[[[0.4774]]]]