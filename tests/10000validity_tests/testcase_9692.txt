import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add59641 = tf.keras.layers.Input(shape=([1, 2, 1, 1]))
in1Add59641 = tf.keras.layers.Input(shape=([1, 2, 1, 1]))
in0Con70023 = tf.keras.layers.Input(shape=([6]))
in0Add31034 = tf.keras.layers.Input(shape=([2, 2, 2, 1]))
in1Add31034 = tf.keras.layers.Input(shape=([2, 2, 2, 1]))
in0Mul14302 = tf.keras.layers.Input(shape=([2, 2]))
in1Mul14302 = tf.keras.layers.Input(shape=([2, 2]))
in0Sub82121 = tf.keras.layers.Input(shape=([3]))
in1Sub82121 = tf.keras.layers.Input(shape=([3]))
in0Con56057 = tf.keras.layers.Input(shape=([1]))
in0Con39570 = tf.keras.layers.Input(shape=([4]))

Add59641 = keras.layers.Add(name = 'Add59641', )([in0Add59641,in1Add59641])
Res17373 = keras.layers.Reshape((1, 2, 1), name = 'Res17373', )(Add59641)
Res38862 = keras.layers.Reshape((1, 2), name = 'Res38862', )(Res17373)
Cro83980 = keras.layers.Cropping1D(cropping=((0, 0)), name = 'Cro83980', )(Res38862)
Fla71477 = keras.layers.Flatten(name = 'Fla71477', )(Cro83980)
Con70023 = keras.layers.Concatenate(axis=1, name = 'Con70023', )([Fla71477,in0Con70023])
Add31034 = keras.layers.Add(name = 'Add31034', )([in0Add31034,in1Add31034])
Res38309 = keras.layers.Reshape((2, 2, 2), name = 'Res38309', )(Add31034)
Res53146 = keras.layers.Reshape((2, 4), name = 'Res53146', )(Res38309)
Fla87016 = keras.layers.Flatten(name = 'Fla87016', )(Res53146)
Mul14302 = keras.layers.Multiply(name = 'Mul14302', )([in0Mul14302,in1Mul14302])
Fla48983 = keras.layers.Flatten(name = 'Fla48983', )(Mul14302)
Sub82121 = keras.layers.Subtract(name = 'Sub82121', )([in0Sub82121,in1Sub82121])
Con56057 = keras.layers.Concatenate(axis=1, name = 'Con56057', )([Sub82121,in0Con56057])
Sub34558 = keras.layers.Subtract(name = 'Sub34558', )([Fla48983,Con56057])
Con39570 = keras.layers.Concatenate(axis=1, name = 'Con39570', )([Sub34558,in0Con39570])
Min44699 = keras.layers.Minimum(name = 'Min44699', )([Fla87016,Con39570])
Add7247 = keras.layers.Add(name = 'Add7247', )([Con70023,Min44699])
model = tf.keras.models.Model(inputs=[in0Add59641,in1Add59641,in0Con70023,in0Add31034,in1Add31034,in0Mul14302,in1Mul14302,in0Sub82121,in1Sub82121,in0Con56057,in0Con39570], outputs=Add7247)
in0Add59641 = tf.constant([[[[[0.7362]], [[0.136]]]]])
in1Add59641 = tf.constant([[[[[0.52]], [[0.781]]]]])
in0Con70023 = tf.constant([[0.4996, 0.1137, 0.823, 0.792, 0.0207, 0.6907]])
in0Add31034 = tf.constant([[[[[0.766], [0.0667]], [[0.9396], [0.1916]]], [[[0.2506], [0.7593]], [[0.5484], [0.91]]]]])
in1Add31034 = tf.constant([[[[[0.9447], [0.9145]], [[0.4371], [0.4336]]], [[[0.0728], [0.8308]], [[0.7204], [0.37]]]]])
in0Mul14302 = tf.constant([[[0.5865, 0.3188], [0.494, 0.062]]])
in1Mul14302 = tf.constant([[[0.1855, 0.3159], [0.5917, 0.5964]]])
in0Sub82121 = tf.constant([[0.9322, 0.7908, 0.5535]])
in1Sub82121 = tf.constant([[0.201, 0.6492, 0.8614]])
in0Con56057 = tf.constant([[0.4822]])
in0Con39570 = tf.constant([[0.4223, 0.6528, 0.0767, 0.0537]])
print (np.array2string(model.predict([in0Add59641,in1Add59641,in0Con70023,in0Add31034,in1Add31034,in0Mul14302,in1Mul14302,in0Sub82121,in1Sub82121,in0Con56057,in0Con39570],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Add7247.png')

LAdd59641 = add_layer([[[[[[0.7362]], [[0.136]]]]], [[[[[0.52]], [[0.781]]]]]], Add59641), 
LRes17373 = reshape_layer(Add59641, [1, 2, 1], Res17373), 
LRes38862 = reshape_layer(Res17373, [1, 2], Res38862), 
LCro83980 = cropping1D_layer(Res38862, 0, 0, Cro83980), 
LFla71477 = flatten_layer(Cro83980, Fla71477), 
LCon70023 = concatenate_layer([Fla71477,[[0.4996, 0.1137, 0.823, 0.792, 0.0207, 0.6907]]], 1, Con70023), 
LAdd31034 = add_layer([[[[[[0.766], [0.0667]], [[0.9396], [0.1916]]], [[[0.2506], [0.7593]], [[0.5484], [0.91]]]]], [[[[[0.9447], [0.9145]], [[0.4371], [0.4336]]], [[[0.0728], [0.8308]], [[0.7204], [0.37]]]]]], Add31034), 
LRes38309 = reshape_layer(Add31034, [2, 2, 2], Res38309), 
LRes53146 = reshape_layer(Res38309, [2, 4], Res53146), 
LFla87016 = flatten_layer(Res53146, Fla87016), 
LMul14302 = multiply_layer([[[[0.5865, 0.3188], [0.494, 0.062]]], [[[0.1855, 0.3159], [0.5917, 0.5964]]]], Mul14302), 
LFla48983 = flatten_layer(Mul14302, Fla48983), 
LSub82121 = subtract_layer([[0.9322, 0.7908, 0.5535]], [[0.201, 0.6492, 0.8614]], Sub82121), 
LCon56057 = concatenate_layer([Sub82121,[[0.4822]]], 1, Con56057), 
LSub34558 = subtract_layer(Fla48983,Con56057, Sub34558), 
LCon39570 = concatenate_layer([Sub34558,[[0.4223, 0.6528, 0.0767, 0.0537]]], 1, Con39570), 
LMin44699 = minimum_layer([Fla87016,Con39570], Min44699), 
LAdd7247 = add_layer([Con70023,Min44699], Add7247), 
exec_layers([LAdd59641,LRes17373,LRes38862,LCro83980,LFla71477,LCon70023,LAdd31034,LRes38309,LRes53146,LFla87016,LMul14302,LFla48983,LSub82121,LCon56057,LSub34558,LCon39570,LMin44699,LAdd7247],["Add59641","Res17373","Res38862","Cro83980","Fla71477","Con70023","Add31034","Res38309","Res53146","Fla87016","Mul14302","Fla48983","Sub82121","Con56057","Sub34558","Con39570","Min44699","Add7247"],Add7247,"Add7247")

Actual (Unparsed): [[0.6337957, 0.8761090, 1.0997998, -0.3315232, 1.1464000, 1.4448000, 0.0974000, 0.7444000]]

Expected (Unparsed): [[0.6337957499999999,0.8761089200000001,1.0997998,-0.3315232,1.1463999999999999,1.4448,0.0974,0.7444]]

Actual:   [[0.6338, 0.8762, 1.0998, -0.3315, 1.1464, 1.4448, 0.0974, 0.7444]]

Expected: [[0.6338, 0.8762, 1.0998, -0.3315, 1.1464, 1.4448, 0.0974, 0.7444]]