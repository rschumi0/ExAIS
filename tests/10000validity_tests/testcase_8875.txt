import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave36471 = tf.keras.layers.Input(shape=([2, 1, 2, 2]))
in1Ave36471 = tf.keras.layers.Input(shape=([2, 1, 2, 2]))

Ave36471 = keras.layers.Average(name = 'Ave36471', )([in0Ave36471,in1Ave36471])
Glo19220 = keras.layers.GlobalAveragePooling3D(name = 'Glo19220', )(Ave36471)
model = tf.keras.models.Model(inputs=[in0Ave36471,in1Ave36471], outputs=Glo19220)
in0Ave36471 = tf.constant([[[[[0.6847, 0.2704], [0.5239, 0.4979]]], [[[0.7435, 0.4839], [0.1647, 0.8927]]]]])
in1Ave36471 = tf.constant([[[[[0.2273, 0.4571], [0.3588, 0.7797]]], [[[0.0178, 0.5385], [0.0081, 0.2445]]]]])
print (np.array2string(model.predict([in0Ave36471,in1Ave36471],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo19220.png')

LAve36471 = average_layer([[[[[[0.6847, 0.2704], [0.5239, 0.4979]]], [[[0.7435, 0.4839], [0.1647, 0.8927]]]]], [[[[[0.2273, 0.4571], [0.3588, 0.7797]]], [[[0.0178, 0.5385], [0.0081, 0.2445]]]]]], Ave36471), 
LGlo19220 = global_average_pooling3D_layer(Ave36471, Glo19220), 
exec_layers([LAve36471,LGlo19220],["Ave36471","Glo19220"],Glo19220,"Glo19220")

Actual (Unparsed): [[0.3411000, 0.5205875]]

Expected (Unparsed): [[0.3411,0.5205875]]

Actual:   [[0.3411, 0.5206]]

Expected: [[0.3411, 0.5206]]