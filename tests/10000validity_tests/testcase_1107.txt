import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave98923 = tf.keras.layers.Input(shape=([2, 2, 1, 1]))
in1Ave98923 = tf.keras.layers.Input(shape=([2, 2, 1, 1]))

Ave98923 = keras.layers.Average(name = 'Ave98923', )([in0Ave98923,in1Ave98923])
Lea56555 = keras.layers.LeakyReLU(alpha=1.2224277371095493, name = 'Lea56555', )(Ave98923)
model = tf.keras.models.Model(inputs=[in0Ave98923,in1Ave98923], outputs=Lea56555)
in0Ave98923 = tf.constant([[[[[0.6742]], [[0.7099]]], [[[0.185]], [[0.8787]]]]])
in1Ave98923 = tf.constant([[[[[0.0156]], [[0.3727]]], [[[0.9484]], [[0.1536]]]]])
print (np.array2string(model.predict([in0Ave98923,in1Ave98923],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Lea56555.png')

LAve98923 = average_layer([[[[[[0.6742]], [[0.7099]]], [[[0.185]], [[0.8787]]]]], [[[[[0.0156]], [[0.3727]]], [[[0.9484]], [[0.1536]]]]]], Ave98923), 
LLea56555 = leaky_relu_layer(Ave98923, 1.2224277371095493, Lea56555), 
exec_layers([LAve98923,LLea56555],["Ave98923","Lea56555"],Lea56555,"Lea56555")

Actual (Unparsed): [[[[[0.3449000]], [[0.5413000]]], [[[0.5667000]], [[0.5161500]]]]]

Expected (Unparsed): [[[[[0.3449]],[[0.5413]]],[[[0.5667]],[[0.51615]]]]]

Actual:   [[[[[0.3449]], [[0.5413]]], [[[0.5667]], [[0.5162]]]]]

Expected: [[[[[0.3449]], [[0.5413]]], [[[0.5667]], [[0.5162]]]]]