import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot55444 = tf.keras.layers.Input(shape=([3, 2]))
in1Dot55444 = tf.keras.layers.Input(shape=([3, 2]))
in0Mul63738 = tf.keras.layers.Input(shape=([1, 2, 1]))
in1Mul63738 = tf.keras.layers.Input(shape=([1, 2, 1]))

Dot55444 = keras.layers.Dot(axes=(1, 1), name = 'Dot55444', )([in0Dot55444,in1Dot55444])
Res12655 = keras.layers.Reshape((2, 2, 1), name = 'Res12655', )(Dot55444)
Mul63738 = keras.layers.Multiply(name = 'Mul63738', )([in0Mul63738,in1Mul63738])
Zer9959 = keras.layers.ZeroPadding2D(padding=((1, 0), (0, 0)), name = 'Zer9959', )(Mul63738)
Min7469 = keras.layers.Minimum(name = 'Min7469', )([Res12655,Zer9959])
Glo44787 = keras.layers.GlobalAveragePooling2D(name = 'Glo44787', )(Min7469)
model = tf.keras.models.Model(inputs=[in0Dot55444,in1Dot55444,in0Mul63738,in1Mul63738], outputs=Glo44787)
in0Dot55444 = tf.constant([[[0.8527, 0.3001], [0.8725, 0.4069], [0.4708, 0.9709]]])
in1Dot55444 = tf.constant([[[0.3397, 0.6838], [0.6904, 0.0284], [0.1969, 0.9481]]])
in0Mul63738 = tf.constant([[[[0.8391], [0.7663]]]])
in1Mul63738 = tf.constant([[[[0.6979], [0.1707]]]])
print (np.array2string(model.predict([in0Dot55444,in1Dot55444,in0Mul63738,in1Mul63738],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo44787.png')

LDot55444 = dot_layer([[[0.8527, 0.3001], [0.8725, 0.4069], [0.4708, 0.9709]]], [[[0.3397, 0.6838], [0.6904, 0.0284], [0.1969, 0.9481]]], 1, 1, Dot55444), 
LRes12655 = reshape_layer(Dot55444, [2, 2, 1], Res12655), 
LMul63738 = multiply_layer([[[[[0.8391], [0.7663]]]], [[[[0.6979], [0.1707]]]]], Mul63738), 
LZer9959 = zero_padding2D_layer(Mul63738, 1, 0, 0, 0, Zer9959), 
LMin7469 = minimum_layer([Res12655,Zer9959], Min7469), 
LGlo44787 = global_average_pooling2D_layer(Min7469, Glo44787), 
exec_layers([LDot55444,LRes12655,LMul63738,LZer9959,LMin7469,LGlo44787],["Dot55444","Res12655","Mul63738","Zer9959","Min7469","Glo44787"],Glo44787,"Glo44787")

Actual (Unparsed): [[0.1762113]]

Expected (Unparsed): [[0.17621133749999998]]

Actual:   [[0.1763]]

Expected: [[0.1763]]