import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max24082 = tf.keras.layers.Input(shape=([2, 2, 1]))
in1Max24082 = tf.keras.layers.Input(shape=([2, 2, 1]))
in0Mul54619 = tf.keras.layers.Input(shape=([2, 1]))
in1Mul54619 = tf.keras.layers.Input(shape=([2, 1]))
in0Max96789 = tf.keras.layers.Input(shape=([2, 1, 2, 1]))
in1Max96789 = tf.keras.layers.Input(shape=([2, 1, 2, 1]))
in0ReL56498 = tf.keras.layers.Input(shape=([1, 2, 1, 1]))

Max24082 = keras.layers.Maximum(name = 'Max24082', )([in0Max24082,in1Max24082])
Res3767 = keras.layers.Reshape((2, 2), name = 'Res3767', )(Max24082)
Zer8318 = keras.layers.ZeroPadding1D(padding=((1, 1)), name = 'Zer8318', )(Res3767)
Res52563 = keras.layers.Reshape((4, 2, 1), name = 'Res52563', )(Zer8318)
Res81969 = keras.layers.Reshape((4, 2, 1, 1), name = 'Res81969', )(Res52563)
Zer9887 = keras.layers.ZeroPadding3D(padding=((0, 0), (2, 0), (2, 0)), name = 'Zer9887', )(Res81969)
Mul54619 = keras.layers.Multiply(name = 'Mul54619', )([in0Mul54619,in1Mul54619])
Res35855 = keras.layers.Reshape((2, 1, 1), name = 'Res35855', )(Mul54619)
Res59397 = keras.layers.Reshape((2, 1, 1, 1), name = 'Res59397', )(Res35855)
Zer57534 = keras.layers.ZeroPadding3D(padding=((0, 0), (0, 0), (1, 0)), name = 'Zer57534', )(Res59397)
Max96789 = keras.layers.Maximum(name = 'Max96789', )([in0Max96789,in1Max96789])
Min82351 = keras.layers.Minimum(name = 'Min82351', )([Zer57534,Max96789])
Zer83682 = keras.layers.ZeroPadding3D(padding=((0, 0), (2, 0), (0, 0)), name = 'Zer83682', )(Min82351)
ReL56498 = keras.layers.ReLU(max_value=4.195667136377881, negative_slope=1.9801741201107113, threshold=9.256109712421935, name = 'ReL56498', input_shape=(1, 2, 1, 1))(in0ReL56498)
Zer49341 = keras.layers.ZeroPadding3D(padding=((1, 0), (1, 0), (1, 0)), name = 'Zer49341', )(ReL56498)
Mul39965 = keras.layers.Multiply(name = 'Mul39965', )([Zer83682,Zer49341])
Zer41073 = keras.layers.ZeroPadding3D(padding=((2, 0), (1, 0), (1, 0)), name = 'Zer41073', )(Mul39965)
Min42983 = keras.layers.Minimum(name = 'Min42983', )([Zer9887,Zer41073])
model = tf.keras.models.Model(inputs=[in0Max24082,in1Max24082,in0Mul54619,in1Mul54619,in0Max96789,in1Max96789,in0ReL56498], outputs=Min42983)
in0Max24082 = tf.constant([[[[0.0331], [0.4895]], [[0.3234], [0.5033]]]])
in1Max24082 = tf.constant([[[[0.7526], [0.8667]], [[0.8719], [0.7062]]]])
in0Mul54619 = tf.constant([[[0.4066], [0.2941]]])
in1Mul54619 = tf.constant([[[0.8144], [0.2107]]])
in0Max96789 = tf.constant([[[[[0.4427], [0.1057]]], [[[0.2538], [0.8083]]]]])
in1Max96789 = tf.constant([[[[[0.4003], [0.9255]]], [[[0.9846], [0.9226]]]]])
in0ReL56498 = tf.constant([[[[[0.3883]], [[0.4244]]]]])
print (np.array2string(model.predict([in0Max24082,in1Max24082,in0Mul54619,in1Mul54619,in0Max96789,in1Max96789,in0ReL56498],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min42983.png')

LMax24082 = maximum_layer([[[[[0.0331], [0.4895]], [[0.3234], [0.5033]]]], [[[[0.7526], [0.8667]], [[0.8719], [0.7062]]]]], Max24082), 
LRes3767 = reshape_layer(Max24082, [2, 2], Res3767), 
LZer8318 = zero_padding1D_layer(Res3767, 1, 1, Zer8318), 
LRes52563 = reshape_layer(Zer8318, [4, 2, 1], Res52563), 
LRes81969 = reshape_layer(Res52563, [4, 2, 1, 1], Res81969), 
LZer9887 = zero_padding3D_layer(Res81969, 0, 0, 2, 0, 2, 0, Zer9887), 
LMul54619 = multiply_layer([[[[0.4066], [0.2941]]], [[[0.8144], [0.2107]]]], Mul54619), 
LRes35855 = reshape_layer(Mul54619, [2, 1, 1], Res35855), 
LRes59397 = reshape_layer(Res35855, [2, 1, 1, 1], Res59397), 
LZer57534 = zero_padding3D_layer(Res59397, 0, 0, 0, 0, 1, 0, Zer57534), 
LMax96789 = maximum_layer([[[[[[0.4427], [0.1057]]], [[[0.2538], [0.8083]]]]], [[[[[0.4003], [0.9255]]], [[[0.9846], [0.9226]]]]]], Max96789), 
LMin82351 = minimum_layer([Zer57534,Max96789], Min82351), 
LZer83682 = zero_padding3D_layer(Min82351, 0, 0, 2, 0, 0, 0, Zer83682), 
LReL56498 = relu_layer([[[[[0.3883]], [[0.4244]]]]], 4.195667136377881, 1.9801741201107113, 9.256109712421935, ReL56498), 
LZer49341 = zero_padding3D_layer(ReL56498, 1, 0, 1, 0, 1, 0, Zer49341), 
LMul39965 = multiply_layer([Zer83682,Zer49341], Mul39965), 
LZer41073 = zero_padding3D_layer(Mul39965, 2, 0, 1, 0, 1, 0, Zer41073), 
LMin42983 = minimum_layer([Zer9887,Zer41073], Min42983), 
exec_layers([LMax24082,LRes3767,LZer8318,LRes52563,LRes81969,LZer9887,LMul54619,LRes35855,LRes59397,LZer57534,LMax96789,LMin82351,LZer83682,LReL56498,LZer49341,LMul39965,LZer41073,LMin42983],["Max24082","Res3767","Zer8318","Res52563","Res81969","Zer9887","Mul54619","Res35855","Res59397","Zer57534","Max96789","Min82351","Zer83682","ReL56498","Zer49341","Mul39965","Zer41073","Min42983"],Min42983,"Min42983")

Actual (Unparsed): [[[[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [-0.0000000]], [[0.0000000], [0.0000000], [-1.0836966]]]]]

Expected (Unparsed): [[[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0.0]]],[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[-1.0836966384085525]]]]]

Actual:   [[[[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [-0]], [[0], [0], [-1.0836]]]]]

Expected: [[[[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [-1.0836]]]]]