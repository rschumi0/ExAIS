import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave15558 = tf.keras.layers.Input(shape=([1, 2, 1]))
in1Ave15558 = tf.keras.layers.Input(shape=([1, 2, 1]))
in0Add65491 = tf.keras.layers.Input(shape=([1, 1, 1]))
in1Add65491 = tf.keras.layers.Input(shape=([1, 1, 1]))

Ave15558 = keras.layers.Average(name = 'Ave15558', )([in0Ave15558,in1Ave15558])
Add65491 = keras.layers.Add(name = 'Add65491', )([in0Add65491,in1Add65491])
Glo3328 = keras.layers.GlobalMaxPool2D(name = 'Glo3328', )(Add65491)
Res77703 = keras.layers.Reshape((1, 1), name = 'Res77703', )(Glo3328)
Res14195 = keras.layers.Reshape((1, 1, 1), name = 'Res14195', )(Res77703)
Max35470 = keras.layers.MaxPool2D(pool_size=(1, 1), strides=(6, 1), padding='valid', name = 'Max35470', )(Res14195)
Zer60264 = keras.layers.ZeroPadding2D(padding=((0, 0), (1, 0)), name = 'Zer60264', )(Max35470)
Min40749 = keras.layers.Minimum(name = 'Min40749', )([Ave15558,Zer60264])
model = tf.keras.models.Model(inputs=[in0Ave15558,in1Ave15558,in0Add65491,in1Add65491], outputs=Min40749)
in0Ave15558 = tf.constant([[[[0.1999], [0.8183]]]])
in1Ave15558 = tf.constant([[[[0.5811], [0.6184]]]])
in0Add65491 = tf.constant([[[[0.3854]]]])
in1Add65491 = tf.constant([[[[0.1189]]]])
print (np.array2string(model.predict([in0Ave15558,in1Ave15558,in0Add65491,in1Add65491],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min40749.png')

LAve15558 = average_layer([[[[[0.1999], [0.8183]]]], [[[[0.5811], [0.6184]]]]], Ave15558), 
LAdd65491 = add_layer([[[[[0.3854]]]], [[[[0.1189]]]]], Add65491), 
LGlo3328 = global_max_pool2D_layer(Add65491, Glo3328), 
LRes77703 = reshape_layer(Glo3328, [1, 1], Res77703), 
LRes14195 = reshape_layer(Res77703, [1, 1, 1], Res14195), 
LMax35470 = max_pool2D_layer(Res14195, 1, 1, 6, 1, false, Max35470), 
LZer60264 = zero_padding2D_layer(Max35470, 0, 0, 1, 0, Zer60264), 
LMin40749 = minimum_layer([Ave15558,Zer60264], Min40749), 
exec_layers([LAve15558,LAdd65491,LGlo3328,LRes77703,LRes14195,LMax35470,LZer60264,LMin40749],["Ave15558","Add65491","Glo3328","Res77703","Res14195","Max35470","Zer60264","Min40749"],Min40749,"Min40749")

Actual (Unparsed): [[[[0.0000000], [0.5043000]]]]

Expected (Unparsed): [[[[0],[0.5043]]]]

Actual:   [[[[0], [0.5043]]]]

Expected: [[[[0], [0.5043]]]]