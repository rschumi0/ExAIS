import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min92764 = tf.keras.layers.Input(shape=([2, 2, 2]))
in1Min92764 = tf.keras.layers.Input(shape=([2, 2, 2]))

Min92764 = keras.layers.Minimum(name = 'Min92764', )([in0Min92764,in1Min92764])
Dep72854 = keras.layers.DepthwiseConv2D((1, 2),strides=(1, 1), padding='same', name = 'Dep72854', )(Min92764)
model = tf.keras.models.Model(inputs=[in0Min92764,in1Min92764], outputs=Dep72854)
w = model.get_layer('Dep72854').get_weights() 
w[0] = np.array([[[[0.9976], [0.829]], [[0.8875], [0.8277]]]])
w[1] = np.array([0, 0])
model.get_layer('Dep72854').set_weights(w) 
in0Min92764 = tf.constant([[[[0.4813, 0.2931], [0.8338, 0.992]], [[0.2323, 0.2556], [0.7296, 0.3608]]]])
in1Min92764 = tf.constant([[[[0.1571, 0.0777], [0.3788, 0.0639]], [[0.6592, 0.1983], [0.3433, 0.7788]]]])
print (np.array2string(model.predict([in0Min92764,in1Min92764],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Dep72854.png')

LMin92764 = minimum_layer([[[[[0.4813, 0.2931], [0.8338, 0.992]], [[0.2323, 0.2556], [0.7296, 0.3608]]]], [[[[0.1571, 0.0777], [0.3788, 0.0639]], [[0.6592, 0.1983], [0.3433, 0.7788]]]]], Min92764), 
LDep72854 = depthwise_conv2D_layer(Min92764, 1, 2,[[[[0.9976], [0.829]], [[0.8875], [0.8277]]]],[0, 0], 1, 1, true, Dep72854), 
exec_layers([LMin92764,LDep72854],["Min92764","Dep72854"],Dep72854,"Dep72854")

Actual (Unparsed): [[[[0.4929080, 0.1173033], [0.3778909, 0.0529731]], [[0.5364212, 0.4630249], [0.3424761, 0.2991032]]]]

Expected (Unparsed): [[[[0.49290796000000003,0.11730333000000001],[0.37789088000000004,0.052973099999999995]],[[0.53642123,0.46302486],[0.34247608,0.2991032]]]]

Actual:   [[[[0.493, 0.1174], [0.3779, 0.053]], [[0.5365, 0.4631], [0.3425, 0.2992]]]]

Expected: [[[[0.493, 0.1174], [0.3779, 0.053]], [[0.5365, 0.4631], [0.3425, 0.2992]]]]