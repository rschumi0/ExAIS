import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min77780 = tf.keras.layers.Input(shape=([1, 2, 2]))
in1Min77780 = tf.keras.layers.Input(shape=([1, 2, 2]))
in0Ave13424 = tf.keras.layers.Input(shape=([1, 2, 2]))
in1Ave13424 = tf.keras.layers.Input(shape=([1, 2, 2]))

Min77780 = keras.layers.Minimum(name = 'Min77780', )([in0Min77780,in1Min77780])
Ave13424 = keras.layers.Average(name = 'Ave13424', )([in0Ave13424,in1Ave13424])
ReL27373 = keras.layers.ReLU(max_value=2.6324184186685917, negative_slope=5.632448824474144, threshold=8.801382206267878, name = 'ReL27373', )(Ave13424)
Mul51283 = keras.layers.Multiply(name = 'Mul51283', )([Min77780,ReL27373])
Glo82125 = keras.layers.GlobalAveragePooling2D(name = 'Glo82125', )(Mul51283)
model = tf.keras.models.Model(inputs=[in0Min77780,in1Min77780,in0Ave13424,in1Ave13424], outputs=Glo82125)
in0Min77780 = tf.constant([[[[0.2191, 0.9534], [0.2509, 0.9768]]]])
in1Min77780 = tf.constant([[[[0.6431, 0.1958], [0.7166, 0.661]]]])
in0Ave13424 = tf.constant([[[[0.5582, 0.7028], [0.1664, 0.6141]]]])
in1Ave13424 = tf.constant([[[[0.2207, 0.4795], [0.5185, 0.8312]]]])
print (np.array2string(model.predict([in0Min77780,in1Min77780,in0Ave13424,in1Ave13424],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo82125.png')

LMin77780 = minimum_layer([[[[[0.2191, 0.9534], [0.2509, 0.9768]]]], [[[[0.6431, 0.1958], [0.7166, 0.661]]]]], Min77780), 
LAve13424 = average_layer([[[[[0.5582, 0.7028], [0.1664, 0.6141]]]], [[[[0.2207, 0.4795], [0.5185, 0.8312]]]]], Ave13424), 
LReL27373 = relu_layer(Ave13424, 2.6324184186685917, 5.632448824474144, 8.801382206267878, ReL27373), 
LMul51283 = multiply_layer([Min77780,ReL27373], Mul51283), 
LGlo82125 = global_average_pooling2D_layer(Mul51283, Glo82125), 
exec_layers([LMin77780,LAve13424,LReL27373,LMul51283,LGlo82125],["Min77780","Ave13424","ReL27373","Mul51283","Glo82125"],Glo82125,"Glo82125")

Actual (Unparsed): [[-11.1674575, -19.5660166]]

Expected (Unparsed): [[-11.167457514822603,-19.566016087076473]]

Actual:   [[-11.1674, -19.566]]

Expected: [[-11.1674, -19.566]]