import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot79946 = tf.keras.layers.Input(shape=([2, 3]))
in1Dot79946 = tf.keras.layers.Input(shape=([2, 3]))
in0Sub66282 = tf.keras.layers.Input(shape=([3]))
in1Sub66282 = tf.keras.layers.Input(shape=([3]))
in0Con28205 = tf.keras.layers.Input(shape=([6]))

Dot79946 = keras.layers.Dot(axes=(1, 1), name = 'Dot79946', )([in0Dot79946,in1Dot79946])
Fla34617 = keras.layers.Flatten(name = 'Fla34617', )(Dot79946)
Sub66282 = keras.layers.Subtract(name = 'Sub66282', )([in0Sub66282,in1Sub66282])
Con28205 = keras.layers.Concatenate(axis=1, name = 'Con28205', )([Sub66282,in0Con28205])
Min36028 = keras.layers.Minimum(name = 'Min36028', )([Fla34617,Con28205])
Res68975 = keras.layers.Reshape((9, 1), name = 'Res68975', )(Min36028)
Res15204 = keras.layers.Reshape((9, 1, 1), name = 'Res15204', )(Res68975)
Cro21712 = keras.layers.Cropping2D(cropping=((8, 0), (0, 0)), name = 'Cro21712', )(Res15204)
model = tf.keras.models.Model(inputs=[in0Dot79946,in1Dot79946,in0Sub66282,in1Sub66282,in0Con28205], outputs=Cro21712)
in0Dot79946 = tf.constant([[[0.2583, 0.2333, 0.9139], [0.0949, 0.3615, 0.5889]]])
in1Dot79946 = tf.constant([[[0.2064, 0.7449, 0.0654], [0.9472, 0.5443, 0.0512]]])
in0Sub66282 = tf.constant([[0.2394, 0.093, 0.1649]])
in1Sub66282 = tf.constant([[0.5524, 0.8321, 0.5555]])
in0Con28205 = tf.constant([[0.239, 0.6856, 0.4549, 0.2663, 0.3683, 0.55]])
print (np.array2string(model.predict([in0Dot79946,in1Dot79946,in0Sub66282,in1Sub66282,in0Con28205],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Cro21712.png')

LDot79946 = dot_layer([[[0.2583, 0.2333, 0.9139], [0.0949, 0.3615, 0.5889]]], [[[0.2064, 0.7449, 0.0654], [0.9472, 0.5443, 0.0512]]], 1, 1, Dot79946), 
LFla34617 = flatten_layer(Dot79946, Fla34617), 
LSub66282 = subtract_layer([[0.2394, 0.093, 0.1649]], [[0.5524, 0.8321, 0.5555]], Sub66282), 
LCon28205 = concatenate_layer([Sub66282,[[0.239, 0.6856, 0.4549, 0.2663, 0.3683, 0.55]]], 1, Con28205), 
LMin36028 = minimum_layer([Fla34617,Con28205], Min36028), 
LRes68975 = reshape_layer(Min36028, [9, 1], Res68975), 
LRes15204 = reshape_layer(Res68975, [9, 1, 1], Res15204), 
LCro21712 = cropping2D_layer(Res15204, 8, 0, 0, 0, Cro21712), 
exec_layers([LDot79946,LFla34617,LSub66282,LCon28205,LMin36028,LRes68975,LRes15204,LCro21712],["Dot79946","Fla34617","Sub66282","Con28205","Min36028","Res68975","Res15204","Cro21712"],Cro21712,"Cro21712")

Actual (Unparsed): [[[[0.0899207]]]]

Expected (Unparsed): [[[[0.08992074]]]]

Actual:   [[[[0.09]]]]

Expected: [[[[0.09]]]]