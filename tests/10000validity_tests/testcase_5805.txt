import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Up_69339 = tf.keras.layers.Input(shape=([3, 3, 2]))

Up_69339 = keras.layers.UpSampling2D(size=(1, 1), name = 'Up_69339', )(in0Up_69339)
Ave96294 = keras.layers.AveragePooling2D(pool_size=(1, 2), strides=(1, 1), padding='valid', name = 'Ave96294', )(Up_69339)
Mas31230 = keras.layers.Masking(mask_value=2, name = 'Mas31230', )(Ave96294)
Thr34137 = keras.layers.ThresholdedReLU(theta=4.48965942406286, name = 'Thr34137', )(Mas31230)
model = tf.keras.models.Model(inputs=[in0Up_69339], outputs=Thr34137)
in0Up_69339 = tf.constant([[[[1.3716, 1.2993], [1.7447, 1.7386], [1.0852, 1.6855]], [[1.3052, 1.657], [1.5453, 1.9435], [1.1398, 1.7578]], [[1.3681, 1.1126], [1.3768, 1.3112], [1.3681, 1.8881]]]])
print (np.array2string(model.predict([in0Up_69339],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Thr34137.png')

LUp_69339 = up_sampling2D_layer([[[[1.3716, 1.2993], [1.7447, 1.7386], [1.0852, 1.6855]], [[1.3052, 1.657], [1.5453, 1.9435], [1.1398, 1.7578]], [[1.3681, 1.1126], [1.3768, 1.3112], [1.3681, 1.8881]]]], 1, 1, Up_69339), 
LAve96294 = average_pooling2D_layer(Up_69339, 1, 2, 1, 1, false, Ave96294), 
LMas31230 = masking_layer(Ave96294, 2, Mas31230), 
LThr34137 = thresholded_relu_layer(Mas31230, 4.48965942406286, Thr34137), 
exec_layers([LUp_69339,LAve96294,LMas31230,LThr34137],["Up_69339","Ave96294","Mas31230","Thr34137"],Thr34137,"Thr34137")

Actual (Unparsed): [[[[0.0000000, 0.0000000], [0.0000000, 0.0000000]], [[0.0000000, 0.0000000], [0.0000000, 0.0000000]], [[0.0000000, 0.0000000], [0.0000000, 0.0000000]]]]

Expected (Unparsed): [[[[0,0],[0,0]],[[0,0],[0,0]],[[0,0],[0,0]]]]

Actual:   [[[[0, 0], [0, 0]], [[0, 0], [0, 0]], [[0, 0], [0, 0]]]]

Expected: [[[[0, 0], [0, 0]], [[0, 0], [0, 0]], [[0, 0], [0, 0]]]]