import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max47727 = tf.keras.layers.Input(shape=([2, 2, 2, 1]))
in1Max47727 = tf.keras.layers.Input(shape=([2, 2, 2, 1]))

Max47727 = keras.layers.Maximum(name = 'Max47727', )([in0Max47727,in1Max47727])
Thr46126 = keras.layers.ThresholdedReLU(theta=3.1268710029315177, name = 'Thr46126', )(Max47727)
Res52044 = keras.layers.Reshape((2, 2, 2), name = 'Res52044', )(Thr46126)
Res65575 = keras.layers.Reshape((2, 4), name = 'Res65575', )(Res52044)
Zer31836 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer31836', )(Res65575)
Res38360 = keras.layers.Reshape((3, 4, 1), name = 'Res38360', )(Zer31836)
Res40900 = keras.layers.Reshape((3, 4, 1, 1), name = 'Res40900', )(Res38360)
Glo99927 = keras.layers.GlobalMaxPool3D(name = 'Glo99927', )(Res40900)
model = tf.keras.models.Model(inputs=[in0Max47727,in1Max47727], outputs=Glo99927)
in0Max47727 = tf.constant([[[[[0.7689], [0.4191]], [[0.0137], [0.9018]]], [[[0.6592], [0.3393]], [[0.3038], [0.7075]]]]])
in1Max47727 = tf.constant([[[[[0.6824], [0.221]], [[0.6125], [0.6869]]], [[[0.4148], [0.0091]], [[0.0932], [0.5176]]]]])
print (np.array2string(model.predict([in0Max47727,in1Max47727],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo99927.png')

LMax47727 = maximum_layer([[[[[[0.7689], [0.4191]], [[0.0137], [0.9018]]], [[[0.6592], [0.3393]], [[0.3038], [0.7075]]]]], [[[[[0.6824], [0.221]], [[0.6125], [0.6869]]], [[[0.4148], [0.0091]], [[0.0932], [0.5176]]]]]], Max47727), 
LThr46126 = thresholded_relu_layer(Max47727, 3.1268710029315177, Thr46126), 
LRes52044 = reshape_layer(Thr46126, [2, 2, 2], Res52044), 
LRes65575 = reshape_layer(Res52044, [2, 4], Res65575), 
LZer31836 = zero_padding1D_layer(Res65575, 1, 0, Zer31836), 
LRes38360 = reshape_layer(Zer31836, [3, 4, 1], Res38360), 
LRes40900 = reshape_layer(Res38360, [3, 4, 1, 1], Res40900), 
LGlo99927 = global_max_pool3D_layer(Res40900, Glo99927), 
exec_layers([LMax47727,LThr46126,LRes52044,LRes65575,LZer31836,LRes38360,LRes40900,LGlo99927],["Max47727","Thr46126","Res52044","Res65575","Zer31836","Res38360","Res40900","Glo99927"],Glo99927,"Glo99927")

Actual (Unparsed): [[0.0000000]]

Expected (Unparsed): [[0]]

Actual:   [[0]]

Expected: [[0]]