import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Max8761 = tf.keras.layers.Input(shape=([1, 2, 1]))
in0Min80916 = tf.keras.layers.Input(shape=([2, 1, 2, 1]))
in1Min80916 = tf.keras.layers.Input(shape=([2, 1, 2, 1]))

Max8761 = keras.layers.MaxPool2D(pool_size=(1, 2), name = 'Max8761', )(in0Max8761)
Res58303 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res58303', )(Max8761)
Zer95206 = keras.layers.ZeroPadding3D(padding=((1, 0), (0, 0), (1, 0)), name = 'Zer95206', )(Res58303)
Min80916 = keras.layers.Minimum(name = 'Min80916', )([in0Min80916,in1Min80916])
Sub85123 = keras.layers.Subtract(name = 'Sub85123', )([Zer95206,Min80916])
Res10004 = keras.layers.Reshape((2, 1, 2), name = 'Res10004', )(Sub85123)
Glo13697 = keras.layers.GlobalAveragePooling2D(name = 'Glo13697', )(Res10004)
model = tf.keras.models.Model(inputs=[in0Max8761,in0Min80916,in1Min80916], outputs=Glo13697)
in0Max8761 = tf.constant([[[[1.6509], [1.3789]]]])
in0Min80916 = tf.constant([[[[[0.294], [0.0563]]], [[[0.2809], [0.7512]]]]])
in1Min80916 = tf.constant([[[[[0.5901], [0.0199]]], [[[0.4166], [0.5315]]]]])
print (np.array2string(model.predict([in0Max8761,in0Min80916,in1Min80916],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo13697.png')

LMax8761 = max_pool2D_layer([[[[1.6509], [1.3789]]]], 1, 2, Max8761), 
LRes58303 = reshape_layer(Max8761, [1, 1, 1, 1], Res58303), 
LZer95206 = zero_padding3D_layer(Res58303, 1, 0, 0, 0, 1, 0, Zer95206), 
LMin80916 = minimum_layer([[[[[[0.294], [0.0563]]], [[[0.2809], [0.7512]]]]], [[[[[0.5901], [0.0199]]], [[[0.4166], [0.5315]]]]]], Min80916), 
LSub85123 = subtract_layer(Zer95206,Min80916, Sub85123), 
LRes10004 = reshape_layer(Sub85123, [2, 1, 2], Res10004), 
LGlo13697 = global_average_pooling2D_layer(Res10004, Glo13697), 
exec_layers([LMax8761,LRes58303,LZer95206,LMin80916,LSub85123,LRes10004,LGlo13697],["Max8761","Res58303","Zer95206","Min80916","Sub85123","Res10004","Glo13697"],Glo13697,"Glo13697")

Actual (Unparsed): [[-0.2874500, 0.5497500]]

Expected (Unparsed): [[-0.28745,0.5497500000000001]]

Actual:   [[-0.2874, 0.5498]]

Expected: [[-0.2874, 0.5498]]