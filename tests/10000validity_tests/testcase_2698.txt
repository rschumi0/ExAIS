import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot6826 = tf.keras.layers.Input(shape=([3]))
in1Dot6826 = tf.keras.layers.Input(shape=([3]))

Dot6826 = keras.layers.Dot(axes=(1, 1), name = 'Dot6826', )([in0Dot6826,in1Dot6826])
Res48807 = keras.layers.Reshape((1, 1), name = 'Res48807', )(Dot6826)
Res25518 = keras.layers.Reshape((1, 1, 1), name = 'Res25518', )(Res48807)
Res25610 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res25610', )(Res25518)
Zer997 = keras.layers.ZeroPadding3D(padding=((1, 1), (1, 1), (1, 1)), name = 'Zer997', )(Res25610)
Res14984 = keras.layers.Reshape((3, 3, 3), name = 'Res14984', )(Zer997)
Res94956 = keras.layers.Reshape((3, 9), name = 'Res94956', )(Res14984)
Glo33088 = keras.layers.GlobalMaxPool1D(name = 'Glo33088', )(Res94956)
Den97389 = keras.layers.Dense(1,name = 'Den97389', )(Glo33088)
model = tf.keras.models.Model(inputs=[in0Dot6826,in1Dot6826], outputs=Den97389)
w = model.get_layer('Den97389').get_weights() 
w[0] = np.array([[0.991], [0.522], [0.1899], [0.2798], [0.5227], [0.4403], [0.4804], [0.1968], [0.9077]])
w[1] = np.array([0.5017])
model.get_layer('Den97389').set_weights(w) 
in0Dot6826 = tf.constant([[0.9035, 0.3484, 0.8187]])
in1Dot6826 = tf.constant([[0.999, 0.1166, 0.6404]])
print (np.array2string(model.predict([in0Dot6826,in1Dot6826],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Den97389.png')

LDot6826 = dot_layer([[0.9035, 0.3484, 0.8187]], [[0.999, 0.1166, 0.6404]], 1, 1, Dot6826), 
LRes48807 = reshape_layer(Dot6826, [1, 1], Res48807), 
LRes25518 = reshape_layer(Res48807, [1, 1, 1], Res25518), 
LRes25610 = reshape_layer(Res25518, [1, 1, 1, 1], Res25610), 
LZer997 = zero_padding3D_layer(Res25610, 1, 1, 1, 1, 1, 1, Zer997), 
LRes14984 = reshape_layer(Zer997, [3, 3, 3], Res14984), 
LRes94956 = reshape_layer(Res14984, [3, 9], Res94956), 
LGlo33088 = global_max_pool1D_layer(Res94956, Glo33088), 
LDen97389 = dense_layer(Glo33088, [[0.991], [0.522], [0.1899], [0.2798], [0.5227], [0.4403], [0.4804], [0.1968], [0.9077]],[0.5017], Den97389), 
exec_layers([LDot6826,LRes48807,LRes25518,LRes25610,LZer997,LRes14984,LRes94956,LGlo33088,LDen97389],["Dot6826","Res48807","Res25518","Res25610","Zer997","Res14984","Res94956","Glo33088","Den97389"],Den97389,"Den97389")

Actual (Unparsed): [[1.2687703]]

Expected (Unparsed): [[1.268770310034]]

Actual:   [[1.2688]]

Expected: [[1.2688]]