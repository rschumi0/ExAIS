import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot55661 = tf.keras.layers.Input(shape=([3, 2]))
in1Dot55661 = tf.keras.layers.Input(shape=([3, 2]))
in0Cro99675 = tf.keras.layers.Input(shape=([1, 1]))
in0Con78480 = tf.keras.layers.Input(shape=([2, 1]))
in0Ave45166 = tf.keras.layers.Input(shape=([2, 1]))
in0Add95043 = tf.keras.layers.Input(shape=([1, 1, 1]))
in1Add95043 = tf.keras.layers.Input(shape=([1, 1, 1]))
in0Dot77708 = tf.keras.layers.Input(shape=([2]))
in1Dot77708 = tf.keras.layers.Input(shape=([2]))
in0Con68169 = tf.keras.layers.Input(shape=([3]))

Dot55661 = keras.layers.Dot(axes=(1, 1), name = 'Dot55661', )([in0Dot55661,in1Dot55661])
Cro99675 = keras.layers.Cropping1D(cropping=((0, 0)), name = 'Cro99675', )(in0Cro99675)
Zer9845 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer9845', )(Cro99675)
Con78480 = keras.layers.Concatenate(axis=2, name = 'Con78480', )([Zer9845,in0Con78480])
Add85625 = keras.layers.Add(name = 'Add85625', )([Dot55661,Con78480])
Fla32432 = keras.layers.Flatten(name = 'Fla32432', )(Add85625)
Ave45166 = keras.layers.AveragePooling1D(pool_size=(2), name = 'Ave45166', )(in0Ave45166)
Fla82491 = keras.layers.Flatten(name = 'Fla82491', )(Ave45166)
Add95043 = keras.layers.Add(name = 'Add95043', )([in0Add95043,in1Add95043])
Res95323 = keras.layers.Reshape((1, 1), name = 'Res95323', )(Add95043)
Fla15288 = keras.layers.Flatten(name = 'Fla15288', )(Res95323)
Dot77708 = keras.layers.Dot(axes=(1, 1), name = 'Dot77708', )([in0Dot77708,in1Dot77708])
Ave46021 = keras.layers.Average(name = 'Ave46021', )([Fla15288,Dot77708])
Sub69741 = keras.layers.Subtract(name = 'Sub69741', )([Fla82491,Ave46021])
Con68169 = keras.layers.Concatenate(axis=1, name = 'Con68169', )([Sub69741,in0Con68169])
Mul49542 = keras.layers.Multiply(name = 'Mul49542', )([Fla32432,Con68169])
model = tf.keras.models.Model(inputs=[in0Dot55661,in1Dot55661,in0Cro99675,in0Con78480,in0Ave45166,in0Add95043,in1Add95043,in0Dot77708,in1Dot77708,in0Con68169], outputs=Mul49542)
in0Dot55661 = tf.constant([[[0.8188, 0.5866], [0.2776, 0.8787], [0.3418, 0.5237]]])
in1Dot55661 = tf.constant([[[0.7731, 0.6349], [0.1649, 0.9343], [0.4837, 0.8871]]])
in0Cro99675 = tf.constant([[[1.0359]]])
in0Con78480 = tf.constant([[[0.2698], [0.4596]]])
in0Ave45166 = tf.constant([[[1.9822], [1.7365]]])
in0Add95043 = tf.constant([[[[0.7096]]]])
in1Add95043 = tf.constant([[[[0.1138]]]])
in0Dot77708 = tf.constant([[0.8659, 0.2696]])
in1Dot77708 = tf.constant([[0.4353, 0.0661]])
in0Con68169 = tf.constant([[0.0822, 0.8797, 0.2175]])
print (np.array2string(model.predict([in0Dot55661,in1Dot55661,in0Cro99675,in0Con78480,in0Ave45166,in0Add95043,in1Add95043,in0Dot77708,in1Dot77708,in0Con68169],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Mul49542.png')

LDot55661 = dot_layer([[[0.8188, 0.5866], [0.2776, 0.8787], [0.3418, 0.5237]]], [[[0.7731, 0.6349], [0.1649, 0.9343], [0.4837, 0.8871]]], 1, 1, Dot55661), 
LCro99675 = cropping1D_layer([[[1.0359]]], 0, 0, Cro99675), 
LZer9845 = zero_padding1D_layer(Cro99675, 1, 0, Zer9845), 
LCon78480 = concatenate_layer([Zer9845,[[[0.2698], [0.4596]]]], 2, Con78480), 
LAdd85625 = add_layer([Dot55661,Con78480], Add85625), 
LFla32432 = flatten_layer(Add85625, Fla32432), 
LAve45166 = average_pooling1D_layer([[[1.9822], [1.7365]]], 2, Ave45166), 
LFla82491 = flatten_layer(Ave45166, Fla82491), 
LAdd95043 = add_layer([[[[[0.7096]]]], [[[[0.1138]]]]], Add95043), 
LRes95323 = reshape_layer(Add95043, [1, 1], Res95323), 
LFla15288 = flatten_layer(Res95323, Fla15288), 
LDot77708 = dot_layer([[0.8659, 0.2696]], [[0.4353, 0.0661]], 1, 1, Dot77708), 
LAve46021 = average_layer([Fla15288,Dot77708], Ave46021), 
LSub69741 = subtract_layer(Fla82491,Ave46021, Sub69741), 
LCon68169 = concatenate_layer([Sub69741,[[0.0822, 0.8797, 0.2175]]], 1, Con68169), 
LMul49542 = multiply_layer([Fla32432,Con68169], Mul49542), 
exec_layers([LDot55661,LCro99675,LZer9845,LCon78480,LAdd85625,LFla32432,LAve45166,LFla82491,LAdd95043,LRes95323,LFla15288,LDot77708,LAve46021,LSub69741,LCon68169,LMul49542],["Dot55661","Cro99675","Zer9845","Con78480","Add85625","Fla32432","Ave45166","Fla82491","Add95043","Res95323","Fla15288","Dot77708","Ave46021","Sub69741","Con68169","Mul49542"],Mul49542,"Mul49542")

Actual (Unparsed): [[1.0553825, 0.1111532, 1.6605321, 0.4605728]]

Expected (Unparsed): [[1.0553824457034005,0.11115318927600001,1.6605320828660002,0.46057278435]]

Actual:   [[1.0554, 0.1112, 1.6606, 0.4606]]

Expected: [[1.0554, 0.1112, 1.6606, 0.4606]]