import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add37983 = tf.keras.layers.Input(shape=([2, 2]))
in1Add37983 = tf.keras.layers.Input(shape=([2, 2]))

Add37983 = keras.layers.Add(name = 'Add37983', )([in0Add37983,in1Add37983])
Fla70362 = keras.layers.Flatten(name = 'Fla70362', )(Add37983)
Res42979 = keras.layers.Reshape((4, 1), name = 'Res42979', )(Fla70362)
Res37072 = keras.layers.Reshape((4, 1, 1), name = 'Res37072', )(Res42979)
Max76413 = keras.layers.MaxPool2D(pool_size=(4, 1), name = 'Max76413', )(Res37072)
model = tf.keras.models.Model(inputs=[in0Add37983,in1Add37983], outputs=Max76413)
in0Add37983 = tf.constant([[[0.4258, 0.859], [0.3466, 0.241]]])
in1Add37983 = tf.constant([[[0.2708, 0.5891], [0.9605, 0.7703]]])
print (np.array2string(model.predict([in0Add37983,in1Add37983],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max76413.png')

LAdd37983 = add_layer([[[[0.4258, 0.859], [0.3466, 0.241]]], [[[0.2708, 0.5891], [0.9605, 0.7703]]]], Add37983), 
LFla70362 = flatten_layer(Add37983, Fla70362), 
LRes42979 = reshape_layer(Fla70362, [4, 1], Res42979), 
LRes37072 = reshape_layer(Res42979, [4, 1, 1], Res37072), 
LMax76413 = max_pool2D_layer(Res37072, 4, 1, Max76413), 
exec_layers([LAdd37983,LFla70362,LRes42979,LRes37072,LMax76413],["Add37983","Fla70362","Res42979","Res37072","Max76413"],Max76413,"Max76413")

Actual (Unparsed): [[[[1.4481000]]]]

Expected (Unparsed): [[[[1.4481]]]]

Actual:   [[[[1.4481]]]]

Expected: [[[[1.4481]]]]