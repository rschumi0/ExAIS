import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot99584 = tf.keras.layers.Input(shape=([3, 2]))
in1Dot99584 = tf.keras.layers.Input(shape=([3, 2]))

Dot99584 = keras.layers.Dot(axes=(2, 2), name = 'Dot99584', )([in0Dot99584,in1Dot99584])
Res39335 = keras.layers.Reshape((3, 3, 1), name = 'Res39335', )(Dot99584)
Max74488 = keras.layers.MaxPool2D(pool_size=(2, 1), name = 'Max74488', )(Res39335)
model = tf.keras.models.Model(inputs=[in0Dot99584,in1Dot99584], outputs=Max74488)
in0Dot99584 = tf.constant([[[0.7031, 0.7016], [0.5393, 0.9087], [0.2445, 0.8469]]])
in1Dot99584 = tf.constant([[[0.2228, 0.1798], [0.947, 0.9517], [0.5824, 0.6334]]])
print (np.array2string(model.predict([in0Dot99584,in1Dot99584],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Max74488.png')

LDot99584 = dot_layer([[[0.7031, 0.7016], [0.5393, 0.9087], [0.2445, 0.8469]]], [[[0.2228, 0.1798], [0.947, 0.9517], [0.5824, 0.6334]]], 2, 2, Dot99584), 
LRes39335 = reshape_layer(Dot99584, [3, 3, 1], Res39335), 
LMax74488 = max_pool2D_layer(Res39335, 2, 1, Max74488), 
exec_layers([LDot99584,LRes39335,LMax74488],["Dot99584","Res39335","Max74488"],Max74488,"Max74488")

Actual (Unparsed): [[[[0.2835403], [1.3755269], [0.8896589]]]]

Expected (Unparsed): [[[[0.28354029999999997],[1.3755268899999997],[0.8896588999999999]]]]

Actual:   [[[[0.2836], [1.3756], [0.8897]]]]

Expected: [[[[0.2836], [1.3756], [0.8897]]]]