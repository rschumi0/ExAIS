import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub95944 = tf.keras.layers.Input(shape=([3, 2, 2]))
in1Sub95944 = tf.keras.layers.Input(shape=([3, 2, 2]))
in0Cro40928 = tf.keras.layers.Input(shape=([4, 3, 2]))

Sub95944 = keras.layers.Subtract(name = 'Sub95944', )([in0Sub95944,in1Sub95944])
Cro40928 = keras.layers.Cropping2D(cropping=((0, 1), (2, 0)), name = 'Cro40928', )(in0Cro40928)
Zer94607 = keras.layers.ZeroPadding2D(padding=((0, 0), (1, 0)), name = 'Zer94607', )(Cro40928)
Add21317 = keras.layers.Add(name = 'Add21317', )([Sub95944,Zer94607])
Res4207 = keras.layers.Reshape((3, 4), name = 'Res4207', )(Add21317)
Fla34998 = keras.layers.Flatten(name = 'Fla34998', )(Res4207)
Res88355 = keras.layers.Reshape((12, 1), name = 'Res88355', )(Fla34998)
Glo36736 = keras.layers.GlobalMaxPool1D(name = 'Glo36736', )(Res88355)
model = tf.keras.models.Model(inputs=[in0Sub95944,in1Sub95944,in0Cro40928], outputs=Glo36736)
in0Sub95944 = tf.constant([[[[0.3931, 0.3328], [0.4695, 0.078]], [[0.566, 0.2846], [0.5576, 0.7128]], [[0.084, 0.047], [0.418, 0.429]]]])
in1Sub95944 = tf.constant([[[[0.684, 0.2391], [0.8371, 0.9313]], [[0.9781, 0.524], [0.1456, 0.1258]], [[0.8837, 0.8844], [0.2416, 0.7991]]]])
in0Cro40928 = tf.constant([[[[1.7508, 1.584], [1.6238, 1.9238], [1.405, 1.0907]], [[1.5167, 1.6122], [1.2165, 1.9507], [1.0114, 1.5243]], [[1.3445, 1.715], [1.6411, 1.2267], [1.5112, 1.5392]], [[1.9654, 1.6019], [1.014, 1.0061], [1.547, 1.9081]]]])
print (np.array2string(model.predict([in0Sub95944,in1Sub95944,in0Cro40928],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo36736.png')

LSub95944 = subtract_layer([[[[0.3931, 0.3328], [0.4695, 0.078]], [[0.566, 0.2846], [0.5576, 0.7128]], [[0.084, 0.047], [0.418, 0.429]]]], [[[[0.684, 0.2391], [0.8371, 0.9313]], [[0.9781, 0.524], [0.1456, 0.1258]], [[0.8837, 0.8844], [0.2416, 0.7991]]]], Sub95944), 
LCro40928 = cropping2D_layer([[[[1.7508, 1.584], [1.6238, 1.9238], [1.405, 1.0907]], [[1.5167, 1.6122], [1.2165, 1.9507], [1.0114, 1.5243]], [[1.3445, 1.715], [1.6411, 1.2267], [1.5112, 1.5392]], [[1.9654, 1.6019], [1.014, 1.0061], [1.547, 1.9081]]]], 0, 1, 2, 0, Cro40928), 
LZer94607 = zero_padding2D_layer(Cro40928, 0, 0, 1, 0, Zer94607), 
LAdd21317 = add_layer([Sub95944,Zer94607], Add21317), 
LRes4207 = reshape_layer(Add21317, [3, 4], Res4207), 
LFla34998 = flatten_layer(Res4207, Fla34998), 
LRes88355 = reshape_layer(Fla34998, [12, 1], Res88355), 
LGlo36736 = global_max_pool1D_layer(Res88355, Glo36736), 
exec_layers([LSub95944,LCro40928,LZer94607,LAdd21317,LRes4207,LFla34998,LRes88355,LGlo36736],["Sub95944","Cro40928","Zer94607","Add21317","Res4207","Fla34998","Res88355","Glo36736"],Glo36736,"Glo36736")

Actual (Unparsed): [[2.1113000]]

Expected (Unparsed): [[2.1113]]

Actual:   [[2.1113]]

Expected: [[2.1113]]