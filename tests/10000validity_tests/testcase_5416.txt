import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0LST22826 = tf.keras.layers.Input(shape=([1, 2]))

LST22826 = keras.layers.LSTM(1,recurrent_activation='sigmoid', name = 'LST22826', )(in0LST22826)
Res75506 = keras.layers.Reshape((1, 1), name = 'Res75506', )(LST22826)
Res33840 = keras.layers.Reshape((1, 1, 1), name = 'Res33840', )(Res75506)
Loc55459 = keras.layers.LocallyConnected2D(3, (1, 1),strides=(1, 5), name = 'Loc55459', )(Res33840)
Res92301 = keras.layers.Reshape((1, 3), name = 'Res92301', )(Loc55459)
Fla47776 = keras.layers.Flatten(name = 'Fla47776', )(Res92301)
Lay46389 = keras.layers.LayerNormalization(axis=1, epsilon=1.8015903245428009, name = 'Lay46389', )(Fla47776)
model = tf.keras.models.Model(inputs=[in0LST22826], outputs=Lay46389)
w = model.get_layer('LST22826').get_weights() 
w[0] = np.array([[2, 1, 6, 1], [4, 2, 8, 7]])
w[1] = np.array([[6, 2, 7, 10]])
w[2] = np.array([6, 10, 8, 7])
model.get_layer('LST22826').set_weights(w) 
w = model.get_layer('Loc55459').get_weights() 
w[0] = np.array([[[0.012, 0.6009, 0.5949]]])
w[1] = np.array([[[0, 0, 0]]])
model.get_layer('Loc55459').set_weights(w) 
in0LST22826 = tf.constant([[[4, 7]]])
print (np.array2string(model.predict([in0LST22826],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Lay46389.png')

LLST22826 = lstm_layer([[[4, 7]]],[[2, 1, 6, 1], [4, 2, 8, 7]],[[6, 2, 7, 10]],[6, 10, 8, 7], LST22826), 
LRes75506 = reshape_layer(LST22826, [1, 1], Res75506), 
LRes33840 = reshape_layer(Res75506, [1, 1, 1], Res33840), 
LLoc55459 = locally_connected2D_layer(Res33840, 1, 1,[[[0.012, 0.6009, 0.5949]]],[[[0, 0, 0]]], 1, 5, Loc55459), 
LRes92301 = reshape_layer(Loc55459, [1, 3], Res92301), 
LFla47776 = flatten_layer(Res92301, Fla47776), 
LLay46389 = layer_normalization_layer(Fla47776, 1, 1.8015903245428009, Lay46389), 
exec_layers([LLST22826,LRes75506,LRes33840,LLoc55459,LRes92301,LFla47776,LLay46389],["LST22826","Res75506","Res33840","Loc55459","Res92301","Fla47776","Lay46389"],Lay46389,"Lay46389")

Actual (Unparsed): [[-0.2189570, 0.1111602, 0.1077968]]

Expected (Unparsed): [[-0.2189569557612367,0.11116017492947582,0.10779678083176093]]

Actual:   [[-0.2189, 0.1112, 0.1078]]

Expected: [[-0.2189, 0.1112, 0.1078]]