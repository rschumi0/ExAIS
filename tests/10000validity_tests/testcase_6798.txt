import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot1651 = tf.keras.layers.Input(shape=([2]))
in1Dot1651 = tf.keras.layers.Input(shape=([2]))

Dot1651 = keras.layers.Dot(axes=(1, 1), name = 'Dot1651', )([in0Dot1651,in1Dot1651])
Res89549 = keras.layers.Reshape((1, 1), name = 'Res89549', )(Dot1651)
Res89119 = keras.layers.Reshape((1, 1, 1), name = 'Res89119', )(Res89549)
Res4597 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res4597', )(Res89119)
Glo2149 = keras.layers.GlobalAveragePooling3D(name = 'Glo2149', )(Res4597)
model = tf.keras.models.Model(inputs=[in0Dot1651,in1Dot1651], outputs=Glo2149)
in0Dot1651 = tf.constant([[0.1202, 0.6805]])
in1Dot1651 = tf.constant([[0.052, 0.8709]])
print (np.array2string(model.predict([in0Dot1651,in1Dot1651],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo2149.png')

LDot1651 = dot_layer([[0.1202, 0.6805]], [[0.052, 0.8709]], 1, 1, Dot1651), 
LRes89549 = reshape_layer(Dot1651, [1, 1], Res89549), 
LRes89119 = reshape_layer(Res89549, [1, 1, 1], Res89119), 
LRes4597 = reshape_layer(Res89119, [1, 1, 1, 1], Res4597), 
LGlo2149 = global_average_pooling3D_layer(Res4597, Glo2149), 
exec_layers([LDot1651,LRes89549,LRes89119,LRes4597,LGlo2149],["Dot1651","Res89549","Res89119","Res4597","Glo2149"],Glo2149,"Glo2149")

Actual (Unparsed): [[0.5988978]]

Expected (Unparsed): [[0.59889785]]

Actual:   [[0.5989]]

Expected: [[0.5989]]