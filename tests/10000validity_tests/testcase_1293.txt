import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Dot86662 = tf.keras.layers.Input(shape=([3, 3]))
in1Dot86662 = tf.keras.layers.Input(shape=([3, 3]))

Dot86662 = keras.layers.Dot(axes=(1, 2), name = 'Dot86662', )([in0Dot86662,in1Dot86662])
Res44904 = keras.layers.Reshape((3, 3, 1), name = 'Res44904', )(Dot86662)
Res23859 = keras.layers.Reshape((3, 3, 1, 1), name = 'Res23859', )(Res44904)
Glo73719 = keras.layers.GlobalMaxPool3D(name = 'Glo73719', )(Res23859)
model = tf.keras.models.Model(inputs=[in0Dot86662,in1Dot86662], outputs=Glo73719)
in0Dot86662 = tf.constant([[[0.962, 0.7581, 0.4643], [0.7283, 0.5015, 0.0136], [0.876, 0.0102, 0.6944]]])
in1Dot86662 = tf.constant([[[0.615, 0.7939, 0.773], [0.3738, 0.4247, 0.0746], [0.1664, 0.3289, 0.5277]]])
print (np.array2string(model.predict([in0Dot86662,in1Dot86662],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo73719.png')

LDot86662 = dot_layer([[[0.962, 0.7581, 0.4643], [0.7283, 0.5015, 0.0136], [0.876, 0.0102, 0.6944]]], [[[0.615, 0.7939, 0.773], [0.3738, 0.4247, 0.0746], [0.1664, 0.3289, 0.5277]]], 1, 2, Dot86662), 
LRes44904 = reshape_layer(Dot86662, [3, 3, 1], Res44904), 
LRes23859 = reshape_layer(Res44904, [3, 3, 1, 1], Res23859), 
LGlo73719 = global_max_pool3D_layer(Res23859, Glo73719), 
exec_layers([LDot86662,LRes44904,LRes23859,LGlo73719],["Dot86662","Res44904","Res23859","Glo73719"],Glo73719,"Glo73719")

Actual (Unparsed): [[1.8469754]]

Expected (Unparsed): [[1.84697537]]

Actual:   [[1.847]]

Expected: [[1.847]]