import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Min1560 = tf.keras.layers.Input(shape=([2, 2, 1, 2]))
in1Min1560 = tf.keras.layers.Input(shape=([2, 2, 1, 2]))

Min1560 = keras.layers.Minimum(name = 'Min1560', )([in0Min1560,in1Min1560])
Con90765 = keras.layers.Conv3DTranspose(3, (2, 1, 1),strides=(1, 1, 1), padding='same', name = 'Con90765', )(Min1560)
model = tf.keras.models.Model(inputs=[in0Min1560,in1Min1560], outputs=Con90765)
w = model.get_layer('Con90765').get_weights() 
w[0] = np.array([[[[[0.1189, 0.6514], [0.3894, 0.8656], [0.4402, 0.4207]]]], [[[[0.3323, 0.2304], [0.2444, 0.4231], [0.3442, 0.9204]]]]])
w[1] = np.array([0, 0, 0])
model.get_layer('Con90765').set_weights(w) 
in0Min1560 = tf.constant([[[[[0.9187, 0.7311]], [[0.8204, 0.9611]]], [[[0.004, 0.3322]], [[0.3205, 0.005]]]]])
in1Min1560 = tf.constant([[[[[0.9287, 0.5608]], [[0.591, 0.8016]]], [[[0.1925, 0.9807]], [[0.8253, 0.4095]]]]])
print (np.array2string(model.predict([in0Min1560,in1Min1560],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Con90765.png')

LMin1560 = minimum_layer([[[[[[0.9187, 0.7311]], [[0.8204, 0.9611]]], [[[0.004, 0.3322]], [[0.3205, 0.005]]]]], [[[[[0.9287, 0.5608]], [[0.591, 0.8016]]], [[[0.1925, 0.9807]], [[0.8253, 0.4095]]]]]], Min1560), 
LCon90765 = conv3D_transpose_layer(Min1560, 2, 1, 1,[[[[[0.1189, 0.6514], [0.3894, 0.8656], [0.4402, 0.4207]]]], [[[[0.3323, 0.2304], [0.2444, 0.4231], [0.3442, 0.9204]]]]],[0, 0, 0], 1, 1, 1, true, Con90765), 
exec_layers([LMin1560,LCon90765],["Min1560","Con90765"],Con90765,"Con90765")

Actual (Unparsed): [[[[[0.4745386, 0.8431703, 0.6403403]], [[0.5924321, 0.9240004, 0.5973913]]], [[[0.6513630, 0.7509147, 0.9738942]], [[0.4224424, 0.6127281, 1.0844024]]]]]

Expected (Unparsed): [[[[[0.47453855,0.84317026,0.6403403]],[[0.59243214,0.92400036,0.59739132]]],[[[0.65136301,0.75091468,0.9738942]],[[0.42244238999999995,0.61272806,1.08440244]]]]]

Actual:   [[[[[0.4746, 0.8432, 0.6404]], [[0.5925, 0.9241, 0.5974]]], [[[0.6514, 0.751, 0.9739]], [[0.4225, 0.6128, 1.0845]]]]]

Expected: [[[[[0.4746, 0.8432, 0.6404]], [[0.5925, 0.9241, 0.5974]]], [[[0.6514, 0.751, 0.9739]], [[0.4225, 0.6128, 1.0845]]]]]