import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Glo46627 = tf.keras.layers.Input(shape=([1, 2, 1, 1]))
in0Con88288 = tf.keras.layers.Input(shape=([1, 1, 1, 1]))

Glo46627 = keras.layers.GlobalMaxPool3D(name = 'Glo46627', )(in0Glo46627)
Fla76715 = keras.layers.Flatten(name = 'Fla76715', )(Glo46627)
Res59901 = keras.layers.Reshape((1, 1), name = 'Res59901', )(Fla76715)
Con88288 = keras.layers.Conv3DTranspose(3, (1, 1, 1),strides=(1, 1, 1), padding='same', name = 'Con88288', )(in0Con88288)
Sof89411 = keras.layers.Softmax(axis=1, name = 'Sof89411', )(Con88288)
Res86366 = keras.layers.Reshape((1, 1, 3), name = 'Res86366', )(Sof89411)
Res70760 = keras.layers.Reshape((1, 3), name = 'Res70760', )(Res86366)
Dot12805 = keras.layers.Dot(axes=(1, 1), name = 'Dot12805', )([Res59901,Res70760])
model = tf.keras.models.Model(inputs=[in0Glo46627,in0Con88288], outputs=Dot12805)
w = model.get_layer('Con88288').get_weights() 
w[0] = np.array([[[[[0.4823], [0.639], [0.5917]]]]])
w[1] = np.array([0, 0, 0])
model.get_layer('Con88288').set_weights(w) 
in0Glo46627 = tf.constant([[[[[1.487]], [[1.1437]]]]])
in0Con88288 = tf.constant([[[[[0.3901]]]]])
print (np.array2string(model.predict([in0Glo46627,in0Con88288],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Dot12805.png')

LGlo46627 = global_max_pool3D_layer([[[[[1.487]], [[1.1437]]]]], Glo46627), 
LFla76715 = flatten_layer(Glo46627, Fla76715), 
LRes59901 = reshape_layer(Fla76715, [1, 1], Res59901), 
LCon88288 = conv3D_transpose_layer([[[[[0.3901]]]]], 1, 1, 1,[[[[[0.4823], [0.639], [0.5917]]]]],[0, 0, 0], 1, 1, 1, true, Con88288), 
LSof89411 = softmax_layer(Con88288, 1, Sof89411), 
LRes86366 = reshape_layer(Sof89411, [1, 1, 3], Res86366), 
LRes70760 = reshape_layer(Res86366, [1, 3], Res70760), 
LDot12805 = dot_layer(Res59901,Res70760, 1, 1, Dot12805), 
exec_layers([LGlo46627,LFla76715,LRes59901,LCon88288,LSof89411,LRes86366,LRes70760,LDot12805],["Glo46627","Fla76715","Res59901","Con88288","Sof89411","Res86366","Res70760","Dot12805"],Dot12805,"Dot12805")

Actual (Unparsed): [[[1.4870000, 1.4870000, 1.4870000]]]

Expected (Unparsed): [[[1.487,1.487,1.487]]]

Actual:   [[[1.487, 1.487, 1.487]]]

Expected: [[[1.487, 1.487, 1.487]]]