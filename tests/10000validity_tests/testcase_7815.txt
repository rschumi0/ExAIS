import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub21495 = tf.keras.layers.Input(shape=([2, 3]))
in1Sub21495 = tf.keras.layers.Input(shape=([2, 3]))
in0Dot13175 = tf.keras.layers.Input(shape=([2]))
in1Dot13175 = tf.keras.layers.Input(shape=([2]))

Sub21495 = keras.layers.Subtract(name = 'Sub21495', )([in0Sub21495,in1Sub21495])
Thr88860 = keras.layers.ThresholdedReLU(theta=0.9988552861802382, name = 'Thr88860', )(Sub21495)
Dot13175 = keras.layers.Dot(axes=(1, 1), name = 'Dot13175', )([in0Dot13175,in1Dot13175])
Res70801 = keras.layers.Reshape((1, 1), name = 'Res70801', )(Dot13175)
Up_71018 = keras.layers.UpSampling1D(size=(2), name = 'Up_71018', )(Res70801)
Dot97676 = keras.layers.Dot(axes=(1, 1), name = 'Dot97676', )([Thr88860,Up_71018])
model = tf.keras.models.Model(inputs=[in0Sub21495,in1Sub21495,in0Dot13175,in1Dot13175], outputs=Dot97676)
in0Sub21495 = tf.constant([[[0.8617, 0.3442, 0.2592], [0.9684, 0.3835, 0.0483]]])
in1Sub21495 = tf.constant([[[0.0751, 0.8469, 0.2483], [0.84, 0.7984, 0.4455]]])
in0Dot13175 = tf.constant([[0.5524, 0.0336]])
in1Dot13175 = tf.constant([[0.8969, 0.4789]])
print (np.array2string(model.predict([in0Sub21495,in1Sub21495,in0Dot13175,in1Dot13175],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Dot97676.png')

LSub21495 = subtract_layer([[[0.8617, 0.3442, 0.2592], [0.9684, 0.3835, 0.0483]]], [[[0.0751, 0.8469, 0.2483], [0.84, 0.7984, 0.4455]]], Sub21495), 
LThr88860 = thresholded_relu_layer(Sub21495, 0.9988552861802382, Thr88860), 
LDot13175 = dot_layer([[0.5524, 0.0336]], [[0.8969, 0.4789]], 1, 1, Dot13175), 
LRes70801 = reshape_layer(Dot13175, [1, 1], Res70801), 
LUp_71018 = up_sampling1D_layer(Res70801, 2, Up_71018), 
LDot97676 = dot_layer(Thr88860,Up_71018, 1, 1, Dot97676), 
exec_layers([LSub21495,LThr88860,LDot13175,LRes70801,LUp_71018,LDot97676],["Sub21495","Thr88860","Dot13175","Res70801","Up_71018","Dot97676"],Dot97676,"Dot97676")

Actual (Unparsed): [[[0.0000000], [-0.0000000], [0.0000000]]]

Expected (Unparsed): [[[0.0],[0.0],[0.0]]]

Actual:   [[[0], [-0], [0]]]

Expected: [[[0], [0], [0]]]