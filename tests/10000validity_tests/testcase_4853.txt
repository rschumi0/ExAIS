import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add57491 = tf.keras.layers.Input(shape=([1, 2, 2]))
in1Add57491 = tf.keras.layers.Input(shape=([1, 2, 2]))
in0Min75851 = tf.keras.layers.Input(shape=([1, 2, 2]))
in1Min75851 = tf.keras.layers.Input(shape=([1, 2, 2]))
in0Con4913 = tf.keras.layers.Input(shape=([3, 12]))

Add57491 = keras.layers.Add(name = 'Add57491', )([in0Add57491,in1Add57491])
Res39654 = keras.layers.Reshape((1, 2, 2, 1), name = 'Res39654', )(Add57491)
Zer84154 = keras.layers.ZeroPadding3D(padding=((1, 1), (1, 1), (1, 1)), name = 'Zer84154', )(Res39654)
Res21951 = keras.layers.Reshape((3, 4, 4), name = 'Res21951', )(Zer84154)
Res65541 = keras.layers.Reshape((3, 16), name = 'Res65541', )(Res21951)
Min75851 = keras.layers.Minimum(name = 'Min75851', )([in0Min75851,in1Min75851])
Mas24004 = keras.layers.Masking(mask_value=2, name = 'Mas24004', )(Min75851)
Res48004 = keras.layers.Reshape((1, 4), name = 'Res48004', )(Mas24004)
Zer11109 = keras.layers.ZeroPadding1D(padding=((1, 1)), name = 'Zer11109', )(Res48004)
Con4913 = keras.layers.Concatenate(axis=2, name = 'Con4913', )([Zer11109,in0Con4913])
Add92822 = keras.layers.Add(name = 'Add92822', )([Res65541,Con4913])
Res43086 = keras.layers.Reshape((3, 16, 1), name = 'Res43086', )(Add92822)
Res16401 = keras.layers.Reshape((3, 16, 1, 1), name = 'Res16401', )(Res43086)
Zer34324 = keras.layers.ZeroPadding3D(padding=((1, 1), (1, 1), (1, 1)), name = 'Zer34324', )(Res16401)
model = tf.keras.models.Model(inputs=[in0Add57491,in1Add57491,in0Min75851,in1Min75851,in0Con4913], outputs=Zer34324)
in0Add57491 = tf.constant([[[[0.5538, 0.5307], [0.908, 0.3335]]]])
in1Add57491 = tf.constant([[[[0.7175, 0.5317], [0.8529, 0.8198]]]])
in0Min75851 = tf.constant([[[[0.1073, 0.1429], [0.7571, 0.9785]]]])
in1Min75851 = tf.constant([[[[0.1884, 0.2402], [0.7589, 0.2765]]]])
in0Con4913 = tf.constant([[[0.6056, 0.3442, 0.6112, 0.7143, 0.6257, 0.9812, 0.6877, 0.219, 0.8385, 0.5214, 0.3118, 0.7414], [0.7142, 0.472, 0.665, 0.9672, 0.2431, 0.2217, 0.567, 0.2274, 0.4349, 0.6409, 0.7647, 0.1013], [0.5448, 0.032, 0.6147, 0.4567, 0.1958, 0.6305, 0.086, 0.7942, 0.5574, 0.2277, 0.576, 0.8359]]])
print (np.array2string(model.predict([in0Add57491,in1Add57491,in0Min75851,in1Min75851,in0Con4913],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Zer34324.png')

LAdd57491 = add_layer([[[[[0.5538, 0.5307], [0.908, 0.3335]]]], [[[[0.7175, 0.5317], [0.8529, 0.8198]]]]], Add57491), 
LRes39654 = reshape_layer(Add57491, [1, 2, 2, 1], Res39654), 
LZer84154 = zero_padding3D_layer(Res39654, 1, 1, 1, 1, 1, 1, Zer84154), 
LRes21951 = reshape_layer(Zer84154, [3, 4, 4], Res21951), 
LRes65541 = reshape_layer(Res21951, [3, 16], Res65541), 
LMin75851 = minimum_layer([[[[[0.1073, 0.1429], [0.7571, 0.9785]]]], [[[[0.1884, 0.2402], [0.7589, 0.2765]]]]], Min75851), 
LMas24004 = masking_layer(Min75851, 2, Mas24004), 
LRes48004 = reshape_layer(Mas24004, [1, 4], Res48004), 
LZer11109 = zero_padding1D_layer(Res48004, 1, 1, Zer11109), 
LCon4913 = concatenate_layer([Zer11109,[[[0.6056, 0.3442, 0.6112, 0.7143, 0.6257, 0.9812, 0.6877, 0.219, 0.8385, 0.5214, 0.3118, 0.7414], [0.7142, 0.472, 0.665, 0.9672, 0.2431, 0.2217, 0.567, 0.2274, 0.4349, 0.6409, 0.7647, 0.1013], [0.5448, 0.032, 0.6147, 0.4567, 0.1958, 0.6305, 0.086, 0.7942, 0.5574, 0.2277, 0.576, 0.8359]]]], 2, Con4913), 
LAdd92822 = add_layer([Res65541,Con4913], Add92822), 
LRes43086 = reshape_layer(Add92822, [3, 16, 1], Res43086), 
LRes16401 = reshape_layer(Res43086, [3, 16, 1, 1], Res16401), 
LZer34324 = zero_padding3D_layer(Res16401, 1, 1, 1, 1, 1, 1, Zer34324), 
exec_layers([LAdd57491,LRes39654,LZer84154,LRes21951,LRes65541,LMin75851,LMas24004,LRes48004,LZer11109,LCon4913,LAdd92822,LRes43086,LRes16401,LZer34324],["Add57491","Res39654","Zer84154","Res21951","Res65541","Min75851","Mas24004","Res48004","Zer11109","Con4913","Add92822","Res43086","Res16401","Zer34324"],Zer34324,"Zer34324")

Actual (Unparsed): [[[[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.6056000], [0.0000000]], [[0.0000000], [0.3442000], [0.0000000]], [[0.0000000], [0.6112000], [0.0000000]], [[0.0000000], [0.7143000], [0.0000000]], [[0.0000000], [0.6257000], [0.0000000]], [[0.0000000], [0.9812000], [0.0000000]], [[0.0000000], [0.6877000], [0.0000000]], [[0.0000000], [0.2190000], [0.0000000]], [[0.0000000], [0.8385000], [0.0000000]], [[0.0000000], [0.5214000], [0.0000000]], [[0.0000000], [0.3118000], [0.0000000]], [[0.0000000], [0.7414000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.1073000], [0.0000000]], [[0.0000000], [0.1429000], [0.0000000]], [[0.0000000], [0.7571000], [0.0000000]], [[0.0000000], [0.2765000], [0.0000000]], [[0.0000000], [0.7142000], [0.0000000]], [[0.0000000], [1.7433000], [0.0000000]], [[0.0000000], [1.7274001], [0.0000000]], [[0.0000000], [0.9672000], [0.0000000]], [[0.0000000], [0.2431000], [0.0000000]], [[0.0000000], [1.9826000], [0.0000000]], [[0.0000000], [1.7203000], [0.0000000]], [[0.0000000], [0.2274000], [0.0000000]], [[0.0000000], [0.4349000], [0.0000000]], [[0.0000000], [0.6409000], [0.0000000]], [[0.0000000], [0.7647000], [0.0000000]], [[0.0000000], [0.1013000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.5448000], [0.0000000]], [[0.0000000], [0.0320000], [0.0000000]], [[0.0000000], [0.6147000], [0.0000000]], [[0.0000000], [0.4567000], [0.0000000]], [[0.0000000], [0.1958000], [0.0000000]], [[0.0000000], [0.6305000], [0.0000000]], [[0.0000000], [0.0860000], [0.0000000]], [[0.0000000], [0.7942000], [0.0000000]], [[0.0000000], [0.5574000], [0.0000000]], [[0.0000000], [0.2277000], [0.0000000]], [[0.0000000], [0.5760000], [0.0000000]], [[0.0000000], [0.8359000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]], [[[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]], [[0.0000000], [0.0000000], [0.0000000]]]]]

Expected (Unparsed): [[[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0.6056],[0]],[[0],[0.3442],[0]],[[0],[0.6112],[0]],[[0],[0.7143],[0]],[[0],[0.6257],[0]],[[0],[0.9812],[0]],[[0],[0.6877],[0]],[[0],[0.219],[0]],[[0],[0.8385],[0]],[[0],[0.5214],[0]],[[0],[0.3118],[0]],[[0],[0.7414],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0.1073],[0]],[[0],[0.1429],[0]],[[0],[0.7571],[0]],[[0],[0.2765],[0]],[[0],[0.7142],[0]],[[0],[1.7433],[0]],[[0],[1.7273999999999998],[0]],[[0],[0.9672],[0]],[[0],[0.2431],[0]],[[0],[1.9826],[0]],[[0],[1.7203],[0]],[[0],[0.2274],[0]],[[0],[0.4349],[0]],[[0],[0.6409],[0]],[[0],[0.7647],[0]],[[0],[0.1013],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0.5448],[0]],[[0],[0.032],[0]],[[0],[0.6147],[0]],[[0],[0.4567],[0]],[[0],[0.1958],[0]],[[0],[0.6305],[0]],[[0],[0.086],[0]],[[0],[0.7942],[0]],[[0],[0.5574],[0]],[[0],[0.2277],[0]],[[0],[0.576],[0]],[[0],[0.8359],[0]],[[0],[0],[0]]],[[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]],[[0],[0],[0]]]]]

Actual:   [[[[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0.6056], [0]], [[0], [0.3442], [0]], [[0], [0.6112], [0]], [[0], [0.7143], [0]], [[0], [0.6257], [0]], [[0], [0.9812], [0]], [[0], [0.6877], [0]], [[0], [0.219], [0]], [[0], [0.8385], [0]], [[0], [0.5214], [0]], [[0], [0.3118], [0]], [[0], [0.7414], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.1073], [0]], [[0], [0.1429], [0]], [[0], [0.7571], [0]], [[0], [0.2765], [0]], [[0], [0.7142], [0]], [[0], [1.7433], [0]], [[0], [1.7275], [0]], [[0], [0.9672], [0]], [[0], [0.2431], [0]], [[0], [1.9826], [0]], [[0], [1.7203], [0]], [[0], [0.2274], [0]], [[0], [0.4349], [0]], [[0], [0.6409], [0]], [[0], [0.7647], [0]], [[0], [0.1013], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0.5448], [0]], [[0], [0.032], [0]], [[0], [0.6147], [0]], [[0], [0.4567], [0]], [[0], [0.1958], [0]], [[0], [0.6305], [0]], [[0], [0.086], [0]], [[0], [0.7942], [0]], [[0], [0.5574], [0]], [[0], [0.2277], [0]], [[0], [0.576], [0]], [[0], [0.8359], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]]]]

Expected: [[[[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0.6056], [0]], [[0], [0.3442], [0]], [[0], [0.6112], [0]], [[0], [0.7143], [0]], [[0], [0.6257], [0]], [[0], [0.9812], [0]], [[0], [0.6877], [0]], [[0], [0.219], [0]], [[0], [0.8385], [0]], [[0], [0.5214], [0]], [[0], [0.3118], [0]], [[0], [0.7414], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0.1073], [0]], [[0], [0.1429], [0]], [[0], [0.7571], [0]], [[0], [0.2765], [0]], [[0], [0.7142], [0]], [[0], [1.7433], [0]], [[0], [1.7274], [0]], [[0], [0.9672], [0]], [[0], [0.2431], [0]], [[0], [1.9826], [0]], [[0], [1.7203], [0]], [[0], [0.2274], [0]], [[0], [0.4349], [0]], [[0], [0.6409], [0]], [[0], [0.7647], [0]], [[0], [0.1013], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0.5448], [0]], [[0], [0.032], [0]], [[0], [0.6147], [0]], [[0], [0.4567], [0]], [[0], [0.1958], [0]], [[0], [0.6305], [0]], [[0], [0.086], [0]], [[0], [0.7942], [0]], [[0], [0.5574], [0]], [[0], [0.2277], [0]], [[0], [0.576], [0]], [[0], [0.8359], [0]], [[0], [0], [0]]], [[[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]], [[0], [0], [0]]]]]