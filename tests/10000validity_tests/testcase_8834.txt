import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Loc43722 = tf.keras.layers.Input(shape=([1, 2, 1]))

Loc43722 = keras.layers.LocallyConnected2D(4, (1, 2),strides=(1, 1), name = 'Loc43722', )(in0Loc43722)
Sep35457 = keras.layers.SeparableConv2D(3, (1, 1),strides=(1, 1), padding='same', name = 'Sep35457', )(Loc43722)
Res87664 = keras.layers.Reshape((1, 1, 3, 1), name = 'Res87664', )(Sep35457)
Cro98209 = keras.layers.Cropping3D(cropping=((0, 0), (0, 0), (2, 0)), name = 'Cro98209', )(Res87664)
model = tf.keras.models.Model(inputs=[in0Loc43722], outputs=Cro98209)
w = model.get_layer('Loc43722').get_weights() 
w[0] = np.array([[[0.5071, 0.4399, 0.5251, 0.9164], [0.6044, 0.0912, 0.4674, 0.531]]])
w[1] = np.array([[[0, 0, 0, 0]]])
model.get_layer('Loc43722').set_weights(w) 
w = model.get_layer('Sep35457').get_weights() 
w[0] = np.array([[[[0.8112], [0.7547], [0.3431], [0.0519]]]])
w[1] = np.array([[[[0.9437, 0.6834, 0.4236], [0.8336, 0.9153, 0.5873], [0.7804, 0.7062, 0.6278], [0.7413, 0.3422, 0.4683]]]])
w[2] = np.array([0, 0, 0])
model.get_layer('Sep35457').set_weights(w) 
in0Loc43722 = tf.constant([[[[0.5594], [0.6335]]]])
print (np.array2string(model.predict([in0Loc43722],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Cro98209.png')

LLoc43722 = locally_connected2D_layer([[[[0.5594], [0.6335]]]], 1, 2,[[[0.5071, 0.4399, 0.5251, 0.9164], [0.6044, 0.0912, 0.4674, 0.531]]],[[[0, 0, 0, 0]]], 1, 1, Loc43722), 
LSep35457 = separable_conv2D_layer(Loc43722, 1, 1,[[[[[0.8112], [0.7547], [0.3431], [0.0519]]]],[[[[0.9437, 0.6834, 0.4236], [0.8336, 0.9153, 0.5873], [0.7804, 0.7062, 0.6278], [0.7413, 0.3422, 0.4683]]]]],[0, 0, 0], 1, 1, true, Sep35457), 
LRes87664 = reshape_layer(Sep35457, [1, 1, 3, 1], Res87664), 
LCro98209 = cropping3D_layer(Res87664, 0, 0, 0, 0, 2, 0, Cro98209), 
exec_layers([LLoc43722,LSep35457,LRes87664,LCro98209],["Loc43722","Sep35457","Res87664","Cro98209"],Cro98209,"Cro98209")

Actual (Unparsed): [[[[[0.5114108]]]]]

Expected (Unparsed): [[[[[0.5114108246889149]]]]]

Actual:   [[[[[0.5115]]]]]

Expected: [[[[[0.5115]]]]]