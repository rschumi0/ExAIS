import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add12658 = tf.keras.layers.Input(shape=([2, 1, 2]))
in1Add12658 = tf.keras.layers.Input(shape=([2, 1, 2]))

Add12658 = keras.layers.Add(name = 'Add12658', )([in0Add12658,in1Add12658])
Dep44236 = keras.layers.DepthwiseConv2D((2, 1),strides=(2, 2), padding='valid', name = 'Dep44236', )(Add12658)
Res28853 = keras.layers.Reshape((1, 2), name = 'Res28853', )(Dep44236)
Up_26674 = keras.layers.UpSampling1D(size=(1), name = 'Up_26674', )(Res28853)
ELU4091 = keras.layers.ELU(alpha=-2.651956256370438, name = 'ELU4091', )(Up_26674)
model = tf.keras.models.Model(inputs=[in0Add12658,in1Add12658], outputs=ELU4091)
w = model.get_layer('Dep44236').get_weights() 
w[0] = np.array([[[[0.9713], [0.6062]]], [[[0.9954], [0.7919]]]])
w[1] = np.array([0, 0])
model.get_layer('Dep44236').set_weights(w) 
in0Add12658 = tf.constant([[[[0.7471, 0.4682]], [[0.7127, 0.3405]]]])
in1Add12658 = tf.constant([[[[0.9937, 0.1803]], [[0.1804, 0.5792]]]])
print (np.array2string(model.predict([in0Add12658,in1Add12658],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='ELU4091.png')

LAdd12658 = add_layer([[[[[0.7471, 0.4682]], [[0.7127, 0.3405]]]], [[[[0.9937, 0.1803]], [[0.1804, 0.5792]]]]], Add12658), 
LDep44236 = depthwise_conv2D_layer(Add12658, 2, 1,[[[[0.9713], [0.6062]]], [[[0.9954], [0.7919]]]],[0, 0], 2, 2, false, Dep44236), 
LRes28853 = reshape_layer(Dep44236, [1, 2], Res28853), 
LUp_26674 = up_sampling1D_layer(Res28853, 1, Up_26674), 
LELU4091 = elu_layer(Up_26674, -2.651956256370438, ELU4091), 
exec_layers([LAdd12658,LDep44236,LRes28853,LUp_26674,LELU4091],["Add12658","Dep44236","Res28853","Up_26674","ELU4091"],ELU4091,"ELU4091")

Actual (Unparsed): [[[2.5798308, 1.1214311]]]

Expected (Unparsed): [[[2.57983078,1.12143113]]]

Actual:   [[[2.5799, 1.1215]]]

Expected: [[[2.5799, 1.1215]]]