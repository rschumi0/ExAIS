import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Ave99147 = tf.keras.layers.Input(shape=([2, 2, 1]))

Ave99147 = keras.layers.AveragePooling2D(pool_size=(1, 2), name = 'Ave99147', )(in0Ave99147)
Ave35159 = keras.layers.AveragePooling2D(pool_size=(1, 1), name = 'Ave35159', )(Ave99147)
model = tf.keras.models.Model(inputs=[in0Ave99147], outputs=Ave35159)
in0Ave99147 = tf.constant([[[[1.7581], [1.6496]], [[1.6677], [1.4099]]]])
print (np.array2string(model.predict([in0Ave99147],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Ave35159.png')

LAve99147 = average_pooling2D_layer([[[[1.7581], [1.6496]], [[1.6677], [1.4099]]]], 1, 2, Ave99147), 
LAve35159 = average_pooling2D_layer(Ave99147, 1, 1, Ave35159), 
exec_layers([LAve99147,LAve35159],["Ave99147","Ave35159"],Ave35159,"Ave35159")

Actual (Unparsed): [[[[1.7038500]], [[1.5388000]]]]

Expected (Unparsed): [[[[1.70385]],[[1.5388]]]]

Actual:   [[[[1.7039]], [[1.5388]]]]

Expected: [[[[1.7039]], [[1.5388]]]]