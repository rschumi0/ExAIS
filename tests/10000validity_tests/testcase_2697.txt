import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub25398 = tf.keras.layers.Input(shape=([2, 3, 2, 3]))
in1Sub25398 = tf.keras.layers.Input(shape=([2, 3, 2, 3]))
in0Sub34817 = tf.keras.layers.Input(shape=([3]))
in1Sub34817 = tf.keras.layers.Input(shape=([3]))
in0Con87329 = tf.keras.layers.Input(shape=([1]))

Sub25398 = keras.layers.Subtract(name = 'Sub25398', )([in0Sub25398,in1Sub25398])
Den21034 = keras.layers.Dense(1,name = 'Den21034', )(Sub25398)
Res89209 = keras.layers.Reshape((2, 3, 2), name = 'Res89209', )(Den21034)
Dep78671 = keras.layers.DepthwiseConv2D((2, 2),strides=(2, 2), padding='same', name = 'Dep78671', )(Res89209)
Res52888 = keras.layers.Reshape((1, 4), name = 'Res52888', )(Dep78671)
Fla87433 = keras.layers.Flatten(name = 'Fla87433', )(Res52888)
Sub34817 = keras.layers.Subtract(name = 'Sub34817', )([in0Sub34817,in1Sub34817])
Con87329 = keras.layers.Concatenate(axis=1, name = 'Con87329', )([Sub34817,in0Con87329])
Min65714 = keras.layers.Minimum(name = 'Min65714', )([Fla87433,Con87329])
model = tf.keras.models.Model(inputs=[in0Sub25398,in1Sub25398,in0Sub34817,in1Sub34817,in0Con87329], outputs=Min65714)
w = model.get_layer('Den21034').get_weights() 
w[0] = np.array([[0.7838], [0.4504], [0.8233]])
w[1] = np.array([0.852])
model.get_layer('Den21034').set_weights(w) 
w = model.get_layer('Dep78671').get_weights() 
w[0] = np.array([[[[0.5025], [0.5246]], [[0.0522], [0.4567]]], [[[0.296], [0.4617]], [[0.896], [0.7237]]]])
w[1] = np.array([0, 0])
model.get_layer('Dep78671').set_weights(w) 
in0Sub25398 = tf.constant([[[[[0.8312, 0.7954, 0.6269], [0.9346, 0.9018, 0.2615]], [[0.0302, 0.7799, 0.6837], [0.3048, 0.6363, 0.5557]], [[0.2664, 0.2252, 0.4308], [0.0519, 0.7027, 0.3636]]], [[[0.9737, 0.7414, 0.8277], [0.4619, 0.8997, 0.1559]], [[0.1278, 0.797, 0.66], [0.1714, 0.4761, 0.5414]], [[0.0682, 0.3018, 0.864], [0.2206, 0.2939, 0.8992]]]]])
in1Sub25398 = tf.constant([[[[[0.3552, 0.5842, 0.3046], [0.5019, 0.3613, 0.6826]], [[0.403, 0.4347, 0.9987], [0.4528, 0.4241, 0.1682]], [[0.7213, 0.6554, 0.3656], [0.8734, 0.6481, 0.5757]]], [[[0.7064, 0.0699, 0.0004], [0.5058, 0.438, 0.2607]], [[0.8491, 0.6578, 0.8787], [0.9669, 0.9357, 0.8216]], [[0.6719, 0.6366, 0.6734], [0.781, 0.977, 0.486]]]]])
in0Sub34817 = tf.constant([[0.5631, 0.2241, 0.7584]])
in1Sub34817 = tf.constant([[0.4481, 0.1648, 0.6486]])
in0Con87329 = tf.constant([[0.7287]])
print (np.array2string(model.predict([in0Sub25398,in1Sub25398,in0Sub34817,in1Sub34817,in0Con87329],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Min65714.png')

LSub25398 = subtract_layer([[[[[0.8312, 0.7954, 0.6269], [0.9346, 0.9018, 0.2615]], [[0.0302, 0.7799, 0.6837], [0.3048, 0.6363, 0.5557]], [[0.2664, 0.2252, 0.4308], [0.0519, 0.7027, 0.3636]]], [[[0.9737, 0.7414, 0.8277], [0.4619, 0.8997, 0.1559]], [[0.1278, 0.797, 0.66], [0.1714, 0.4761, 0.5414]], [[0.0682, 0.3018, 0.864], [0.2206, 0.2939, 0.8992]]]]], [[[[[0.3552, 0.5842, 0.3046], [0.5019, 0.3613, 0.6826]], [[0.403, 0.4347, 0.9987], [0.4528, 0.4241, 0.1682]], [[0.7213, 0.6554, 0.3656], [0.8734, 0.6481, 0.5757]]], [[[0.7064, 0.0699, 0.0004], [0.5058, 0.438, 0.2607]], [[0.8491, 0.6578, 0.8787], [0.9669, 0.9357, 0.8216]], [[0.6719, 0.6366, 0.6734], [0.781, 0.977, 0.486]]]]], Sub25398), 
LDen21034 = dense_layer(Sub25398, [[0.7838], [0.4504], [0.8233]],[0.852], Den21034), 
LRes89209 = reshape_layer(Den21034, [2, 3, 2], Res89209), 
LDep78671 = depthwise_conv2D_layer(Res89209, 2, 2,[[[[0.5025], [0.5246]], [[0.0522], [0.4567]]], [[[0.296], [0.4617]], [[0.896], [0.7237]]]],[0, 0], 2, 2, true, Dep78671), 
LRes52888 = reshape_layer(Dep78671, [1, 4], Res52888), 
LFla87433 = flatten_layer(Res52888, Fla87433), 
LSub34817 = subtract_layer([[0.5631, 0.2241, 0.7584]], [[0.4481, 0.1648, 0.6486]], Sub34817), 
LCon87329 = concatenate_layer([Sub34817,[[0.7287]]], 1, Con87329), 
LMin65714 = minimum_layer([Fla87433,Con87329], Min65714), 
exec_layers([LSub25398,LDen21034,LRes89209,LDep78671,LRes52888,LFla87433,LSub34817,LCon87329,LMin65714],["Sub25398","Den21034","Res89209","Dep78671","Res52888","Fla87433","Sub34817","Con87329","Min65714"],Min65714,"Min65714")

Actual (Unparsed): [[0.1150000, 0.0593000, 0.1098000, 0.2360526]]

Expected (Unparsed): [[0.11500000000000005,0.05929999999999999,0.10980000000000001,0.23605258922599995]]

Actual:   [[0.115, 0.0593, 0.1098, 0.2361]]

Expected: [[0.1151, 0.0593, 0.1099, 0.2361]]