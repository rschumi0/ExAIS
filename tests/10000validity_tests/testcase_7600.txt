import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Mul67033 = tf.keras.layers.Input(shape=([1, 1, 1]))
in1Mul67033 = tf.keras.layers.Input(shape=([1, 1, 1]))

Mul67033 = keras.layers.Multiply(name = 'Mul67033', )([in0Mul67033,in1Mul67033])
Res83046 = keras.layers.Reshape((1, 1, 1, 1), name = 'Res83046', )(Mul67033)
Up_75304 = keras.layers.UpSampling3D(size=(2, 1, 2), name = 'Up_75304', )(Res83046)
Res4669 = keras.layers.Reshape((2, 1, 2), name = 'Res4669', )(Up_75304)
Con37573 = keras.layers.Conv2D(3, (2, 1),strides=(1, 1), padding='same', dilation_rate=(1, 1), name = 'Con37573', )(Res4669)
model = tf.keras.models.Model(inputs=[in0Mul67033,in1Mul67033], outputs=Con37573)
w = model.get_layer('Con37573').get_weights() 
w[0] = np.array([[[[0.4287, 0.3192, 0.1404], [0.5153, 0.8656, 0.9694]]], [[[0.4261, 0.8034, 0.8158], [0.8985, 0.2261, 0.9542]]]])
w[1] = np.array([0, 0, 0])
model.get_layer('Con37573').set_weights(w) 
in0Mul67033 = tf.constant([[[[0.5602]]]])
in1Mul67033 = tf.constant([[[[0.4199]]]])
print (np.array2string(model.predict([in0Mul67033,in1Mul67033],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Con37573.png')

LMul67033 = multiply_layer([[[[[0.5602]]]], [[[[0.4199]]]]], Mul67033), 
LRes83046 = reshape_layer(Mul67033, [1, 1, 1, 1], Res83046), 
LUp_75304 = up_sampling3D_layer(Res83046, 2, 1, 2, Up_75304), 
LRes4669 = reshape_layer(Up_75304, [2, 1, 2], Res4669), 
LCon37573 = conv2D_layer(Res4669, 2, 1,[[[[0.4287, 0.3192, 0.1404], [0.5153, 0.8656, 0.9694]]], [[[0.4261, 0.8034, 0.8158], [0.8985, 0.2261, 0.9542]]]],[0, 0, 0], 1, 1, true, 1, 1, Con37573), 
exec_layers([LMul67033,LRes83046,LUp_75304,LRes4669,LCon37573],["Mul67033","Res83046","Up_75304","Res4669","Con37573"],Con37573,"Con37573")

Actual (Unparsed): [[[[0.5336382, 0.5208653, 0.6774095]], [[0.2220552, 0.2786981, 0.2610560]]]]

Expected (Unparsed): [[[[0.5336381954280001,0.520865316114,0.6774095368040001]],[[0.22205521312,0.27869811070399997,0.261056012204]]]]

Actual:   [[[[0.5337, 0.5209, 0.6775]], [[0.2221, 0.2787, 0.2611]]]]

Expected: [[[[0.5337, 0.5209, 0.6775]], [[0.2221, 0.2787, 0.2611]]]]