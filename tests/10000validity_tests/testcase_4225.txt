import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub88515 = tf.keras.layers.Input(shape=([3, 2, 2]))
in1Sub88515 = tf.keras.layers.Input(shape=([3, 2, 2]))

Sub88515 = keras.layers.Subtract(name = 'Sub88515', )([in0Sub88515,in1Sub88515])
Res65563 = keras.layers.Reshape((3, 2, 2, 1), name = 'Res65563', )(Sub88515)
Up_31229 = keras.layers.UpSampling3D(size=(2, 2, 2), name = 'Up_31229', )(Res65563)
model = tf.keras.models.Model(inputs=[in0Sub88515,in1Sub88515], outputs=Up_31229)
in0Sub88515 = tf.constant([[[[0.9034, 0.7338], [0.9254, 0.5957]], [[0.9586, 0.3053], [0.3527, 0.185]], [[0.8964, 0.4831], [0.6006, 0.9521]]]])
in1Sub88515 = tf.constant([[[[0.6586, 0.1688], [0.4062, 0.8172]], [[0.0498, 0.5871], [0.6734, 0.7884]], [[0.8363, 0.6871], [0.8888, 0.2102]]]])
print (np.array2string(model.predict([in0Sub88515,in1Sub88515],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Up_31229.png')

LSub88515 = subtract_layer([[[[0.9034, 0.7338], [0.9254, 0.5957]], [[0.9586, 0.3053], [0.3527, 0.185]], [[0.8964, 0.4831], [0.6006, 0.9521]]]], [[[[0.6586, 0.1688], [0.4062, 0.8172]], [[0.0498, 0.5871], [0.6734, 0.7884]], [[0.8363, 0.6871], [0.8888, 0.2102]]]], Sub88515), 
LRes65563 = reshape_layer(Sub88515, [3, 2, 2, 1], Res65563), 
LUp_31229 = up_sampling3D_layer(Res65563, 2, 2, 2, Up_31229), 
exec_layers([LSub88515,LRes65563,LUp_31229],["Sub88515","Res65563","Up_31229"],Up_31229,"Up_31229")

Actual (Unparsed): [[[[[0.2448000], [0.2448000], [0.5650000], [0.5650000]], [[0.2448000], [0.2448000], [0.5650000], [0.5650000]], [[0.5192000], [0.5192000], [-0.2215000], [-0.2215000]], [[0.5192000], [0.5192000], [-0.2215000], [-0.2215000]]], [[[0.2448000], [0.2448000], [0.5650000], [0.5650000]], [[0.2448000], [0.2448000], [0.5650000], [0.5650000]], [[0.5192000], [0.5192000], [-0.2215000], [-0.2215000]], [[0.5192000], [0.5192000], [-0.2215000], [-0.2215000]]], [[[0.9088000], [0.9088000], [-0.2818000], [-0.2818000]], [[0.9088000], [0.9088000], [-0.2818000], [-0.2818000]], [[-0.3207000], [-0.3207000], [-0.6034000], [-0.6034000]], [[-0.3207000], [-0.3207000], [-0.6034000], [-0.6034000]]], [[[0.9088000], [0.9088000], [-0.2818000], [-0.2818000]], [[0.9088000], [0.9088000], [-0.2818000], [-0.2818000]], [[-0.3207000], [-0.3207000], [-0.6034000], [-0.6034000]], [[-0.3207000], [-0.3207000], [-0.6034000], [-0.6034000]]], [[[0.0601000], [0.0601000], [-0.2040000], [-0.2040000]], [[0.0601000], [0.0601000], [-0.2040000], [-0.2040000]], [[-0.2882000], [-0.2882000], [0.7419000], [0.7419000]], [[-0.2882000], [-0.2882000], [0.7419000], [0.7419000]]], [[[0.0601000], [0.0601000], [-0.2040000], [-0.2040000]], [[0.0601000], [0.0601000], [-0.2040000], [-0.2040000]], [[-0.2882000], [-0.2882000], [0.7419000], [0.7419000]], [[-0.2882000], [-0.2882000], [0.7419000], [0.7419000]]]]]

Expected (Unparsed): [[[[[0.24480000000000002],[0.24480000000000002],[0.565],[0.565]],[[0.24480000000000002],[0.24480000000000002],[0.565],[0.565]],[[0.5192],[0.5192],[-0.22150000000000003],[-0.22150000000000003]],[[0.5192],[0.5192],[-0.22150000000000003],[-0.22150000000000003]]],[[[0.24480000000000002],[0.24480000000000002],[0.565],[0.565]],[[0.24480000000000002],[0.24480000000000002],[0.565],[0.565]],[[0.5192],[0.5192],[-0.22150000000000003],[-0.22150000000000003]],[[0.5192],[0.5192],[-0.22150000000000003],[-0.22150000000000003]]],[[[0.9088],[0.9088],[-0.28179999999999994],[-0.28179999999999994]],[[0.9088],[0.9088],[-0.28179999999999994],[-0.28179999999999994]],[[-0.3207],[-0.3207],[-0.6033999999999999],[-0.6033999999999999]],[[-0.3207],[-0.3207],[-0.6033999999999999],[-0.6033999999999999]]],[[[0.9088],[0.9088],[-0.28179999999999994],[-0.28179999999999994]],[[0.9088],[0.9088],[-0.28179999999999994],[-0.28179999999999994]],[[-0.3207],[-0.3207],[-0.6033999999999999],[-0.6033999999999999]],[[-0.3207],[-0.3207],[-0.6033999999999999],[-0.6033999999999999]]],[[[0.06009999999999993],[0.06009999999999993],[-0.20400000000000007],[-0.20400000000000007]],[[0.06009999999999993],[0.06009999999999993],[-0.20400000000000007],[-0.20400000000000007]],[[-0.2882],[-0.2882],[0.7419],[0.7419]],[[-0.2882],[-0.2882],[0.7419],[0.7419]]],[[[0.06009999999999993],[0.06009999999999993],[-0.20400000000000007],[-0.20400000000000007]],[[0.06009999999999993],[0.06009999999999993],[-0.20400000000000007],[-0.20400000000000007]],[[-0.2882],[-0.2882],[0.7419],[0.7419]],[[-0.2882],[-0.2882],[0.7419],[0.7419]]]]]

Actual:   [[[[[0.2448], [0.2448], [0.565], [0.565]], [[0.2448], [0.2448], [0.565], [0.565]], [[0.5192], [0.5192], [-0.2215], [-0.2215]], [[0.5192], [0.5192], [-0.2215], [-0.2215]]], [[[0.2448], [0.2448], [0.565], [0.565]], [[0.2448], [0.2448], [0.565], [0.565]], [[0.5192], [0.5192], [-0.2215], [-0.2215]], [[0.5192], [0.5192], [-0.2215], [-0.2215]]], [[[0.9088], [0.9088], [-0.2818], [-0.2818]], [[0.9088], [0.9088], [-0.2818], [-0.2818]], [[-0.3207], [-0.3207], [-0.6034], [-0.6034]], [[-0.3207], [-0.3207], [-0.6034], [-0.6034]]], [[[0.9088], [0.9088], [-0.2818], [-0.2818]], [[0.9088], [0.9088], [-0.2818], [-0.2818]], [[-0.3207], [-0.3207], [-0.6034], [-0.6034]], [[-0.3207], [-0.3207], [-0.6034], [-0.6034]]], [[[0.0601], [0.0601], [-0.204], [-0.204]], [[0.0601], [0.0601], [-0.204], [-0.204]], [[-0.2882], [-0.2882], [0.7419], [0.7419]], [[-0.2882], [-0.2882], [0.7419], [0.7419]]], [[[0.0601], [0.0601], [-0.204], [-0.204]], [[0.0601], [0.0601], [-0.204], [-0.204]], [[-0.2882], [-0.2882], [0.7419], [0.7419]], [[-0.2882], [-0.2882], [0.7419], [0.7419]]]]]

Expected: [[[[[0.2449], [0.2449], [0.565], [0.565]], [[0.2449], [0.2449], [0.565], [0.565]], [[0.5192], [0.5192], [-0.2215], [-0.2215]], [[0.5192], [0.5192], [-0.2215], [-0.2215]]], [[[0.2449], [0.2449], [0.565], [0.565]], [[0.2449], [0.2449], [0.565], [0.565]], [[0.5192], [0.5192], [-0.2215], [-0.2215]], [[0.5192], [0.5192], [-0.2215], [-0.2215]]], [[[0.9088], [0.9088], [-0.2817], [-0.2817]], [[0.9088], [0.9088], [-0.2817], [-0.2817]], [[-0.3207], [-0.3207], [-0.6033], [-0.6033]], [[-0.3207], [-0.3207], [-0.6033], [-0.6033]]], [[[0.9088], [0.9088], [-0.2817], [-0.2817]], [[0.9088], [0.9088], [-0.2817], [-0.2817]], [[-0.3207], [-0.3207], [-0.6033], [-0.6033]], [[-0.3207], [-0.3207], [-0.6033], [-0.6033]]], [[[0.0601], [0.0601], [-0.204], [-0.204]], [[0.0601], [0.0601], [-0.204], [-0.204]], [[-0.2882], [-0.2882], [0.7419], [0.7419]], [[-0.2882], [-0.2882], [0.7419], [0.7419]]], [[[0.0601], [0.0601], [-0.204], [-0.204]], [[0.0601], [0.0601], [-0.204], [-0.204]], [[-0.2882], [-0.2882], [0.7419], [0.7419]], [[-0.2882], [-0.2882], [0.7419], [0.7419]]]]]