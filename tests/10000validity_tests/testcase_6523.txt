import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Up_94679 = tf.keras.layers.Input(shape=([3, 2, 2]))

Up_94679 = keras.layers.UpSampling2D(size=(1, 1), name = 'Up_94679', )(in0Up_94679)
Res61954 = keras.layers.Reshape((3, 4), name = 'Res61954', )(Up_94679)
Ave87154 = keras.layers.AveragePooling1D(pool_size=(3), name = 'Ave87154', )(Res61954)
model = tf.keras.models.Model(inputs=[in0Up_94679], outputs=Ave87154)
in0Up_94679 = tf.constant([[[[1.7481, 1.5161], [1.4842, 1.7977]], [[1.5163, 1.0679], [1.4, 1.1079]], [[1.6943, 1.0097], [1.3443, 1.5927]]]])
print (np.array2string(model.predict([in0Up_94679],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Ave87154.png')

LUp_94679 = up_sampling2D_layer([[[[1.7481, 1.5161], [1.4842, 1.7977]], [[1.5163, 1.0679], [1.4, 1.1079]], [[1.6943, 1.0097], [1.3443, 1.5927]]]], 1, 1, Up_94679), 
LRes61954 = reshape_layer(Up_94679, [3, 4], Res61954), 
LAve87154 = average_pooling1D_layer(Res61954, 3, Ave87154), 
exec_layers([LUp_94679,LRes61954,LAve87154],["Up_94679","Res61954","Ave87154"],Ave87154,"Ave87154")

Actual (Unparsed): [[[1.6529000, 1.1979000, 1.4095000, 1.4994334]]]

Expected (Unparsed): [[[1.6529,1.1979,1.4095000000000002,1.4994333333333334]]]

Actual:   [[[1.6529, 1.1979, 1.4095, 1.4995]]]

Expected: [[[1.6529, 1.1979, 1.4096, 1.4995]]]