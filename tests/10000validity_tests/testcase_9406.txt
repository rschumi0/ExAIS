import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub54501 = tf.keras.layers.Input(shape=([2]))
in1Sub54501 = tf.keras.layers.Input(shape=([2]))

Sub54501 = keras.layers.Subtract(name = 'Sub54501', )([in0Sub54501,in1Sub54501])
Res1331 = keras.layers.Reshape((2, 1), name = 'Res1331', )(Sub54501)
Res30700 = keras.layers.Reshape((2, 1, 1), name = 'Res30700', )(Res1331)
Glo42397 = keras.layers.GlobalMaxPool2D(name = 'Glo42397', )(Res30700)
model = tf.keras.models.Model(inputs=[in0Sub54501,in1Sub54501], outputs=Glo42397)
in0Sub54501 = tf.constant([[0.0074, 0.4617]])
in1Sub54501 = tf.constant([[0.5388, 0.7524]])
print (np.array2string(model.predict([in0Sub54501,in1Sub54501],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo42397.png')

LSub54501 = subtract_layer([[0.0074, 0.4617]], [[0.5388, 0.7524]], Sub54501), 
LRes1331 = reshape_layer(Sub54501, [2, 1], Res1331), 
LRes30700 = reshape_layer(Res1331, [2, 1, 1], Res30700), 
LGlo42397 = global_max_pool2D_layer(Res30700, Glo42397), 
exec_layers([LSub54501,LRes1331,LRes30700,LGlo42397],["Sub54501","Res1331","Res30700","Glo42397"],Glo42397,"Glo42397")

Actual (Unparsed): [[-0.2907000]]

Expected (Unparsed): [[-0.29069999999999996]]

Actual:   [[-0.2907]]

Expected: [[-0.2906]]