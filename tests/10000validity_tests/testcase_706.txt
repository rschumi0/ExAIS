import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sub53688 = tf.keras.layers.Input(shape=([2, 3]))
in1Sub53688 = tf.keras.layers.Input(shape=([2, 3]))
in0Dot74298 = tf.keras.layers.Input(shape=([2, 3]))
in1Dot74298 = tf.keras.layers.Input(shape=([2, 3]))
in0Con7792 = tf.keras.layers.Input(shape=([2, 1]))

Sub53688 = keras.layers.Subtract(name = 'Sub53688', )([in0Sub53688,in1Sub53688])
ELU65314 = keras.layers.ELU(alpha=-4.545821902395762, name = 'ELU65314', )(Sub53688)
Dot74298 = keras.layers.Dot(axes=(2, 2), name = 'Dot74298', )([in0Dot74298,in1Dot74298])
Con7792 = keras.layers.Concatenate(axis=2, name = 'Con7792', )([Dot74298,in0Con7792])
Ave69634 = keras.layers.Average(name = 'Ave69634', )([ELU65314,Con7792])
model = tf.keras.models.Model(inputs=[in0Sub53688,in1Sub53688,in0Dot74298,in1Dot74298,in0Con7792], outputs=Ave69634)
in0Sub53688 = tf.constant([[[0.662, 0.5404, 0.0302], [0.7497, 0.4196, 0.6913]]])
in1Sub53688 = tf.constant([[[0.3139, 0.4112, 0.9245], [0.493, 0.0662, 0.2564]]])
in0Dot74298 = tf.constant([[[0.069, 0.8057, 0.5705], [0.4859, 0.985, 0.7527]]])
in1Dot74298 = tf.constant([[[0.0476, 0.9942, 0.9213], [0.3665, 0.4883, 0.539]]])
in0Con7792 = tf.constant([[[0.5678], [0.8133]]])
print (np.array2string(model.predict([in0Sub53688,in1Sub53688,in0Dot74298,in1Dot74298,in0Con7792],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Ave69634.png')

LSub53688 = subtract_layer([[[0.662, 0.5404, 0.0302], [0.7497, 0.4196, 0.6913]]], [[[0.3139, 0.4112, 0.9245], [0.493, 0.0662, 0.2564]]], Sub53688), 
LELU65314 = elu_layer(Sub53688, -4.545821902395762, ELU65314), 
LDot74298 = dot_layer([[[0.069, 0.8057, 0.5705], [0.4859, 0.985, 0.7527]]], [[[0.0476, 0.9942, 0.9213], [0.3665, 0.4883, 0.539]]], 2, 2, Dot74298), 
LCon7792 = concatenate_layer([Dot74298,[[[0.5678], [0.8133]]]], 2, Con7792), 
LAve69634 = average_layer([ELU65314,Con7792], Ave69634), 
exec_layers([LSub53688,LELU65314,LDot74298,LCon7792,LAve69634],["Sub53688","ELU65314","Dot74298","Con7792","Ave69634"],Ave69634,"Ave69634")

Actual (Unparsed): [[[0.8390065, 0.4277057, 1.6274319], [0.9762892, 0.7090816, 0.6241000]]]

Expected (Unparsed): [[[0.839006495,0.427705655,1.627431927832813],[0.976289175,0.709081575,0.6241]]]

Actual:   [[[0.8391, 0.4278, 1.6275], [0.9763, 0.7091, 0.6241]]]

Expected: [[[0.8391, 0.4278, 1.6275], [0.9763, 0.7091, 0.6241]]]