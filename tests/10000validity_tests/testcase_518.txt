import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Sep90681 = tf.keras.layers.Input(shape=([2, 1, 1]))

Sep90681 = keras.layers.SeparableConv2D(2, (1, 1),strides=(2, 2), padding='same', name = 'Sep90681', )(in0Sep90681)
Res60718 = keras.layers.Reshape((1, 1, 2, 1), name = 'Res60718', )(Sep90681)
Glo99212 = keras.layers.GlobalAveragePooling3D(name = 'Glo99212', )(Res60718)
model = tf.keras.models.Model(inputs=[in0Sep90681], outputs=Glo99212)
w = model.get_layer('Sep90681').get_weights() 
w[0] = np.array([[[[0.4798]]]])
w[1] = np.array([[[[0.4919, 0.6794]]]])
w[2] = np.array([0, 0])
model.get_layer('Sep90681').set_weights(w) 
in0Sep90681 = tf.constant([[[[0.621]], [[0.7004]]]])
print (np.array2string(model.predict([in0Sep90681],steps=1), separator=', '))
from tensorflow.keras.utils import plot_model
plot_model(model, to_file='Glo99212.png')

LSep90681 = separable_conv2D_layer([[[[0.621]], [[0.7004]]]], 1, 1,[[[[[0.4798]]]],[[[[0.4919, 0.6794]]]]],[0, 0], 2, 2, true, Sep90681), 
LRes60718 = reshape_layer(Sep90681, [1, 1, 2, 1], Res60718), 
LGlo99212 = global_average_pooling3D_layer(Res60718, Glo99212), 
exec_layers([LSep90681,LRes60718,LGlo99212],["Sep90681","Res60718","Glo99212"],Glo99212,"Glo99212")

Actual (Unparsed): [[0.1744978]]

Expected (Unparsed): [[0.17449781427]]

Actual:   [[0.1745]]

Expected: [[0.1745]]