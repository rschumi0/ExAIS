import os
os.environ['TF_CPP_MIN_LOG_LEVEL'] = '2'
import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Up_16336 = tf.keras.layers.Input(shape=([1, 1, 3, 4]))

Up_16336 = keras.layers.UpSampling3D(size=(2, 2, 1), name = 'Up_16336',  input_shape=(1, 1, 3, 4))(in0Up_16336)
Res35420 = keras.layers.Reshape((2, 2, 12), name = 'Res35420', )(Up_16336)
Per34175 = keras.layers.Permute((1,2), name = 'Per34175',)(Res35420)
Lea16628 = keras.layers.LeakyReLU(alpha=9.793224760130162, name = 'Lea16628', )(Per34175)
ELU99790 = keras.layers.ELU(alpha=-4.486239034537944, name = 'ELU99790', )(Lea16628)
Cro11525 = keras.layers.Cropping1D(cropping=((0, 0)), name = 'Cro11525', )(ELU99790)
model = tf.keras.models.Model(inputs=[in0Up_16336], outputs=Cro11525)
in0Up_16336 = tf.constant([[[[[1.5755, 1.2552, 1.4436, 1.9825], [1.9124, 1.3408, 1.6048, 1.0255], [1.0401, 1.7993, 1.9694, 1.4083]]]]])
print (np.array2string(model.predict([in0Up_16336],steps=1), separator=', '))


LUp_16336 = up_sampling3D_layer([[[[[1.5755, 1.2552, 1.4436, 1.9825], [1.9124, 1.3408, 1.6048, 1.0255], [1.0401, 1.7993, 1.9694, 1.4083]]]]], 2, 2, 1, Up_16336), 
LRes35420 = reshape_layer(Up_16336, [2, 2, 12], Res35420), 
LPer34175 = permute_layer(Res35420, 1,2, Per34175), 
LLea16628 = leaky_relu_layer(Per34175, 9.793224760130162, Lea16628), 
LELU99790 = elu_layer(Lea16628, -4.486239034537944, ELU99790), 
LCro11525 = cropping1D_layer(ELU99790, 0, 0, Cro11525), 
exec_layers([LUp_16336,LRes35420,LPer34175,LLea16628,LELU99790,LCro11525],["Up_16336","Res35420","Per34175","Lea16628","ELU99790","Cro11525"],Cro11525,"Cro11525")

Actual (Unparsed): 
 ValueError('Input ' + str(input_index) + ' of layer ' +ValueError: Input 0 of layer Per34175 is incompatible with the layer: expected ndim=3, found ndim=4. Full shape received: (None, 2, 2, 12)

Expected (Unparsed): 
Per34175: Dimension error, Input Shape [1,2,2,12]

Actual:   

Expected: 