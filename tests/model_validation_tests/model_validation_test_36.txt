import os
os.environ['TF_CPP_MIN_LOG_LEVEL'] = '2'
import tensorflow as tf
from tensorflow import keras
from tensorflow.keras import layers
import numpy as np
np.set_printoptions(suppress=True,threshold=np.inf,formatter={'float_kind':'{:16.7f}'.format})
tf.keras.backend.set_floatx('float64')
in0Add24742 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))
in1Add24742 = tf.keras.layers.Input(shape=([2, 1, 1, 1]))
in0Per17994 = tf.keras.layers.Input(shape=([1, 2]))
in0Con66355 = tf.keras.layers.Input(shape=([2, 3, 1, 1]))
in0Max35744 = tf.keras.layers.Input(shape=([1, 2, 1, 2]))
in1Max35744 = tf.keras.layers.Input(shape=([1, 2, 1, 2]))
in0Add62571 = tf.keras.layers.Input(shape=([1, 1, 2, 1]))
in1Add62571 = tf.keras.layers.Input(shape=([1, 1, 2, 1]))

Add24742 = keras.layers.Add(name = 'Add24742', )([in0Add24742,in1Add24742])
Res3272 = keras.layers.Reshape((2, 1, 1), name = 'Res3272', )(Add24742)
Per17994 = keras.layers.Permute((2,1), name = 'Per17994',)(in0Per17994)
Res78495 = keras.layers.Reshape((2, 1, 1), name = 'Res78495', )(Per17994)
Max77793 = keras.layers.Maximum(name = 'Max77793', )([Res3272,Res78495])
Res23316 = keras.layers.Reshape((2, 1, 1, 1), name = 'Res23316', )(Max77793)
Zer37021 = keras.layers.ZeroPadding3D(padding=((0, 0), (2, 0), (0, 0)), name = 'Zer37021', )(Res23316)
Con66355 = keras.layers.Concatenate(axis=4, name = 'Con66355', )([Zer37021,in0Con66355])
Max35744 = keras.layers.Maximum(name = 'Max35744', )([in0Max35744,in1Max35744])
Zer1941 = keras.layers.ZeroPadding3D(padding=((1, 0), (1, 0), (0, 0)), name = 'Zer1941', )(Max35744)
Mul42211 = keras.layers.Multiply(name = 'Mul42211', )([Con66355,Zer1941])
Res94137 = keras.layers.Reshape((2, 3, 2), name = 'Res94137', )(Mul42211)
Res97659 = keras.layers.Reshape((2, 6), name = 'Res97659', )(Res94137)
Add62571 = keras.layers.Add(name = 'Add62571', )([in0Add62571,in1Add62571])
Res52658 = keras.layers.Reshape((1, 1, 2), name = 'Res52658', )(Add62571)
Res20859 = keras.layers.Reshape((1, 2), name = 'Res20859', )(Res52658)
Up_28519 = keras.layers.UpSampling1D(size=(1), name = 'Up_28519', )(Res20859)
Zer80085 = keras.layers.ZeroPadding1D(padding=((1, 0)), name = 'Zer80085', )(Up_28519)
Mul58410 = keras.layers.Multiply(name = 'Mul58410', )([Res97659,Zer80085])
model = tf.keras.models.Model(inputs=[in0Add24742,in1Add24742,in0Per17994,in0Con66355,in0Max35744,in1Max35744,in0Add62571,in1Add62571], outputs=Mul58410)
in0Add24742 = tf.constant([[[[[0.2768]]], [[[0.3452]]]]])
in1Add24742 = tf.constant([[[[[0.5218]]], [[[0.4502]]]]])
in0Per17994 = tf.constant([[[1.0437, 1.6226]]])
in0Con66355 = tf.constant([[[[[0.4238]], [[0.6655]], [[0.0651]]], [[[0.9147]], [[0.0498]], [[0.1782]]]]])
in0Max35744 = tf.constant([[[[[0.3911, 0.5313]], [[0.5703, 0.4121]]]]])
in1Max35744 = tf.constant([[[[[0.0744, 0.6932]], [[0.2842, 0.379]]]]])
in0Add62571 = tf.constant([[[[[0.2207], [0.8712]]]]])
in1Add62571 = tf.constant([[[[[0.3726], [0.4356]]]]])
print (np.array2string(model.predict([in0Add24742,in1Add24742,in0Per17994,in0Con66355,in0Max35744,in1Max35744,in0Add62571,in1Add62571],steps=1), separator=', '))


LAdd24742 = add_layer([[[[[[0.2768]]], [[[0.3452]]]]], [[[[[0.5218]]], [[[0.4502]]]]]], Add24742), 
LRes3272 = reshape_layer(Add24742, [2, 1, 1], Res3272), 
LPer17994 = permute_layer([[[1.0437, 1.6226]]], 2,1, Per17994), 
LRes78495 = reshape_layer(Per17994, [2, 1, 1], Res78495), 
LMax77793 = maximum_layer([Res3272,Res78495], Max77793), 
LRes23316 = reshape_layer(Max77793, [2, 1, 1, 1], Res23316), 
LZer37021 = zero_padding3D_layer(Res23316, 0, 0, 2, 0, 0, 0, Zer37021), 
LCon66355 = concatenate_layer([Zer37021,[[[[[0.4238]], [[0.6655]], [[0.0651]]], [[[0.9147]], [[0.0498]], [[0.1782]]]]]], 4, Con66355), 
LMax35744 = maximum_layer([[[[[[0.3911, 0.5313]], [[0.5703, 0.4121]]]]], [[[[[0.0744, 0.6932]], [[0.2842, 0.379]]]]]], Max35744), 
LZer1941 = zero_padding3D_layer(Max35744, 1, 0, 1, 0, 0, 0, Zer1941), 
LMul42211 = multiply_layer([Con66355,Zer1941], Mul42211), 
LRes94137 = reshape_layer(Mul42211, [2, 3, 2], Res94137), 
LRes97659 = reshape_layer(Res94137, [2, 6], Res97659), 
LAdd62571 = add_layer([[[[[[0.2207], [0.8712]]]]], [[[[[0.3726], [0.4356]]]]]], Add62571), 
LRes52658 = reshape_layer(Add62571, [1, 1, 2], Res52658), 
LRes20859 = reshape_layer(Res52658, [1, 2], Res20859), 
LUp_28519 = up_sampling1D_layer(Res20859, 1, Up_28519), 
LZer80085 = zero_padding1D_layer(Up_28519, 1, 0, Zer80085), 
LMul58410 = multiply_layer([Res97659,Zer80085], Mul58410), 
exec_layers([LAdd24742,LRes3272,LPer17994,LRes78495,LMax77793,LRes23316,LZer37021,LCon66355,LMax35744,LZer1941,LMul42211,LRes94137,LRes97659,LAdd62571,LRes52658,LRes20859,LUp_28519,LZer80085,LMul58410],["Add24742","Res3272","Per17994","Res78495","Max77793","Res23316","Zer37021","Con66355","Max35744","Zer1941","Mul42211","Res94137","Res97659","Add62571","Res52658","Res20859","Up_28519","Zer80085","Mul58410"],Mul58410,"Mul58410")

Actual (Unparsed): 
 ValueError(ValueError: Operands could not be broadcast together with shapes (2, 6) (2, 2)

Expected (Unparsed): 
Mul58410: Inconsistent Input Shapes, Input Shape [1,2,6]

Actual:   

Expected: 